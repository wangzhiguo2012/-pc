(window.webpackJsonp = window.webpackJsonp || []).push([['chunk-f3aca39c'], { '13f7': function (t, e, r) { 'use strict'; r.r(e); var n = function () { var t = this; var e = t.$createElement; var r = t._self._c || e; return r('div', { staticClass: 'article-container' }, [r('el-card', { staticClass: 'filter-card' }, [r('div', { staticClass: 'clearfix', attrs: { slot: 'header' }, slot: 'header' }, [r('my-breadcrumb', [t._v('内容管理')])], 1), r('el-form', { ref: 'form', attrs: { model: t.form, 'label-width': '40px', size: 'mini' } }, [r('el-form-item', { attrs: { label: '状态' } }, [r('el-radio-group', { model: { value: t.form.status, callback: function (e) { t.$set(t.form, 'status', e) }, expression: 'form.status' } }, [r('el-radio', { attrs: { label: null } }, [t._v('全部')]), r('el-radio', { attrs: { label: 0 } }, [t._v('草稿')]), r('el-radio', { attrs: { label: 1 } }, [t._v('待审核')]), r('el-radio', { attrs: { label: 2 } }, [t._v('审核通过')]), r('el-radio', { attrs: { label: 3 } }, [t._v('审核失败')]), r('el-radio', { attrs: { label: 4 } }, [t._v('已删除')])], 1)], 1), r('my-channels', { model: { value: t.form.channelId, callback: function (e) { t.$set(t.form, 'channelId', e) }, expression: 'form.channelId' } }), r('el-form-item', { attrs: { label: '日期' } }, [r('el-date-picker', { attrs: { type: 'daterange', 'value-format': 'yyyy-MM-dd', 'range-separator': '至', 'start-placeholder': '开始日期', 'end-placeholder': '结束日期' }, model: { value: t.form.date, callback: function (e) { t.$set(t.form, 'date', e) }, expression: 'form.date' } })], 1), r('el-form-item', [r('el-button', { attrs: { type: 'primary', disabled: t.loading }, on: { click: t.hQuery } }, [t._v('查询')])], 1)], 1)], 1), r('el-card', { staticClass: 'box-card' }, [r('div', { staticClass: 'clearfix', attrs: { slot: 'header' }, slot: 'header' }, [t._v(' 根据筛选条件共查询到 46147 条结果： ')]), r('el-table', { directives: [{ name: 'loading', rawName: 'v-loading', value: t.loading, expression: 'loading' }], staticStyle: { width: '100%' }, attrs: { data: t.articles } }, [r('el-table-column', { attrs: { label: '封面' }, scopedSlots: t._u([{ key: 'default', fn: function (e) { return [r('el-image', { staticStyle: { width: '150px', height: '100px' }, attrs: { src: e.row.cover.images[0], lazy: '' } }, [r('div', { staticClass: 'image-solt', attrs: { slot: 'placeholder' }, slot: 'placeholder' }, [t._v(' 加载中 '), r('span', { staticClass: 'dot' }, [t._v('...')])])])] } }]) }), r('el-table-column', { attrs: { prop: 'title', label: '标题' } }), r('el-table-column', { attrs: { label: '状态' }, scopedSlots: t._u([{ key: 'default', fn: function (e) { return [e.row.status === 0 ? r('el-tag', [t._v('草稿')]) : e.row.status === 1 ? r('el-tag', { attrs: { type: 'info' } }, [t._v('待审核')]) : e.row.status === 2 ? r('el-tag', { attrs: { type: 'success' } }, [t._v('审核通过')]) : e.row.status === 3 ? r('el-tag', { attrs: { type: 'warning' } }, [t._v('审核失败')]) : e.row.status === 4 ? r('el-tag', { attrs: { type: 'danger' } }, [t._v('已删除')]) : t._e()] } }]) }), r('el-table-column', { attrs: { prop: 'pubdate', label: '发布时间' } }), r('el-table-column', { attrs: { label: '操作' }, scopedSlots: t._u([{ key: 'default', fn: function (e) { return [r('el-button', { attrs: { size: 'mini', icon: 'el-icon-edit', type: 'primary', circle: '' }, on: { click: function (r) { return t.hEdit(e.row) } } }), r('el-button', { attrs: { size: 'mini', type: 'danger', icon: 'el-icon-delete', circle: '' }, on: { click: function (r) { return t.hDelete(e.row) } } })] } }]) })], 1), r('el-pagination', { staticStyle: { 'margin-top': '10px' }, attrs: { disabled: t.loading, background: '', layout: 'prev, pager, next', total: t.total_count }, on: { 'current-change': t.hPageChange } }, [t._v('> ')])], 1)], 1) }; var a = []; var o = (r('d3b7'), r('25f0'), r('9be1')); var i = r('2423'); var c = r('663f'); var l = { name: 'ArticleIndex', props: {}, data: function () { return { form: { channelId: null, date: null, status: null }, articles: [], curPage: 1, total_count: 0, channels: [], loading: !1 } }, components: { MyChannels: o.a, MyBreadcrumb: c.a }, computed: {}, watch: {}, created: function () { this.loadArticles(), this.loadChannels() }, mounted: function () {}, methods: { onSubmit: function () {}, loadArticles: function () { var t = this; var e = null; this.form.date && (e = this.form.date[0]); var r = this.form.date && this.form.date[1]; var n = null; this.form.channelId && (n = this.form.channelId), this.loading = !0, Object(i.e)({ channel_id: n, status: this.form.status, begin_pubdate: e, end_pubdate: r, page: this.curPage }).then(function (e) { t.articles = e.data.data.results, t.total_count = e.data.data.total_count, t.loading = !1 }).catch(function (e) { t.$message({ message: '查询失败，参数无效', type: 'error' }), t.loading = !1 }) }, hQuery: function () { this.curPage = 1, this.loadArticles() }, hEdit: function (t) { var e = t.id.toString(); this.$router.push('/editArticle/' + e) }, hPageChange: function (t) { this.curPage = t, this.loadArticles() }, loadChannels: function () { var t = this; Object(i.d)().then(function (e) { t.channels = e.data.data.channels }) }, hDelete: function (t) { var e = this; var r = t.id.toString(); this.$confirm('你确定要删除吗?', '提示', { confirmButtonText: '确定', cancelButtonText: '取消', type: 'warning' }).then(function () { Object(i.b)(r).then(function (t) { e.$message({ message: '删除成功！', type: 'success' }), e.loadArticles() }).catch(function (t) { e.$message({ message: '删除失败', type: 'error' }) }) }).catch(function () {}) } } }; var s = l; var u = (r('ced1'), r('2877')); var f = Object(u.a)(s, n, a, !1, null, '3177bfb1', null); e.default = f.exports }, '1da1': function (t, e, r) { 'use strict'; r.d(e, 'a', function () { return a }); r('d3b7'); function n (t, e, r, n, a, o, i) { try { var c = t[o](i); var l = c.value } catch (s) { return void r(s) }c.done ? e(l) : Promise.resolve(l).then(n, a) } function a (t) { return function () { var e = this; var r = arguments; return new Promise(function (a, o) { var i = t.apply(e, r); function c (t) { n(i, a, o, c, l, 'next', t) } function l (t) { n(i, a, o, c, l, 'throw', t) }c(void 0) }) } } }, 2423: function (t, e, r) { 'use strict'; r.d(e, 'e', function () { return a }), r.d(e, 'd', function () { return o }), r.d(e, 'b', function () { return i }), r.d(e, 'a', function () { return c }), r.d(e, 'c', function () { return l }), r.d(e, 'f', function () { return s }); var n = r('b775'); var a = function (t) { return Object(n.a)({ method: 'GET', url: '/mp/v1_0/articles', params: t }) }; var o = function () { return Object(n.a)({ method: 'GET', url: '/mp/v1_0/channels' }) }; var i = function (t) { return Object(n.a)({ method: 'DELETE', url: '/mp/v1_0/articles/' + t }) }; var c = function (t, e) { return Object(n.a)({ method: 'POST', url: '/mp/v1_0/articles', params: { draft: t }, data: e }) }; var l = function (t) { return Object(n.a)({ method: 'GET', url: '/mp/v1_0/articles/' + t }) }; var s = function (t, e) { return Object(n.a)({ method: 'PUT', url: '/mp/v1_0/articles/' + t, data: e, params: { draft: !1 } }) } }, '25f0': function (t, e, r) { 'use strict'; var n = r('6eeb'); var a = r('825a'); var o = r('d039'); var i = r('ad6d'); var c = 'toString'; var l = RegExp.prototype; var s = l[c]; var u = o(function () { return s.call({ source: 'a', flags: 'b' }) != '/a/b' }); var f = s.name != c; (u || f) && n(RegExp.prototype, c, function () { var t = a(this); var e = String(t.source); var r = t.flags; var n = String(void 0 === r && t instanceof RegExp && !('flags' in l) ? i.call(t) : r); return '/' + e + '/' + n }, { unsafe: !0 }) }, '663f': function (t, e, r) { 'use strict'; var n = function () { var t = this; var e = t.$createElement; var r = t._self._c || e; return r('el-breadcrumb', { attrs: { 'separator-class': 'el-icon-arrow-right' } }, [r('el-breadcrumb-item', { attrs: { to: { path: '/' } } }, [t._v('首页')]), r('el-breadcrumb-item', [t._t('default')], 2)], 1) }; var a = []; var o = { name: 'MyBreadcrumb' }; var i = o; var c = r('2877'); var l = Object(c.a)(i, n, a, !1, null, null, null); e.a = l.exports }, '96cf': function (t, e, r) { var n = (function (t) { 'use strict'; var e; var r = Object.prototype; var n = r.hasOwnProperty; var a = typeof Symbol === 'function' ? Symbol : {}; var o = a.iterator || '@@iterator'; var i = a.asyncIterator || '@@asyncIterator'; var c = a.toStringTag || '@@toStringTag'; function l (t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e] } try { l({}, '') } catch (T) { l = function (t, e, r) { return t[e] = r } } function s (t, e, r, n) { var a = e && e.prototype instanceof v ? e : v; var o = Object.create(a.prototype); var i = new C(n || []); return o._invoke = O(t, r, i), o } function u (t, e, r) { try { return { type: 'normal', arg: t.call(e, r) } } catch (T) { return { type: 'throw', arg: T } } }t.wrap = s; var f = 'suspendedStart'; var h = 'suspendedYield'; var d = 'executing'; var p = 'completed'; var m = {}; function v () {} function g () {} function y () {} var b = {}; b[o] = function () { return this }; var w = Object.getPrototypeOf; var _ = w && w(w(P([]))); _ && _ !== r && n.call(_, o) && (b = _); var x = y.prototype = v.prototype = Object.create(b); function E (t) { ['next', 'throw', 'return'].forEach(function (e) { l(t, e, function (t) { return this._invoke(e, t) }) }) } function L (t, e) { function r (a, o, i, c) { var l = u(t[a], t, o); if (l.type !== 'throw') { var s = l.arg; var f = s.value; return f && typeof f === 'object' && n.call(f, '__await') ? e.resolve(f.__await).then(function (t) { r('next', t, i, c) }, function (t) { r('throw', t, i, c) }) : e.resolve(f).then(function (t) { s.value = t, i(s) }, function (t) { return r('throw', t, i, c) }) }c(l.arg) } var a; function o (t, n) { function o () { return new e(function (e, a) { r(t, n, e, a) }) } return a = a ? a.then(o, o) : o() } this._invoke = o } function O (t, e, r) { var n = f; return function (a, o) { if (n === d) throw new Error('Generator is already running'); if (n === p) { if (a === 'throw') throw o; return I() }r.method = a, r.arg = o; while (1) { var i = r.delegate; if (i) { var c = k(i, r); if (c) { if (c === m) continue; return c } } if (r.method === 'next')r.sent = r._sent = r.arg; else if (r.method === 'throw') { if (n === f) throw n = p, r.arg; r.dispatchException(r.arg) } else r.method === 'return' && r.abrupt('return', r.arg); n = d; var l = u(t, e, r); if (l.type === 'normal') { if (n = r.done ? p : h, l.arg === m) continue; return { value: l.arg, done: r.done } }l.type === 'throw' && (n = p, r.method = 'throw', r.arg = l.arg) } } } function k (t, r) { var n = t.iterator[r.method]; if (n === e) { if (r.delegate = null, r.method === 'throw') { if (t.iterator.return && (r.method = 'return', r.arg = e, k(t, r), r.method === 'throw')) return m; r.method = 'throw', r.arg = new TypeError("The iterator does not provide a 'throw' method") } return m } var a = u(n, t.iterator, r.arg); if (a.type === 'throw') return r.method = 'throw', r.arg = a.arg, r.delegate = null, m; var o = a.arg; return o ? o.done ? (r[t.resultName] = o.value, r.next = t.nextLoc, r.method !== 'return' && (r.method = 'next', r.arg = e), r.delegate = null, m) : o : (r.method = 'throw', r.arg = new TypeError('iterator result is not an object'), r.delegate = null, m) } function j (t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e) } function S (t) { var e = t.completion || {}; e.type = 'normal', delete e.arg, t.completion = e } function C (t) { this.tryEntries = [{ tryLoc: 'root' }], t.forEach(j, this), this.reset(!0) } function P (t) { if (t) { var r = t[o]; if (r) return r.call(t); if (typeof t.next === 'function') return t; if (!isNaN(t.length)) { var a = -1; var i = function r () { while (++a < t.length) if (n.call(t, a)) return r.value = t[a], r.done = !1, r; return r.value = e, r.done = !0, r }; return i.next = i } } return { next: I } } function I () { return { value: e, done: !0 } } return g.prototype = x.constructor = y, y.constructor = g, g.displayName = l(y, c, 'GeneratorFunction'), t.isGeneratorFunction = function (t) { var e = typeof t === 'function' && t.constructor; return !!e && (e === g || (e.displayName || e.name) === 'GeneratorFunction') }, t.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, y) : (t.__proto__ = y, l(t, c, 'GeneratorFunction')), t.prototype = Object.create(x), t }, t.awrap = function (t) { return { __await: t } }, E(L.prototype), L.prototype[i] = function () { return this }, t.AsyncIterator = L, t.async = function (e, r, n, a, o) { void 0 === o && (o = Promise); var i = new L(s(e, r, n, a), o); return t.isGeneratorFunction(r) ? i : i.next().then(function (t) { return t.done ? t.value : i.next() }) }, E(x), l(x, c, 'Generator'), x[o] = function () { return this }, x.toString = function () { return '[object Generator]' }, t.keys = function (t) { var e = []; for (var r in t)e.push(r); return e.reverse(), function r () { while (e.length) { var n = e.pop(); if (n in t) return r.value = n, r.done = !1, r } return r.done = !0, r } }, t.values = P, C.prototype = { constructor: C, reset: function (t) { if (this.prev = 0, this.next = 0, this.sent = this._sent = e, this.done = !1, this.delegate = null, this.method = 'next', this.arg = e, this.tryEntries.forEach(S), !t) for (var r in this)r.charAt(0) === 't' && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = e) }, stop: function () { this.done = !0; var t = this.tryEntries[0]; var e = t.completion; if (e.type === 'throw') throw e.arg; return this.rval }, dispatchException: function (t) { if (this.done) throw t; var r = this; function a (n, a) { return c.type = 'throw', c.arg = t, r.next = n, a && (r.method = 'next', r.arg = e), !!a } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o]; var c = i.completion; if (i.tryLoc === 'root') return a('end'); if (i.tryLoc <= this.prev) { var l = n.call(i, 'catchLoc'); var s = n.call(i, 'finallyLoc'); if (l && s) { if (this.prev < i.catchLoc) return a(i.catchLoc, !0); if (this.prev < i.finallyLoc) return a(i.finallyLoc) } else if (l) { if (this.prev < i.catchLoc) return a(i.catchLoc, !0) } else { if (!s) throw new Error('try statement without catch or finally'); if (this.prev < i.finallyLoc) return a(i.finallyLoc) } } } }, abrupt: function (t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var a = this.tryEntries[r]; if (a.tryLoc <= this.prev && n.call(a, 'finallyLoc') && this.prev < a.finallyLoc) { var o = a; break } }o && (t === 'break' || t === 'continue') && o.tryLoc <= e && e <= o.finallyLoc && (o = null); var i = o ? o.completion : {}; return i.type = t, i.arg = e, o ? (this.method = 'next', this.next = o.finallyLoc, m) : this.complete(i) }, complete: function (t, e) { if (t.type === 'throw') throw t.arg; return t.type === 'break' || t.type === 'continue' ? this.next = t.arg : t.type === 'return' ? (this.rval = this.arg = t.arg, this.method = 'return', this.next = 'end') : t.type === 'normal' && e && (this.next = e), m }, finish: function (t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), S(r), m } }, catch: function (t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (n.type === 'throw') { var a = n.arg; S(r) } return a } } throw new Error('illegal catch attempt') }, delegateYield: function (t, r, n) { return this.delegate = { iterator: P(t), resultName: r, nextLoc: n }, this.method === 'next' && (this.arg = e), m } }, t }(t.exports)); try { regeneratorRuntime = n } catch (a) { Function('r', 'regeneratorRuntime = r')(n) } }, '9be1': function (t, e, r) { 'use strict'; var n = function () { var t = this; var e = t.$createElement; var r = t._self._c || e; return r('el-form-item', { attrs: { label: '频道' } }, [r('el-select', { attrs: { clearable: '', placeholder: '请选择频道' }, on: { change: t.hSelectChange }, model: { value: t.channelId, callback: function (e) { t.channelId = e }, expression: 'channelId' } }, t._l(t.channels, function (t) { return r('el-option', { key: t.id, attrs: { label: t.name, value: t.id } }) }), 1)], 1) }; var a = []; var o = (r('96cf'), r('1da1')); var i = r('2423'); var c = { name: 'MyChannels', data: function () { return { channelId: '', channels: [] } }, computed: {}, created: function () { var t = this; return Object(o.a)(regeneratorRuntime.mark(function e () { var r; return regeneratorRuntime.wrap(function (e) { while (1) switch (e.prev = e.next) { case 0:return e.next = 2, Object(i.d)(); case 2:r = e.sent, t.channels = r.data.data.channels; case 5:case 'end':return e.stop() } }, e) }))() }, methods: { hSelectChange: function (t) { this.$emit('aaa', t) } } }; var l = c; var s = r('2877'); var u = Object(s.a)(l, n, a, !1, null, null, null); e.a = u.exports }, ad6d: function (t, e, r) { 'use strict'; var n = r('825a'); t.exports = function () { var t = n(this); var e = ''; return t.global && (e += 'g'), t.ignoreCase && (e += 'i'), t.multiline && (e += 'm'), t.dotAll && (e += 's'), t.unicode && (e += 'u'), t.sticky && (e += 'y'), e } }, b5c2: function (t, e, r) {}, ced1: function (t, e, r) { 'use strict'; r('b5c2') } }])
// # sourceMappingURL=chunk-f3aca39c.77266669.js.map
