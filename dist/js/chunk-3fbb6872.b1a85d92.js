(window.webpackJsonp = window.webpackJsonp || []).push([['chunk-3fbb6872'], { '113c': function (t, e) { t.exports = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADImlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4zLWMwMTEgNjYuMTQ1NjYxLCAyMDEyLzAyLzA2LTE0OjU2OjI3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1MzUxNDdBMzNCNTcxMUU5QkNDMTlDQ0M5MThDQkJBMCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1MzUxNDdBNDNCNTcxMUU5QkNDMTlDQ0M5MThDQkJBMCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjUzNTE0N0ExM0I1NzExRTlCQ0MxOUNDQzkxOENCQkEwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjUzNTE0N0EyM0I1NzExRTlCQ0MxOUNDQzkxOENCQkEwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+cuiUFwAACBVJREFUeF7t3VdvFMsChdH2IYOECA8gEALxxP//P/BAeCDnHM5lj1xXI+MDtvGMe9trSaOJzv6murpr7I1/f5qASv9sngOFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFBAzFNv79afMy/NaPHz82L/185v/Hc/8cCJgd+fbt2/TgwYPpw4cP09mzZ6cbN25Mx48f37yXg+JplB1LxF+/fl2cMw8ChmICZscy7z127Jj574z4SUAxAUMxAUMxAbMjmfvGOOo4rnOwHAdeg3yLlxdBzEE+p42NjcUOqZxHDg+N25fleg4fPXr0aPr48eN05syZ6fr169OJEyf+H/Sy8T4cJ149Aa/Yly9fprdv306fP3+evn//vnnrwcsTSgK8cuXKYjRNvAk0n+/WvcyJMb8my8d/E+e4fau879x/69atX54M2F8CXqGMWs+ePZs+ffq0+KWe0yg8Ar558+Yi4Hyud+/eXXyu220ejxE1cedtx2i9nTxRnTx5crpz545DTism4BVKvBl98y1OFGNzdQ7f8hGwEbibgFck39YEkU3n/DJfunRpsYZ4LvL5Ja7xpBJjVN0aXa6bA8+TgFcko1AW/+cX/9SpU9O1a9e23TRtkV+Te/fuTe/fv5/OnTs33b59+5fQWT8TFCgm4BVaHqHaR6uxB318HXPao36UCXhNzFRYBQFDMQFDMQFDMQEXGCufcsrlg5IdV+PEPAh45nLc9fHjx4tjyvfv319czm0HIcezT58+vThnHizkWJGMlA8fPlwsTdzrQo6XL19OL168WLyPZVlnnJVdFy9e3LxlPZZXalllNQ9G4JnKKPv8+fPFiwsSTJY8jmWPuS33rXskTrRZPine+RDwDGWUe/PmzWIZ5tZROwHnttyXx+zHBlS2Fsbc9r/m2Pk4uT+jcM5tuM2DgGcoEWWUjQSb07JxfbxMca8SYf5Qe0bzzK1zyuW8YGFroPk4Yy6e87/5uOwfAUMxAR9R2TGW0fbp06fTu3fvFqN5Tnn9cl7H/Pr1619G4Wy25+WROWceBDxD2VmVwzWx3Vxz3JbHbH3x/U5ks3n8sYFxTHd5J1nifvXq1WKOvSz3Z/69l4/JavhJzFAiOn/+/GKP79YdRrmc23JfHrN1fvwnGW1zaCrz3BjRDrmcSDPHTcCJfdy+bLsnFtZPwDOVF83nWG9G2cSSoHLK5dx2+fLlxWN2Y8Q7/mzO7+LPfWNP93Z+97asj4BnLAFfvXp1unDhwiLanHI5t+12EUc2l7MwJIeBEt+fAhz3Z16c48154rDpPD9+Imuy103OjLL5w3P5f7w55fJuR94EmDntTkbeZXlsRv3luTLzIuA1+ZtNzoSU1U857XYUzFw3I282h/c6guZtMxfOk9DffB3sPwEfYjnkkzlvzhPeXuIbo3ACzigs4HkR8CGVuW5G3sSbCP8mvIy82fw2As+PgA+hjJiJN6PmXkdeOgj4EMoqqvFKJfEebgKGYgI+ZLJYI4d9shm9173O9PATPkSywyrHe8diDQ4/AR+wjJT7sUhi7HXO3mI7ro4OAR+gLLJ48uTJ4gXyWXOcmPcih3cy8trrfPQI+IAktvF3rRJyFlzkJX4ZQXcrc157nY8mAR+AzFWXF1mMl+9lB1QizvlO107nxQY5bJTNcDutjh4/8TVLaNutkBqXE2RG5mwS/2mTesx7s1bZyHs0CXhNRmCZ6ybSXN8aXa4n5ESegDM/zmO3G40Tdx6Tze/t3hdHg4DXYASW+W02jxPf74Ibm8KZJ+dvViXUvO0YkXOezea8L/EebQJegwSWzdxEt9PN3RHmeLuMxpkfZ2dXos5I7sUFCHjFElhGzAS3283dPC6jcULNCJw9zXk/GZn/NIpzNAgYigl4xTJKZqdURs+9jppjJI6xQ8voSwh4TcYOqL+RaMcJQsBrIjpWQcBQTMArtNPlkLBXAl6RbDJnjfNh3HTO18U8CHhFEm7+k0Lsxw6sORh70fN1jb3iHKyNn5t5tvNWJKuosnoq65mj+Vs9tiTG/2U6efLk4joHS8ArlhVU4wUMzSNxRtzEm/+IKN75EPCa5Nvc/K3OCHwY5/PtBAzF7ImAYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGYgKGWtP0P/dQ6E8kIIvkAAAAAElFTkSuQmCC' }, '1da1': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return a }); n('d3b7'); function r (t, e, n, r, a, i, o) { try { var c = t[i](o); var l = c.value } catch (u) { return void n(u) }c.done ? e(l) : Promise.resolve(l).then(r, a) } function a (t) { return function () { var e = this; var n = arguments; return new Promise(function (a, i) { var o = t.apply(e, n); function c (t) { r(o, a, i, c, l, 'next', t) } function l (t) { r(o, a, i, c, l, 'throw', t) }c(void 0) }) } } }, 2423: function (t, e, n) { 'use strict'; n.d(e, 'e', function () { return a }), n.d(e, 'd', function () { return i }), n.d(e, 'b', function () { return o }), n.d(e, 'a', function () { return c }), n.d(e, 'c', function () { return l }), n.d(e, 'f', function () { return u }); var r = n('b775'); var a = function (t) { return Object(r.a)({ method: 'GET', url: '/mp/v1_0/articles', params: t }) }; var i = function () { return Object(r.a)({ method: 'GET', url: '/mp/v1_0/channels' }) }; var o = function (t) { return Object(r.a)({ method: 'DELETE', url: '/mp/v1_0/articles/' + t }) }; var c = function (t, e) { return Object(r.a)({ method: 'POST', url: '/mp/v1_0/articles', params: { draft: t }, data: e }) }; var l = function (t) { return Object(r.a)({ method: 'GET', url: '/mp/v1_0/articles/' + t }) }; var u = function (t, e) { return Object(r.a)({ method: 'PUT', url: '/mp/v1_0/articles/' + t, data: e, params: { draft: !1 } }) } }, '3f66': function (t, e, n) {}, '685c': function (t, e, n) { 'use strict'; n.d(e, 'b', function () { return a }), n.d(e, 'c', function () { return i }), n.d(e, 'a', function () { return o }); var r = n('b775'); var a = function (t) { return Object(r.a)({ method: 'GET', url: '/mp/v1_0/user/images', params: t }) }; var i = function (t, e) { return Object(r.a)({ method: 'PUT', url: '/mp/v1_0/user/images/' + t, data: { collect: e } }) }; var o = function (t) { Object(r.a)({ method: 'delete', url: '/mp/v1_0/user/images/' + t }) } }, '7abe': function (t, e, n) { 'use strict'; n.r(e); var r = function () { var t = this; var e = t.$createElement; var n = t._self._c || e; return n('div', {}, [t._v(' 主页 '), n('div', [n('my-cover', { model: { value: t.imgSrc, callback: function (e) { t.imgSrc = e }, expression: 'imgSrc' } })], 1), n('el-form', [n('my-channels', { on: { aaa: t.hAaa } }), n('my-channels-vmodel', { model: { value: t.channel_id_vmodel, callback: function (e) { t.channel_id_vmodel = e }, expression: 'channel_id_vmodel' } })], 1)], 1) }; var a = []; var i = function () { var t = this; var e = t.$createElement; var n = t._self._c || e; return n('el-form-item', { attrs: { label: '频道' } }, [n('el-select', { attrs: { clearable: '', placeholder: '请选择频道' }, on: { change: t.hSelectChange }, model: { value: t.channelId, callback: function (e) { t.channelId = e }, expression: 'channelId' } }, t._l(t.channels, function (t) { return n('el-option', { key: t.id, attrs: { label: t.name, value: t.id } }) }), 1)], 1) }; var o = []; var c = (n('96cf'), n('1da1')); var l = n('2423'); var u = { name: 'MyChannelsVmodel', props: ['value'], data: function () { return { channelId: this.value, channels: [] } }, computed: {}, created: function () { var t = this; return Object(c.a)(regeneratorRuntime.mark(function e () { var n; return regeneratorRuntime.wrap(function (e) { while (1) switch (e.prev = e.next) { case 0:return e.next = 2, Object(l.d)(); case 2:n = e.sent, t.channels = n.data.data.channels; case 5:case 'end':return e.stop() } }, e) }))() }, methods: { hSelectChange: function (t) { this.$emit('input', t) } }, watch: { value: function () { this.channelId = this.value } } }; var s = u; var h = n('2877'); var g = Object(h.a)(s, i, o, !1, null, null, null); var f = g.exports; var m = n('9be1'); var d = n('a4fb'); var p = { name: 'Home', props: {}, components: { MyChannels: m.a, MyCover: d.a, MyChannelsVmodel: f }, data: function () { return { imgSrc: 'http://toutiao.meiduo.site/Fk2YzxVPpu89_zmIFX75DtbD8atn', channel_id_vmodel: 101, channel_id: '' } }, computed: {}, created: function () {}, mounted: function () {}, methods: { hAaa: function (t) { this.channel_id = t } } }; var v = p; var A = Object(h.a)(v, r, a, !1, null, '7b23f28e', null); e.default = A.exports }, '94b1': function (t, e, n) { 'use strict'; n('3f66') }, '96cf': function (t, e, n) { var r = (function (t) { 'use strict'; var e; var n = Object.prototype; var r = n.hasOwnProperty; var a = typeof Symbol === 'function' ? Symbol : {}; var i = a.iterator || '@@iterator'; var o = a.asyncIterator || '@@asyncIterator'; var c = a.toStringTag || '@@toStringTag'; function l (t, e, n) { return Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }), t[e] } try { l({}, '') } catch (k) { l = function (t, e, n) { return t[e] = n } } function u (t, e, n, r) { var a = e && e.prototype instanceof p ? e : p; var i = Object.create(a.prototype); var o = new I(r || []); return i._invoke = B(t, n, o), i } function s (t, e, n) { try { return { type: 'normal', arg: t.call(e, n) } } catch (k) { return { type: 'throw', arg: k } } }t.wrap = u; var h = 'suspendedStart'; var g = 'suspendedYield'; var f = 'executing'; var m = 'completed'; var d = {}; function p () {} function v () {} function A () {} var z = {}; z[i] = function () { return this }; var b = Object.getPrototypeOf; var y = b && b(b(E([]))); y && y !== n && r.call(y, i) && (z = y); var G = A.prototype = p.prototype = Object.create(z); function F (t) { ['next', 'throw', 'return'].forEach(function (e) { l(t, e, function (t) { return this._invoke(e, t) }) }) } function Y (t, e) { function n (a, i, o, c) { var l = s(t[a], t, i); if (l.type !== 'throw') { var u = l.arg; var h = u.value; return h && typeof h === 'object' && r.call(h, '__await') ? e.resolve(h.__await).then(function (t) { n('next', t, o, c) }, function (t) { n('throw', t, o, c) }) : e.resolve(h).then(function (t) { u.value = t, o(u) }, function (t) { return n('throw', t, o, c) }) }c(l.arg) } var a; function i (t, r) { function i () { return new e(function (e, a) { n(t, r, e, a) }) } return a = a ? a.then(i, i) : i() } this._invoke = i } function B (t, e, n) { var r = h; return function (a, i) { if (r === f) throw new Error('Generator is already running'); if (r === m) { if (a === 'throw') throw i; return N() }n.method = a, n.arg = i; while (1) { var o = n.delegate; if (o) { var c = w(o, n); if (c) { if (c === d) continue; return c } } if (n.method === 'next')n.sent = n._sent = n.arg; else if (n.method === 'throw') { if (r === h) throw r = m, n.arg; n.dispatchException(n.arg) } else n.method === 'return' && n.abrupt('return', n.arg); r = f; var l = s(t, e, n); if (l.type === 'normal') { if (r = n.done ? m : g, l.arg === d) continue; return { value: l.arg, done: n.done } }l.type === 'throw' && (r = m, n.method = 'throw', n.arg = l.arg) } } } function w (t, n) { var r = t.iterator[n.method]; if (r === e) { if (n.delegate = null, n.method === 'throw') { if (t.iterator.return && (n.method = 'return', n.arg = e, w(t, n), n.method === 'throw')) return d; n.method = 'throw', n.arg = new TypeError("The iterator does not provide a 'throw' method") } return d } var a = s(r, t.iterator, n.arg); if (a.type === 'throw') return n.method = 'throw', n.arg = a.arg, n.delegate = null, d; var i = a.arg; return i ? i.done ? (n[t.resultName] = i.value, n.next = t.nextLoc, n.method !== 'return' && (n.method = 'next', n.arg = e), n.delegate = null, d) : i : (n.method = 'throw', n.arg = new TypeError('iterator result is not an object'), n.delegate = null, d) } function x (t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e) } function K (t) { var e = t.completion || {}; e.type = 'normal', delete e.arg, t.completion = e } function I (t) { this.tryEntries = [{ tryLoc: 'root' }], t.forEach(x, this), this.reset(!0) } function E (t) { if (t) { var n = t[i]; if (n) return n.call(t); if (typeof t.next === 'function') return t; if (!isNaN(t.length)) { var a = -1; var o = function n () { while (++a < t.length) if (r.call(t, a)) return n.value = t[a], n.done = !1, n; return n.value = e, n.done = !0, n }; return o.next = o } } return { next: N } } function N () { return { value: e, done: !0 } } return v.prototype = G.constructor = A, A.constructor = v, v.displayName = l(A, c, 'GeneratorFunction'), t.isGeneratorFunction = function (t) { var e = typeof t === 'function' && t.constructor; return !!e && (e === v || (e.displayName || e.name) === 'GeneratorFunction') }, t.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, A) : (t.__proto__ = A, l(t, c, 'GeneratorFunction')), t.prototype = Object.create(G), t }, t.awrap = function (t) { return { __await: t } }, F(Y.prototype), Y.prototype[o] = function () { return this }, t.AsyncIterator = Y, t.async = function (e, n, r, a, i) { void 0 === i && (i = Promise); var o = new Y(u(e, n, r, a), i); return t.isGeneratorFunction(n) ? o : o.next().then(function (t) { return t.done ? t.value : o.next() }) }, F(G), l(G, c, 'Generator'), G[i] = function () { return this }, G.toString = function () { return '[object Generator]' }, t.keys = function (t) { var e = []; for (var n in t)e.push(n); return e.reverse(), function n () { while (e.length) { var r = e.pop(); if (r in t) return n.value = r, n.done = !1, n } return n.done = !0, n } }, t.values = E, I.prototype = { constructor: I, reset: function (t) { if (this.prev = 0, this.next = 0, this.sent = this._sent = e, this.done = !1, this.delegate = null, this.method = 'next', this.arg = e, this.tryEntries.forEach(K), !t) for (var n in this)n.charAt(0) === 't' && r.call(this, n) && !isNaN(+n.slice(1)) && (this[n] = e) }, stop: function () { this.done = !0; var t = this.tryEntries[0]; var e = t.completion; if (e.type === 'throw') throw e.arg; return this.rval }, dispatchException: function (t) { if (this.done) throw t; var n = this; function a (r, a) { return c.type = 'throw', c.arg = t, n.next = r, a && (n.method = 'next', n.arg = e), !!a } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var o = this.tryEntries[i]; var c = o.completion; if (o.tryLoc === 'root') return a('end'); if (o.tryLoc <= this.prev) { var l = r.call(o, 'catchLoc'); var u = r.call(o, 'finallyLoc'); if (l && u) { if (this.prev < o.catchLoc) return a(o.catchLoc, !0); if (this.prev < o.finallyLoc) return a(o.finallyLoc) } else if (l) { if (this.prev < o.catchLoc) return a(o.catchLoc, !0) } else { if (!u) throw new Error('try statement without catch or finally'); if (this.prev < o.finallyLoc) return a(o.finallyLoc) } } } }, abrupt: function (t, e) { for (var n = this.tryEntries.length - 1; n >= 0; --n) { var a = this.tryEntries[n]; if (a.tryLoc <= this.prev && r.call(a, 'finallyLoc') && this.prev < a.finallyLoc) { var i = a; break } }i && (t === 'break' || t === 'continue') && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var o = i ? i.completion : {}; return o.type = t, o.arg = e, i ? (this.method = 'next', this.next = i.finallyLoc, d) : this.complete(o) }, complete: function (t, e) { if (t.type === 'throw') throw t.arg; return t.type === 'break' || t.type === 'continue' ? this.next = t.arg : t.type === 'return' ? (this.rval = this.arg = t.arg, this.method = 'return', this.next = 'end') : t.type === 'normal' && e && (this.next = e), d }, finish: function (t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var n = this.tryEntries[e]; if (n.finallyLoc === t) return this.complete(n.completion, n.afterLoc), K(n), d } }, catch: function (t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var n = this.tryEntries[e]; if (n.tryLoc === t) { var r = n.completion; if (r.type === 'throw') { var a = r.arg; K(n) } return a } } throw new Error('illegal catch attempt') }, delegateYield: function (t, n, r) { return this.delegate = { iterator: E(t), resultName: n, nextLoc: r }, this.method === 'next' && (this.arg = e), d } }, t }(t.exports)); try { regeneratorRuntime = r } catch (a) { Function('r', 'regeneratorRuntime = r')(r) } }, '9be1': function (t, e, n) { 'use strict'; var r = function () { var t = this; var e = t.$createElement; var n = t._self._c || e; return n('el-form-item', { attrs: { label: '频道' } }, [n('el-select', { attrs: { clearable: '', placeholder: '请选择频道' }, on: { change: t.hSelectChange }, model: { value: t.channelId, callback: function (e) { t.channelId = e }, expression: 'channelId' } }, t._l(t.channels, function (t) { return n('el-option', { key: t.id, attrs: { label: t.name, value: t.id } }) }), 1)], 1) }; var a = []; var i = (n('96cf'), n('1da1')); var o = n('2423'); var c = { name: 'MyChannels', data: function () { return { channelId: '', channels: [] } }, computed: {}, created: function () { var t = this; return Object(i.a)(regeneratorRuntime.mark(function e () { var n; return regeneratorRuntime.wrap(function (e) { while (1) switch (e.prev = e.next) { case 0:return e.next = 2, Object(o.d)(); case 2:n = e.sent, t.channels = n.data.data.channels; case 5:case 'end':return e.stop() } }, e) }))() }, methods: { hSelectChange: function (t) { this.$emit('aaa', t) } } }; var l = c; var u = n('2877'); var s = Object(u.a)(l, r, a, !1, null, null, null); e.a = s.exports }, a4fb: function (t, e, n) { 'use strict'; var r = function () { var t = this; var e = t.$createElement; var n = t._self._c || e; return n('div', { staticClass: 'my-cover' }, [n('div', { staticClass: 'btn_img', on: { click: function (e) { return t.openDialog() } } }, [n('img', { attrs: { src: t.value || t.coverImageUrl } })]), n('el-dialog', { attrs: { 'append-to-body': !0, visible: t.dialogVisible, width: '720px' }, on: { 'update:visible': function (e) { t.dialogVisible = e } } }, [n('el-tabs', { attrs: { type: 'card' }, model: { value: t.activeName, callback: function (e) { t.activeName = e }, expression: 'activeName' } }, [n('el-tab-pane', { attrs: { label: '素材库', name: 'image' } }, [n('div', { staticStyle: { 'padding-bottom': '20px' } }, [n('el-radio-group', { attrs: { size: 'mini' }, on: { change: t.hCollectChange }, model: { value: t.collect, callback: function (e) { t.collect = e }, expression: 'collect' } }, [n('el-radio-button', { attrs: { label: '全部' } }), n('el-radio-button', { attrs: { label: '收藏' } })], 1)], 1), n('el-row', { staticClass: 'img_list', attrs: { gutter: 10 } }, t._l(t.images, function (e) { return n('el-col', { key: e.id, staticClass: 'img-item', class: { selected: e.url === t.selectedImageUrl }, attrs: { xs: 12, sm: 6, lg: 4 } }, [n('el-image', { staticStyle: { height: '100px' }, attrs: { src: e.url, fit: 'cover' }, nativeOn: { click: function (n) { return t.hImageClick(e) } } })], 1) }), 1), n('el-pagination', { staticStyle: { 'margin-top': '10px' }, attrs: { 'hide-on-single-page': !0, background: '', layout: 'prev,pager,next', 'page-size': t.per_page, total: t.total_count }, on: { 'current-change': t.hPageChange } })], 1), n('el-tab-pane', { attrs: { label: '上传图片', name: 'upload' } }, [n('el-upload', { staticClass: 'avatar-upload', attrs: { action: 'http://ttapi.research.itcast.cn/mp/v1_0/user/images', headers: t.headers, 'on-success': t.hUploadSuccess, name: 'image', 'show-file-list': !1, 'before-upload': t.beforeAvatarUpload } }, [t.imgSrc ? n('el-image', { staticClass: 'avatar', attrs: { src: t.imgSrc } }) : n('i', { staticClass: 'el-icon-plus avatar-uploader-icon' })], 1)], 1)], 1), n('span', { staticClass: 'dialog-footer', attrs: { slot: 'footer' }, slot: 'footer' }, [n('el-button', { on: { click: function (e) { t.dialogVisible = !1 } } }, [t._v('取消')]), n('el-button', { attrs: { type: 'primary' }, on: { click: function (e) { t.hConfirmImage = !1 } } }, [t._v('确定')])], 1)], 1)], 1) }; var a = []; var i = (n('96cf'), n('1da1')); var o = n('113c'); var c = n.n(o); var l = n('685c'); var u = { name: 'MyCover', data: function () { return { coverImageUrl: c.a, selectedImageUrl: null, dialogVisible: !1, activeName: 'image', images: [], cur_page: 1, per_page: 10, total_count: 0, collect: !1, imgSrc: null, headers: { Authorization: 'bearer $get{getUser().token}' } } }, props: ['value'], methods: { openDialog: function () { this.activeName = 'image', this.imgSrc = null, this.selectedImageUrl = '', this.dialogVisible = !0, this.loadImages() }, loadImages: function () { var t = this; return Object(i.a)(regeneratorRuntime.mark(function e () { var n; return regeneratorRuntime.wrap(function (e) { while (1) switch (e.prev = e.next) { case 0:return e.prev = 0, e.next = 3, Object(l.b)({ collect: t.collect, per_page: t.per_page, page: t.cur_page }); case 3:n = e.sent, t.images = n.data.data.results, t.total_count = n.data.data.total_count, e.next = 11; break; case 8:e.prev = 8, e.t0 = e.catch(0); case 11:case 'end':return e.stop() } }, e, null, [[0, 8]]) }))() }, hPageChange: function (t) { this.cur_page = t, this.loadImages() }, hCollectChange: function () { this.loadImages() }, hImageClick: function (t) { this.selectedImageUrl = t.url }, beforeAvatarUpload: function (t) { var e = t.type === 'image/jpeg'; var n = t.size / 1024 / 1024 < 2; return e || this.$message.error('图片只能是JPG格式！'), n || this.$message.error('图片大小不能超过2MB！'), e && n }, hUploadSuccess: function (t) { this.imgSrc = t.data.url, this.$message.success('上传素材成功') }, hConfirmImage: function () { if (this.activeName === 'iamge') { if (!this.selectedImageUrl) return void this.$message.console.warning('请先选中一张图片'); this.coverImageUrl = this.selectedImageUrl, this.$emit('input', this.selectedImageUrl) } else if (this.activeName === 'upload') { if (!this.imgSrc) return void this.$message.warning('请先上传一张图片'); this.coverImageUrl = this.imgSrc, this.$emit('input', this.selectedImageUrl) } this.dialogVisible = !1 } } }; var s = u; var h = (n('94b1'), n('2877')); var g = Object(h.a)(s, r, a, !1, null, '20435416', null); e.a = g.exports } }])
// # sourceMappingURL=chunk-3fbb6872.b1a85d92.js.map
