(window.webpackJsonp = window.webpackJsonp || []).push([['chunk-1563a9e3'], { '263e': function (e, t, r) { 'use strict'; r.r(t); var a = function () { var e = this; var t = e.$createElement; var r = e._self._c || t; return r('div', { staticClass: 'publish-container' }, [r('el-card', [r('div', { attrs: { solt: 'hearder' } }, [r('my-breadcrumb', [e._v('发布文章')])], 1), r('el-form', { ref: 'form', attrs: { model: e.article, 'label-width': '80px', rules: e.rules } }, [r('el-form-item', { attrs: { label: '标题', prop: 'title' } }, [r('el-input', { model: { value: e.article.title, callback: function (t) { e.$set(e.article, 'title', typeof t === 'string' ? t.trim() : t) }, expression: 'article.title' } })], 1), r('el-form-item', { attrs: { label: '内容', prop: 'content' } }, [r('quill-editor', { attrs: { option: e.editorOption }, model: { value: e.article.content, callback: function (t) { e.$set(e.article, 'content', t) }, expression: 'article.content' } })], 1), r('el-form-item', { attrs: { label: '封面' } }, [r('el-radio-group', { model: { value: e.article.cover.type, callback: function (t) { e.$set(e.article.cover, 'type', t) }, expression: 'article.cover.type' } }, [r('el-radio', { attrs: { label: '单图' } }), r('el-radio', { attrs: { label: '三图' } }), r('el-radio', { attrs: { label: '无图' } }), r('el-radio', { attrs: { label: '自动' } })], 1)], 1), r('my-channels', { model: { value: e.article.channel_id, callback: function (t) { e.$set(e.article, 'channel_id', t) }, expression: 'article.channel_id' } }), r('el-form-item', [r('el-button', { attrs: { type: 'primary' }, on: { click: function (t) { return e.hAddArticle(!1) } } }, [e._v('发表')]), r('el-button', { on: { click: function (t) { return e.hAddArticle(!0) } } }, [e._v('存入草稿')])], 1)], 1)], 1)], 1) }; var n = []; var i = (r('96cf'), r('1da1')); var c = r('2423'); var l = r('9be1'); var s = r('663f'); var o = (r('a753'), r('8096'), r('14e1'), r('953d')); var u = { name: 'addArticle', props: {}, data: function () { return { rules: { title: [{ required: !0, message: '请输入文章标题', trigger: 'blur' }, { min: 5, max: 30, message: '长度在5到30之间', trigger: 'blur' }], content: [{ required: !0, message: '请输入文章内容', trigger: 'blur' }, { min: 20, max: 3e4, message: '最少20个字', trigger: 'blur' }], channel_id: [{ required: !0, message: '请选择文章频道', trigger: 'blur' }] }, editorOption: { placeholder: '', modules: { toolbar: [['bold', 'italic'], ['blockquote', 'code-block'], [{ header: 1 }, { header: 2 }], [{ list: 'ordered' }, { list: 'bullet' }], [{ indent: '-1' }, { indent: '+1' }], ['image']] } }, channels: [], article: { title: '这里好文章，不读就错过了', content: '今天不读书，明天就', cover: { type: 0, images: '' }, channel_id: '' } } }, components: { quillEditor: o.quillEditor, MyBreadcrumb: s.a, MyChannels: l.a }, computed: {}, created: function () { this.loadArticle(this.$router.params.id), this.loadChannels() }, mounted: function () {}, methods: { hAddArticle: function (e) { var t = this; return Object(i.a)(regeneratorRuntime.mark(function r () { return regeneratorRuntime.wrap(function (r) { while (1) switch (r.prev = r.next) { case 0:t.$refs.form.validate(function () { var r = Object(i.a)(regeneratorRuntime.mark(function r (a) { return regeneratorRuntime.wrap(function (r) { while (1) switch (r.prev = r.next) { case 0:if (!a) { r.next = 15; break } return r.prev = 1, r.next = 4, Object(c.a)(e, t.article); case 4:r.sent, t.$message.success('发布成功'), t.article.title = '', t.article.content = '', r.next = 13; break; case 10:r.prev = 10, r.t0 = r.catch(1), t.$message.error('发布失败'); case 13:r.next = 16; break; case 15:return r.abrupt('return', !1); case 16:case 'end':return r.stop() } }, r, null, [[1, 10]]) })); return function (e) { return r.apply(this, arguments) } }()); case 1:case 'end':return r.stop() } }, r) }))() }, loadArticle: function (e) { var t = this; return Object(i.a)(regeneratorRuntime.mark(function r () { var a; return regeneratorRuntime.wrap(function (r) { while (1) switch (r.prev = r.next) { case 0:return r.next = 2, Object(c.c)(e); case 2:a = r.sent, t.article = a.data.data; case 4:case 'end':return r.stop() } }, r) }))() }, hSaveArticle: function () { var e = this; this.$refs.form.validate(function () { var t = Object(i.a)(regeneratorRuntime.mark(function t (r) { return regeneratorRuntime.wrap(function (t) { while (1) switch (t.prev = t.next) { case 0:if (!r) { t.next = 15; break } return t.prev = 1, t.next = 4, Object(c.f)(e.article, e.article); case 4:t.sent, e.$message.success('修改成功'), t.next = 13; break; case 9:t.prev = 9, t.t0 = t.catch(1), e.$message.error('修改失败'); case 13:t.next = 16; break; case 15:return t.abrupt('return', !1); case 16:case 'end':return t.stop() } }, t, null, [[1, 9]]) })); return function (e) { return t.apply(this, arguments) } }()) } } }; var d = u; var m = (r('6219'), r('2877')); var p = Object(m.a)(d, a, n, !1, null, '57e9360c', null); t.default = p.exports }, 6219: function (e, t, r) { 'use strict'; r('a555') }, a555: function (e, t, r) {} }])
// # sourceMappingURL=chunk-1563a9e3.714e2002.js.map
