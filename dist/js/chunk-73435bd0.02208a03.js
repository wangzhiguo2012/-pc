(window.webpackJsonp = window.webpackJsonp || []).push([['chunk-73435bd0'], {
  '0079': function (t, e, n) { 'use strict'; n.d(e, 'd', function () { return p }), n.d(e, 'c', function () { return f }), n.d(e, 'b', function () { return v }), n.d(e, 'e', function () { return m }), n.d(e, 'a', function () { return b }); var i = n('3c03'); var r = n('6af1'); var a = Math.min; var o = Math.max; var s = Math.sin; var l = Math.cos; var u = 2 * Math.PI; var c = i.e(); var h = i.e(); var d = i.e(); function p (t, e, n) { if (t.length !== 0) { for (var i = t[0], r = i[0], s = i[0], l = i[1], u = i[1], c = 1; c < t.length; c++)i = t[c], r = a(r, i[0]), s = o(s, i[0]), l = a(l, i[1]), u = o(u, i[1]); e[0] = r, e[1] = l, n[0] = s, n[1] = u } } function f (t, e, n, i, r, s) { r[0] = a(t, n), r[1] = a(e, i), s[0] = o(t, n), s[1] = o(e, i) } var g = []; var y = []; function v (t, e, n, i, s, l, u, c, h, d) { var p = r.c; var f = r.a; var v = p(t, n, s, u, g); h[0] = 1 / 0, h[1] = 1 / 0, d[0] = -1 / 0, d[1] = -1 / 0; for (var m = 0; m < v; m++) { var b = f(t, n, s, u, g[m]); h[0] = a(b, h[0]), d[0] = o(b, d[0]) }v = p(e, i, l, c, y); for (m = 0; m < v; m++) { var x = f(e, i, l, c, y[m]); h[1] = a(x, h[1]), d[1] = o(x, d[1]) }h[0] = a(t, h[0]), d[0] = o(t, d[0]), h[0] = a(u, h[0]), d[0] = o(u, d[0]), h[1] = a(e, h[1]), d[1] = o(e, d[1]), h[1] = a(c, h[1]), d[1] = o(c, d[1]) } function m (t, e, n, i, s, l, u, c) { var h = r.j; var d = r.h; var p = o(a(h(t, n, s), 1), 0); var f = o(a(h(e, i, l), 1), 0); var g = d(t, n, s, p); var y = d(e, i, l, f); u[0] = a(t, s, g), u[1] = a(e, l, y), c[0] = o(t, s, g), c[1] = o(e, l, y) } function b (t, e, n, r, a, o, p, f, g) { var y = i.l; var v = i.k; var m = Math.abs(a - o); if (m % u < 1e-4 && m > 1e-4) return f[0] = t - n, f[1] = e - r, g[0] = t + n, void (g[1] = e + r); if (c[0] = l(a) * n + t, c[1] = s(a) * r + e, h[0] = l(o) * n + t, h[1] = s(o) * r + e, y(f, c, h), v(g, c, h), a %= u, a < 0 && (a += u), o %= u, o < 0 && (o += u), a > o && !p ? o += u : a < o && p && (a += u), p) { var b = o; o = a, a = b } for (var x = 0; x < o; x += Math.PI / 2)x > a && (d[0] = l(x) * n + t, d[1] = s(x) * r + e, y(f, d, f), v(g, d, g)) } },
  '009c': function (t, e, n) { 'use strict'; n.d(e, 'c', function () { return x }), n.d(e, 'b', function () { return B }), n.d(e, 'a', function () { return V }); var i = n('1ded'); var r = n('6dc4'); var a = n('5ea5'); var o = n('335a'); var s = n('18d3'); var l = n('2d84'); var u = n('cf57'); var c = n('949c'); var h = n('3fb5'); var d = n('cc6e'); var p = n('a91b'); var f = n('8a3b'); var g = new r.a(!0); function y (t) { var e = t.stroke; return !(e == null || e === 'none' || !(t.lineWidth > 0)) } function v (t) { var e = t.fill; return e != null && e !== 'none' } function m (t, e) { if (e.fillOpacity != null && e.fillOpacity !== 1) { var n = t.globalAlpha; t.globalAlpha = e.fillOpacity * e.opacity, t.fill(), t.globalAlpha = n } else t.fill() } function b (t, e) { if (e.strokeOpacity != null && e.strokeOpacity !== 1) { var n = t.globalAlpha; t.globalAlpha = e.strokeOpacity * e.opacity, t.stroke(), t.globalAlpha = n } else t.stroke() } function x (t, e, n) { var i = Object(a.a)(e.image, e.__image, n); if (Object(a.c)(i)) { var r = t.createPattern(i, e.repeat || 'repeat'); if (typeof DOMMatrix === 'function') { var o = new DOMMatrix(); o.rotateSelf(0, 0, (e.rotation || 0) / Math.PI * 180), o.scaleSelf(e.scaleX || 1, e.scaleY || 1), o.translateSelf(e.x || 0, e.y || 0), r.setTransform(o) } return r } } function _ (t, e, n, i) { var r = y(n); var a = v(n); var l = n.strokePercent; var u = l < 1; var c = !e.path; e.silent && !u || !c || e.createPathProxy(); var h = e.path || g; if (!i) { var f = n.fill; var _ = n.stroke; var w = a && !!f.colorStops; var O = r && !!_.colorStops; var S = a && !!f.image; var M = r && !!_.image; var I = void 0; var T = void 0; var j = void 0; var A = void 0; var C = void 0; (w || O) && (C = e.getBoundingRect()), w && (I = e.__dirty ? Object(o.a)(t, f, C) : e.__canvasFillGradient, e.__canvasFillGradient = I), O && (T = e.__dirty ? Object(o.a)(t, _, C) : e.__canvasStrokeGradient, e.__canvasStrokeGradient = T), S && (j = e.__dirty || !e.__canvasFillPattern ? x(t, f, e) : e.__canvasFillPattern, e.__canvasFillPattern = j), M && (A = e.__dirty || !e.__canvasStrokePattern ? x(t, _, e) : e.__canvasStrokePattern, e.__canvasStrokePattern = j), w ? t.fillStyle = I : S && (j ? t.fillStyle = j : a = !1), O ? t.strokeStyle = T : M && (A ? t.strokeStyle = A : r = !1) } var D = n.lineDash && n.lineWidth > 0 && Object(p.a)(n.lineDash, n.lineWidth); var k = n.lineDashOffset; var L = !!t.setLineDash; var P = e.getGlobalScale(); if (h.setScale(P[0], P[1], e.segmentIgnoreThreshold), D) { var R = n.strokeNoScale && e.getLineScale ? e.getLineScale() : 1; R && R !== 1 && (D = Object(d.map)(D, function (t) { return t / R }), k /= R) } var N = !0; (c || e.__dirty & s.b.SHAPE_CHANGED_BIT || D && !L && r) && (h.setDPR(t.dpr), u ? h.setContext(null) : (h.setContext(t), N = !1), h.reset(), D && !L && (h.setLineDash(D), h.setLineDashOffset(k)), e.buildPath(h, e.shape, i), h.toStatic(), e.pathUpdated()), N && h.rebuildPath(t, u ? l : 1), D && L && (t.setLineDash(D), t.lineDashOffset = k), i || (n.strokeFirst ? (r && b(t, n), a && m(t, n)) : (a && m(t, n), r && b(t, n))), D && L && t.setLineDash([]) } function w (t, e, n) { var i = e.__image = Object(a.a)(n.image, e.__image, e, e.onload); if (i && Object(a.c)(i)) { var r = n.x || 0; var o = n.y || 0; var s = e.getWidth(); var l = e.getHeight(); var u = i.width / i.height; if (s == null && l != null ? s = l * u : l == null && s != null ? l = s / u : s == null && l == null && (s = i.width, l = i.height), n.sWidth && n.sHeight) { var c = n.sx || 0; var h = n.sy || 0; t.drawImage(i, c, h, n.sWidth, n.sHeight, r, o, s, l) } else if (n.sx && n.sy) { c = n.sx, h = n.sy; var d = s - c; var p = l - h; t.drawImage(i, c, h, d, p, r, o, s, l) } else t.drawImage(i, r, o, s, l) } } function O (t, e, n) { var i = n.text; if (i != null && (i += ''), i) { t.font = n.font || c.a, t.textAlign = n.textAlign, t.textBaseline = n.textBaseline; var r = void 0; if (t.setLineDash) { var a = n.lineDash && n.lineWidth > 0 && Object(p.a)(n.lineDash, n.lineWidth); var o = n.lineDashOffset; if (a) { var s = n.strokeNoScale && e.getLineScale ? e.getLineScale() : 1; s && s !== 1 && (a = Object(d.map)(a, function (t) { return t / s }), o /= s), t.setLineDash(a), t.lineDashOffset = o, r = !0 } }n.strokeFirst ? (y(n) && t.strokeText(i, n.x, n.y), v(n) && t.fillText(i, n.x, n.y)) : (v(n) && t.fillText(i, n.x, n.y), y(n) && t.strokeText(i, n.x, n.y)), r && t.setLineDash([]) } } var S = ['shadowBlur', 'shadowOffsetX', 'shadowOffsetY']; var M = [['lineCap', 'butt'], ['lineJoin', 'miter'], ['miterLimit', 10]]; function I (t, e, n, r, a) { var o = !1; if (!r && (n = n || {}, e === n)) return !1; (r || e.opacity !== n.opacity) && (o || (E(t, a), o = !0), t.globalAlpha = e.opacity == null ? i.b.opacity : e.opacity), (r || e.blend !== n.blend) && (o || (E(t, a), o = !0), t.globalCompositeOperation = e.blend || i.b.blend); for (var s = 0; s < S.length; s++) { var l = S[s]; (r || e[l] !== n[l]) && (o || (E(t, a), o = !0), t[l] = t.dpr * (e[l] || 0)) } return (r || e.shadowColor !== n.shadowColor) && (o || (E(t, a), o = !0), t.shadowColor = e.shadowColor || i.b.shadowColor), o } function T (t, e, n, i, r) { var a = z(e, r.inHover); var o = i ? null : n && z(n, r.inHover) || {}; if (a === o) return !1; var s = I(t, a, o, i, r); if ((i || a.fill !== o.fill) && (s || (E(t, r), s = !0), t.fillStyle = a.fill), (i || a.stroke !== o.stroke) && (s || (E(t, r), s = !0), t.strokeStyle = a.stroke), (i || a.opacity !== o.opacity) && (s || (E(t, r), s = !0), t.globalAlpha = a.opacity == null ? 1 : a.opacity), e.hasStroke()) { var l = a.lineWidth; var u = l / (a.strokeNoScale && e && e.getLineScale ? e.getLineScale() : 1); t.lineWidth !== u && (s || (E(t, r), s = !0), t.lineWidth = u) } for (var c = 0; c < M.length; c++) { var h = M[c]; var d = h[0]; (i || a[d] !== o[d]) && (s || (E(t, r), s = !0), t[d] = a[d] || h[1]) } return s } function j (t, e, n, i, r) { return I(t, z(e, r.inHover), n && z(n, r.inHover), i, r) } function A (t, e) { var n = e.transform; var i = t.dpr || 1; n ? t.setTransform(i * n[0], i * n[1], i * n[2], i * n[3], i * n[4], i * n[5]) : t.setTransform(i, 0, 0, i, 0, 0) } function C (t, e, n) { for (var i = !1, r = 0; r < t.length; r++) { var a = t[r]; i = i || a.isZeroArea(), A(e, a), e.beginPath(), a.buildPath(e, a.shape), e.clip() }n.allClipped = i } function D (t, e) { return t && e ? t[0] !== e[0] || t[1] !== e[1] || t[2] !== e[2] || t[3] !== e[3] || t[4] !== e[4] || t[5] !== e[5] : !(!t && !e) } var k = 1; var L = 2; var P = 3; var R = 4; function N (t) { var e = v(t); var n = y(t); return !(t.lineDash || !(+e ^ +n) || e && typeof t.fill !== 'string' || n && typeof t.stroke !== 'string' || t.strokePercent < 1 || t.strokeOpacity < 1 || t.fillOpacity < 1) } function E (t, e) { e.batchFill && t.fill(), e.batchStroke && t.stroke(), e.batchFill = '', e.batchStroke = '' } function z (t, e) { return e && t.__hoverStyle || t.style } function B (t, e) { V(t, e, { inHover: !1, viewWidth: 0, viewHeight: 0 }, !0) } function V (t, e, n, i) { var r = e.transform; if (!e.shouldBePainted(n.viewWidth, n.viewHeight, !1, !1)) return e.__dirty &= ~f.a.REDARAW_BIT, void (e.__isRendered = !1); var a = e.__clipPaths; var c = n.prevElClipPaths; var d = !1; var p = !1; if (c && !Object(o.b)(a, c) || (c && c.length && (E(t, n), t.restore(), p = d = !0, n.prevElClipPaths = null, n.allClipped = !1, n.prevEl = null), a && a.length && (E(t, n), t.save(), C(a, t, n), d = !0), n.prevElClipPaths = a), n.allClipped)e.__isRendered = !1; else { e.beforeBrush && e.beforeBrush(), e.innerBeforeBrush(); var g = n.prevEl; g || (p = d = !0); var y = e instanceof s.b && e.autoBatch && N(e.style); d || D(r, g.transform) ? (E(t, n), A(t, e)) : y || E(t, n); var v = z(e, n.inHover); e instanceof s.b ? (n.lastDrawType !== k && (p = !0, n.lastDrawType = k), T(t, e, g, p, n), y && (n.batchFill || n.batchStroke) || t.beginPath(), _(t, e, v, y), y && (n.batchFill = v.fill || '', n.batchStroke = v.stroke || '')) : e instanceof u.a ? (n.lastDrawType !== P && (p = !0, n.lastDrawType = P), T(t, e, g, p, n), O(t, e, v)) : e instanceof l.a ? (n.lastDrawType !== L && (p = !0, n.lastDrawType = L), j(t, e, g, p, n), w(t, e, v)) : e instanceof h.b && (n.lastDrawType !== R && (p = !0, n.lastDrawType = R), F(t, e, n)), y && i && E(t, n), e.innerAfterBrush(), e.afterBrush && e.afterBrush(), n.prevEl = e, e.__dirty = 0, e.__isRendered = !0 } } function F (t, e, n) { var i = e.getDisplayables(); var r = e.getTemporalDisplayables(); t.save(); var a; var o; var s = { prevElClipPaths: null, prevEl: null, allClipped: !1, viewWidth: n.viewWidth, viewHeight: n.viewHeight, inHover: n.inHover }; for (a = e.getCursor(), o = i.length; a < o; a++) { var l = i[a]; l.beforeBrush && l.beforeBrush(), l.innerBeforeBrush(), V(t, l, s, a === o - 1), l.innerAfterBrush(), l.afterBrush && l.afterBrush(), s.prevEl = l } for (var u = 0, c = r.length; u < c; u++) { l = r[u]; l.beforeBrush && l.beforeBrush(), l.innerBeforeBrush(), V(t, l, s, u === c - 1), l.innerAfterBrush(), l.afterBrush && l.afterBrush(), s.prevEl = l }e.clearTemporalDisplayables(), e.notClear = !0, t.restore() } },
  '0236': function (t, e, n) { 'use strict'; var i = n('21a1'); var r = n('0e4a'); var a = (function (t) { function e (e, n, i, r, a, o) { var s = t.call(this, a) || this; return s.x = e == null ? 0 : e, s.y = n == null ? 0 : n, s.x2 = i == null ? 1 : i, s.y2 = r == null ? 0 : r, s.type = 'linear', s.global = o || !1, s } return Object(i.a)(e, t), e }(r.a)); e.a = a },
  '034a': function (t, e, n) { 'use strict'; var i = n('21a1'); var r = n('0e4a'); var a = (function (t) { function e (e, n, i, r, a) { var o = t.call(this, r) || this; return o.x = e == null ? 0.5 : e, o.y = n == null ? 0.5 : n, o.r = i == null ? 0.5 : i, o.type = 'radial', o.global = a || !1, o } return Object(i.a)(e, t), e }(r.a)); e.a = a },
  '03d4': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return r }); var i = n('41bb'); function r (t, e) { t.eachRawSeries(function (n) { if (!t.isSeriesFiltered(n)) { var r = n.getData(); r.hasItemVisual() && r.each(function (t) { var n = r.getItemVisual(t, 'decal'); if (n) { var a = r.ensureUniqueItemVisual(t, 'style'); a.decal = Object(i.a)(n, e) } }); var a = r.getVisual('decal'); if (a) { var o = r.getVisual('style'); o.decal = Object(i.a)(a, e) } } }) } },
  '0d4d': function (t, e, n) { 'use strict'; var i = (function () { function t () { this.firefox = !1, this.ie = !1, this.edge = !1, this.weChat = !1 } return t }()); var r = (function () { function t () { this.browser = new i(), this.node = !1, this.wxa = !1, this.worker = !1, this.canvasSupported = !1, this.svgSupported = !1, this.touchEventsSupported = !1, this.pointerEventsSupported = !1, this.domSupported = !1 } return t }()); var a = new r(); function o (t, e) { var n = e.browser; var i = t.match(/Firefox\/([\d.]+)/); var r = t.match(/MSIE\s([\d.]+)/) || t.match(/Trident\/.+?rv:(([\d.]+))/); var a = t.match(/Edge\/([\d.]+)/); var o = /micromessenger/i.test(t); i && (n.firefox = !0, n.version = i[1]), r && (n.ie = !0, n.version = r[1]), a && (n.edge = !0, n.version = a[1]), o && (n.weChat = !0), e.canvasSupported = !!document.createElement('canvas').getContext, e.svgSupported = typeof SVGRect !== 'undefined', e.touchEventsSupported = 'ontouchstart' in window && !n.ie && !n.edge, e.pointerEventsSupported = 'onpointerdown' in window && (n.edge || n.ie && +n.version >= 11), e.domSupported = typeof document !== 'undefined' } typeof wx === 'object' && typeof wx.getSystemInfoSync === 'function' ? (a.wxa = !0, a.canvasSupported = !0, a.touchEventsSupported = !0) : typeof document === 'undefined' && typeof self !== 'undefined' ? (a.worker = !0, a.canvasSupported = !0) : typeof navigator === 'undefined' ? (a.node = !0, a.canvasSupported = !0, a.svgSupported = !0) : o(navigator.userAgent, a), e.a = a },
  '0e4a': function (t, e, n) { 'use strict'; var i = (function () { function t (t) { this.colorStops = t || [] } return t.prototype.addColorStop = function (t, e) { this.colorStops.push({ offset: t, color: e }) }, t }()); e.a = i },
  '0ee3': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return r }); var i = n('65a1'); function r () { var t = Object(i.o)(); return function (e) { var n = t(e); var i = e.pipelineContext; var r = !!n.large; var a = !!n.progressiveRender; var o = n.large = !(!i || !i.large); var s = n.progressiveRender = !(!i || !i.progressiveRender); return !(r === o && a === s) && 'reset' } } },
  '0f23': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return d }), n.d(e, 'c', function () { return g }), n.d(e, 'b', function () { return m }), n.d(e, 'd', function () { return _ }), n.d(e, 'e', function () { return O }); var i; var r; var a; var o; var s; var l = n('cc6e'); var u = n('65a1'); var c = n('6e8c'); var h = n('2b74'); var d = (function () { function t (t, e) { var n = Object(c.d)(t) ? t : Object(c.c)(t); this._source = n; var i = this._data = n.data; n.sourceFormat === h.g && (this._offset = 0, this._dimSize = e, this._data = i), s(this, i, n) } return t.prototype.getSource = function () { return this._source }, t.prototype.count = function () { return 0 }, t.prototype.getItem = function (t, e) {}, t.prototype.appendData = function (t) {}, t.prototype.clean = function () {}, t.protoInitialize = (function () { var e = t.prototype; e.pure = !1, e.persistent = !0 }()), t.internalField = (function () { var t; s = function (t, r, a) { var s = a.sourceFormat; var u = a.seriesLayoutBy; var c = a.startIndex; var d = a.dimensionsDefine; var p = o[w(s, u)]; if (Object(l.extend)(t, p), s === h.g)t.getItem = e, t.count = i, t.fillStorage = n; else { var f = g(s, u); t.getItem = Object(l.bind)(f, null, r, c, d); var y = m(s, u); t.count = Object(l.bind)(y, null, r, c, d) } }; var e = function (t, e) { t -= this._offset, e = e || []; for (var n = this._data, i = this._dimSize, r = i * t, a = 0; a < i; a++)e[a] = n[r + a]; return e }; var n = function (t, e, n, i) { for (var r = this._data, a = this._dimSize, o = 0; o < a; o++) { for (var s = i[o], l = s[0] == null ? 1 / 0 : s[0], u = s[1] == null ? -1 / 0 : s[1], c = e - t, h = n[o], d = 0; d < c; d++) { var p = r[(t + d) * a + o]; h[t + d] = p, p < l && (l = p), p > u && (u = p) }s[0] = l, s[1] = u } }; var i = function () { return this._data ? this._data.length / this._dimSize : 0 }; function r (t) { for (var e = 0; e < t.length; e++) this._data.push(t[e]) }t = {}, t[h.c + '_' + h.a] = { pure: !0, appendData: r }, t[h.c + '_' + h.b] = { pure: !0, appendData: function () { throw new Error('Do not support appendData when set seriesLayoutBy: "row".') } }, t[h.e] = { pure: !0, appendData: r }, t[h.d] = { pure: !0, appendData: function (t) { var e = this._data; Object(l.each)(t, function (t, n) { for (var i = e[n] || (e[n] = []), r = 0; r < (t || []).length; r++)i.push(t[r]) }) } }, t[h.f] = { appendData: r }, t[h.g] = { persistent: !1, pure: !0, appendData: function (t) { this._data = t }, clean: function () { this._offset += this.count(), this._data = null } }, o = t }()), t }()); var p = function (t, e, n, i) { return t[i] }; var f = (i = {}, i[h.c + '_' + h.a] = function (t, e, n, i) { return t[i + e] }, i[h.c + '_' + h.b] = function (t, e, n, i) { i += e; for (var r = [], a = t, o = 0; o < a.length; o++) { var s = a[o]; r.push(s ? s[i] : null) } return r }, i[h.e] = p, i[h.d] = function (t, e, n, i) { for (var r = [], a = 0; a < n.length; a++) { var o = n[a].name; 0; var s = t[o]; r.push(s ? s[i] : null) } return r }, i[h.f] = p, i); function g (t, e) { var n = f[w(t, e)]; return n } var y = function (t, e, n) { return t.length }; var v = (r = {}, r[h.c + '_' + h.a] = function (t, e, n) { return Math.max(0, t.length - e) }, r[h.c + '_' + h.b] = function (t, e, n) { var i = t[0]; return i ? Math.max(0, i.length - e) : 0 }, r[h.e] = y, r[h.d] = function (t, e, n) { var i = n[0].name; var r = t[i]; return r ? r.length : 0 }, r[h.f] = y, r); function m (t, e) { var n = v[w(t, e)]; return n } var b = function (t, e, n) { return e != null ? t[e] : t }; var x = (a = {}, a[h.c] = b, a[h.e] = function (t, e, n) { return e != null ? t[n] : t }, a[h.d] = b, a[h.f] = function (t, e, n) { var i = Object(u.h)(t); return e != null && i instanceof Array ? i[e] : i }, a[h.g] = b, a); function _ (t) { var e = x[t]; return e } function w (t, e) { return t === h.c ? t + '_' + e : t } function O (t, e, n) { if (t) { var i = t.getRawDataItem(e); if (i != null) { var r; var a; var o = t.getProvider().getSource().sourceFormat; var s = t.getDimensionInfo(n); return s && (r = s.name, a = s.index), _(o)(i, a, r) } } } },
  1012: function (t, e, n) { 'use strict'; n.d(e, 'c', function () { return o }), n.d(e, 'b', function () { return s }), n.d(e, 'a', function () { return l }); var i = '\0__throttleOriginMethod'; var r = '\0__throttleRate'; var a = '\0__throttleType'; function o (t, e, n) { var i; var r; var a; var o; var s; var l = 0; var u = 0; var c = null; function h () { u = (new Date()).getTime(), c = null, t.apply(a, o || []) }e = e || 0; var d = function () { for (var t = [], d = 0; d < arguments.length; d++)t[d] = arguments[d]; i = (new Date()).getTime(), a = this, o = t; var p = s || e; var f = s || n; s = null, r = i - (f ? l : u) - p, clearTimeout(c), f ? c = setTimeout(h, p) : r >= 0 ? h() : c = setTimeout(h, -r), l = i }; return d.clear = function () { c && (clearTimeout(c), c = null) }, d.debounceNextCall = function (t) { s = t }, d } function s (t, e, n, s) { var l = t[e]; if (l) { var u = l[i] || l; var c = l[a]; var h = l[r]; if (h !== n || c !== s) { if (n == null || !s) return t[e] = u; l = t[e] = o(u, n, s === 'debounce'), l[i] = u, l[a] = s, l[r] = n } return l } } function l (t, e) { var n = t[e]; n && n[i] && (t[e] = n[i]) } },
  1041: function (t, e, n) { 'use strict'; function i (t, e, n) { switch (n) { case 'color':var i = t.getItemVisual(e, 'style'); return i[t.getVisual('drawType')]; case 'opacity':return t.getItemVisual(e, 'style').opacity; case 'symbol':case 'symbolSize':case 'liftZ':return t.getItemVisual(e, n); default:0 } } function r (t, e) { switch (e) { case 'color':var n = t.getVisual('style'); return n[t.getVisual('drawType')]; case 'opacity':return t.getVisual('style').opacity; case 'symbol':case 'symbolSize':case 'liftZ':return t.getVisual(e); default:0 } } function a (t, e, n, i) { switch (n) { case 'color':var r = t.ensureUniqueItemVisual(e, 'style'); r[t.getVisual('drawType')] = i, t.setItemVisual(e, 'colorFromPalette', !1); break; case 'opacity':t.ensureUniqueItemVisual(e, 'style').opacity = i; break; case 'symbol':case 'symbolSize':case 'liftZ':t.setItemVisual(e, n, i); break; default:0 } }n.d(e, 'a', function () { return i }), n.d(e, 'b', function () { return r }), n.d(e, 'c', function () { return a }) },
  '10e1': function (t, e, n) { 'use strict'; var i = n('953f'); var r = n('e22c'); var a = Math.min; var o = Math.max; var s = new r.a(); var l = new r.a(); var u = new r.a(); var c = new r.a(); var h = new r.a(); var d = new r.a(); var p = (function () { function t (t, e, n, i) { n < 0 && isFinite(n) && (t += n, n = -n), i < 0 && isFinite(i) && (e += i, i = -i), this.x = t, this.y = e, this.width = n, this.height = i } return t.prototype.union = function (t) { var e = a(t.x, this.x); var n = a(t.y, this.y); isFinite(this.x) && isFinite(this.width) ? this.width = o(t.x + t.width, this.x + this.width) - e : this.width = t.width, isFinite(this.y) && isFinite(this.height) ? this.height = o(t.y + t.height, this.y + this.height) - n : this.height = t.height, this.x = e, this.y = n }, t.prototype.applyTransform = function (e) { t.applyTransform(this, this, e) }, t.prototype.calculateTransform = function (t) { var e = this; var n = t.width / e.width; var r = t.height / e.height; var a = i.c(); return i.i(a, a, [-e.x, -e.y]), i.h(a, a, [n, r]), i.i(a, a, [t.x, t.y]), a }, t.prototype.intersect = function (e, n) { if (!e) return !1; e instanceof t || (e = t.create(e)); var i = this; var a = i.x; var o = i.x + i.width; var s = i.y; var l = i.y + i.height; var u = e.x; var c = e.x + e.width; var p = e.y; var f = e.y + e.height; var g = !(o < u || c < a || l < p || f < s); if (n) { var y = 1 / 0; var v = 0; var m = Math.abs(o - u); var b = Math.abs(c - a); var x = Math.abs(l - p); var _ = Math.abs(f - s); var w = Math.min(m, b); var O = Math.min(x, _); o < u || c < a ? w > v && (v = w, m < b ? r.a.set(d, -m, 0) : r.a.set(d, b, 0)) : w < y && (y = w, m < b ? r.a.set(h, m, 0) : r.a.set(h, -b, 0)), l < p || f < s ? O > v && (v = O, x < _ ? r.a.set(d, 0, -x) : r.a.set(d, 0, _)) : w < y && (y = w, x < _ ? r.a.set(h, 0, x) : r.a.set(h, 0, -_)) } return n && r.a.copy(n, g ? h : d), g }, t.prototype.contain = function (t, e) { var n = this; return t >= n.x && t <= n.x + n.width && e >= n.y && e <= n.y + n.height }, t.prototype.clone = function () { return new t(this.x, this.y, this.width, this.height) }, t.prototype.copy = function (e) { t.copy(this, e) }, t.prototype.plain = function () { return { x: this.x, y: this.y, width: this.width, height: this.height } }, t.prototype.isFinite = function () { return isFinite(this.x) && isFinite(this.y) && isFinite(this.width) && isFinite(this.height) }, t.prototype.isZero = function () { return this.width === 0 || this.height === 0 }, t.create = function (e) { return new t(e.x, e.y, e.width, e.height) }, t.copy = function (t, e) { t.x = e.x, t.y = e.y, t.width = e.width, t.height = e.height }, t.applyTransform = function (e, n, i) { if (i) { if (i[1] < 1e-5 && i[1] > -1e-5 && i[2] < 1e-5 && i[2] > -1e-5) { var r = i[0]; var h = i[3]; var d = i[4]; var p = i[5]; return e.x = n.x * r + d, e.y = n.y * h + p, e.width = n.width * r, e.height = n.height * h, e.width < 0 && (e.x += e.width, e.width = -e.width), void (e.height < 0 && (e.y += e.height, e.height = -e.height)) }s.x = u.x = n.x, s.y = c.y = n.y, l.x = c.x = n.x + n.width, l.y = u.y = n.y + n.height, s.transform(i), c.transform(i), l.transform(i), u.transform(i), e.x = a(s.x, l.x, u.x, c.x), e.y = a(s.y, l.y, u.y, c.y); var f = o(s.x, l.x, u.x, c.x); var g = o(s.y, l.y, u.y, c.y); e.width = f - e.x, e.height = g - e.y } else e !== n && t.copy(e, n) }, t }()); e.a = p },
  '140d': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return p }), n.d(e, 'b', function () { return g }), n.d(e, 'd', function () { return y }), n.d(e, 'c', function () { return v }); var i = n('f199'); var r = n('0d4d'); var a = { time: { month: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'], monthAbbr: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'], dayOfWeek: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'], dayOfWeekAbbr: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'] }, legend: { selector: { all: 'All', inverse: 'Inv' } }, toolbox: { brush: { title: { rect: 'Box Select', polygon: 'Lasso Select', lineX: 'Horizontally Select', lineY: 'Vertically Select', keep: 'Keep Selections', clear: 'Clear Selections' } }, dataView: { title: 'Data View', lang: ['Data View', 'Close', 'Refresh'] }, dataZoom: { title: { zoom: 'Zoom', back: 'Zoom Reset' } }, magicType: { title: { line: 'Switch to Line Chart', bar: 'Switch to Bar Chart', stack: 'Stack', tiled: 'Tile' } }, restore: { title: 'Restore' }, saveAsImage: { title: 'Save as Image', lang: ['Right Click to Save Image'] } }, series: { typeNames: { pie: 'Pie chart', bar: 'Bar chart', line: 'Line chart', scatter: 'Scatter plot', effectScatter: 'Ripple scatter plot', radar: 'Radar chart', tree: 'Tree', treemap: 'Treemap', boxplot: 'Boxplot', candlestick: 'Candlestick', k: 'K line chart', heatmap: 'Heat map', map: 'Map', parallel: 'Parallel coordinate map', lines: 'Line graph', graph: 'Relationship graph', sankey: 'Sankey diagram', funnel: 'Funnel chart', gauge: 'Guage', pictorialBar: 'Pictorial bar', themeRiver: 'Theme River Map', sunburst: 'Sunburst' } }, aria: { general: { withTitle: 'This is a chart about "{title}"', withoutTitle: 'This is a chart' }, series: { single: { prefix: '', withName: ' with type {seriesType} named {seriesName}.', withoutName: ' with type {seriesType}.' }, multiple: { prefix: '. It consists of {seriesCount} series count.', withName: ' The {seriesId} series is a {seriesType} representing {seriesName}.', withoutName: ' The {seriesId} series is a {seriesType}.', separator: { middle: '', end: '' } } }, data: { allData: 'The data is as follows: ', partialData: 'The first {displayCnt} items are: ', withName: 'the data for {name} is {value}', withoutName: '{value}', separator: { middle: ', ', end: '. ' } } } }; var o = { time: { month: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'], monthAbbr: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'], dayOfWeek: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'], dayOfWeekAbbr: ['日', '一', '二', '三', '四', '五', '六'] }, legend: { selector: { all: '全选', inverse: '反选' } }, toolbox: { brush: { title: { rect: '矩形选择', polygon: '圈选', lineX: '横向选择', lineY: '纵向选择', keep: '保持选择', clear: '清除选择' } }, dataView: { title: '数据视图', lang: ['数据视图', '关闭', '刷新'] }, dataZoom: { title: { zoom: '区域缩放', back: '区域缩放还原' } }, magicType: { title: { line: '切换为折线图', bar: '切换为柱状图', stack: '切换为堆叠', tiled: '切换为平铺' } }, restore: { title: '还原' }, saveAsImage: { title: '保存为图片', lang: ['右键另存为图片'] } }, series: { typeNames: { pie: '饼图', bar: '柱状图', line: '折线图', scatter: '散点图', effectScatter: '涟漪散点图', radar: '雷达图', tree: '树图', treemap: '矩形树图', boxplot: '箱型图', candlestick: 'K线图', k: 'K线图', heatmap: '热力图', map: '地图', parallel: '平行坐标图', lines: '线图', graph: '关系图', sankey: '桑基图', funnel: '漏斗图', gauge: '仪表盘图', pictorialBar: '象形柱图', themeRiver: '主题河流图', sunburst: '旭日图' } }, aria: { general: { withTitle: '这是一个关于“{title}”的图表。', withoutTitle: '这是一个图表，' }, series: { single: { prefix: '', withName: '图表类型是{seriesType}，表示{seriesName}。', withoutName: '图表类型是{seriesType}。' }, multiple: { prefix: '它由{seriesCount}个图表系列组成。', withName: '第{seriesId}个系列是一个表示{seriesName}的{seriesType}，', withoutName: '第{seriesId}个系列是一个{seriesType}，', separator: { middle: '；', end: '。' } } }, data: { allData: '其数据是——', partialData: '其中，前{displayCnt}项是——', withName: '{name}的数据是{value}', withoutName: '{value}', separator: { middle: '，', end: '' } } } }; var s = n('cc6e'); var l = 'ZH'; var u = 'EN'; var c = u; var h = {}; var d = {}; var p = r.a.domSupported ? (function () { var t = (document.documentElement.lang || navigator.language || navigator.browserLanguage).toUpperCase(); return t.indexOf(l) > -1 ? l : c }()) : c; function f (t, e) { t = t.toUpperCase(), d[t] = new i.a(e), h[t] = e } function g (t) { if (Object(s.isString)(t)) { var e = h[t.toUpperCase()] || {}; return t === l || t === u ? Object(s.clone)(e) : Object(s.merge)(Object(s.clone)(e), Object(s.clone)(h[c]), !1) } return Object(s.merge)(Object(s.clone)(t), Object(s.clone)(h[c]), !1) } function y (t) { return d[t] } function v () { return d[c] }f(u, a), f(l, o) },
  '14c3': function (t, e, n) { var i = n('c6b6'); var r = n('9263'); t.exports = function (t, e) { var n = t.exec; if (typeof n === 'function') { var a = n.call(t, e); if (typeof a !== 'object') throw TypeError('RegExp exec method returned something other than an Object or null'); return a } if (i(t) !== 'RegExp') throw TypeError('RegExp#exec called on incompatible receiver'); return r.call(t, e) } },
  '18d3': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return D }); var i = n('21a1'); var r = n('1ded'); var a = n('8a3b'); var o = n('6dc4'); var s = n('93e2'); var l = n('6af1'); function u (t, e, n, i, r, a, o, s, u, c, h) { if (u === 0) return !1; var d = u; if (h > e + d && h > i + d && h > a + d && h > s + d || h < e - d && h < i - d && h < a - d && h < s - d || c > t + d && c > n + d && c > r + d && c > o + d || c < t - d && c < n - d && c < r - d && c < o - d) return !1; var p = l.e(t, e, n, i, r, a, o, s, c, h, null); return p <= d / 2 } var c = n('b56e'); var h = n('daee'); var d = 2 * Math.PI; function p (t, e, n, i, r, a, o, s, l) { if (o === 0) return !1; var u = o; s -= t, l -= e; var c = Math.sqrt(s * s + l * l); if (c - u > n || c + u < n) return !1; if (Math.abs(i - r) % d < 1e-4) return !0; if (a) { var p = i; i = Object(h.a)(r), r = Object(h.a)(p) } else i = Object(h.a)(i), r = Object(h.a)(r); i > r && (r += d); var f = Math.atan2(l, s); return f < 0 && (f += d), f >= i && f <= r || f + d >= i && f + d <= r } var f = n('27b5'); var g = o.a.CMD; var y = 2 * Math.PI; var v = 1e-4; function m (t, e) { return Math.abs(t - e) < v } var b = [-1, -1, -1]; var x = [-1, -1]; function _ () { var t = x[0]; x[0] = x[1], x[1] = t } function w (t, e, n, i, r, a, o, s, u, c) { if (c > e && c > i && c > a && c > s || c < e && c < i && c < a && c < s) return 0; var h = l.f(e, i, a, s, c, b); if (h === 0) return 0; for (var d = 0, p = -1, f = void 0, g = void 0, y = 0; y < h; y++) { var v = b[y]; var m = v === 0 || v === 1 ? 0.5 : 1; var w = l.a(t, n, r, o, v); w < u || (p < 0 && (p = l.c(e, i, a, s, x), x[1] < x[0] && p > 1 && _(), f = l.a(e, i, a, s, x[0]), p > 1 && (g = l.a(e, i, a, s, x[1]))), p === 2 ? v < x[0] ? d += f < e ? m : -m : v < x[1] ? d += g < f ? m : -m : d += s < g ? m : -m : v < x[0] ? d += f < e ? m : -m : d += s < f ? m : -m) } return d } function O (t, e, n, i, r, a, o, s) { if (s > e && s > i && s > a || s < e && s < i && s < a) return 0; var u = l.m(e, i, a, s, b); if (u === 0) return 0; var c = l.j(e, i, a); if (c >= 0 && c <= 1) { for (var h = 0, d = l.h(e, i, a, c), p = 0; p < u; p++) { var f = b[p] === 0 || b[p] === 1 ? 0.5 : 1; var g = l.h(t, n, r, b[p]); g < o || (b[p] < c ? h += d < e ? f : -f : h += a < d ? f : -f) } return h }f = b[0] === 0 || b[0] === 1 ? 0.5 : 1, g = l.h(t, n, r, b[0]); return g < o ? 0 : a < e ? f : -f } function S (t, e, n, i, r, a, o, s) { if (s -= e, s > n || s < -n) return 0; var l = Math.sqrt(n * n - s * s); b[0] = -l, b[1] = l; var u = Math.abs(i - r); if (u < 1e-4) return 0; if (u >= y - 1e-4) { i = 0, r = y; var c = a ? 1 : -1; return o >= b[0] + t && o <= b[1] + t ? c : 0 } if (i > r) { var h = i; i = r, r = h }i < 0 && (i += y, r += y); for (var d = 0, p = 0; p < 2; p++) { var f = b[p]; if (f + t > o) { var g = Math.atan2(s, f); c = a ? 1 : -1; g < 0 && (g = y + g), (g >= i && g <= r || g + y >= i && g + y <= r) && (g > Math.PI / 2 && g < 1.5 * Math.PI && (c = -c), d += c) } } return d } function M (t, e, n, i, r) { for (var a, o, l = t.data, h = t.len(), d = 0, y = 0, v = 0, b = 0, x = 0, _ = 0; _ < h;) { var M = l[_++]; var I = _ === 1; switch (M === g.M && _ > 1 && (n || (d += Object(f.a)(y, v, b, x, i, r))), I && (y = l[_], v = l[_ + 1], b = y, x = v), M) { case g.M:b = l[_++], x = l[_++], y = b, v = x; break; case g.L:if (n) { if (s.a(y, v, l[_], l[_ + 1], e, i, r)) return !0 } else d += Object(f.a)(y, v, l[_], l[_ + 1], i, r) || 0; y = l[_++], v = l[_++]; break; case g.C:if (n) { if (u(y, v, l[_++], l[_++], l[_++], l[_++], l[_], l[_ + 1], e, i, r)) return !0 } else d += w(y, v, l[_++], l[_++], l[_++], l[_++], l[_], l[_ + 1], i, r) || 0; y = l[_++], v = l[_++]; break; case g.Q:if (n) { if (c.a(y, v, l[_++], l[_++], l[_], l[_ + 1], e, i, r)) return !0 } else d += O(y, v, l[_++], l[_++], l[_], l[_ + 1], i, r) || 0; y = l[_++], v = l[_++]; break; case g.A:var T = l[_++]; var j = l[_++]; var A = l[_++]; var C = l[_++]; var D = l[_++]; var k = l[_++]; _ += 1; var L = !!(1 - l[_++]); a = Math.cos(D) * A + T, o = Math.sin(D) * C + j, I ? (b = a, x = o) : d += Object(f.a)(y, v, a, o, i, r); var P = (i - T) * C / A + T; if (n) { if (p(T, j, C, D, D + k, L, e, P, r)) return !0 } else d += S(T, j, C, D, D + k, L, P, r); y = Math.cos(D + k) * A + T, v = Math.sin(D + k) * C + j; break; case g.R:b = y = l[_++], x = v = l[_++]; var R = l[_++]; var N = l[_++]; if (a = b + R, o = x + N, n) { if (s.a(b, x, a, x, e, i, r) || s.a(a, x, a, o, e, i, r) || s.a(a, o, b, o, e, i, r) || s.a(b, o, b, x, e, i, r)) return !0 } else d += Object(f.a)(a, x, a, o, i, r), d += Object(f.a)(b, o, b, x, i, r); break; case g.Z:if (n) { if (s.a(y, v, b, x, e, i, r)) return !0 } else d += Object(f.a)(y, v, b, x, i, r); y = b, v = x; break } } return n || m(v, x) || (d += Object(f.a)(y, v, b, x, i, r) || 0), d !== 0 } function I (t, e, n) { return M(t, 0, !1, e, n) } function T (t, e, n, i) { return M(t, e, !0, n, i) } var j = n('cc6e'); var A = n('8d25'); var C = n('4d45'); var D = Object(j.defaults)({ fill: '#000', stroke: null, strokePercent: 1, fillOpacity: 1, strokeOpacity: 1, lineDashOffset: 0, lineWidth: 1, lineCap: 'butt', miterLimit: 10, strokeNoScale: !1, strokeFirst: !1 }, r.b); var k = { style: Object(j.defaults)({ fill: !0, stroke: !0, strokePercent: !0, fillOpacity: !0, strokeOpacity: !0, lineDashOffset: !0, lineWidth: !0, miterLimit: !0 }, r.a.style) }; var L = ['x', 'y', 'rotation', 'scaleX', 'scaleY', 'originX', 'originY', 'invisible', 'culling', 'z', 'z2', 'zlevel', 'parent']; var P = (function (t) { function e (e) { return t.call(this, e) || this } return Object(i.a)(e, t), e.prototype.update = function () { var n = this; t.prototype.update.call(this); var i = this.style; if (i.decal) { var r = this._decalEl = this._decalEl || new e(); r.buildPath === e.prototype.buildPath && (r.buildPath = function (t) { n.buildPath(t, n.shape) }), r.silent = !0; var o = r.style; for (var s in i)o[s] !== i[s] && (o[s] = i[s]); o.fill = i.fill ? i.decal : null, o.decal = null, o.shadowColor = null, i.strokeFirst && (o.stroke = null); for (var l = 0; l < L.length; ++l)r[L[l]] = this[L[l]]; r.__dirty |= a.a.REDARAW_BIT } else this._decalEl && (this._decalEl = null) }, e.prototype.getDecalElement = function () { return this._decalEl }, e.prototype._init = function (e) { var n = Object(j.keys)(e); this.shape = this.getDefaultShape(); var i = this.getDefaultStyle(); i && this.useStyle(i); for (var r = 0; r < n.length; r++) { var a = n[r]; var o = e[a]; a === 'style' ? this.style ? Object(j.extend)(this.style, o) : this.useStyle(o) : a === 'shape' ? Object(j.extend)(this.shape, o) : t.prototype.attrKV.call(this, a, o) } this.style || this.useStyle({}) }, e.prototype.getDefaultStyle = function () { return null }, e.prototype.getDefaultShape = function () { return {} }, e.prototype.canBeInsideText = function () { return this.hasFill() }, e.prototype.getInsideTextFill = function () { var t = this.style.fill; if (t !== 'none') { if (Object(j.isString)(t)) { var e = Object(A.c)(t, 0); return e > 0.5 ? C.a : e > 0.2 ? C.c : C.d } if (t) return C.d } return C.a }, e.prototype.getInsideTextStroke = function (t) { var e = this.style.fill; if (Object(j.isString)(e)) { var n = this.__zr; var i = !(!n || !n.isDarkMode()); var r = Object(A.c)(t, 0) < C.b; if (i === r) return e } }, e.prototype.buildPath = function (t, e, n) {}, e.prototype.pathUpdated = function () { this.__dirty &= ~e.SHAPE_CHANGED_BIT }, e.prototype.createPathProxy = function () { this.path = new o.a(!1) }, e.prototype.hasStroke = function () { var t = this.style; var e = t.stroke; return !(e == null || e === 'none' || !(t.lineWidth > 0)) }, e.prototype.hasFill = function () { var t = this.style; var e = t.fill; return e != null && e !== 'none' }, e.prototype.getBoundingRect = function () { var t = this._rect; var n = this.style; var i = !t; if (i) { var r = !1; this.path || (r = !0, this.createPathProxy()); var a = this.path; (r || this.__dirty & e.SHAPE_CHANGED_BIT) && (a.beginPath(), this.buildPath(a, this.shape, !1), this.pathUpdated()), t = a.getBoundingRect() } if (this._rect = t, this.hasStroke() && this.path && this.path.len() > 0) { var o = this._rectWithStroke || (this._rectWithStroke = t.clone()); if (this.__dirty || i) { o.copy(t); var s = n.strokeNoScale ? this.getLineScale() : 1; var l = n.lineWidth; if (!this.hasFill()) { var u = this.strokeContainThreshold; l = Math.max(l, u == null ? 4 : u) }s > 1e-10 && (o.width += l / s, o.height += l / s, o.x -= l / s / 2, o.y -= l / s / 2) } return o } return t }, e.prototype.contain = function (t, e) { var n = this.transformCoordToLocal(t, e); var i = this.getBoundingRect(); var r = this.style; if (t = n[0], e = n[1], i.contain(t, e)) { var a = this.path; if (this.hasStroke()) { var o = r.lineWidth; var s = r.strokeNoScale ? this.getLineScale() : 1; if (s > 1e-10 && (this.hasFill() || (o = Math.max(o, this.strokeContainThreshold)), T(a, o / s, t, e))) return !0 } if (this.hasFill()) return I(a, t, e) } return !1 }, e.prototype.dirtyShape = function () { this.__dirty |= e.SHAPE_CHANGED_BIT, this._rect && (this._rect = null), this._decalEl && this._decalEl.dirtyShape(), this.markRedraw() }, e.prototype.dirty = function () { this.dirtyStyle(), this.dirtyShape() }, e.prototype.animateShape = function (t) { return this.animate('shape', t) }, e.prototype.updateDuringAnimation = function (t) { t === 'style' ? this.dirtyStyle() : t === 'shape' ? this.dirtyShape() : this.markRedraw() }, e.prototype.attrKV = function (e, n) { e === 'shape' ? this.setShape(n) : t.prototype.attrKV.call(this, e, n) }, e.prototype.setShape = function (t, e) { var n = this.shape; return n || (n = this.shape = {}), typeof t === 'string' ? n[t] = e : Object(j.extend)(n, t), this.dirtyShape(), this }, e.prototype.shapeChanged = function () { return !!(this.__dirty & e.SHAPE_CHANGED_BIT) }, e.prototype.createStyle = function (t) { return Object(j.createObject)(D, t) }, e.prototype._innerSaveToNormal = function (e) { t.prototype._innerSaveToNormal.call(this, e); var n = this._normalState; e.shape && !n.shape && (n.shape = Object(j.extend)({}, this.shape)) }, e.prototype._applyStateObj = function (e, n, i, r, a, o) { t.prototype._applyStateObj.call(this, e, n, i, r, a, o); var s; var l = !(n && r); if (n && n.shape ? a ? r ? s = n.shape : (s = Object(j.extend)({}, i.shape), Object(j.extend)(s, n.shape)) : (s = Object(j.extend)({}, r ? this.shape : i.shape), Object(j.extend)(s, n.shape)) : l && (s = i.shape), s) if (a) { this.shape = Object(j.extend)({}, this.shape); for (var u = {}, c = Object(j.keys)(s), h = 0; h < c.length; h++) { var d = c[h]; typeof s[d] === 'object' ? this.shape[d] = s[d] : u[d] = s[d] } this._transitionState(e, { shape: u }, o) } else this.shape = s, this.dirtyShape() }, e.prototype._mergeStates = function (e) { for (var n, i = t.prototype._mergeStates.call(this, e), r = 0; r < e.length; r++) { var a = e[r]; a.shape && (n = n || {}, this._mergeStyle(n, a.shape)) } return n && (i.shape = n), i }, e.prototype.getAnimationStyleProps = function () { return k }, e.prototype.isZeroArea = function () { return !1 }, e.extend = function (t) { var n = (function (e) { function n (n) { var i = e.call(this, n) || this; return t.init && t.init.call(i, n), i } return Object(i.a)(n, e), n.prototype.getDefaultStyle = function () { return Object(j.clone)(t.style) }, n.prototype.getDefaultShape = function () { return Object(j.clone)(t.shape) }, n }(e)); for (var r in t) typeof t[r] === 'function' && (n.prototype[r] = t[r]); return n }, e.SHAPE_CHANGED_BIT = 4, e.initDefaultProps = (function () { var t = e.prototype; t.type = 'path', t.strokeContainThreshold = 5, t.segmentIgnoreThreshold = 0, t.subPixelOptimize = !1, t.autoBatch = !1, t.__dirty = a.a.REDARAW_BIT | r.c.STYLE_CHANGED_BIT | e.SHAPE_CHANGED_BIT }()), e }(r.c)); e.b = P },
  '18f3': function (t, e, n) { 'use strict'; n.r(e), n.d(e, 'addCommas', function () { return c }), n.d(e, 'toCamelCase', function () { return h }), n.d(e, 'normalizeCssArray', function () { return d }), n.d(e, 'encodeHTML', function () { return g }), n.d(e, 'makeValueReadable', function () { return y }), n.d(e, 'formatTpl', function () { return b }), n.d(e, 'formatTplSimple', function () { return x }), n.d(e, 'getTooltipMarker', function () { return _ }), n.d(e, 'formatTime', function () { return w }), n.d(e, 'capitalFirst', function () { return O }), n.d(e, 'convertToColorString', function () { return S }), n.d(e, 'truncateText', function () { return s.c }), n.d(e, 'windowOpen', function () { return M }), n.d(e, 'getTextRect', function () { return u }); var i = n('cc6e'); var r = n('1f06'); var a = n('8e0b'); var o = n('dcca'); var s = n('ad8a'); var l = n('a2b2'); function u (t, e, n, i, r, a, s, u) { Object(o.a)('getTextRect is deprecated.'); var c = new l.Text({ style: { text: t, font: e, align: n, verticalAlign: i, padding: r, rich: a, overflow: s ? 'truncate' : null, lineHeight: u } }); return c.getBoundingRect() } function c (t) { if (!Object(r.isNumeric)(t)) return i.isString(t) ? t : '-'; var e = (t + '').split('.'); return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g, '$1,') + (e.length > 1 ? '.' + e[1] : '') } function h (t, e) { return t = (t || '').toLowerCase().replace(/-(.)/g, function (t, e) { return e.toUpperCase() }), e && t && (t = t.charAt(0).toUpperCase() + t.slice(1)), t } var d = i.normalizeCssArray; var p = /([&<>"'])/g; var f = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;' }; function g (t) { return t == null ? '' : (t + '').replace(p, function (t, e) { return f[e] }) } function y (t, e, n) { var o = 'yyyy-MM-dd hh:mm:ss'; function s (t) { return t && i.trim(t) ? t : '-' } function l (t) { return !(t == null || isNaN(t) || !isFinite(t)) } var u = e === 'time'; var h = t instanceof Date; if (u || h) { var d = u ? Object(r.parseDate)(t) : t; if (!isNaN(+d)) return Object(a.h)(d, o, n); if (h) return '-' } if (e === 'ordinal') return i.isStringSafe(t) ? s(t) : i.isNumber(t) && l(t) ? t + '' : '-'; var p = Object(r.numericToNumber)(t); return l(p) ? c(p) : i.isStringSafe(t) ? s(t) : '-' } var v = ['a', 'b', 'c', 'd', 'e', 'f', 'g']; var m = function (t, e) { return '{' + t + (e == null ? '' : e) + '}' }; function b (t, e, n) { i.isArray(e) || (e = [e]); var r = e.length; if (!r) return ''; for (var a = e[0].$vars || [], o = 0; o < a.length; o++) { var s = v[o]; t = t.replace(m(s), m(s, 0)) } for (var l = 0; l < r; l++) for (var u = 0; u < a.length; u++) { var c = e[l][a[u]]; t = t.replace(m(v[u], l), n ? g(c) : c) } return t } function x (t, e, n) { return i.each(e, function (e, i) { t = t.replace('{' + i + '}', n ? g(e) : e) }), t } function _ (t, e) { var n = i.isString(t) ? { color: t, extraCssText: e } : t || {}; var r = n.color; var a = n.type; e = n.extraCssText; var o = n.renderMode || 'html'; if (!r) return ''; if (o === 'html') return a === 'subItem' ? '<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:' + g(r) + ';' + (e || '') + '"></span>' : '<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:' + g(r) + ';' + (e || '') + '"></span>'; var s = n.markerId || 'markerX'; return { renderMode: o, content: '{' + s + '|}  ', style: a === 'subItem' ? { width: 4, height: 4, borderRadius: 2, backgroundColor: r } : { width: 10, height: 10, borderRadius: 5, backgroundColor: r } } } function w (t, e, n) { t !== 'week' && t !== 'month' && t !== 'quarter' && t !== 'half-year' && t !== 'year' || (t = 'MM-dd\nyyyy'); var i = Object(r.parseDate)(e); var o = n ? 'UTC' : ''; var s = i['get' + o + 'FullYear'](); var l = i['get' + o + 'Month']() + 1; var u = i['get' + o + 'Date'](); var c = i['get' + o + 'Hours'](); var h = i['get' + o + 'Minutes'](); var d = i['get' + o + 'Seconds'](); var p = i['get' + o + 'Milliseconds'](); return t = t.replace('MM', Object(a.y)(l, 2)).replace('M', l).replace('yyyy', s).replace('yy', s % 100 + '').replace('dd', Object(a.y)(u, 2)).replace('d', u).replace('hh', Object(a.y)(c, 2)).replace('h', c).replace('mm', Object(a.y)(h, 2)).replace('m', h).replace('ss', Object(a.y)(d, 2)).replace('s', d).replace('SSS', Object(a.y)(p, 3)), t } function O (t) { return t ? t.charAt(0).toUpperCase() + t.substr(1) : t } function S (t, e) { return e = e || 'transparent', i.isString(t) ? t : i.isObject(t) && t.colorStops && (t.colorStops[0] || {}).color || e } function M (t, e) { if (e === '_blank' || e === 'blank') { var n = window.open(); n.opener = null, n.location.href = t } else window.open(t, e) } },
  '1b19': function (t, e, n) { 'use strict'; var i = n('21a1'); var r = n('18d3'); function a (t, e) { var n; var i; var r; var a; var o; var s = e.x; var l = e.y; var u = e.width; var c = e.height; var h = e.r; u < 0 && (s += u, u = -u), c < 0 && (l += c, c = -c), typeof h === 'number' ? n = i = r = a = h : h instanceof Array ? h.length === 1 ? n = i = r = a = h[0] : h.length === 2 ? (n = r = h[0], i = a = h[1]) : h.length === 3 ? (n = h[0], i = a = h[1], r = h[2]) : (n = h[0], i = h[1], r = h[2], a = h[3]) : n = i = r = a = 0, n + i > u && (o = n + i, n *= u / o, i *= u / o), r + a > u && (o = r + a, r *= u / o, a *= u / o), i + r > c && (o = i + r, i *= c / o, r *= c / o), n + a > c && (o = n + a, n *= c / o, a *= c / o), t.moveTo(s + n, l), t.lineTo(s + u - i, l), i !== 0 && t.arc(s + u - i, l + i, i, -Math.PI / 2, 0), t.lineTo(s + u, l + c - r), r !== 0 && t.arc(s + u - r, l + c - r, r, 0, Math.PI / 2), t.lineTo(s + a, l + c), a !== 0 && t.arc(s + a, l + c - a, a, Math.PI / 2, Math.PI), t.lineTo(s, l + n), n !== 0 && t.arc(s + n, l + n, n, Math.PI, 1.5 * Math.PI) } var o = n('ab54'); var s = (function () { function t () { this.x = 0, this.y = 0, this.width = 0, this.height = 0 } return t }()); var l = {}; var u = (function (t) { function e (e) { return t.call(this, e) || this } return Object(i.a)(e, t), e.prototype.getDefaultShape = function () { return new s() }, e.prototype.buildPath = function (t, e) { var n, i, r, s; if (this.subPixelOptimize) { var u = Object(o.c)(l, e, this.style); n = u.x, i = u.y, r = u.width, s = u.height, u.r = e.r, e = u } else n = e.x, i = e.y, r = e.width, s = e.height; e.r ? a(t, e) : t.rect(n, i, r, s) }, e.prototype.isZeroArea = function () { return !this.shape.width || !this.shape.height }, e }(r.b)); u.prototype.type = 'rect'; e.a = u },
  '1cb2': function (t, e, n) { 'use strict'; var i = n('cc6e'); var r = n('d11b'); var a = n('b7b6'); var o = n('d31e'); var s = n('65a1'); var l = n('c713'); var u = n('258f'); var c = n('0ee3'); var h = s.o(); var d = Object(c.a)(); var p = (function () { function t () { this.group = new r.a(), this.uid = a.c('viewChart'), this.renderTask = Object(u.a)({ plan: y, reset: v }), this.renderTask.context = { view: this } } return t.prototype.init = function (t, e) {}, t.prototype.render = function (t, e, n, i) {}, t.prototype.highlight = function (t, e, n, i) { g(t.getData(), i, 'emphasis') }, t.prototype.downplay = function (t, e, n, i) { g(t.getData(), i, 'normal') }, t.prototype.remove = function (t, e) { this.group.removeAll() }, t.prototype.dispose = function (t, e) {}, t.prototype.updateView = function (t, e, n, i) { this.render(t, e, n, i) }, t.prototype.updateLayout = function (t, e, n, i) { this.render(t, e, n, i) }, t.prototype.updateVisual = function (t, e, n, i) { this.render(t, e, n, i) }, t.markUpdateMethod = function (t, e) { h(t).updateMethod = e }, t.protoInitialize = (function () { var e = t.prototype; e.type = 'chart' }()), t }()); function f (t, e, n) { t && (e === 'emphasis' ? l.n : l.w)(t, n) } function g (t, e, n) { var r = s.t(t, e); var a = e && e.highlightKey != null ? Object(l.r)(e.highlightKey) : null; r != null ? Object(i.each)(s.r(r), function (e) { f(t.getItemGraphicEl(e), n, a) }) : t.eachItemGraphicEl(function (t) { f(t, n, a) }) } function y (t) { return d(t.model) } function v (t) { var e = t.model; var n = t.ecModel; var i = t.api; var r = t.payload; var a = e.pipelineContext.progressiveRender; var o = t.view; var s = r && h(r).updateMethod; var l = a ? 'incrementalPrepareRender' : s && o[s] ? s : 'render'; return l !== 'render' && o[l](e, n, i, r), m[l] }o.b(p, ['dispose']), o.c(p, { registerWhenExtend: !0 }); var m = { incrementalPrepareRender: { progress: function (t, e) { e.view.incrementalRender(t, e.model, e.ecModel, e.api, e.payload) } }, render: { forceFirstProgress: !0, progress: function (t, e) { e.view.render(e.model, e.ecModel, e.api, e.payload) } } }; e.a = p },
  '1da1': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return r }); n('d3b7'); function i (t, e, n, i, r, a, o) { try { var s = t[a](o); var l = s.value } catch (u) { return void n(u) }s.done ? e(l) : Promise.resolve(l).then(i, r) } function r (t) { return function () { var e = this; var n = arguments; return new Promise(function (r, a) { var o = t.apply(e, n); function s (t) { i(o, r, a, s, l, 'next', t) } function l (t) { i(o, r, a, s, l, 'throw', t) }s(void 0) }) } } },
  '1ded': function (t, e, n) { 'use strict'; n.d(e, 'b', function () { return l }), n.d(e, 'a', function () { return u }); var i = n('21a1'); var r = n('8a3b'); var a = n('10e1'); var o = n('cc6e'); var s = '__zr_style_' + Math.round(10 * Math.random()); var l = { shadowBlur: 0, shadowOffsetX: 0, shadowOffsetY: 0, shadowColor: '#000', opacity: 1, blend: 'source-over' }; var u = { style: { shadowBlur: !0, shadowOffsetX: !0, shadowOffsetY: !0, shadowColor: !0, opacity: !0 } }; l[s] = !0; var c = ['z', 'z2', 'invisible']; var h = (function (t) { function e (e) { return t.call(this, e) || this } return Object(i.a)(e, t), e.prototype._init = function (e) { for (var n = Object(o.keys)(e), i = 0; i < n.length; i++) { var r = n[i]; r === 'style' ? this.useStyle(e[r]) : t.prototype.attrKV.call(this, r, e[r]) } this.style || this.useStyle({}) }, e.prototype.beforeBrush = function () {}, e.prototype.afterBrush = function () {}, e.prototype.innerBeforeBrush = function () {}, e.prototype.innerAfterBrush = function () {}, e.prototype.shouldBePainted = function (t, e, n, i) { var r = this.transform; if (this.ignore || this.invisible || this.style.opacity === 0 || this.culling && f(this, t, e) || r && !r[0] && !r[3]) return !1; if (n && this.__clipPaths) for (var a = 0; a < this.__clipPaths.length; ++a) if (this.__clipPaths[a].isZeroArea()) return !1; if (i && this.parent) { var o = this.parent; while (o) { if (o.ignore) return !1; o = o.parent } } return !0 }, e.prototype.contain = function (t, e) { return this.rectContain(t, e) }, e.prototype.traverse = function (t, e) { t.call(e, this) }, e.prototype.rectContain = function (t, e) { var n = this.transformCoordToLocal(t, e); var i = this.getBoundingRect(); return i.contain(n[0], n[1]) }, e.prototype.getPaintRect = function () { var t = this._paintRect; if (!this._paintRect || this.__dirty) { var e = this.transform; var n = this.getBoundingRect(); var i = this.style; var r = i.shadowBlur || 0; var o = i.shadowOffsetX || 0; var s = i.shadowOffsetY || 0; t = this._paintRect || (this._paintRect = new a.a(0, 0, 0, 0)), e ? a.a.applyTransform(t, n, e) : t.copy(n), (r || o || s) && (t.width += 2 * r + Math.abs(o), t.height += 2 * r + Math.abs(s), t.x = Math.min(t.x, t.x + o - r), t.y = Math.min(t.y, t.y + s - r)); var l = this.dirtyRectTolerance; t.isZero() || (t.x = Math.floor(t.x - l), t.y = Math.floor(t.y - l), t.width = Math.ceil(t.width + 1 + 2 * l), t.height = Math.ceil(t.height + 1 + 2 * l)) } return t }, e.prototype.setPrevPaintRect = function (t) { t ? (this._prevPaintRect = this._prevPaintRect || new a.a(0, 0, 0, 0), this._prevPaintRect.copy(t)) : this._prevPaintRect = null }, e.prototype.getPrevPaintRect = function () { return this._prevPaintRect }, e.prototype.animateStyle = function (t) { return this.animate('style', t) }, e.prototype.updateDuringAnimation = function (t) { t === 'style' ? this.dirtyStyle() : this.markRedraw() }, e.prototype.attrKV = function (e, n) { e !== 'style' ? t.prototype.attrKV.call(this, e, n) : this.style ? this.setStyle(n) : this.useStyle(n) }, e.prototype.setStyle = function (t, e) { return typeof t === 'string' ? this.style[t] = e : Object(o.extend)(this.style, t), this.dirtyStyle(), this }, e.prototype.dirtyStyle = function () { this.markRedraw(), this.__dirty |= e.STYLE_CHANGED_BIT, this._rect && (this._rect = null) }, e.prototype.dirty = function () { this.dirtyStyle() }, e.prototype.styleChanged = function () { return !!(this.__dirty & e.STYLE_CHANGED_BIT) }, e.prototype.styleUpdated = function () { this.__dirty &= ~e.STYLE_CHANGED_BIT }, e.prototype.createStyle = function (t) { return Object(o.createObject)(l, t) }, e.prototype.useStyle = function (t) { t[s] || (t = this.createStyle(t)), this.__inHover ? this.__hoverStyle = t : this.style = t, this.dirtyStyle() }, e.prototype.isStyleObject = function (t) { return t[s] }, e.prototype._innerSaveToNormal = function (e) { t.prototype._innerSaveToNormal.call(this, e); var n = this._normalState; e.style && !n.style && (n.style = this._mergeStyle(this.createStyle(), this.style)), this._savePrimaryToNormal(e, n, c) }, e.prototype._applyStateObj = function (e, n, i, r, a, s) { t.prototype._applyStateObj.call(this, e, n, i, r, a, s); var l; var u = !(n && r); if (n && n.style ? a ? r ? l = n.style : (l = this._mergeStyle(this.createStyle(), i.style), this._mergeStyle(l, n.style)) : (l = this._mergeStyle(this.createStyle(), r ? this.style : i.style), this._mergeStyle(l, n.style)) : u && (l = i.style), l) if (a) { var h = this.style; if (this.style = this.createStyle(u ? {} : h), u) for (var d = Object(o.keys)(h), p = 0; p < d.length; p++) { var f = d[p]; f in l && (l[f] = l[f], this.style[f] = h[f]) } var g = Object(o.keys)(l); for (p = 0; p < g.length; p++) { f = g[p]; this.style[f] = this.style[f] } this._transitionState(e, { style: l }, s, this.getAnimationStyleProps()) } else this.useStyle(l); for (p = 0; p < c.length; p++) { f = c[p]; n && n[f] != null ? this[f] = n[f] : u && i[f] != null && (this[f] = i[f]) } }, e.prototype._mergeStates = function (e) { for (var n, i = t.prototype._mergeStates.call(this, e), r = 0; r < e.length; r++) { var a = e[r]; a.style && (n = n || {}, this._mergeStyle(n, a.style)) } return n && (i.style = n), i }, e.prototype._mergeStyle = function (t, e) { return Object(o.extend)(t, e), t }, e.prototype.getAnimationStyleProps = function () { return u }, e.STYLE_CHANGED_BIT = 2, e.initDefaultProps = (function () { var t = e.prototype; t.type = 'displayable', t.invisible = !1, t.z = 0, t.z2 = 0, t.zlevel = 0, t.culling = !1, t.cursor = 'pointer', t.rectHover = !1, t.incremental = !1, t._rect = null, t.dirtyRectTolerance = 0, t.__dirty = r.a.REDARAW_BIT | e.STYLE_CHANGED_BIT }()), e }(r.a)); var d = new a.a(0, 0, 0, 0); var p = new a.a(0, 0, 0, 0); function f (t, e, n) { return d.copy(t.getBoundingRect()), t.transform && d.applyTransform(t.transform), p.width = e, p.height = n, !d.intersect(p) }e.c = h },
  '1f06': function (t, e, n) { 'use strict'; n.r(e), n.d(e, 'linearMap', function () { return o }), n.d(e, 'parsePercent', function () { return s }), n.d(e, 'round', function () { return l }), n.d(e, 'asc', function () { return u }), n.d(e, 'getPrecision', function () { return c }), n.d(e, 'getPrecisionSafe', function () { return h }), n.d(e, 'getPixelPrecision', function () { return d }), n.d(e, 'getPercentWithPrecision', function () { return p }), n.d(e, 'MAX_SAFE_INTEGER', function () { return f }), n.d(e, 'remRadian', function () { return g }), n.d(e, 'isRadianAroundZero', function () { return y }), n.d(e, 'parseDate', function () { return m }), n.d(e, 'quantity', function () { return b }), n.d(e, 'quantityExponent', function () { return x }), n.d(e, 'nice', function () { return _ }), n.d(e, 'quantile', function () { return w }), n.d(e, 'reformIntervals', function () { return O }), n.d(e, 'numericToNumber', function () { return S }), n.d(e, 'isNumeric', function () { return M }), n.d(e, 'getRandomIdBase', function () { return I }), n.d(e, 'getGreatestCommonDividor', function () { return T }), n.d(e, 'getLeastCommonMultiple', function () { return j }); var i = n('cc6e'); var r = 1e-4; function a (t) { return t.replace(/^\s+|\s+$/g, '') } function o (t, e, n, i) { var r = e[1] - e[0]; var a = n[1] - n[0]; if (r === 0) return a === 0 ? n[0] : (n[0] + n[1]) / 2; if (i) if (r > 0) { if (t <= e[0]) return n[0]; if (t >= e[1]) return n[1] } else { if (t >= e[0]) return n[0]; if (t <= e[1]) return n[1] } else { if (t === e[0]) return n[0]; if (t === e[1]) return n[1] } return (t - e[0]) / r * a + n[0] } function s (t, e) { switch (t) { case 'center':case 'middle':t = '50%'; break; case 'left':case 'top':t = '0%'; break; case 'right':case 'bottom':t = '100%'; break } return typeof t === 'string' ? a(t).match(/%$/) ? parseFloat(t) / 100 * e : parseFloat(t) : t == null ? NaN : +t } function l (t, e, n) { return e == null && (e = 10), e = Math.min(Math.max(0, e), 20), t = (+t).toFixed(e), n ? t : +t } function u (t) { return t.sort(function (t, e) { return t - e }), t } function c (t) { if (t = +t, isNaN(t)) return 0; var e = 1; var n = 0; while (Math.round(t * e) / e !== t)e *= 10, n++; return n } function h (t) { var e = t.toString(); var n = e.indexOf('e'); if (n > 0) { var i = +e.slice(n + 1); return i < 0 ? -i : 0 } var r = e.indexOf('.'); return r < 0 ? 0 : e.length - 1 - r } function d (t, e) { var n = Math.log; var i = Math.LN10; var r = Math.floor(n(t[1] - t[0]) / i); var a = Math.round(n(Math.abs(e[1] - e[0])) / i); var o = Math.min(Math.max(-r + a, 0), 20); return isFinite(o) ? o : 20 } function p (t, e, n) { if (!t[e]) return 0; var r = i.reduce(t, function (t, e) { return t + (isNaN(e) ? 0 : e) }, 0); if (r === 0) return 0; var a = Math.pow(10, n); var o = i.map(t, function (t) { return (isNaN(t) ? 0 : t) / r * a * 100 }); var s = 100 * a; var l = i.map(o, function (t) { return Math.floor(t) }); var u = i.reduce(l, function (t, e) { return t + e }, 0); var c = i.map(o, function (t, e) { return t - l[e] }); while (u < s) { for (var h = Number.NEGATIVE_INFINITY, d = null, p = 0, f = c.length; p < f; ++p)c[p] > h && (h = c[p], d = p); ++l[d], c[d] = 0, ++u } return l[e] / a } var f = 9007199254740991; function g (t) { var e = 2 * Math.PI; return (t % e + e) % e } function y (t) { return t > -r && t < r } var v = /^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/; function m (t) { if (t instanceof Date) return t; if (typeof t === 'string') { var e = v.exec(t); if (!e) return new Date(NaN); if (e[8]) { var n = +e[4] || 0; return e[8].toUpperCase() !== 'Z' && (n -= +e[8].slice(0, 3)), new Date(Date.UTC(+e[1], +(e[2] || 1) - 1, +e[3] || 1, n, +(e[5] || 0), +e[6] || 0, +e[7] || 0)) } return new Date(+e[1], +(e[2] || 1) - 1, +e[3] || 1, +e[4] || 0, +(e[5] || 0), +e[6] || 0, +e[7] || 0) } return t == null ? new Date(NaN) : new Date(Math.round(t)) } function b (t) { return Math.pow(10, x(t)) } function x (t) { if (t === 0) return 0; var e = Math.floor(Math.log(t) / Math.LN10); return t / Math.pow(10, e) >= 10 && e++, e } function _ (t, e) { var n; var i = x(t); var r = Math.pow(10, i); var a = t / r; return n = e ? a < 1.5 ? 1 : a < 2.5 ? 2 : a < 4 ? 3 : a < 7 ? 5 : 10 : a < 1 ? 1 : a < 2 ? 2 : a < 3 ? 3 : a < 5 ? 5 : 10, t = n * r, i >= -20 ? +t.toFixed(i < 0 ? -i : 0) : t } function w (t, e) { var n = (t.length - 1) * e + 1; var i = Math.floor(n); var r = +t[i - 1]; var a = n - i; return a ? r + a * (t[i] - r) : r } function O (t) { t.sort(function (t, e) { return s(t, e, 0) ? -1 : 1 }); for (var e = -1 / 0, n = 1, i = 0; i < t.length;) { for (var r = t[i].interval, a = t[i].close, o = 0; o < 2; o++)r[o] <= e && (r[o] = e, a[o] = o ? 1 : 1 - n), e = r[o], n = a[o]; r[0] === r[1] && a[0] * a[1] !== 1 ? t.splice(i, 1) : i++ } return t; function s (t, e, n) { return t.interval[n] < e.interval[n] || t.interval[n] === e.interval[n] && (t.close[n] - e.close[n] === (n ? -1 : 1) || !n && s(t, e, 1)) } } function S (t) { var e = parseFloat(t); return e == t && (e !== 0 || typeof t !== 'string' || t.indexOf('x') <= 0) ? e : NaN } function M (t) { return !isNaN(S(t)) } function I () { return Math.round(9 * Math.random()) } function T (t, e) { return e === 0 ? t : T(e, t % e) } function j (t, e) { return t == null ? e : e == null ? t : t * e / T(t, e) } },
  '1f5d': function (t, e, n) { 'use strict'; var i = n('21a1'); var r = n('18d3'); var a = (function (t) { function e () { var e = t !== null && t.apply(this, arguments) || this; return e.type = 'compound', e } return Object(i.a)(e, t), e.prototype._updatePathDirty = function () { for (var t = this.shape.paths, e = this.shapeChanged(), n = 0; n < t.length; n++)e = e || t[n].shapeChanged(); e && this.dirtyShape() }, e.prototype.beforeBrush = function () { this._updatePathDirty(); for (var t = this.shape.paths || [], e = this.getGlobalScale(), n = 0; n < t.length; n++)t[n].path || t[n].createPathProxy(), t[n].path.setScale(e[0], e[1], t[n].segmentIgnoreThreshold) }, e.prototype.buildPath = function (t, e) { for (var n = e.paths || [], i = 0; i < n.length; i++)n[i].buildPath(t, n[i].shape, !0) }, e.prototype.afterBrush = function () { for (var t = this.shape.paths || [], e = 0; e < t.length; e++)t[e].pathUpdated() }, e.prototype.getBoundingRect = function () { return this._updatePathDirty.call(this), r.b.prototype.getBoundingRect.call(this) }, e }(r.b)); e.a = a },
  '21a1': function (t, e, n) {
    'use strict'; n.d(e, 'a', function () { return r })
    /*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
    var i = function (t, e) { return i = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, e) { t.__proto__ = e } || function (t, e) { for (var n in e)e.hasOwnProperty(n) && (t[n] = e[n]) }, i(t, e) }; function r (t, e) { function n () { this.constructor = t }i(t, e), t.prototype = e === null ? Object.create(e) : (n.prototype = e.prototype, new n()) }
  },
  2488: function (t, e, n) { 'use strict'; var i = n('21a1'); var r = n('ad8a'); var a = n('cf57'); var o = n('cc6e'); var s = n('949c'); var l = n('2d84'); var u = n('1b19'); var c = n('10e1'); var h = n('953f'); var d = n('1ded'); var p = { fill: '#000' }; var f = 2; var g = { style: Object(o.defaults)({ fill: !0, stroke: !0, fillOpacity: !0, strokeOpacity: !0, lineWidth: !0, fontSize: !0, lineHeight: !0, width: !0, height: !0, textShadowColor: !0, textShadowBlur: !0, textShadowOffsetX: !0, textShadowOffsetY: !0, backgroundColor: !0, padding: !0, borderColor: !0, borderWidth: !0, borderRadius: !0 }, d.a.style) }; var y = (function (t) { function e (e) { var n = t.call(this) || this; return n.type = 'text', n._children = [], n._defaultStyle = p, n.attr(e), n } return Object(i.a)(e, t), e.prototype.childrenRef = function () { return this._children }, e.prototype.update = function () { this.styleChanged() && this._updateSubTexts(); for (var e = 0; e < this._children.length; e++) { var n = this._children[e]; n.zlevel = this.zlevel, n.z = this.z, n.z2 = this.z2, n.culling = this.culling, n.cursor = this.cursor, n.invisible = this.invisible } var i = this.attachedTransform; if (i) { i.updateTransform(); var r = i.transform; r ? (this.transform = this.transform || [], Object(h.b)(this.transform, r)) : this.transform = null } else t.prototype.update.call(this) }, e.prototype.getComputedTransform = function () { return this.__hostTarget && (this.__hostTarget.getComputedTransform(), this.__hostTarget.updateInnerText(!0)), this.attachedTransform ? this.attachedTransform.getComputedTransform() : t.prototype.getComputedTransform.call(this) }, e.prototype._updateSubTexts = function () { this._childCursor = 0, b(this.style), this.style.rich ? this._updateRichTexts() : this._updatePlainTexts(), this._children.length = this._childCursor, this.styleUpdated() }, e.prototype.addSelfToZr = function (e) { t.prototype.addSelfToZr.call(this, e); for (var n = 0; n < this._children.length; n++) this._children[n].__zr = e }, e.prototype.removeSelfFromZr = function (e) { t.prototype.removeSelfFromZr.call(this, e); for (var n = 0; n < this._children.length; n++) this._children[n].__zr = null }, e.prototype.getBoundingRect = function () { if (this.styleChanged() && this._updateSubTexts(), !this._rect) { for (var t = new c.a(0, 0, 0, 0), e = this._children, n = [], i = null, r = 0; r < e.length; r++) { var a = e[r]; var o = a.getBoundingRect(); var s = a.getLocalTransform(n); s ? (t.copy(o), t.applyTransform(s), i = i || t.clone(), i.union(t)) : (i = i || o.clone(), i.union(o)) } this._rect = i || t } return this._rect }, e.prototype.setDefaultTextStyle = function (t) { this._defaultStyle = t || p }, e.prototype.setTextContent = function (t) { throw new Error("Can't attach text on another text") }, e.prototype._mergeStyle = function (t, e) { if (!e) return t; var n = e.rich; var i = t.rich || n && {}; return Object(o.extend)(t, e), n && i ? (this._mergeRich(i, n), t.rich = i) : i && (t.rich = i), t }, e.prototype._mergeRich = function (t, e) { for (var n = Object(o.keys)(e), i = 0; i < n.length; i++) { var r = n[i]; t[r] = t[r] || {}, Object(o.extend)(t[r], e[r]) } }, e.prototype.getAnimationStyleProps = function () { return g }, e.prototype._getOrCreateChild = function (t) { var e = this._children[this._childCursor]; return e && e instanceof t || (e = new t()), this._children[this._childCursor++] = e, e.__zr = this.__zr, e.parent = this, e }, e.prototype._updatePlainTexts = function () { var t = this.style; var e = t.font || s.a; var n = t.padding; var i = S(t); var o = Object(r.a)(i, t); var l = M(t); var u = !!t.backgroundColor; var h = o.outerHeight; var d = o.lines; var p = o.lineHeight; var g = this._defaultStyle; var y = t.x || 0; var v = t.y || 0; var m = t.align || g.align || 'left'; var b = t.verticalAlign || g.verticalAlign || 'top'; var x = y; var I = Object(s.c)(v, o.contentHeight, b); if (l || n) { var T = o.width; n && (T += n[1] + n[3]); var j = Object(s.b)(y, T, m); var A = Object(s.c)(v, h, b); l && this._renderBackground(t, t, j, A, T, h) }I += p / 2, n && (x = O(y, m, n), b === 'top' ? I += n[0] : b === 'bottom' && (I -= n[2])); for (var C = 0, D = !1, k = (w('fill' in t ? t.fill : (D = !0, g.fill))), L = (_('stroke' in t ? t.stroke : u || g.autoStroke && !D ? null : (C = f, g.stroke))), P = t.textShadowBlur > 0, R = t.width != null && (t.overflow === 'truncate' || t.overflow === 'break' || t.overflow === 'breakAll'), N = o.calculatedLineHeight, E = 0; E < d.length; E++) { var z = this._getOrCreateChild(a.a); var B = z.createStyle(); z.useStyle(B), B.text = d[E], B.x = x, B.y = I, m && (B.textAlign = m), B.textBaseline = 'middle', B.opacity = t.opacity, B.strokeFirst = !0, P && (B.shadowBlur = t.textShadowBlur || 0, B.shadowColor = t.textShadowColor || 'transparent', B.shadowOffsetX = t.textShadowOffsetX || 0, B.shadowOffsetY = t.textShadowOffsetY || 0), L && (B.stroke = L, B.lineWidth = t.lineWidth || C, B.lineDash = t.lineDash, B.lineDashOffset = t.lineDashOffset || 0), k && (B.fill = k), B.font = e, I += p, R && z.setBoundingRect(new c.a(Object(s.b)(B.x, t.width, B.textAlign), Object(s.c)(B.y, N, B.textBaseline), t.width, N)) } }, e.prototype._updateRichTexts = function () { var t = this.style; var e = S(t); var n = Object(r.b)(e, t); var i = n.width; var a = n.outerWidth; var o = n.outerHeight; var l = t.padding; var u = t.x || 0; var c = t.y || 0; var h = this._defaultStyle; var d = t.align || h.align; var p = t.verticalAlign || h.verticalAlign; var f = Object(s.b)(u, a, d); var g = Object(s.c)(c, o, p); var y = f; var v = g; l && (y += l[3], v += l[0]); var m = y + i; M(t) && this._renderBackground(t, t, f, g, a, o); for (var b = !!t.backgroundColor, x = 0; x < n.lines.length; x++) { var _ = n.lines[x]; var w = _.tokens; var O = w.length; var I = _.lineHeight; var T = _.width; var j = 0; var A = y; var C = m; var D = O - 1; var k = void 0; while (j < O && (k = w[j], !k.align || k.align === 'left')) this._placeToken(k, t, I, v, A, 'left', b), T -= k.width, A += k.width, j++; while (D >= 0 && (k = w[D], k.align === 'right')) this._placeToken(k, t, I, v, C, 'right', b), T -= k.width, C -= k.width, D--; A += (i - (A - y) - (m - C) - T) / 2; while (j <= D)k = w[j], this._placeToken(k, t, I, v, A + k.width / 2, 'center', b), A += k.width, j++; v += I } }, e.prototype._placeToken = function (t, e, n, i, r, l, u) { var h = e.rich[t.styleName] || {}; h.text = t.text; var d = t.verticalAlign; var p = i + n / 2; d === 'top' ? p = i + t.height / 2 : d === 'bottom' && (p = i + n - t.height / 2); var g = !t.isLineHolder && M(h); g && this._renderBackground(h, e, l === 'right' ? r - t.width : l === 'center' ? r - t.width / 2 : r, p - t.height / 2, t.width, t.height); var y = !!h.backgroundColor; var v = t.textPadding; v && (r = O(r, l, v), p -= t.height / 2 - v[0] - t.innerHeight / 2); var m = this._getOrCreateChild(a.a); var b = m.createStyle(); m.useStyle(b); var x = this._defaultStyle; var w = !1; var S = 0; var I = _('fill' in h ? h.fill : 'fill' in e ? e.fill : (w = !0, x.fill)); var T = _('stroke' in h ? h.stroke : 'stroke' in e ? e.stroke : y || u || x.autoStroke && !w ? null : (S = f, x.stroke)); var j = h.textShadowBlur > 0 || e.textShadowBlur > 0; b.text = t.text, b.x = r, b.y = p, j && (b.shadowBlur = h.textShadowBlur || e.textShadowBlur || 0, b.shadowColor = h.textShadowColor || e.textShadowColor || 'transparent', b.shadowOffsetX = h.textShadowOffsetX || e.textShadowOffsetX || 0, b.shadowOffsetY = h.textShadowOffsetY || e.textShadowOffsetY || 0), b.textAlign = l, b.textBaseline = 'middle', b.font = t.font || s.a, b.opacity = Object(o.retrieve3)(h.opacity, e.opacity, 1), T && (b.lineWidth = Object(o.retrieve3)(h.lineWidth, e.lineWidth, S), b.lineDash = Object(o.retrieve2)(h.lineDash, e.lineDash), b.lineDashOffset = e.lineDashOffset || 0, b.stroke = T), I && (b.fill = I); var A = t.contentWidth; var C = t.contentHeight; m.setBoundingRect(new c.a(Object(s.b)(b.x, A, b.textAlign), Object(s.c)(b.y, C, b.textBaseline), A, C)) }, e.prototype._renderBackground = function (t, e, n, i, r, a) { var s; var c; var h = t.backgroundColor; var d = t.borderWidth; var p = t.borderColor; var f = Object(o.isString)(h); var g = t.borderRadius; var y = this; if (f || d && p) { s = this._getOrCreateChild(u.a), s.useStyle(s.createStyle()), s.style.fill = null; var v = s.shape; v.x = n, v.y = i, v.width = r, v.height = a, v.r = g, s.dirtyShape() } if (f) { var m = s.style; m.fill = h || null, m.fillOpacity = Object(o.retrieve2)(t.fillOpacity, 1) } else if (h && h.image) { c = this._getOrCreateChild(l.a), c.onload = function () { y.dirtyStyle() }; var b = c.style; b.image = h.image, b.x = n, b.y = i, b.width = r, b.height = a } if (d && p) { m = s.style; m.lineWidth = d, m.stroke = p, m.strokeOpacity = Object(o.retrieve2)(t.strokeOpacity, 1), m.lineDash = t.borderDash, m.lineDashOffset = t.borderDashOffset || 0, s.strokeContainThreshold = 0, s.hasFill() && s.hasStroke() && (m.strokeFirst = !0, m.lineWidth *= 2) } var x = (s || c).style; x.shadowBlur = t.shadowBlur || 0, x.shadowColor = t.shadowColor || 'transparent', x.shadowOffsetX = t.shadowOffsetX || 0, x.shadowOffsetY = t.shadowOffsetY || 0, x.opacity = Object(o.retrieve3)(t.opacity, e.opacity, 1) }, e.makeFont = function (t) { var e = ''; if (t.fontSize || t.fontFamily || t.fontWeight) { var n = ''; n = typeof t.fontSize !== 'string' || t.fontSize.indexOf('px') === -1 && t.fontSize.indexOf('rem') === -1 && t.fontSize.indexOf('em') === -1 ? isNaN(+t.fontSize) ? '12px' : t.fontSize + 'px' : t.fontSize, e = [t.fontStyle, t.fontWeight, n, t.fontFamily || 'sans-serif'].join(' ') } return e && Object(o.trim)(e) || t.textFont || t.font }, e }(d.c)); var v = { left: !0, right: 1, center: 1 }; var m = { top: 1, bottom: 1, middle: 1 }; function b (t) { return x(t), Object(o.each)(t.rich, x), t } function x (t) { if (t) { t.font = y.makeFont(t); var e = t.align; e === 'middle' && (e = 'center'), t.align = e == null || v[e] ? e : 'left'; var n = t.verticalAlign; n === 'center' && (n = 'middle'), t.verticalAlign = n == null || m[n] ? n : 'top'; var i = t.padding; i && (t.padding = Object(o.normalizeCssArray)(t.padding)) } } function _ (t, e) { return t == null || e <= 0 || t === 'transparent' || t === 'none' ? null : t.image || t.colorStops ? '#000' : t } function w (t) { return t == null || t === 'none' ? null : t.image || t.colorStops ? '#000' : t } function O (t, e, n) { return e === 'right' ? t - n[1] : e === 'center' ? t + n[3] / 2 - n[1] / 2 : t + n[3] } function S (t) { var e = t.text; return e != null && (e += ''), e } function M (t) { return !!(t.backgroundColor || t.borderWidth && t.borderColor) }e.a = y },
  '254c': function (t, e, n) { 'use strict'; var i = Math.round(9 * Math.random()); var r = (function () { function t () { this._id = '__ec_inner_' + i++ } return t.prototype.get = function (t) { return this._guard(t)[this._id] }, t.prototype.set = function (t, e) { var n = this._guard(t); return typeof Object.defineProperty === 'function' ? Object.defineProperty(n, this._id, { value: e, enumerable: !1, configurable: !0 }) : n[this._id] = e, this }, t.prototype.delete = function (t) { return !!this.has(t) && (delete this._guard(t)[this._id], !0) }, t.prototype.has = function (t) { return !!this._guard(t)[this._id] }, t.prototype._guard = function (t) { if (t !== Object(t)) throw TypeError('Value of WeakMap is not a non-null object.'); return t }, t }()); e.a = r },
  '258f': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return r }); var i = n('cc6e'); function r (t) { return new a(t) } var a = (function () { function t (t) { t = t || {}, this._reset = t.reset, this._plan = t.plan, this._count = t.count, this._onDirty = t.onDirty, this._dirty = !0 } return t.prototype.perform = function (t) { var e; var n = this._upstream; var r = t && t.skip; if (this._dirty && n) { var a = this.context; a.data = a.outputData = n.context.outputData } this.__pipeline && (this.__pipeline.currentTask = this), this._plan && !r && (e = this._plan(this.context)); var o; var s = h(this._modBy); var l = this._modDataCount || 0; var u = h(t && t.modBy); var c = t && t.modDataCount || 0; function h (t) { return !(t >= 1) && (t = 1), t }s === u && l === c || (e = 'reset'), (this._dirty || e === 'reset') && (this._dirty = !1, o = this._doReset(r)), this._modBy = u, this._modDataCount = c; var d = t && t.step; if (this._dueEnd = n ? n._outputDueEnd : this._count ? this._count(this.context) : 1 / 0, this._progress) { var p = this._dueIndex; var f = Math.min(d != null ? this._dueIndex + d : 1 / 0, this._dueEnd); if (!r && (o || p < f)) { var g = this._progress; if (Object(i.isArray)(g)) for (var y = 0; y < g.length; y++) this._doProgress(g[y], p, f, u, c); else this._doProgress(g, p, f, u, c) } this._dueIndex = f; var v = this._settedOutputEnd != null ? this._settedOutputEnd : f; 0, this._outputDueEnd = v } else this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd; return this.unfinished() }, t.prototype.dirty = function () { this._dirty = !0, this._onDirty && this._onDirty(this.context) }, t.prototype._doProgress = function (t, e, n, i, r) { o.reset(e, n, i, r), this._callingProgress = t, this._callingProgress({ start: e, end: n, count: n - e, next: o.next }, this.context) }, t.prototype._doReset = function (t) { var e, n; this._dueIndex = this._outputDueEnd = this._dueEnd = 0, this._settedOutputEnd = null, !t && this._reset && (e = this._reset(this.context), e && e.progress && (n = e.forceFirstProgress, e = e.progress), Object(i.isArray)(e) && !e.length && (e = null)), this._progress = e, this._modBy = this._modDataCount = null; var r = this._downstream; return r && r.dirty(), n }, t.prototype.unfinished = function () { return this._progress && this._dueIndex < this._dueEnd }, t.prototype.pipe = function (t) { (this._downstream !== t || this._dirty) && (this._downstream = t, t._upstream = this, t.dirty()) }, t.prototype.dispose = function () { this._disposed || (this._upstream && (this._upstream._downstream = null), this._downstream && (this._downstream._upstream = null), this._dirty = !1, this._disposed = !0) }, t.prototype.getUpstream = function () { return this._upstream }, t.prototype.getDownstream = function () { return this._downstream }, t.prototype.setOutputEnd = function (t) { this._outputDueEnd = this._settedOutputEnd = t }, t }()); var o = (function () { var t; var e; var n; var i; var r; var a = { reset: function (l, u, c, h) { e = l, t = u, n = c, i = h, r = Math.ceil(i / n), a.next = n > 1 && i > 0 ? s : o } }; return a; function o () { return e < t ? e++ : null } function s () { var a = e % r * n + Math.ceil(e / r); var o = e >= t ? null : a < i ? a : e; return e++, o } }()) },
  '26d4': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return l }), n.d(e, 'b', function () { return u }); var i = n('cc6e'); var r = n('6e8c'); var a = n('2b74'); var o = n('aea5'); var s = n('ca23'); var l = (function () { function t (t) { this._sourceList = [], this._upstreamSignList = [], this._versionSignBase = 0, this._sourceHost = t } return t.prototype.dirty = function () { this._setLocalSource([], []) }, t.prototype._setLocalSource = function (t, e) { this._sourceList = t, this._upstreamSignList = e, this._versionSignBase++, this._versionSignBase > 9e10 && (this._versionSignBase = 0) }, t.prototype._getVersionSign = function () { return this._sourceHost.uid + '_' + this._versionSignBase }, t.prototype.prepareSource = function () { this._isDirty() && this._createSource() }, t.prototype._createSource = function () { this._setLocalSource([], []); var t; var e; var n = this._sourceHost; var s = this._getUpstreamSourceManagers(); var l = !!s.length; if (c(n)) { var u = n; var h = void 0; var d = void 0; var p = void 0; if (l) { var f = s[0]; f.prepareSource(), p = f.getSource(), h = p.data, d = p.sourceFormat, e = [f._getVersionSign()] } else h = u.get('data', !0), d = Object(i.isTypedArray)(h) ? a.g : a.f, e = []; var g = Object(o.c)(p, this._getSourceMetaRawOption()); t = [Object(r.b)(h, g, d, u.get('encode', !0))] } else { var y = n; if (l) { var v = this._applyTransform(s); t = v.sourceList, e = v.upstreamSignList } else { var m = y.get('source', !0); t = [Object(r.b)(m, this._getSourceMetaRawOption(), null, null)], e = [] } } this._setLocalSource(t, e) }, t.prototype._applyTransform = function (t) { var e; var n = this._sourceHost; var a = n.get('transform', !0); var o = n.get('fromTransformResult', !0); if (o != null) { var l = ''; t.length !== 1 && h(l) } var u = []; var c = []; return Object(i.each)(t, function (t) { t.prepareSource(); var e = t.getSource(o || 0); var n = ''; o == null || e || h(n), u.push(e), c.push(t._getVersionSign()) }), a ? e = Object(s.a)(a, u, { datasetIndex: n.componentIndex }) : o != null && (e = [Object(r.a)(u[0])]), { sourceList: e, upstreamSignList: c } }, t.prototype._isDirty = function () { var t = this._sourceList; if (!t.length) return !0; for (var e = this._getUpstreamSourceManagers(), n = 0; n < e.length; n++) { var i = e[n]; if (i._isDirty() || this._upstreamSignList[n] !== i._getVersionSign()) return !0 } }, t.prototype.getSource = function (t) { return this._sourceList[t || 0] }, t.prototype._getUpstreamSourceManagers = function () { var t = this._sourceHost; if (c(t)) { var e = Object(o.g)(t); return e ? [e.getSourceManager()] : [] } return Object(i.map)(Object(o.f)(t), function (t) { return t.getSourceManager() }) }, t.prototype._getSourceMetaRawOption = function () { var t; var e; var n; var i = this._sourceHost; if (c(i))t = i.get('seriesLayoutBy', !0), e = i.get('sourceHeader', !0), n = i.get('dimensions', !0); else if (!this._getUpstreamSourceManagers().length) { var r = i; t = r.get('seriesLayoutBy', !0), e = r.get('sourceHeader', !0), n = r.get('dimensions', !0) } return { seriesLayoutBy: t, sourceHeader: e, dimensions: n } }, t }()); function u (t) { var e = t.option.transform; e && Object(i.setAsPrimitive)(t.option.transform) } function c (t) { return t.mainType === 'series' } function h (t) { throw new Error(t) } },
  2740: function (t, e, n) { 'use strict'; n.d(e, 'c', function () { return b }), n.d(e, 'a', function () { return L }), n.d(e, 'b', function () { return P }); var i; var r = n('d11b'); var a = n('2d84'); var o = n('df39'); var s = n('1b19'); var l = n('9cc6'); var u = n('f61c'); var c = n('18d3'); var h = n('7648'); var d = n('ab58'); var p = n('953f'); var f = n('49d3'); var g = n('cc6e'); var y = n('0236'); var v = n('cf57'); var m = /[\s,]+/; function b (t) { if (Object(g.isString)(t)) { var e = new DOMParser(); t = e.parseFromString(t, 'text/xml') } var n = t; n.nodeType === 9 && (n = n.firstChild); while (n.nodeName.toLowerCase() !== 'svg' || n.nodeType !== 1)n = n.nextSibling; return n } var x = (function () { function t () { this._defs = {}, this._root = null, this._isDefine = !1, this._isText = !1 } return t.prototype.parse = function (t, e) { e = e || {}; var n = b(t); if (!n) throw new Error('Illegal svg'); var i = new r.a(); this._root = i; var a = n.getAttribute('viewBox') || ''; var o = parseFloat(n.getAttribute('width') || e.width); var l = parseFloat(n.getAttribute('height') || e.height); isNaN(o) && (o = null), isNaN(l) && (l = null), I(n, i, null, !0); var u; var c; var h = n.firstChild; while (h) this._parseNode(h, i), h = h.nextSibling; if (a) { var d = Object(g.trim)(a).split(m); d.length >= 4 && (u = { x: parseFloat(d[0] || 0), y: parseFloat(d[1] || 0), width: parseFloat(d[2]), height: parseFloat(d[3]) }) } if (u && o != null && l != null && (c = L(u, o, l), !e.ignoreViewBox)) { var p = i; i = new r.a(), i.add(p), p.scaleX = p.scaleY = c.scale, p.x = c.x, p.y = c.y } return e.ignoreRootClip || o == null || l == null || i.setClipPath(new s.a({ shape: { x: 0, y: 0, width: o, height: l } })), { root: i, width: o, height: l, viewBoxRect: u, viewBoxTransform: c } }, t.prototype._parseNode = function (t, e) { var n; var r = t.nodeName.toLowerCase(); if (r === 'defs' ? this._isDefine = !0 : r === 'text' && (this._isText = !0), this._isDefine) { var a = _[r]; if (a) { var o = a.call(this, t); var s = t.getAttribute('id'); s && (this._defs[s] = o) } } else { a = i[r]; a && (n = a.call(this, t, e), e.add(n)) } if (n) { var l = t.firstChild; while (l)l.nodeType === 1 && this._parseNode(l, n), l.nodeType === 3 && this._isText && this._parseText(l, n), l = l.nextSibling }r === 'defs' ? this._isDefine = !1 : r === 'text' && (this._isText = !1) }, t.prototype._parseText = function (t, e) { if (t.nodeType === 1) { var n = t.getAttribute('dx') || 0; var i = t.getAttribute('dy') || 0; this._textX += parseFloat(n), this._textY += parseFloat(i) } var r = new v.a({ style: { text: t.textContent }, x: this._textX || 0, y: this._textY || 0 }); O(e, r), I(t, r, this._defs); var a = r.style; var o = a.fontSize; o && o < 9 && (a.fontSize = 9, r.scaleX *= o / 9, r.scaleY *= o / 9); var s = (a.fontSize || a.fontFamily) && [a.fontStyle, a.fontWeight, (a.fontSize || 12) + 'px', a.fontFamily || 'sans-serif'].join(' '); a.font = s; var l = r.getBoundingRect(); return this._textX += l.width, e.add(r), r }, t.internalField = (function () { i = { g: function (t, e) { var n = new r.a(); return O(e, n), I(t, n, this._defs), n }, rect: function (t, e) { var n = new s.a(); return O(e, n), I(t, n, this._defs), n.setShape({ x: parseFloat(t.getAttribute('x') || '0'), y: parseFloat(t.getAttribute('y') || '0'), width: parseFloat(t.getAttribute('width') || '0'), height: parseFloat(t.getAttribute('height') || '0') }), n }, circle: function (t, e) { var n = new o.a(); return O(e, n), I(t, n, this._defs), n.setShape({ cx: parseFloat(t.getAttribute('cx') || '0'), cy: parseFloat(t.getAttribute('cy') || '0'), r: parseFloat(t.getAttribute('r') || '0') }), n }, line: function (t, e) { var n = new u.a(); return O(e, n), I(t, n, this._defs), n.setShape({ x1: parseFloat(t.getAttribute('x1') || '0'), y1: parseFloat(t.getAttribute('y1') || '0'), x2: parseFloat(t.getAttribute('x2') || '0'), y2: parseFloat(t.getAttribute('y2') || '0') }), n }, ellipse: function (t, e) { var n = new l.a(); return O(e, n), I(t, n, this._defs), n.setShape({ cx: parseFloat(t.getAttribute('cx') || '0'), cy: parseFloat(t.getAttribute('cy') || '0'), rx: parseFloat(t.getAttribute('rx') || '0'), ry: parseFloat(t.getAttribute('ry') || '0') }), n }, polygon: function (t, e) { var n; var i = t.getAttribute('points'); i && (n = S(i)); var r = new h.a({ shape: { points: n || [] } }); return O(e, r), I(t, r, this._defs), r }, polyline: function (t, e) { var n = new c.b(); O(e, n), I(t, n, this._defs); var i; var r = t.getAttribute('points'); r && (i = S(r)); var a = new d.a({ shape: { points: i || [] } }); return a }, image: function (t, e) { var n = new a.a(); return O(e, n), I(t, n, this._defs), n.setStyle({ image: t.getAttribute('xlink:href'), x: +t.getAttribute('x'), y: +t.getAttribute('y'), width: +t.getAttribute('width'), height: +t.getAttribute('height') }), n }, text: function (t, e) { var n = t.getAttribute('x') || '0'; var i = t.getAttribute('y') || '0'; var a = t.getAttribute('dx') || '0'; var o = t.getAttribute('dy') || '0'; this._textX = parseFloat(n) + parseFloat(a), this._textY = parseFloat(i) + parseFloat(o); var s = new r.a(); return O(e, s), I(t, s, this._defs), s }, tspan: function (t, e) { var n = t.getAttribute('x'); var i = t.getAttribute('y'); n != null && (this._textX = parseFloat(n)), i != null && (this._textY = parseFloat(i)); var a = t.getAttribute('dx') || 0; var o = t.getAttribute('dy') || 0; var s = new r.a(); return O(e, s), I(t, s, this._defs), this._textX += a, this._textY += o, s }, path: function (t, e) { var n = t.getAttribute('d') || ''; var i = Object(f.a)(n); return O(e, i), I(t, i, this._defs), i } } }()), t }()); var _ = { lineargradient: function (t) { var e = parseInt(t.getAttribute('x1') || '0', 10); var n = parseInt(t.getAttribute('y1') || '0', 10); var i = parseInt(t.getAttribute('x2') || '10', 10); var r = parseInt(t.getAttribute('y2') || '0', 10); var a = new y.a(e, n, i, r); return w(t, a), a } }; function w (t, e) { var n = t.firstChild; while (n) { if (n.nodeType === 1) { var i = n.getAttribute('offset'); var r = void 0; r = i.indexOf('%') > 0 ? parseInt(i, 10) / 100 : i ? parseFloat(i) : 0; var a = n.getAttribute('stop-color') || '#000000'; e.colorStops.push({ offset: r, color: a }) }n = n.nextSibling } } function O (t, e) { t && t.__inheritedStyle && (e.__inheritedStyle || (e.__inheritedStyle = {}), Object(g.defaults)(e.__inheritedStyle, t.__inheritedStyle)) } function S (t) { for (var e = Object(g.trim)(t).split(m), n = [], i = 0; i < e.length; i += 2) { var r = parseFloat(e[i]); var a = parseFloat(e[i + 1]); n.push([r, a]) } return n } var M = { fill: 'fill', stroke: 'stroke', 'stroke-width': 'lineWidth', opacity: 'opacity', 'fill-opacity': 'fillOpacity', 'stroke-opacity': 'strokeOpacity', 'stroke-dasharray': 'lineDash', 'stroke-dashoffset': 'lineDashOffset', 'stroke-linecap': 'lineCap', 'stroke-linejoin': 'lineJoin', 'stroke-miterlimit': 'miterLimit', 'font-family': 'fontFamily', 'font-size': 'fontSize', 'font-style': 'fontStyle', 'font-weight': 'fontWeight', 'text-align': 'textAlign', 'alignment-baseline': 'textBaseline' }; function I (t, e, n, i) { var r = e; var a = r.__inheritedStyle || {}; if (t.nodeType === 1 && (C(t, e), Object(g.extend)(a, k(t)), !i)) for (var o in M) if (M.hasOwnProperty(o)) { var s = t.getAttribute(o); s != null && (a[M[o]] = s) }r.style = r.style || {}, a.fill != null && (r.style.fill = j(a.fill, n)), a.stroke != null && (r.style.stroke = j(a.stroke, n)), Object(g.each)(['lineWidth', 'opacity', 'fillOpacity', 'strokeOpacity', 'miterLimit', 'fontSize'], function (t) { a[t] != null && (r.style[t] = parseFloat(a[t])) }), a.textBaseline && a.textBaseline !== 'auto' || (a.textBaseline = 'alphabetic'), a.textBaseline === 'alphabetic' && (a.textBaseline = 'bottom'), a.textAlign === 'start' && (a.textAlign = 'left'), a.textAlign === 'end' && (a.textAlign = 'right'), Object(g.each)(['lineDashOffset', 'lineCap', 'lineJoin', 'fontWeight', 'fontFamily', 'fontStyle', 'textAlign', 'textBaseline'], function (t) { a[t] != null && (r.style[t] = a[t]) }), a.lineDash && (r.style.lineDash = Object(g.map)(Object(g.trim)(a.lineDash).split(m), function (t) { return parseFloat(t) })), r.__inheritedStyle = a } var T = /url\(\s*#(.*?)\)/; function j (t, e) { var n = e && t && t.match(T); if (n) { var i = Object(g.trim)(n[1]); var r = e[i]; return r } return t } var A = /(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g; function C (t, e) { var n = t.getAttribute('transform'); if (n) { n = n.replace(/,/g, ' '); var i = []; var r = null; n.replace(A, function (t, e, n) { return i.push(e, n), '' }); for (var a = i.length - 1; a > 0; a -= 2) { var o = i[a]; var s = i[a - 1]; var l = void 0; switch (r = r || p.c(), s) { case 'translate':l = Object(g.trim)(o).split(m), p.i(r, r, [parseFloat(l[0]), parseFloat(l[1] || '0')]); break; case 'scale':l = Object(g.trim)(o).split(m), p.h(r, r, [parseFloat(l[0]), parseFloat(l[1] || l[0])]); break; case 'rotate':l = Object(g.trim)(o).split(m), p.g(r, r, parseFloat(l[0])); break; case 'skew':l = Object(g.trim)(o).split(m); break; case 'matrix':l = Object(g.trim)(o).split(m), r[0] = parseFloat(l[0]), r[1] = parseFloat(l[1]), r[2] = parseFloat(l[2]), r[3] = parseFloat(l[3]), r[4] = parseFloat(l[4]), r[5] = parseFloat(l[5]); break } }e.setLocalTransform(r) } } var D = /([^\s:;]+)\s*:\s*([^:;]+)/g; function k (t) { var e = t.getAttribute('style'); var n = {}; if (!e) return n; var i; var r = {}; D.lastIndex = 0; while ((i = D.exec(e)) != null)r[i[1]] = i[2]; for (var a in M)M.hasOwnProperty(a) && r[a] != null && (n[M[a]] = r[a]); return n } function L (t, e, n) { var i = e / t.width; var r = n / t.height; var a = Math.min(i, r); return { scale: a, x: -(t.x + t.width / 2) * a + e / 2, y: -(t.y + t.height / 2) * a + n / 2 } } function P (t, e) { var n = new x(); return n.parse(t, e) } },
  '27b5': function (t, e, n) { 'use strict'; function i (t, e, n, i, r, a) { if (a > e && a > i || a < e && a < i) return 0; if (i === e) return 0; var o = (a - e) / (i - e); var s = i < e ? 1 : -1; o !== 1 && o !== 0 || (s = i < e ? 0.5 : -0.5); var l = o * (n - t) + t; return l === r ? 1 / 0 : l > r ? s : 0 }n.d(e, 'a', function () { return i }) },
  '27bd': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return r }); var i = n('cc6e'); function r (t, e) { for (var n = 0; n < t.length; n++)t[n][1] || (t[n][1] = t[n][0]); return e = e || !1, function (n, r, a) { for (var o = {}, s = 0; s < t.length; s++) { var l = t[s][1]; if (!(r && i.indexOf(r, l) >= 0 || a && i.indexOf(a, l) < 0)) { var u = n.getShallow(l, e); u != null && (o[t[s][0]] = u) } } return o } } },
  '2b74': function (t, e, n) { 'use strict'; n.d(e, 'i', function () { return r }), n.d(e, 'f', function () { return a }), n.d(e, 'c', function () { return o }), n.d(e, 'e', function () { return s }), n.d(e, 'd', function () { return l }), n.d(e, 'g', function () { return u }), n.d(e, 'h', function () { return c }), n.d(e, 'a', function () { return h }), n.d(e, 'b', function () { return d }); var i = n('cc6e'); var r = Object(i.createHashMap)(['tooltip', 'label', 'itemName', 'itemId', 'seriesName']); var a = 'original'; var o = 'arrayRows'; var s = 'objectRows'; var l = 'keyedColumns'; var u = 'typedArray'; var c = 'unknown'; var h = 'column'; var d = 'row' },
  '2c78': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return r }); var i = n('cc6e'); function r (t) { var e = Object(i.createHashMap)(); t.eachSeries(function (t) { var n = t.get('stack'); if (n) { var i = e.get(n) || e.set(n, []); var r = t.getData(); var a = { stackResultDimension: r.getCalculationInfo('stackResultDimension'), stackedOverDimension: r.getCalculationInfo('stackedOverDimension'), stackedDimension: r.getCalculationInfo('stackedDimension'), stackedByDimension: r.getCalculationInfo('stackedByDimension'), isStackedByIndex: r.getCalculationInfo('isStackedByIndex'), data: r, seriesModel: t }; if (!a.stackedDimension || !a.isStackedByIndex && !a.stackedByDimension) return; i.length && r.setCalculationInfo('stackedOnSeries', i[i.length - 1].seriesModel), i.push(a) } }), e.each(a) } function a (t) { Object(i.each)(t, function (e, n) { var i = []; var r = [NaN, NaN]; var a = [e.stackResultDimension, e.stackedOverDimension]; var o = e.data; var s = e.isStackedByIndex; var l = o.map(a, function (a, l, u) { var c; var h; var d = o.get(e.stackedDimension, u); if (isNaN(d)) return r; s ? h = o.getRawIndex(u) : c = o.get(e.stackedByDimension, u); for (var p = NaN, f = n - 1; f >= 0; f--) { var g = t[f]; if (s || (h = g.data.rawIndexOf(g.stackedByDimension, c)), h >= 0) { var y = g.data.getByRawIndex(g.stackResultDimension, h); if (d >= 0 && y > 0 || d <= 0 && y < 0) { d += y, p = y; break } } } return i[0] = d, i[1] = p, i }); o.hostModel.setData(l), e.data = l }) } },
  '2d84': function (t, e, n) { 'use strict'; var i = n('21a1'); var r = n('1ded'); var a = n('10e1'); var o = n('cc6e'); var s = Object(o.defaults)({ x: 0, y: 0 }, r.b); var l = { style: Object(o.defaults)({ x: !0, y: !0, width: !0, height: !0, sx: !0, sy: !0, sWidth: !0, sHeight: !0 }, r.a.style) }; function u (t) { return !!(t && typeof t !== 'string' && t.width && t.height) } var c = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(i.a)(e, t), e.prototype.createStyle = function (t) { return Object(o.createObject)(s, t) }, e.prototype._getSize = function (t) { var e = this.style; var n = e[t]; if (n != null) return n; var i = u(e.image) ? e.image : this.__image; if (!i) return 0; var r = t === 'width' ? 'height' : 'width'; var a = e[r]; return a == null ? i[t] : i[t] / i[r] * a }, e.prototype.getWidth = function () { return this._getSize('width') }, e.prototype.getHeight = function () { return this._getSize('height') }, e.prototype.getAnimationStyleProps = function () { return l }, e.prototype.getBoundingRect = function () { var t = this.style; return this._rect || (this._rect = new a.a(t.x || 0, t.y || 0, this.getWidth(), this.getHeight())), this._rect }, e }(r.c)); c.prototype.type = 'image', e.a = c },
  '2e4d': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return a }), n.d(e, 'b', function () { return s }); var i = n('cc6e'); var r = (n('dcca'), n('65a1')); function a (t, e) { function n (e, n) { var i = []; return e.eachComponent({ mainType: 'series', subType: t, query: n }, function (t) { i.push(t.seriesIndex) }), i }Object(i.each)([[t + 'ToggleSelect', 'toggleSelect'], [t + 'Select', 'select'], [t + 'UnSelect', 'unselect']], function (t) { e(t[0], function (e, r, a) { e = Object(i.extend)({}, e), a.dispatchAction(Object(i.extend)(e, { type: t[1], seriesIndex: n(r, e) })) }) }) } function o (t, e, n, a, o) { var s = t + e; n.isSilent(s) || a.eachComponent({ mainType: 'series', subType: 'pie' }, function (t) { for (var e = t.seriesIndex, a = o.selected, l = 0; l < a.length; l++) if (a[l].seriesIndex === e) { var u = t.getData(); var c = Object(r.t)(u, o.fromActionPayload); n.trigger(s, { type: s, seriesId: t.id, name: Object(i.isArray)(c) ? u.getName(c[0]) : u.getName(c), selected: Object(i.extend)({}, t.option.selectedMap) }) } }) } function s (t, e, n) { t.on('selectchanged', function (t) { t.isFromClick ? (o('map', 'selectchanged', e, n, t), o('pie', 'selectchanged', e, n, t)) : t.fromAction === 'select' ? (o('map', 'selected', e, n, t), o('pie', 'selected', e, n, t)) : t.fromAction === 'unselect' && (o('map', 'unselected', e, n, t), o('pie', 'unselected', e, n, t)) }) } },
  '335a': function (t, e, n) { 'use strict'; function i (t, e, n) { var i = e.x == null ? 0 : e.x; var r = e.x2 == null ? 1 : e.x2; var a = e.y == null ? 0 : e.y; var o = e.y2 == null ? 0 : e.y2; e.global || (i = i * n.width + n.x, r = r * n.width + n.x, a = a * n.height + n.y, o = o * n.height + n.y), i = isNaN(i) ? 0 : i, r = isNaN(r) ? 1 : r, a = isNaN(a) ? 0 : a, o = isNaN(o) ? 0 : o; var s = t.createLinearGradient(i, a, r, o); return s } function r (t, e, n) { var i = n.width; var r = n.height; var a = Math.min(i, r); var o = e.x == null ? 0.5 : e.x; var s = e.y == null ? 0.5 : e.y; var l = e.r == null ? 0.5 : e.r; e.global || (o = o * i + n.x, s = s * r + n.y, l *= a); var u = t.createRadialGradient(o, s, 0, o, s, l); return u } function a (t, e, n) { for (var a = e.type === 'radial' ? r(t, e, n) : i(t, e, n), o = e.colorStops, s = 0; s < o.length; s++)a.addColorStop(o[s].offset, o[s].color); return a } function o (t, e) { if (t === e || !t && !e) return !1; if (!t || !e || t.length !== e.length) return !0; for (var n = 0; n < t.length; n++) if (t[n] !== e[n]) return !0; return !1 }n.d(e, 'a', function () { return a }), n.d(e, 'b', function () { return o }) },
  '3c03': function (t, e, n) { 'use strict'; function i (t, e) { return t == null && (t = 0), e == null && (e = 0), [t, e] } function r (t, e) { return t[0] = e[0], t[1] = e[1], t } function a (t) { return [t[0], t[1]] } function o (t, e, n) { return t[0] = e, t[1] = n, t } function s (t, e, n) { return t[0] = e[0] + n[0], t[1] = e[1] + n[1], t } function l (t, e, n, i) { return t[0] = e[0] + n[0] * i, t[1] = e[1] + n[1] * i, t } function u (t, e, n) { return t[0] = e[0] - n[0], t[1] = e[1] - n[1], t } function c (t) { return Math.sqrt(h(t)) }n.d(e, 'e', function () { return i }), n.d(e, 'd', function () { return r }), n.d(e, 'c', function () { return a }), n.d(e, 'p', function () { return o }), n.d(e, 'a', function () { return s }), n.d(e, 'o', function () { return l }), n.d(e, 'q', function () { return u }), n.d(e, 'i', function () { return c }), n.d(e, 'n', function () { return d }), n.d(e, 'm', function () { return p }), n.d(e, 'h', function () { return f }), n.d(e, 'f', function () { return g }), n.d(e, 'g', function () { return v }), n.d(e, 'j', function () { return m }), n.d(e, 'b', function () { return b }), n.d(e, 'l', function () { return x }), n.d(e, 'k', function () { return _ }); function h (t) { return t[0] * t[0] + t[1] * t[1] } function d (t, e, n) { return t[0] = e[0] * n, t[1] = e[1] * n, t } function p (t, e) { var n = c(e); return n === 0 ? (t[0] = 0, t[1] = 0) : (t[0] = e[0] / n, t[1] = e[1] / n), t } function f (t, e) { return Math.sqrt((t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1])) } var g = f; function y (t, e) { return (t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1]) } var v = y; function m (t, e, n, i) { return t[0] = e[0] + i * (n[0] - e[0]), t[1] = e[1] + i * (n[1] - e[1]), t } function b (t, e, n) { var i = e[0]; var r = e[1]; return t[0] = n[0] * i + n[2] * r + n[4], t[1] = n[1] * i + n[3] * r + n[5], t } function x (t, e, n) { return t[0] = Math.min(e[0], n[0]), t[1] = Math.min(e[1], n[1]), t } function _ (t, e, n) { return t[0] = Math.max(e[0], n[0]), t[1] = Math.max(e[1], n[1]), t } },
  '3fb5': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return i.a }), n.d(e, 'b', function () { return a.a }); n('cc6e'), n('953f'), n('3c03'), n('8d25'), n('49d3'), n('2740'), n('63e0'), n('e22c'), n('8a3b'); var i = n('d11b'); var r = n('18d3'); var a = (n('2d84'), n('1f5d'), n('cf57'), n('e580')); var o = (n('2488'), n('efd1'), n('7316'), n('df39'), n('21a1')); var s = (function () { function t () { this.cx = 0, this.cy = 0, this.width = 0, this.height = 0 } return t }()); var l = (function (t) { function e (e) { return t.call(this, e) || this } return Object(o.a)(e, t), e.prototype.getDefaultShape = function () { return new s() }, e.prototype.buildPath = function (t, e) { var n = e.cx; var i = e.cy; var r = e.width; var a = e.height; t.moveTo(n, i + r), t.bezierCurveTo(n + r, i + r, n + 3 * r / 2, i - r / 3, n, i - a), t.bezierCurveTo(n - 3 * r / 2, i - r / 3, n - r, i + r, n, i + r), t.closePath() }, e }(r.b)); l.prototype.type = 'droplet'; n('9cc6'); var u = (function () { function t () { this.cx = 0, this.cy = 0, this.width = 0, this.height = 0 } return t }()); var c = (function (t) { function e (e) { return t.call(this, e) || this } return Object(o.a)(e, t), e.prototype.getDefaultShape = function () { return new u() }, e.prototype.buildPath = function (t, e) { var n = e.cx; var i = e.cy; var r = e.width; var a = e.height; t.moveTo(n, i), t.bezierCurveTo(n + r / 2, i - 2 * a / 3, n + 2 * r, i + a / 3, n, i + a), t.bezierCurveTo(n - 2 * r, i + a / 3, n - r / 2, i - 2 * a / 3, n, i) }, e }(r.b)); c.prototype.type = 'heart'; var h = Math.PI; var d = Math.sin; var p = Math.cos; var f = (function () { function t () { this.x = 0, this.y = 0, this.r = 0, this.n = 0 } return t }()); var g = (function (t) { function e (e) { return t.call(this, e) || this } return Object(o.a)(e, t), e.prototype.getDefaultShape = function () { return new f() }, e.prototype.buildPath = function (t, e) { var n = e.n; if (n && !(n < 2)) { var i = e.x; var r = e.y; var a = e.r; var o = 2 * h / n; var s = -h / 2; t.moveTo(i + a * p(s), r + a * d(s)); for (var l = 0, u = n - 1; l < u; l++)s += o, t.lineTo(i + a * p(s), r + a * d(s)); t.closePath() } }, e }(r.b)); g.prototype.type = 'isogon'; n('f61c'), n('7648'), n('ab58'), n('1b19'), n('6679'); var y = Math.sin; var v = Math.cos; var m = Math.PI / 180; var b = (function () { function t () { this.cx = 0, this.cy = 0, this.r = [], this.k = 0, this.n = 1 } return t }()); var x = (function (t) { function e (e) { return t.call(this, e) || this } return Object(o.a)(e, t), e.prototype.getDefaultStyle = function () { return { stroke: '#000', fill: null } }, e.prototype.getDefaultShape = function () { return new b() }, e.prototype.buildPath = function (t, e) { var n; var i; var r; var a = e.r; var o = e.k; var s = e.n; var l = e.cx; var u = e.cy; t.moveTo(l, u); for (var c = 0, h = a.length; c < h; c++) { r = a[c]; for (var d = 0; d <= 360 * s; d++)n = r * y(o / s * d % 360 * m) * v(d * m) + l, i = r * y(o / s * d % 360 * m) * y(d * m) + u, t.lineTo(n, i) } }, e }(r.b)); x.prototype.type = 'rose'; n('9fde'); var _ = Math.PI; var w = Math.cos; var O = Math.sin; var S = (function () { function t () { this.cx = 0, this.cy = 0, this.n = 3, this.r = 0 } return t }()); var M = (function (t) { function e (e) { return t.call(this, e) || this } return Object(o.a)(e, t), e.prototype.getDefaultShape = function () { return new S() }, e.prototype.buildPath = function (t, e) { var n = e.n; if (n && !(n < 2)) { var i = e.cx; var r = e.cy; var a = e.r; var o = e.r0; o == null && (o = n > 4 ? a * w(2 * _ / n) / w(_ / n) : a / 3); var s = _ / n; var l = -_ / 2; var u = i + a * w(l); var c = r + a * O(l); l += s, t.moveTo(u, c); for (var h = 0, d = 2 * n - 1, p = void 0; h < d; h++)p = h % 2 === 0 ? o : a, t.lineTo(i + p * w(l), r + p * O(l)), l += s; t.closePath() } }, e }(r.b)); M.prototype.type = 'star'; var I = Math.cos; var T = Math.sin; var j = (function () { function t () { this.cx = 0, this.cy = 0, this.r = 0, this.r0 = 0, this.d = 0, this.location = 'out' } return t }()); var A = (function (t) { function e (e) { return t.call(this, e) || this } return Object(o.a)(e, t), e.prototype.getDefaultStyle = function () { return { stroke: '#000', fill: null } }, e.prototype.getDefaultShape = function () { return new j() }, e.prototype.buildPath = function (t, e) { var n; var i; var r; var a; var o = e.r; var s = e.r0; var l = e.d; var u = e.cx; var c = e.cy; var h = e.location === 'out' ? 1 : -1; if (!(e.location && o <= s)) { var d; var p = 0; var f = 1; n = (o + h * s) * I(0) - h * l * I(0) + u, i = (o + h * s) * T(0) - l * T(0) + c, t.moveTo(n, i); do { p++ } while (s * p % (o + h * s) !== 0);do { d = Math.PI / 180 * f, r = (o + h * s) * I(d) - h * l * I((o / s + h) * d) + u, a = (o + h * s) * T(d) - l * T((o / s + h) * d) + c, t.lineTo(r, a), f++ } while (f <= s * p / (o + h * s) * 360) } }, e }(r.b)); A.prototype.type = 'trochoid'; n('0236'), n('034a'), (function () { function t (t, e) { this.image = t, this.repeat = e, this.x = 0, this.y = 0, this.rotation = 0, this.scaleX = 1, this.scaleY = 1 } }()), n('10e1'), n('a8a9'), (function () { function t (t) { var e = this.dom = document.createElement('div'); for (var n in e.className = 'ec-debug-dirty-rect', t = Object.assign({}, t), Object.assign(t, { backgroundColor: 'rgba(0, 0, 255, 0.2)', border: '1px solid #00f' }), e.style.cssText = '\nposition: absolute;\nopacity: 0;\ntransition: opacity 0.5s linear;\npointer-events: none;\n', t)t.hasOwnProperty(n) && (e.style[n] = t[n]) }t.prototype.update = function (t) { var e = this.dom.style; e.width = t.width + 'px', e.height = t.height + 'px', e.left = t.x + 'px', e.top = t.y + 'px' }, t.prototype.hide = function () { this.dom.style.opacity = '0' }, t.prototype.show = function (t) { var e = this; clearTimeout(this._hideTimeout), this.dom.style.opacity = '1', this._hideTimeout = setTimeout(function () { e.hide() }, t || 1e3) } }()) },
  '41bb': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return d }); var i = n('254c'); var r = n('9952'); var a = n('cc6e'); var o = n('1f06'); var s = n('74a6'); var l = n('009c'); var u = new i.a(); var c = new r.a(100); var h = ['symbol', 'symbolSize', 'symbolKeepAspect', 'color', 'backgroundColor', 'dashArrayX', 'dashArrayY', 'dashLineOffset', 'maxTileWidth', 'maxTileHeight']; function d (t, e) { if (t === 'none') return null; var n = e.getDevicePixelRatio(); var i = e.getZr(); var r = i.painter.type === 'svg'; t.dirty && u.delete(t); var d = u.get(t); if (d) return d; var m = Object(a.defaults)(t, { symbol: 'rect', symbolSize: 1, symbolKeepAspect: !0, color: 'rgba(0, 0, 0, 0.2)', backgroundColor: null, dashArrayX: 5, dashArrayY: 5, dashLineOffset: 0, rotation: 0, maxTileWidth: 512, maxTileHeight: 512 }); m.backgroundColor === 'none' && (m.backgroundColor = null); var b = { repeat: 'repeat' }; return x(b), b.rotation = m.rotation, b.scaleX = b.scaleY = r ? 1 : 1 / n, u.set(t, b), t.dirty = !1, b; function x (t) { for (var e, u = [n], d = !0, b = 0; b < h.length; ++b) { var x = m[h[b]]; var _ = typeof x; if (x != null && !Object(a.isArray)(x) && _ !== 'string' && _ !== 'number' && _ !== 'boolean') { d = !1; break }u.push(x) } if (d) { e = u.join(',') + (r ? '-svg' : ''); var w = c.get(e); w && (r ? t.svgElement = w : t.image = w) } var O; var S = f(m.dashArrayX); var M = g(m.dashArrayY); var I = p(m.symbol); var T = y(S); var j = v(M); var A = !r && Object(a.createCanvas)(); var C = r && i.painter.createSVGElement('g'); var D = k(); function k () { for (var t = 1, e = 0, n = T.length; e < n; ++e)t = Object(o.getLeastCommonMultiple)(t, T[e]); var i = 1; for (e = 0, n = I.length; e < n; ++e)i = Object(o.getLeastCommonMultiple)(i, I[e].length); t *= i; var r = j * T.length * I.length; return { width: Math.max(1, Math.min(t, m.maxTileWidth)), height: Math.max(1, Math.min(r, m.maxTileHeight)) } } function L () { O && (O.clearRect(0, 0, A.width, A.height), m.backgroundColor && (O.fillStyle = m.backgroundColor, O.fillRect(0, 0, A.width, A.height))); for (var t = 0, e = 0; e < M.length; ++e)t += M[e]; if (!(t <= 0)) { var a = -j; var o = 0; var u = 0; var c = 0; while (a < D.height) { if (o % 2 === 0) { var h = u / 2 % I.length; var d = 0; var p = 0; var f = 0; while (d < 2 * D.width) { var g = 0; for (e = 0; e < S[c].length; ++e)g += S[c][e]; if (g <= 0) break; if (p % 2 === 0) { var y = 0.5 * (1 - m.symbolSize); var v = d + S[c][p] * y; var b = a + M[o] * y; var x = S[c][p] * m.symbolSize; var _ = M[o] * m.symbolSize; var w = f / 2 % I[h].length; T(v, b, x, _, I[h][w]) }d += S[c][p], ++f, ++p, p === S[c].length && (p = 0) }++c, c === S.length && (c = 0) }a += M[o], ++u, ++o, o === M.length && (o = 0) } } function T (t, e, a, o, u) { var c = r ? 1 : n; var h = Object(s.a)(u, t * c, e * c, a * c, o * c, m.color, m.symbolKeepAspect); r ? C.appendChild(i.painter.paintOne(h)) : Object(l.b)(O, h) } }A && (A.width = D.width * n, A.height = D.height * n, O = A.getContext('2d')), L(), d && c.put(e, A || C), t.image = A, t.svgElement = C, t.svgWidth = D.width, t.svgHeight = D.height } } function p (t) { if (!t || t.length === 0) return [['rect']]; if (typeof t === 'string') return [[t]]; for (var e = !0, n = 0; n < t.length; ++n) if (typeof t[n] !== 'string') { e = !1; break } if (e) return p([t]); var i = []; for (n = 0; n < t.length; ++n) typeof t[n] === 'string' ? i.push([t[n]]) : i.push(t[n]); return i } function f (t) { if (!t || t.length === 0) return [[0, 0]]; if (typeof t === 'number') { var e = Math.ceil(t); return [[e, e]] } for (var n = !0, i = 0; i < t.length; ++i) if (typeof t[i] !== 'number') { n = !1; break } if (n) return f([t]); var r = []; for (i = 0; i < t.length; ++i) if (typeof t[i] === 'number') { e = Math.ceil(t[i]); r.push([e, e]) } else { e = Object(a.map)(t[i], function (t) { return Math.ceil(t) }); e.length % 2 === 1 ? r.push(e.concat(e)) : r.push(e) } return r } function g (t) { if (!t || typeof t === 'object' && t.length === 0) return [0, 0]; if (typeof t === 'number') { var e = Math.ceil(t); return [e, e] } var n = Object(a.map)(t, function (t) { return Math.ceil(t) }); return t.length % 2 ? n.concat(n) : n } function y (t) { return Object(a.map)(t, function (t) { return v(t) }) } function v (t) { for (var e = 0, n = 0; n < t.length; ++n)e += t[n]; return t.length % 2 === 1 ? 2 * e : e } },
  '423d': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return s }); var i = n('cc6e'); var r = n('a2b2'); var a = n('949c'); var o = Math.PI; function s (t, e) { e = e || {}, i.defaults(e, { text: 'loading', textColor: '#000', fontSize: '12px', maskColor: 'rgba(255, 255, 255, 0.8)', showSpinner: !0, color: '#5470c6', spinnerRadius: 10, lineWidth: 5, zlevel: 0 }); var n = new r.Group(); var s = new r.Rect({ style: { fill: e.maskColor }, zlevel: e.zlevel, z: 1e4 }); n.add(s); var l; var u = e.fontSize + ' sans-serif'; var c = new r.Rect({ style: { fill: 'none' }, textContent: new r.Text({ style: { text: e.text, fill: e.textColor, font: u } }), textConfig: { position: 'right', distance: 10 }, zlevel: e.zlevel, z: 10001 }); return n.add(c), e.showSpinner && (l = new r.Arc({ shape: { startAngle: -o / 2, endAngle: -o / 2 + 0.1, r: e.spinnerRadius }, style: { stroke: e.color, lineCap: 'round', lineWidth: e.lineWidth }, zlevel: e.zlevel, z: 10001 }), l.animateShape(!0).when(1e3, { endAngle: 3 * o / 2 }).start('circularInOut'), l.animateShape(!0).when(1e3, { startAngle: 3 * o / 2 }).delay(300).start('circularInOut'), n.add(l)), n.resize = function () { var n = a.g(e.text, u); var i = e.showSpinner ? e.spinnerRadius : 0; var r = (t.getWidth() - 2 * i - (e.showSpinner && n ? 10 : 0) - n) / 2 - (e.showSpinner ? 0 : n / 2); var o = t.getHeight() / 2; e.showSpinner && l.setShape({ cx: r, cy: o }), c.setShape({ x: r - i, y: o - i, width: 2 * i, height: 2 * i }), s.setShape({ x: 0, y: 0, width: t.getWidth(), height: t.getHeight() }) }, n.resize(), n } },
  '473a': function (t, e, n) { 'use strict'; var i = n('cc6e'); var r = ['getDom', 'getZr', 'getWidth', 'getHeight', 'getDevicePixelRatio', 'dispatchAction', 'isDisposed', 'on', 'off', 'getDataURL', 'getConnectedDataURL', 'getOption', 'getId', 'updateLabelLayout']; var a = (function () { function t (t) { i.each(r, function (e) { this[e] = i.bind(t[e], t) }, this) } return t }()); e.a = a },
  4826: function (t, e, n) {},
  '49d3': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return T }), n.d(e, 'b', function () { return j }), n.d(e, 'c', function () { return A }); var i = n('21a1'); var r = n('18d3'); var a = n('6dc4'); var o = n('3c03'); var s = a.a.CMD; var l = [[], [], []]; var u = Math.sqrt; var c = Math.atan2; function h (t, e) { var n; var i; var r; var a; var h; var d; var p = t.data; var f = t.len(); var g = s.M; var y = s.C; var v = s.L; var m = s.R; var b = s.A; var x = s.Q; for (r = 0, a = 0; r < f;) { switch (n = p[r++], a = r, i = 0, n) { case g:i = 1; break; case v:i = 1; break; case y:i = 3; break; case x:i = 2; break; case b:var _ = e[4]; var w = e[5]; var O = u(e[0] * e[0] + e[1] * e[1]); var S = u(e[2] * e[2] + e[3] * e[3]); var M = c(-e[1] / S, e[0] / O); p[r] *= O, p[r++] += _, p[r] *= S, p[r++] += w, p[r++] *= O, p[r++] *= S, p[r++] += M, p[r++] += M, r += 2, a = r; break; case m:d[0] = p[r++], d[1] = p[r++], Object(o.b)(d, d, e), p[a++] = d[0], p[a++] = d[1], d[0] += p[r++], d[1] += p[r++], Object(o.b)(d, d, e), p[a++] = d[0], p[a++] = d[1] } for (h = 0; h < i; h++) { var I = l[h]; I[0] = p[r++], I[1] = p[r++], Object(o.b)(I, I, e), p[a++] = I[0], p[a++] = I[1] } }t.increaseVersion() } var d = n('cc6e'); var p = Math.sqrt; var f = Math.sin; var g = Math.cos; var y = Math.PI; function v (t) { return Math.sqrt(t[0] * t[0] + t[1] * t[1]) } function m (t, e) { return (t[0] * e[0] + t[1] * e[1]) / (v(t) * v(e)) } function b (t, e) { return (t[0] * e[1] < t[1] * e[0] ? -1 : 1) * Math.acos(m(t, e)) } function x (t, e, n, i, r, a, o, s, l, u, c) { var h = l * (y / 180); var d = g(h) * (t - n) / 2 + f(h) * (e - i) / 2; var v = -1 * f(h) * (t - n) / 2 + g(h) * (e - i) / 2; var x = d * d / (o * o) + v * v / (s * s); x > 1 && (o *= p(x), s *= p(x)); var _ = (r === a ? -1 : 1) * p((o * o * (s * s) - o * o * (v * v) - s * s * (d * d)) / (o * o * (v * v) + s * s * (d * d))) || 0; var w = _ * o * v / s; var O = _ * -s * d / o; var S = (t + n) / 2 + g(h) * w - f(h) * O; var M = (e + i) / 2 + f(h) * w + g(h) * O; var I = b([1, 0], [(d - w) / o, (v - O) / s]); var T = [(d - w) / o, (v - O) / s]; var j = [(-1 * d - w) / o, (-1 * v - O) / s]; var A = b(T, j); if (m(T, j) <= -1 && (A = y), m(T, j) >= 1 && (A = 0), A < 0) { var C = Math.round(A / y * 1e6) / 1e6; A = 2 * y + C % 2 * y }c.addData(u, S, M, o, s, I, A, h, a) } var _ = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi; var w = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g; function O (t) { if (!t) return new a.a(); for (var e, n = 0, i = 0, r = n, o = i, s = new a.a(), l = a.a.CMD, u = t.match(_), c = 0; c < u.length; c++) { for (var h = u[c], d = h.charAt(0), p = void 0, f = h.match(w) || [], g = f.length, y = 0; y < g; y++)f[y] = parseFloat(f[y]); var v = 0; while (v < g) { var m = void 0; var b = void 0; var O = void 0; var S = void 0; var M = void 0; var I = void 0; var T = void 0; var j = n; var A = i; var C = void 0; var D = void 0; switch (d) { case 'l':n += f[v++], i += f[v++], p = l.L, s.addData(p, n, i); break; case 'L':n = f[v++], i = f[v++], p = l.L, s.addData(p, n, i); break; case 'm':n += f[v++], i += f[v++], p = l.M, s.addData(p, n, i), r = n, o = i, d = 'l'; break; case 'M':n = f[v++], i = f[v++], p = l.M, s.addData(p, n, i), r = n, o = i, d = 'L'; break; case 'h':n += f[v++], p = l.L, s.addData(p, n, i); break; case 'H':n = f[v++], p = l.L, s.addData(p, n, i); break; case 'v':i += f[v++], p = l.L, s.addData(p, n, i); break; case 'V':i = f[v++], p = l.L, s.addData(p, n, i); break; case 'C':p = l.C, s.addData(p, f[v++], f[v++], f[v++], f[v++], f[v++], f[v++]), n = f[v - 2], i = f[v - 1]; break; case 'c':p = l.C, s.addData(p, f[v++] + n, f[v++] + i, f[v++] + n, f[v++] + i, f[v++] + n, f[v++] + i), n += f[v - 2], i += f[v - 1]; break; case 'S':m = n, b = i, C = s.len(), D = s.data, e === l.C && (m += n - D[C - 4], b += i - D[C - 3]), p = l.C, j = f[v++], A = f[v++], n = f[v++], i = f[v++], s.addData(p, m, b, j, A, n, i); break; case 's':m = n, b = i, C = s.len(), D = s.data, e === l.C && (m += n - D[C - 4], b += i - D[C - 3]), p = l.C, j = n + f[v++], A = i + f[v++], n += f[v++], i += f[v++], s.addData(p, m, b, j, A, n, i); break; case 'Q':j = f[v++], A = f[v++], n = f[v++], i = f[v++], p = l.Q, s.addData(p, j, A, n, i); break; case 'q':j = f[v++] + n, A = f[v++] + i, n += f[v++], i += f[v++], p = l.Q, s.addData(p, j, A, n, i); break; case 'T':m = n, b = i, C = s.len(), D = s.data, e === l.Q && (m += n - D[C - 4], b += i - D[C - 3]), n = f[v++], i = f[v++], p = l.Q, s.addData(p, m, b, n, i); break; case 't':m = n, b = i, C = s.len(), D = s.data, e === l.Q && (m += n - D[C - 4], b += i - D[C - 3]), n += f[v++], i += f[v++], p = l.Q, s.addData(p, m, b, n, i); break; case 'A':O = f[v++], S = f[v++], M = f[v++], I = f[v++], T = f[v++], j = n, A = i, n = f[v++], i = f[v++], p = l.A, x(j, A, n, i, I, T, O, S, M, p, s); break; case 'a':O = f[v++], S = f[v++], M = f[v++], I = f[v++], T = f[v++], j = n, A = i, n += f[v++], i += f[v++], p = l.A, x(j, A, n, i, I, T, O, S, M, p, s); break } }d !== 'z' && d !== 'Z' || (p = l.Z, s.addData(p), n = r, i = o), e = p } return s.toStatic(), s } var S = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(i.a)(e, t), e.prototype.applyTransform = function (t) {}, e }(r.b)); function M (t) { return t.setData != null } function I (t, e) { var n = O(t); var i = Object(d.extend)({}, e); return i.buildPath = function (t) { if (M(t)) { t.setData(n.data); var e = t.getContext(); e && t.rebuildPath(e, 1) } else { e = t; n.rebuildPath(e, 1) } }, i.applyTransform = function (t) { h(n, t), this.dirtyShape() }, i } function T (t, e) { return new S(I(t, e)) } function j (t, e) { var n = I(t, e); var r = (function (t) { function e (e) { var i = t.call(this, e) || this; return i.applyTransform = n.applyTransform, i.buildPath = n.buildPath, i } return Object(i.a)(e, t), e }(S)); return r } function A (t, e) { for (var n = [], i = t.length, a = 0; a < i; a++) { var o = t[a]; o.path || o.createPathProxy(), o.shapeChanged() && o.buildPath(o.path, o.shape, !0), n.push(o.path) } var s = new r.b(e); return s.createPathProxy(), s.buildPath = function (t) { if (M(t)) { t.appendPath(n); var e = t.getContext(); e && t.rebuildPath(e, 1) } }, s } },
  '4d45': function (t, e, n) { 'use strict'; n.d(e, 'e', function () { return r }), n.d(e, 'b', function () { return a }), n.d(e, 'a', function () { return o }), n.d(e, 'd', function () { return s }), n.d(e, 'c', function () { return l }); var i = 1; typeof window !== 'undefined' && (i = Math.max(window.devicePixelRatio || window.screen.deviceXDPI / window.screen.logicalXDPI || 1, 1)); var r = i; var a = 0.4; var o = '#333'; var s = '#ccc'; var l = '#eee' },
  5319: function (t, e, n) { 'use strict'; var i = n('d784'); var r = n('825a'); var a = n('7b0b'); var o = n('50c4'); var s = n('a691'); var l = n('1d80'); var u = n('8aa5'); var c = n('14c3'); var h = Math.max; var d = Math.min; var p = Math.floor; var f = /\$([$&'`]|\d\d?|<[^>]*>)/g; var g = /\$([$&'`]|\d\d?)/g; var y = function (t) { return void 0 === t ? t : String(t) }; i('replace', 2, function (t, e, n, i) { var v = i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE; var m = i.REPLACE_KEEPS_$0; var b = v ? '$' : '$0'; return [function (n, i) { var r = l(this); var a = void 0 == n ? void 0 : n[t]; return void 0 !== a ? a.call(n, r, i) : e.call(String(r), n, i) }, function (t, i) { if (!v && m || typeof i === 'string' && i.indexOf(b) === -1) { var a = n(e, t, this, i); if (a.done) return a.value } var l = r(t); var p = String(this); var f = typeof i === 'function'; f || (i = String(i)); var g = l.global; if (g) { var _ = l.unicode; l.lastIndex = 0 } var w = []; while (1) { var O = c(l, p); if (O === null) break; if (w.push(O), !g) break; var S = String(O[0]); S === '' && (l.lastIndex = u(p, o(l.lastIndex), _)) } for (var M = '', I = 0, T = 0; T < w.length; T++) { O = w[T]; for (var j = String(O[0]), A = h(d(s(O.index), p.length), 0), C = [], D = 1; D < O.length; D++)C.push(y(O[D])); var k = O.groups; if (f) { var L = [j].concat(C, A, p); void 0 !== k && L.push(k); var P = String(i.apply(void 0, L)) } else P = x(j, p, A, C, k, i); A >= I && (M += p.slice(I, A) + P, I = A + j.length) } return M + p.slice(I) }]; function x (t, n, i, r, o, s) { var l = i + t.length; var u = r.length; var c = g; return void 0 !== o && (o = a(o), c = f), e.call(s, c, function (e, a) { var s; switch (a.charAt(0)) { case '$':return '$'; case '&':return t; case '`':return n.slice(0, i); case "'":return n.slice(l); case '<':s = o[a.slice(1, -1)]; break; default:var c = +a; if (c === 0) return e; if (c > u) { var h = p(c / 10); return h === 0 ? e : h <= u ? void 0 === r[h - 1] ? a.charAt(1) : r[h - 1] + a.charAt(1) : e }s = r[c - 1] } return void 0 === s ? '' : s }) } }) },
  5395: function (t, e, n) { 'use strict'; var i = (function () { function t (t) { t && (this._$eventProcessor = t) } return t.prototype.on = function (t, e, n, i) { this._$handlers || (this._$handlers = {}); var r = this._$handlers; if (typeof e === 'function' && (i = n, n = e, e = null), !n || !t) return this; var a = this._$eventProcessor; e != null && a && a.normalizeQuery && (e = a.normalizeQuery(e)), r[t] || (r[t] = []); for (var o = 0; o < r[t].length; o++) if (r[t][o].h === n) return this; var s = { h: n, query: e, ctx: i || this, callAtLast: n.zrEventfulCallAtLast }; var l = r[t].length - 1; var u = r[t][l]; return u && u.callAtLast ? r[t].splice(l, 0, s) : r[t].push(s), this }, t.prototype.isSilent = function (t) { var e = this._$handlers; return !e || !e[t] || !e[t].length }, t.prototype.off = function (t, e) { var n = this._$handlers; if (!n) return this; if (!t) return this._$handlers = {}, this; if (e) { if (n[t]) { for (var i = [], r = 0, a = n[t].length; r < a; r++)n[t][r].h !== e && i.push(n[t][r]); n[t] = i }n[t] && n[t].length === 0 && delete n[t] } else delete n[t]; return this }, t.prototype.trigger = function (t) { for (var e = [], n = 1; n < arguments.length; n++)e[n - 1] = arguments[n]; if (!this._$handlers) return this; var i = this._$handlers[t]; var r = this._$eventProcessor; if (i) for (var a = e.length, o = i.length, s = 0; s < o; s++) { var l = i[s]; if (!r || !r.filter || l.query == null || r.filter(t, l.query)) switch (a) { case 0:l.h.call(l.ctx); break; case 1:l.h.call(l.ctx, e[0]); break; case 2:l.h.call(l.ctx, e[0], e[1]); break; default:l.h.apply(l.ctx, e); break } } return r && r.afterTrigger && r.afterTrigger(t), this }, t.prototype.triggerWithContext = function (t) { if (!this._$handlers) return this; var e = this._$handlers[t]; var n = this._$eventProcessor; if (e) for (var i = arguments, r = i.length, a = i[r - 1], o = e.length, s = 0; s < o; s++) { var l = e[s]; if (!n || !n.filter || l.query == null || n.filter(t, l.query)) switch (r) { case 0:l.h.call(a); break; case 1:l.h.call(a, i[0]); break; case 2:l.h.call(a, i[0], i[1]); break; default:l.h.apply(a, i.slice(1, r - 1)); break } } return n && n.afterTrigger && n.afterTrigger(t), this }, t }()); e.a = i },
  '553b': function (t, e, n) { 'use strict'; function i (t, e, n) { var i; while (t) { if (e(t) && (i = t, n)) break; t = t.__hostTarget || t.parent } return i }n.d(e, 'a', function () { return i }) },
  '5ea5': function (t, e, n) { 'use strict'; n.d(e, 'b', function () { return a }), n.d(e, 'a', function () { return o }), n.d(e, 'c', function () { return l }); var i = n('9952'); var r = new i.a(50); function a (t) { if (typeof t === 'string') { var e = r.get(t); return e && e.image } return t } function o (t, e, n, i, a) { if (t) { if (typeof t === 'string') { if (e && e.__zrImageSrc === t || !n) return e; var o = r.get(t); var u = { hostEl: n, cb: i, cbPayload: a }; return o ? (e = o.image, !l(e) && o.pending.push(u)) : (e = new Image(), e.onload = e.onerror = s, r.put(t, e.__cachedImgObj = { image: e, pending: [u] }), e.src = e.__zrImageSrc = t), e } return t } return e } function s () { var t = this.__cachedImgObj; this.onload = this.onerror = this.__cachedImgObj = null; for (var e = 0; e < t.pending.length; e++) { var n = t.pending[e]; var i = n.cb; i && i(this, n.cbPayload), n.hostEl.dirty() }t.pending.length = 0 } function l (t) { return t && t.width && t.height } },
  '61e4': function (t, e, n) { 'use strict'; n.d(e, 'b', function () { return s }), n.d(e, 'a', function () { return o }); var i = n('65a1'); var r = Object(i.o)(); var a = Object(i.o)(); var o = (function () { function t () {} return t.prototype.getColorFromPalette = function (t, e, n) { var a = Object(i.r)(this.get('color', !0)); var o = this.get('colorLayer', !0); return u(this, r, a, o, t, e, n) }, t.prototype.clearColorPalette = function () { c(this, r) }, t }()); function s (t, e, n, r) { var o = Object(i.r)(t.get(['aria', 'decal', 'decals'])); return u(t, a, o, null, e, n, r) } function l (t, e) { for (var n = t.length, i = 0; i < n; i++) if (t[i].length > e) return t[i]; return t[n - 1] } function u (t, e, n, i, r, a, o) { a = a || t; var s = e(a); var u = s.paletteIdx || 0; var c = s.paletteNameMap = s.paletteNameMap || {}; if (c.hasOwnProperty(r)) return c[r]; var h = o != null && i ? l(i, o) : n; if (h = h || n, h && h.length) { var d = h[u]; return r && (c[r] = d), s.paletteIdx = (u + 1) % h.length, d } } function c (t, e) { e(t).paletteIdx = 0, e(t).paletteNameMap = {} } },
  '63e0': function (t, e, n) { 'use strict'; n.d(e, 'd', function () { return O }), n.d(e, 'b', function () { return A }), n.d(e, 'c', function () { return C }), n.d(e, 'a', function () { return D }), n.d(e, 'e', function () { return B }); var i = n('6dc4'); var r = n('6af1'); var a = n('cc6e'); var o = n('3c03'); var s = n('1b19'); var l = n('9fde'); var u = i.a.CMD; var c = 2 * Math.PI; var h = ['x', 'y']; var d = ['width', 'height']; var p = []; function f (t, e) { return Math.abs(t - e) < 1e-5 } function g (t) { var e; var n; var i; var r; var a; var o = t.data; var s = t.len(); var l = []; var c = 0; var h = 0; var d = 0; var p = 0; function g (t, n) { e && e.length > 2 && l.push(e), e = [t, n] } function y (t, n, i, r) { f(t, i) && f(n, r) || e.push(t, n, i, r, i, r) } function v (t, n, i, r, a, o) { var s = Math.abs(n - t); var l = 4 * Math.tan(s / 4) / 3; var u = n < t ? -1 : 1; var c = Math.cos(t); var h = Math.sin(t); var d = Math.cos(n); var p = Math.sin(n); var f = c * a + i; var g = h * o + r; var y = d * a + i; var v = p * o + r; var m = a * l * u; var b = o * l * u; e.push(f - m * h, g + b * c, y + m * p, v - b * d, y, v) } for (var m = 0; m < s;) { var b = o[m++]; var x = m === 1; switch (x && (c = o[m], h = o[m + 1], d = c, p = h, b !== u.L && b !== u.C && b !== u.Q || (e = [d, p])), b) { case u.M:c = d = o[m++], h = p = o[m++], g(d, p); break; case u.L:n = o[m++], i = o[m++], y(c, h, n, i), c = n, h = i; break; case u.C:e.push(o[m++], o[m++], o[m++], o[m++], c = o[m++], h = o[m++]); break; case u.Q:n = o[m++], i = o[m++], r = o[m++], a = o[m++], e.push(c + 2 / 3 * (n - c), h + 2 / 3 * (i - h), r + 2 / 3 * (n - r), a + 2 / 3 * (i - a), r, a), c = r, h = a; break; case u.A:var _ = o[m++]; var w = o[m++]; var O = o[m++]; var S = o[m++]; var M = o[m++]; var I = o[m++] + M; m += 1; var T = !o[m++]; n = Math.cos(M) * O + _, i = Math.sin(M) * S + w, x ? (d = n, p = i, g(d, p)) : y(c, h, n, i), c = Math.cos(I) * O + _, h = Math.sin(I) * S + w; for (var j = (T ? -1 : 1) * Math.PI / 2, A = M; T ? A > I : A < I; A += j) { var C = T ? Math.max(A + j, I) : Math.min(A + j, I); v(A, C, _, w, O, S) } break; case u.R:d = c = o[m++], p = h = o[m++], n = d + o[m++], i = p + o[m++], g(n, p), y(n, p, n, i), y(n, i, d, i), y(d, i, d, p), y(d, p, n, p); break; case u.Z:e && y(c, h, d, p), c = d, h = p; break } } return e && e.length > 2 && l.push(e), l } function y (t, e) { var n = t.length; var i = e.length; if (n === i) return [t, e]; for (var a = n < i ? t : e, o = Math.min(n, i), s = Math.abs(i - n) / 6, l = (o - 2) / 6, u = Math.ceil(s / l) + 1, c = [a[0], a[1]], h = s, d = [], p = [], f = 2; f < o;) { var g = a[f - 2]; var y = a[f - 1]; var v = a[f++]; var m = a[f++]; var b = a[f++]; var x = a[f++]; var _ = a[f++]; var w = a[f++]; if (h <= 0)c.push(v, m, b, x, _, w); else { for (var O = Math.min(h, u - 1) + 1, S = 1; S <= O; S++) { var M = S / O; Object(r.g)(g, v, b, _, M, d), Object(r.g)(y, m, x, w, M, p), g = d[3], y = p[3], c.push(d[1], p[1], d[2], p[2], g, y), v = d[5], m = p[5], b = d[6], x = p[6] }h -= O - 1 } } return a === t ? [c, e] : [t, c] } function v (t, e) { for (var n = t.length, i = t[n - 2], r = t[n - 1], a = [], o = 0; o < e.length;)a[o++] = i, a[o++] = r; return a } function m (t, e) { for (var n, i, r, a = [], o = [], s = 0; s < Math.max(t.length, e.length); s++) { var l = t[s]; var u = e[s]; var c = void 0; var h = void 0; l ? u ? (n = y(l, u), c = n[0], h = n[1], i = c, r = h) : (h = v(r || l, l), c = l) : (c = v(i || u, u), h = u), a.push(c), o.push(h) } return [a, o] } function b (t) { for (var e = 0, n = 0, i = 0, r = t.length, a = 0, o = r - 2; a < r; o = a, a += 2) { var s = t[o]; var l = t[o + 1]; var u = t[a]; var c = t[a + 1]; var h = s * c - u * l; e += h, n += (s + u) * h, i += (l + c) * h } return e === 0 ? [t[0] || 0, t[1] || 0] : [n / e / 3, i / e / 3, e] } function x (t, e, n, i) { for (var r = (t.length - 2) / 6, a = 1 / 0, o = 0, s = t.length, l = s - 2, u = 0; u < r; u++) { for (var c = 6 * u, h = 0, d = 0; d < s; d += 2) { var p = d === 0 ? c : (c + d - 2) % l + 2; var f = t[p] - n[0]; var g = t[p + 1] - n[1]; var y = e[d] - i[0]; var v = e[d + 1] - i[1]; var m = y - f; var b = v - g; h += m * m + b * b }h < a && (a = h, o = u) } return o } function _ (t) { for (var e = [], n = t.length, i = 0; i < n; i += 2)e[i] = t[n - i - 2], e[i + 1] = t[n - i - 1]; return e } function w (t, e, n, i) { for (var r, a = [], o = 0; o < t.length; o++) { var s = t[o]; var l = e[o]; var u = b(s); var c = b(l); r == null && (r = u[2] < 0 !== c[2] < 0); var h = []; var d = []; var p = 0; var f = 1 / 0; var g = []; var y = s.length; r && (s = _(s)); for (var v = 6 * x(s, l, u, c), m = y - 2, w = 0; w < m; w += 2) { var O = (v + w) % m + 2; h[w + 2] = s[O] - u[0], h[w + 3] = s[O + 1] - u[1] } if (h[0] = s[v] - u[0], h[1] = s[v + 1] - u[1], n > 0) for (var S = i / n, M = -i / 2; M <= i / 2; M += S) { var I = Math.sin(M); var T = Math.cos(M); var j = 0; for (w = 0; w < s.length; w += 2) { var A = h[w]; var C = h[w + 1]; var D = l[w] - c[0]; var k = l[w + 1] - c[1]; var L = D * T - k * I; var P = D * I + k * T; g[w] = L, g[w + 1] = P; var R = L - A; var N = P - C; j += R * R + N * N } if (j < f) { f = j, p = M; for (var E = 0; E < g.length; E++)d[E] = g[E] } } else for (var z = 0; z < y; z += 2)d[z] = l[z] - c[0], d[z + 1] = l[z + 1] - c[1]; a.push({ from: h, to: d, fromCp: u, toCp: c, rotation: -p }) } return a } function O (t, e, n) { var r, o; if (!t || !e) return e; !t.path && t.createPathProxy(), r = t.path, r.beginPath(), t.buildPath(r, t.shape), !e.path && e.createPathProxy(), o = e.path, o === r && (o = new i.a(!1)), o.beginPath(), j(e) ? e.__oldBuildPath(o, e.shape) : e.buildPath(o, e.shape); var s = m(g(r), g(o)); var l = s[0]; var u = s[1]; var c = w(l, u, 10, Math.PI); M(e, c, 0); var h = n && n.done; var d = n && n.aborted; var p = n && n.during; return e.animateTo({ __morphT: 1 }, Object(a.defaults)({ during: function (t) { e.dirtyShape(), p && p(t) }, done: function () { T(e), e.createPathProxy(), e.dirtyShape(), h && h() }, aborted: function () { d && d() } }, n)), e } function S (t) { for (var e = this.__morphingData, n = this.__morphT, i = 1 - n, r = [], a = 0; a < e.length; a++) { var s = e[a]; var l = s.from; var u = s.to; var c = s.rotation * n; var h = s.fromCp; var d = s.toCp; var f = Math.sin(c); var g = Math.cos(c); Object(o.j)(r, h, d, n); for (var y = 0; y < l.length; y += 2) { var v = l[y]; var m = l[y + 1]; var b = u[y]; var x = u[y + 1]; var _ = v * i + b * n; var w = m * i + x * n; p[y] = _ * g - w * f + r[0], p[y + 1] = _ * f + w * g + r[1] } for (y = 0; y < l.length;)y === 0 && t.moveTo(p[y++], p[y++]), t.bezierCurveTo(p[y++], p[y++], p[y++], p[y++], p[y++], p[y++]) } } function M (t, e, n) { if (j(t))I(t, e, n); else { var i = t; i.__oldBuildPath = i.buildPath, i.buildPath = S, I(i, e, n) } } function I (t, e, n) { t.__morphingData = e, t.__morphT = n } function T (t) { j(t) && (t.buildPath = t.__oldBuildPath, t.__oldBuildPath = t.__morphingData = null) } function j (t) { return t.__oldBuildPath != null } function A (t) { return !!t.__combiningSubList } function C (t) { return j(t) || A(t) } function D (t, e, n, i) { for (var r = [], o = 0, s = 0; s < t.length; s++) { var l = t[s]; if (A(l)) { for (var u = l.__combiningSubList, c = 0; c < u.length; c++)r.push(u[c]); o += u.length } else r.push(l), o++ } if (o) { var h = n ? n.dividingMethod : null; var d = V(e, o, h); Object(a.assert)(d.length === o); var p = n && n.done; var f = n && n.aborted; var g = n && n.during; var y = 0; var v = !1; var m = Object(a.defaults)({ during: function (t) { g && g(t) }, done: function () { y++, y === d.length && (L(e), p && p()) }, aborted: function () { v || (v = !0, f && f()) } }, n); for (s = 0; s < o; s++) { var b = r[s]; var x = d[s]; i && i(e, x, !0), O(b, x, m) } return k(e, d), { fromIndividuals: r, toIndividuals: d, count: o } } } function k (t, e) { if (A(t))P(t, e); else { var n = t; P(n, e), n.__oldAddSelfToZr = t.addSelfToZr, n.__oldRemoveSelfFromZr = t.removeSelfFromZr, n.addSelfToZr = R, n.removeSelfFromZr = E, n.__oldBuildPath = n.buildPath, n.buildPath = a.noop, n.childrenRef = z } } function L (t) { if (A(t)) { var e = t; P(e, null), e.addSelfToZr = e.__oldAddSelfToZr, e.removeSelfFromZr = e.__oldRemoveSelfFromZr, e.buildPath = e.__oldBuildPath, e.childrenRef = e.__combiningSubList = e.__oldAddSelfToZr = e.__oldRemoveSelfFromZr = e.__oldBuildPath = null } } function P (t, e) { if (t.__combiningSubList !== e) { if (N(t, 'removeSelfFromZr'), t.__combiningSubList = e, e) for (var n = 0; n < e.length; n++)e[n].parent = t; N(t, 'addSelfToZr') } } function R (t) { this.__oldAddSelfToZr(t), N(this, 'addSelfToZr') } function N (t, e) { var n = t.__combiningSubList; var i = t.__zr; if (n && i) for (var r = 0; r < n.length; r++) { var a = n[r]; a[e](i) } } function E (t) { this.__oldRemoveSelfFromZr(t); for (var e = this.__combiningSubList, n = 0; n < e.length; n++) { var i = e[n]; i.removeSelfFromZr(t) } } function z () { return this.__combiningSubList } function B (t, e, n, i) { var r; var o = e.length; var s = n ? n.dividingMethod : null; var l = !1; if (A(t)) { var u = t.__combiningSubList; u.length === o ? r = u : (r = V(t, o, s), l = !0) } else r = V(t, o, s), l = !0; Object(a.assert)(r.length === o); for (var c = 0; c < o; c++)l && i && i(t, r[c], !1), O(r[c], e[c], n); return { fromIndividuals: r, toIndividuals: e, count: o } } function V (t, e, n) { return n === 'duplicate' ? G(t, e) : F(t, e) } function F (t, e) { var n = []; if (e <= 0) return n; if (e === 1) return G(t, e); if (t instanceof s.a) for (var i = t.shape, r = i.height > i.width ? 1 : 0, a = d[r], o = h[r], u = i[a] / e, c = i[o], p = 0; p < e; p++, c += u) { var f = { x: i.x, y: i.y, width: i.width, height: i.height }; f[o] = c, f[a] = p < e - 1 ? u : i[o] + i[a] - c; var g = new s.a({ shape: f }); n.push(g) } else { if (!(t instanceof l.a)) return G(t, e); i = t.shape; var y = i.clockwise; var v = i.startAngle; var m = i.endAngle; var b = H(v, i.endAngle, y); var x = (b - v) / e; var _ = v; for (p = 0; p < e; p++, _ += x) { g = new l.a({ shape: { cx: i.cx, cy: i.cy, r: i.r, r0: i.r0, clockwise: y, startAngle: _, endAngle: p === e - 1 ? m : _ + x } }); n.push(g) } } return n } function G (t, e) { var n = []; if (e <= 0) return n; for (var i = t.constructor, r = 0; r < e; r++) { var o = new i({ shape: Object(a.clone)(t.shape) }); n.push(o) } return n } function H (t, e, n) { return e + c * Math[n ? 'ceil' : 'floor']((t - e) / c) } },
  6547: function (t, e, n) { var i = n('a691'); var r = n('1d80'); var a = function (t) { return function (e, n) { var a; var o; var s = String(r(e)); var l = i(n); var u = s.length; return l < 0 || l >= u ? t ? '' : void 0 : (a = s.charCodeAt(l), a < 55296 || a > 56319 || l + 1 === u || (o = s.charCodeAt(l + 1)) < 56320 || o > 57343 ? t ? s.charAt(l) : a : t ? s.slice(l, l + 2) : o - 56320 + (a - 55296 << 10) + 65536) } }; t.exports = { codeAt: a(!1), charAt: a(!0) } },
  '65a1': function (t, e, n) { 'use strict'; n.d(e, 'r', function () { return u }), n.d(e, 'f', function () { return c }), n.d(e, 'c', function () { return h }), n.d(e, 'h', function () { return d }), n.d(e, 'm', function () { return p }), n.d(e, 'q', function () { return f }), n.d(e, 'e', function () { return O }), n.d(e, 'n', function () { return S }), n.d(e, 'l', function () { return M }), n.d(e, 'p', function () { return I }), n.d(e, 'w', function () { return T }), n.d(e, 'd', function () { return A }), n.d(e, 't', function () { return C }), n.d(e, 'o', function () { return D }), n.d(e, 's', function () { return L }), n.d(e, 'b', function () { return P }), n.d(e, 'a', function () { return R }), n.d(e, 'u', function () { return N }), n.d(e, 'v', function () { return E }), n.d(e, 'g', function () { return z }), n.d(e, 'i', function () { return B }), n.d(e, 'j', function () { return V }), n.d(e, 'k', function () { return F }); var i = n('cc6e'); var r = n('0d4d'); var a = n('1f06'); var o = n('c585'); var s = (n('dcca'), 'series\0'); var l = '\0_ec_\0'; function u (t) { return t instanceof Array ? t : t == null ? [] : [t] } function c (t, e, n) { if (t) { t[e] = t[e] || {}, t.emphasis = t.emphasis || {}, t.emphasis[e] = t.emphasis[e] || {}; for (var i = 0, r = n.length; i < r; i++) { var a = n[i]; !t.emphasis[e].hasOwnProperty(a) && t[e].hasOwnProperty(a) && (t.emphasis[e][a] = t[e][a]) } } } var h = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'rich', 'tag', 'color', 'textBorderColor', 'textBorderWidth', 'width', 'height', 'lineHeight', 'align', 'verticalAlign', 'baseline', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY', 'backgroundColor', 'borderColor', 'borderWidth', 'borderRadius', 'padding']; function d (t) { return !Object(i.isObject)(t) || Object(i.isArray)(t) || t instanceof Date ? t : t.value } function p (t) { return Object(i.isObject)(t) && !(t instanceof Array) } function f (t, e, n) { var r = n === 'normalMerge'; var a = n === 'replaceMerge'; var o = n === 'replaceAll'; t = t || [], e = (e || []).slice(); var s = Object(i.createHashMap)(); Object(i.each)(e, function (t, n) { Object(i.isObject)(t) || (e[n] = null) }); var l = g(t, s, n); return (r || a) && y(l, t, s, e), r && v(l, e), r || a ? m(l, e, a) : o && b(l, e), x(l), l } function g (t, e, n) { var i = []; if (n === 'replaceAll') return i; for (var r = 0; r < t.length; r++) { var a = t[r]; a && a.id != null && e.set(a.id, r), i.push({ existing: n === 'replaceMerge' || M(a) ? null : a, newOption: null, keyInfo: null, brandNew: null }) } return i } function y (t, e, n, r) { Object(i.each)(r, function (a, o) { if (a && a.id != null) { var s = w(a.id); var l = n.get(s); if (l != null) { var u = t[l]; Object(i.assert)(!u.newOption, 'Duplicated option on id "' + s + '".'), u.newOption = a, u.existing = e[l], r[o] = null } } }) } function v (t, e) { Object(i.each)(e, function (n, i) { if (n && n.name != null) for (var r = 0; r < t.length; r++) { var a = t[r].existing; if (!t[r].newOption && a && (a.id == null || n.id == null) && !M(n) && !M(a) && _('name', a, n)) return t[r].newOption = n, void (e[i] = null) } }) } function m (t, e, n) { Object(i.each)(e, function (e) { if (e) { var i; var r = 0; while ((i = t[r]) && (i.newOption || M(i.existing) || i.existing && e.id != null && !_('id', e, i.existing)))r++; i ? (i.newOption = e, i.brandNew = n) : t.push({ newOption: e, brandNew: n, existing: null, keyInfo: null }), r++ } }) } function b (t, e) { Object(i.each)(e, function (e) { t.push({ newOption: e, brandNew: !0, existing: null, keyInfo: null }) }) } function x (t) { var e = Object(i.createHashMap)(); Object(i.each)(t, function (t) { var n = t.existing; n && e.set(n.id, t) }), Object(i.each)(t, function (t) { var n = t.newOption; Object(i.assert)(!n || n.id == null || !e.get(n.id) || e.get(n.id) === t, 'id duplicates: ' + (n && n.id)), n && n.id != null && e.set(n.id, t), !t.keyInfo && (t.keyInfo = {}) }), Object(i.each)(t, function (t, n) { var r = t.existing; var a = t.newOption; var o = t.keyInfo; if (Object(i.isObject)(a)) { if (o.name = a.name != null ? w(a.name) : r ? r.name : s + n, r)o.id = w(r.id); else if (a.id != null)o.id = w(a.id); else { var l = 0; do { o.id = '\0' + o.name + '\0' + l++ } while (e.get(o.id)) }e.set(o.id, t) } }) } function _ (t, e, n) { var i = O(e[t], null); var r = O(n[t], null); return i != null && r != null && i === r } function w (t) { return O(t, '') } function O (t, e) { if (t == null) return e; var n = typeof t; return n === 'string' ? t : n === 'number' || Object(i.isStringSafe)(t) ? t + '' : e } function S (t) { var e = t.name; return !(!e || !e.indexOf(s)) } function M (t) { return t && t.id != null && w(t.id).indexOf(l) === 0 } function I (t) { return l + t } function T (t, e, n) { Object(i.each)(t, function (t) { var r = t.newOption; Object(i.isObject)(r) && (t.keyInfo.mainType = e, t.keyInfo.subType = j(e, r, t.existing, n)) }) } function j (t, e, n, i) { var r = e.type ? e.type : n ? n.subType : i.determineSubType(t, e); return r } function A (t, e) { var n = {}; var i = {}; return r(t || [], n), r(e || [], i, n), [a(n), a(i)]; function r (t, e, n) { for (var i = 0, r = t.length; i < r; i++) { var a = O(t[i].seriesId, null); if (a == null) return; for (var o = u(t[i].dataIndex), s = n && n[a], l = 0, c = o.length; l < c; l++) { var h = o[l]; s && s[h] ? s[h] = null : (e[a] || (e[a] = {}))[h] = 1 } } } function a (t, e) { var n = []; for (var i in t) if (t.hasOwnProperty(i) && t[i] != null) if (e)n.push(+i); else { var r = a(t[i], !0); r.length && n.push({ seriesId: i, dataIndex: r }) } return n } } function C (t, e) { return e.dataIndexInside != null ? e.dataIndexInside : e.dataIndex != null ? Object(i.isArray)(e.dataIndex) ? Object(i.map)(e.dataIndex, function (e) { return t.indexOfRawIndex(e) }) : t.indexOfRawIndex(e.dataIndex) : e.name != null ? Object(i.isArray)(e.name) ? Object(i.map)(e.name, function (e) { return t.indexOfName(e) }) : t.indexOfName(e.name) : void 0 } function D () { var t = '__ec_inner_' + k++; return function (e) { return e[t] || (e[t] = {}) } } var k = Object(a.getRandomIdBase)(); function L (t, e, n) { var r; if (Object(i.isString)(e)) { var a = {}; a[e + 'Index'] = 0, r = a } else r = e; var o = Object(i.createHashMap)(); var s = {}; var l = !1; Object(i.each)(r, function (t, e) { if (e !== 'dataIndex' && e !== 'dataIndexInside') { var r = e.match(/^(\w+)(Index|Id|Name)$/) || []; var a = r[1]; var u = (r[2] || '').toLowerCase(); if (a && u && !(n && n.includeMainTypes && Object(i.indexOf)(n.includeMainTypes, a) < 0)) { l = l || !!a; var c = o.get(a) || o.set(a, {}); c[u] = t } } else s[e] = t }); var u = n ? n.defaultMainType : null; return !l && u && o.set(u, {}), o.each(function (e, i) { var r = N(t, i, e, { useDefault: u === i, enableAll: !n || n.enableAll == null || n.enableAll, enableNone: !n || n.enableNone == null || n.enableNone }); s[i + 'Models'] = r.models, s[i + 'Model'] = r.models[0] }), s } var P = { useDefault: !0, enableAll: !1, enableNone: !1 }; var R = { useDefault: !1, enableAll: !0, enableNone: !0 }; function N (t, e, n, r) { r = r || P; var a = n.index; var o = n.id; var s = n.name; var l = { models: null, specified: a != null || o != null || s != null }; if (!l.specified) { var u = void 0; return l.models = r.useDefault && (u = t.getComponent(e)) ? [u] : [], l } return a === 'none' || !1 === a ? (Object(i.assert)(r.enableNone, '`"none"` or `false` is not a valid value on index option.'), l.models = [], l) : (a === 'all' && (Object(i.assert)(r.enableAll, '`"all"` is not a valid value on index option.'), a = o = s = null), l.models = t.queryComponents({ mainType: e, index: a, id: o, name: s }), l) } function E (t, e, n) { t.setAttribute ? t.setAttribute(e, n) : t[e] = n } function z (t, e) { return t.getAttribute ? t.getAttribute(e) : t[e] } function B (t) { return t === 'auto' ? r.a.domSupported ? 'html' : 'richText' : t || 'html' } function V (t, e) { var n = Object(i.createHashMap)(); var r = []; return Object(i.each)(t, function (t) { var i = e(t); (n.get(i) || (r.push(i), n.set(i, []))).push(t) }), { keys: r, buckets: n } } function F (t, e, n, i, r) { var s = e == null || e === 'auto'; if (i == null) return i; if (typeof i === 'number') { var l = Object(o.c)(n || 0, i, r); return Object(a.round)(l, s ? Math.max(Object(a.getPrecisionSafe)(n || 0), Object(a.getPrecisionSafe)(i)) : e) } if (typeof i === 'string') return r < 1 ? n : i; for (var u = [], c = n || [], h = i, d = Math.max(c.length, h.length), p = 0; p < d; ++p) { var f = t.getDimensionInfo(p); if (f.type === 'ordinal')u[p] = (r < 1 ? c : h)[p]; else { var g = c && c[p] ? c[p] : 0; var y = h[p]; l = c == null ? i[p] : Object(o.c)(g, y, r); u[p] = Object(a.round)(l, s ? Math.max(Object(a.getPrecisionSafe)(g), Object(a.getPrecisionSafe)(y)) : e) } } return u } },
  '663f': function (t, e, n) { 'use strict'; var i = function () { var t = this; var e = t.$createElement; var n = t._self._c || e; return n('el-breadcrumb', { attrs: { 'separator-class': 'el-icon-arrow-right' } }, [n('el-breadcrumb-item', { attrs: { to: { path: '/' } } }, [t._v('首页')]), n('el-breadcrumb-item', [t._t('default')], 2)], 1) }; var r = []; var a = { name: 'MyBreadcrumb' }; var o = a; var s = n('2877'); var l = Object(s.a)(o, i, r, !1, null, null, null); e.a = l.exports },
  6679: function (t, e, n) { 'use strict'; var i = n('21a1'); var r = n('18d3'); var a = (function () { function t () { this.cx = 0, this.cy = 0, this.r = 0, this.r0 = 0 } return t }()); var o = (function (t) { function e (e) { return t.call(this, e) || this } return Object(i.a)(e, t), e.prototype.getDefaultShape = function () { return new a() }, e.prototype.buildPath = function (t, e) { var n = e.cx; var i = e.cy; var r = 2 * Math.PI; t.moveTo(n + e.r, i), t.arc(n, i, e.r, 0, r, !1), t.moveTo(n + e.r0, i), t.arc(n, i, e.r0, 0, r, !0) }, e }(r.b)); o.prototype.type = 'ring', e.a = o },
  '673d': function (t, e, n) { 'use strict'; var i = n('7fae'); var r = n('cc6e'); var a = n('0d4d'); var o = n('65a1'); var s = n('bb19'); var l = n('61e4'); var u = n('a543'); var c = n('d2bc'); var h = n('258f'); var d = n('d31e'); var p = n('26d4'); var f = n('6fc4'); var g = o.o(); function y (t, e) { return t.getName(e) || t.getId(e) } var v = (function (t) { function e () { var e = t !== null && t.apply(this, arguments) || this; return e._selectedDataIndicesMap = {}, e } return Object(i.b)(e, t), e.prototype.init = function (t, e, n) { this.seriesIndex = this.componentIndex, this.dataTask = Object(h.a)({ count: x, reset: _ }), this.dataTask.context = { model: this }, this.mergeDefaultAndTheme(t, n); var i = g(this).sourceManager = new p.a(this); i.prepareSource(); var r = this.getInitialData(t, n); O(r, this), this.dataTask.context.data = r, g(this).dataBeforeProcessed = r, m(this), this._initSelectedMapFromData(r) }, e.prototype.mergeDefaultAndTheme = function (t, e) { var n = Object(c.d)(this); var i = n ? Object(c.f)(t) : {}; var a = this.subType; s.a.hasClass(a) && (a += 'Series'), r.merge(t, e.getTheme().get(this.subType)), r.merge(t, this.getDefaultOption()), o.f(t, 'label', ['show']), this.fillDataTextStyle(t.data), n && Object(c.h)(t, i, n) }, e.prototype.mergeOption = function (t, e) { t = r.merge(this.option, t, !0), this.fillDataTextStyle(t.data); var n = Object(c.d)(this); n && Object(c.h)(this.option, t, n); var i = g(this).sourceManager; i.dirty(), i.prepareSource(); var a = this.getInitialData(t, e); O(a, this), this.dataTask.dirty(), this.dataTask.context.data = a, g(this).dataBeforeProcessed = a, m(this), this._initSelectedMapFromData(a) }, e.prototype.fillDataTextStyle = function (t) { if (t && !r.isTypedArray(t)) for (var e = ['show'], n = 0; n < t.length; n++)t[n] && t[n].label && o.f(t[n], 'label', e) }, e.prototype.getInitialData = function (t, e) {}, e.prototype.appendData = function (t) { var e = this.getRawData(); e.appendData(t.data) }, e.prototype.getData = function (t) { var e = M(this); if (e) { var n = e.context.data; return t == null ? n : n.getLinkedData(t) } return g(this).data }, e.prototype.getAllData = function () { var t = this.getData(); return t && t.getLinkedDataAll ? t.getLinkedDataAll() : [{ data: t }] }, e.prototype.setData = function (t) { var e = M(this); if (e) { var n = e.context; n.outputData = t, e !== this.dataTask && (n.data = t) }g(this).data = t }, e.prototype.getSource = function () { return g(this).sourceManager.getSource() }, e.prototype.getRawData = function () { return g(this).dataBeforeProcessed }, e.prototype.getBaseAxis = function () { var t = this.coordinateSystem; return t && t.getBaseAxis && t.getBaseAxis() }, e.prototype.formatTooltip = function (t, e, n) { return Object(f.a)({ series: this, dataIndex: t, multipleSeries: e }) }, e.prototype.isAnimationEnabled = function () { if (a.a.node) return !1; var t = this.getShallow('animation'); return t && this.getData().count() > this.getShallow('animationThreshold') && (t = !1), !!t }, e.prototype.restoreData = function () { this.dataTask.dirty() }, e.prototype.getColorFromPalette = function (t, e, n) { var i = this.ecModel; var r = l.a.prototype.getColorFromPalette.call(this, t, e, n); return r || (r = i.getColorFromPalette(t, e, n)), r }, e.prototype.coordDimToDataDim = function (t) { return this.getRawData().mapDimensionsAll(t) }, e.prototype.getProgressive = function () { return this.get('progressive') }, e.prototype.getProgressiveThreshold = function () { return this.get('progressiveThreshold') }, e.prototype.select = function (t, e) { this._innerSelect(this.getData(e), t) }, e.prototype.unselect = function (t, e) { var n = this.option.selectedMap; if (n) for (var i = this.getData(e), r = 0; r < t.length; r++) { var a = t[r]; var o = y(i, a); n[o] = !1, this._selectedDataIndicesMap[o] = -1 } }, e.prototype.toggleSelect = function (t, e) { for (var n = [], i = 0; i < t.length; i++)n[0] = t[i], this.isSelected(t[i], e) ? this.unselect(n, e) : this.select(n, e) }, e.prototype.getSelectedDataIndices = function () { for (var t = this._selectedDataIndicesMap, e = r.keys(t), n = [], i = 0; i < e.length; i++) { var a = t[e[i]]; a >= 0 && n.push(a) } return n }, e.prototype.isSelected = function (t, e) { var n = this.option.selectedMap; if (!n) return !1; var i = this.getData(e); var r = y(i, t); return n[r] || !1 }, e.prototype._innerSelect = function (t, e) { var n; var i; var r = this.option.selectedMode; var a = e.length; if (r && a) if (r === 'multiple') for (var o = this.option.selectedMap || (this.option.selectedMap = {}), s = 0; s < a; s++) { var l = e[s]; var u = y(t, l); o[u] = !0, this._selectedDataIndicesMap[u] = t.getRawIndex(l) } else if (r === 'single' || !0 === r) { var c = e[a - 1]; u = y(t, c); this.option.selectedMap = (n = {}, n[u] = !0, n), this._selectedDataIndicesMap = (i = {}, i[u] = t.getRawIndex(c), i) } }, e.prototype._initSelectedMapFromData = function (t) { if (!this.option.selectedMap) { var e = []; t.hasItemOption && t.each(function (n) { var i = t.getRawDataItem(n); typeof i === 'object' && i.selected && e.push(n) }), e.length > 0 && this._innerSelect(t, e) } }, e.registerClass = function (t) { return s.a.registerClass(t) }, e.protoInitialize = (function () { var t = e.prototype; t.type = 'series.__base__', t.seriesIndex = 0, t.useColorPaletteOnData = !1, t.ignoreStyleOnData = !1, t.hasSymbolVisual = !1, t.defaultSymbol = 'circle', t.visualStyleAccessPath = 'itemStyle', t.visualDrawType = 'fill' }()), e }(s.a)); function m (t) { var e = t.name; o.n(t) || (t.name = b(t) || e) } function b (t) { var e = t.getRawData(); var n = e.mapDimensionsAll('seriesName'); var i = []; return r.each(n, function (t) { var n = e.getDimensionInfo(t); n.displayName && i.push(n.displayName) }), i.join(' ') } function x (t) { return t.model.getRawData().count() } function _ (t) { var e = t.model; return e.setData(e.getRawData().cloneShallow()), w } function w (t, e) { e.outputData && t.end > e.outputData.count() && e.model.getRawData().cloneShallow(e.outputData) } function O (t, e) { r.each(Object(i.c)(t.CHANGABLE_METHODS, t.DOWNSAMPLE_METHODS), function (n) { t.wrapMethod(n, r.curry(S, e)) }) } function S (t, e) { var n = M(t); return n && n.setOutputEnd((e || this).count()), e } function M (t) { var e = (t.ecModel || {}).scheduler; var n = e && e.getPipeline(t.uid); if (n) { var i = n.currentTask; if (i) { var r = i.agentStubMap; r && (i = r.get(t.uid)) } return i } }r.mixin(v, u.a), r.mixin(v, l.a), Object(d.e)(v, s.a), e.a = v },
  6804: function (t, e, n) { 'use strict'; var i = ['#37A2DA', '#32C5E9', '#67E0E3', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#E062AE', '#E690D1', '#e7bcf3', '#9d96f5', '#8378EA', '#96BFFF']; e.a = { color: i, colorLayer: [['#37A2DA', '#ffd85c', '#fd7b5f'], ['#37A2DA', '#67E0E3', '#FFDB5C', '#ff9f7f', '#E062AE', '#9d96f5'], ['#37A2DA', '#32C5E9', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#e7bcf3', '#8378EA', '#96BFFF'], i] } },
  '6af1': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return g }), n.d(e, 'b', function () { return y }), n.d(e, 'f', function () { return v }), n.d(e, 'c', function () { return m }), n.d(e, 'g', function () { return b }), n.d(e, 'e', function () { return x }), n.d(e, 'd', function () { return _ }), n.d(e, 'h', function () { return w }), n.d(e, 'i', function () { return O }), n.d(e, 'm', function () { return S }), n.d(e, 'j', function () { return M }), n.d(e, 'n', function () { return I }), n.d(e, 'l', function () { return T }), n.d(e, 'k', function () { return j }); var i = n('3c03'); var r = Math.pow; var a = Math.sqrt; var o = 1e-8; var s = 1e-4; var l = a(3); var u = 1 / 3; var c = Object(i.e)(); var h = Object(i.e)(); var d = Object(i.e)(); function p (t) { return t > -o && t < o } function f (t) { return t > o || t < -o } function g (t, e, n, i, r) { var a = 1 - r; return a * a * (a * t + 3 * r * e) + r * r * (r * i + 3 * a * n) } function y (t, e, n, i, r) { var a = 1 - r; return 3 * (((e - t) * a + 2 * (n - e) * r) * a + (i - n) * r * r) } function v (t, e, n, i, o, s) { var c = i + 3 * (e - n) - t; var h = 3 * (n - 2 * e + t); var d = 3 * (e - t); var f = t - o; var g = h * h - 3 * c * d; var y = h * d - 9 * c * f; var v = d * d - 3 * h * f; var m = 0; if (p(g) && p(y)) if (p(h))s[0] = 0; else { var b = -d / h; b >= 0 && b <= 1 && (s[m++] = b) } else { var x = y * y - 4 * g * v; if (p(x)) { var _ = y / g; var w = (b = -h / c + _, -_ / 2); b >= 0 && b <= 1 && (s[m++] = b), w >= 0 && w <= 1 && (s[m++] = w) } else if (x > 0) { var O = a(x); var S = g * h + 1.5 * c * (-y + O); var M = g * h + 1.5 * c * (-y - O); S = S < 0 ? -r(-S, u) : r(S, u), M = M < 0 ? -r(-M, u) : r(M, u); b = (-h - (S + M)) / (3 * c); b >= 0 && b <= 1 && (s[m++] = b) } else { var I = (2 * g * h - 3 * c * y) / (2 * a(g * g * g)); var T = Math.acos(I) / 3; var j = a(g); var A = Math.cos(T); var C = (b = (-h - 2 * j * A) / (3 * c), w = (-h + j * (A + l * Math.sin(T))) / (3 * c), (-h + j * (A - l * Math.sin(T))) / (3 * c)); b >= 0 && b <= 1 && (s[m++] = b), w >= 0 && w <= 1 && (s[m++] = w), C >= 0 && C <= 1 && (s[m++] = C) } } return m } function m (t, e, n, i, r) { var o = 6 * n - 12 * e + 6 * t; var s = 9 * e + 3 * i - 3 * t - 9 * n; var l = 3 * e - 3 * t; var u = 0; if (p(s)) { if (f(o)) { var c = -l / o; c >= 0 && c <= 1 && (r[u++] = c) } } else { var h = o * o - 4 * s * l; if (p(h))r[0] = -o / (2 * s); else if (h > 0) { var d = a(h); var g = (c = (-o + d) / (2 * s), (-o - d) / (2 * s)); c >= 0 && c <= 1 && (r[u++] = c), g >= 0 && g <= 1 && (r[u++] = g) } } return u } function b (t, e, n, i, r, a) { var o = (e - t) * r + t; var s = (n - e) * r + e; var l = (i - n) * r + n; var u = (s - o) * r + o; var c = (l - s) * r + s; var h = (c - u) * r + u; a[0] = t, a[1] = o, a[2] = u, a[3] = h, a[4] = h, a[5] = c, a[6] = l, a[7] = i } function x (t, e, n, r, o, l, u, p, f, y, v) { var m; var b; var x; var _; var w; var O = 0.005; var S = 1 / 0; c[0] = f, c[1] = y; for (var M = 0; M < 1; M += 0.05)h[0] = g(t, n, o, u, M), h[1] = g(e, r, l, p, M), _ = Object(i.g)(c, h), _ < S && (m = M, S = _); S = 1 / 0; for (var I = 0; I < 32; I++) { if (O < s) break; b = m - O, x = m + O, h[0] = g(t, n, o, u, b), h[1] = g(e, r, l, p, b), _ = Object(i.g)(h, c), b >= 0 && _ < S ? (m = b, S = _) : (d[0] = g(t, n, o, u, x), d[1] = g(e, r, l, p, x), w = Object(i.g)(d, c), x <= 1 && w < S ? (m = x, S = w) : O *= 0.5) } return v && (v[0] = g(t, n, o, u, m), v[1] = g(e, r, l, p, m)), a(S) } function _ (t, e, n, i, r, a, o, s, l) { for (var u = t, c = e, h = 0, d = 1 / l, p = 1; p <= l; p++) { var f = p * d; var y = g(t, n, r, o, f); var v = g(e, i, a, s, f); var m = y - u; var b = v - c; h += Math.sqrt(m * m + b * b), u = y, c = v } return h } function w (t, e, n, i) { var r = 1 - i; return r * (r * t + 2 * i * e) + i * i * n } function O (t, e, n, i) { return 2 * ((1 - i) * (e - t) + i * (n - e)) } function S (t, e, n, i, r) { var o = t - 2 * e + n; var s = 2 * (e - t); var l = t - i; var u = 0; if (p(o)) { if (f(s)) { var c = -l / s; c >= 0 && c <= 1 && (r[u++] = c) } } else { var h = s * s - 4 * o * l; if (p(h)) { c = -s / (2 * o); c >= 0 && c <= 1 && (r[u++] = c) } else if (h > 0) { var d = a(h); var g = (c = (-s + d) / (2 * o), (-s - d) / (2 * o)); c >= 0 && c <= 1 && (r[u++] = c), g >= 0 && g <= 1 && (r[u++] = g) } } return u } function M (t, e, n) { var i = t + n - 2 * e; return i === 0 ? 0.5 : (t - e) / i } function I (t, e, n, i, r) { var a = (e - t) * i + t; var o = (n - e) * i + e; var s = (o - a) * i + a; r[0] = t, r[1] = a, r[2] = s, r[3] = s, r[4] = o, r[5] = n } function T (t, e, n, r, o, l, u, p, f) { var g; var y = 0.005; var v = 1 / 0; c[0] = u, c[1] = p; for (var m = 0; m < 1; m += 0.05) { h[0] = w(t, n, o, m), h[1] = w(e, r, l, m); var b = Object(i.g)(c, h); b < v && (g = m, v = b) }v = 1 / 0; for (var x = 0; x < 32; x++) { if (y < s) break; var _ = g - y; var O = g + y; h[0] = w(t, n, o, _), h[1] = w(e, r, l, _); b = Object(i.g)(h, c); if (_ >= 0 && b < v)g = _, v = b; else { d[0] = w(t, n, o, O), d[1] = w(e, r, l, O); var S = Object(i.g)(d, c); O <= 1 && S < v ? (g = O, v = S) : y *= 0.5 } } return f && (f[0] = w(t, n, o, g), f[1] = w(e, r, l, g)), a(v) } function j (t, e, n, i, r, a, o) { for (var s = t, l = e, u = 0, c = 1 / o, h = 1; h <= o; h++) { var d = h * c; var p = w(t, n, r, d); var f = w(e, i, a, d); var g = p - s; var y = f - l; u += Math.sqrt(g * g + y * y), s = p, l = f } return u } },
  '6c55': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return d }); var i = 32; var r = 7; function a (t) { var e = 0; while (t >= i)e |= 1 & t, t >>= 1; return t + e } function o (t, e, n, i) { var r = e + 1; if (r === n) return 1; if (i(t[r++], t[e]) < 0) { while (r < n && i(t[r], t[r - 1]) < 0)r++; s(t, e, r) } else while (r < n && i(t[r], t[r - 1]) >= 0)r++; return r - e } function s (t, e, n) { n--; while (e < n) { var i = t[e]; t[e++] = t[n], t[n--] = i } } function l (t, e, n, i, r) { for (i === e && i++; i < n; i++) { var a; var o = t[i]; var s = e; var l = i; while (s < l)a = s + l >>> 1, r(o, t[a]) < 0 ? l = a : s = a + 1; var u = i - s; switch (u) { case 3:t[s + 3] = t[s + 2]; case 2:t[s + 2] = t[s + 1]; case 1:t[s + 1] = t[s]; break; default:while (u > 0)t[s + u] = t[s + u - 1], u-- }t[s] = o } } function u (t, e, n, i, r, a) { var o = 0; var s = 0; var l = 1; if (a(t, e[n + r]) > 0) { s = i - r; while (l < s && a(t, e[n + r + l]) > 0)o = l, l = 1 + (l << 1), l <= 0 && (l = s); l > s && (l = s), o += r, l += r } else { s = r + 1; while (l < s && a(t, e[n + r - l]) <= 0)o = l, l = 1 + (l << 1), l <= 0 && (l = s); l > s && (l = s); var u = o; o = r - l, l = r - u }o++; while (o < l) { var c = o + (l - o >>> 1); a(t, e[n + c]) > 0 ? o = c + 1 : l = c } return l } function c (t, e, n, i, r, a) { var o = 0; var s = 0; var l = 1; if (a(t, e[n + r]) < 0) { s = r + 1; while (l < s && a(t, e[n + r - l]) < 0)o = l, l = 1 + (l << 1), l <= 0 && (l = s); l > s && (l = s); var u = o; o = r - l, l = r - u } else { s = i - r; while (l < s && a(t, e[n + r + l]) >= 0)o = l, l = 1 + (l << 1), l <= 0 && (l = s); l > s && (l = s), o += r, l += r }o++; while (o < l) { var c = o + (l - o >>> 1); a(t, e[n + c]) < 0 ? l = c : o = c + 1 } return l } function h (t, e) { var n; var i; var a = r; var o = 0; var s = 0; o = t.length; var l = []; function h (t, e) { n[s] = t, i[s] = e, s += 1 } function d () { while (s > 1) { var t = s - 2; if (t >= 1 && i[t - 1] <= i[t] + i[t + 1] || t >= 2 && i[t - 2] <= i[t] + i[t - 1])i[t - 1] < i[t + 1] && t--; else if (i[t] > i[t + 1]) break; f(t) } } function p () { while (s > 1) { var t = s - 2; t > 0 && i[t - 1] < i[t + 1] && t--, f(t) } } function f (r) { var a = n[r]; var o = i[r]; var l = n[r + 1]; var h = i[r + 1]; i[r] = o + h, r === s - 3 && (n[r + 1] = n[r + 2], i[r + 1] = i[r + 2]), s--; var d = c(t[l], t, a, o, 0, e); a += d, o -= d, o !== 0 && (h = u(t[a + o - 1], t, l, h, h - 1, e), h !== 0 && (o <= h ? g(a, o, l, h) : y(a, o, l, h))) } function g (n, i, o, s) { var h = 0; for (h = 0; h < i; h++)l[h] = t[n + h]; var d = 0; var p = o; var f = n; if (t[f++] = t[p++], --s !== 0) if (i !== 1) { var g; var y; var v; var m = a; while (1) { g = 0, y = 0, v = !1; do { if (e(t[p], l[d]) < 0) { if (t[f++] = t[p++], y++, g = 0, --s === 0) { v = !0; break } } else if (t[f++] = l[d++], g++, y = 0, --i === 1) { v = !0; break } } while ((g | y) < m);if (v) break; do { if (g = c(t[p], l, d, i, 0, e), g !== 0) { for (h = 0; h < g; h++)t[f + h] = l[d + h]; if (f += g, d += g, i -= g, i <= 1) { v = !0; break } } if (t[f++] = t[p++], --s === 0) { v = !0; break } if (y = u(l[d], t, p, s, 0, e), y !== 0) { for (h = 0; h < y; h++)t[f + h] = t[p + h]; if (f += y, p += y, s -= y, s === 0) { v = !0; break } } if (t[f++] = l[d++], --i === 1) { v = !0; break }m-- } while (g >= r || y >= r);if (v) break; m < 0 && (m = 0), m += 2 } if (a = m, a < 1 && (a = 1), i === 1) { for (h = 0; h < s; h++)t[f + h] = t[p + h]; t[f + s] = l[d] } else { if (i === 0) throw new Error(); for (h = 0; h < i; h++)t[f + h] = l[d + h] } } else { for (h = 0; h < s; h++)t[f + h] = t[p + h]; t[f + s] = l[d] } else for (h = 0; h < i; h++)t[f + h] = l[d + h] } function y (n, i, o, s) { var h = 0; for (h = 0; h < s; h++)l[h] = t[o + h]; var d = n + i - 1; var p = s - 1; var f = o + s - 1; var g = 0; var y = 0; if (t[f--] = t[d--], --i !== 0) if (s !== 1) { var v = a; while (1) { var m = 0; var b = 0; var x = !1; do { if (e(l[p], t[d]) < 0) { if (t[f--] = t[d--], m++, b = 0, --i === 0) { x = !0; break } } else if (t[f--] = l[p--], b++, m = 0, --s === 1) { x = !0; break } } while ((m | b) < v);if (x) break; do { if (m = i - c(l[p], t, n, i, i - 1, e), m !== 0) { for (f -= m, d -= m, i -= m, y = f + 1, g = d + 1, h = m - 1; h >= 0; h--)t[y + h] = t[g + h]; if (i === 0) { x = !0; break } } if (t[f--] = l[p--], --s === 1) { x = !0; break } if (b = s - u(t[d], l, 0, s, s - 1, e), b !== 0) { for (f -= b, p -= b, s -= b, y = f + 1, g = p + 1, h = 0; h < b; h++)t[y + h] = l[g + h]; if (s <= 1) { x = !0; break } } if (t[f--] = t[d--], --i === 0) { x = !0; break }v-- } while (m >= r || b >= r);if (x) break; v < 0 && (v = 0), v += 2 } if (a = v, a < 1 && (a = 1), s === 1) { for (f -= i, d -= i, y = f + 1, g = d + 1, h = i - 1; h >= 0; h--)t[y + h] = t[g + h]; t[f] = l[p] } else { if (s === 0) throw new Error(); for (g = f - (s - 1), h = 0; h < s; h++)t[g + h] = l[h] } } else { for (f -= i, d -= i, y = f + 1, g = d + 1, h = i - 1; h >= 0; h--)t[y + h] = t[g + h]; t[f] = l[p] } else for (g = f - (s - 1), h = 0; h < s; h++)t[g + h] = l[h] } return o < 120 ? 5 : o < 1542 ? 10 : o < 119151 ? 19 : 40, n = [], i = [], { mergeRuns: d, forceMergeRuns: p, pushRun: h } } function d (t, e, n, r) { n || (n = 0), r || (r = t.length); var s = r - n; if (!(s < 2)) { var u = 0; if (s < i) return u = o(t, n, r, e), void l(t, n, r, n + u, e); var c = h(t, e); var d = a(s); do { if (u = o(t, n, r, e), u < d) { var p = s; p > d && (p = d), l(t, n, n + p, n + u, e), u = p }c.pushRun(n, u), c.mergeRuns(), s -= u, n += u } while (s !== 0);c.forceMergeRuns() } } },
  '6dc4': function (t, e, n) { 'use strict'; n.d(e, 'b', function () { return I }); var i = n('3c03'); var r = n('10e1'); var a = n('4d45'); var o = n('0079'); var s = n('6af1'); var l = { M: 1, L: 2, C: 3, Q: 4, A: 5, Z: 6, R: 7 }; var u = []; var c = []; var h = []; var d = []; var p = []; var f = []; var g = Math.min; var y = Math.max; var v = Math.cos; var m = Math.sin; var b = Math.sqrt; var x = Math.abs; var _ = Math.PI; var w = 2 * _; var O = typeof Float32Array !== 'undefined'; var S = []; function M (t) { var e = Math.round(t / _ * 1e8) / 1e8; return e % 2 * _ } function I (t, e) { var n = M(t[0]); n < 0 && (n += w); var i = n - t[0]; var r = t[1]; r += i, !e && r - n >= w ? r = n + w : e && n - r >= w ? r = n - w : !e && n > r ? r = n + (w - M(n - r)) : e && n < r && (r = n - (w - M(r - n))), t[0] = n, t[1] = r } var T = (function () { function t (t) { this.dpr = 1, this._version = 0, this._xi = 0, this._yi = 0, this._x0 = 0, this._y0 = 0, this._len = 0, t && (this._saveData = !1), this._saveData && (this.data = []) } return t.prototype.increaseVersion = function () { this._version++ }, t.prototype.getVersion = function () { return this._version }, t.prototype.setScale = function (t, e, n) { n = n || 0, n > 0 && (this._ux = x(n / a.e / t) || 0, this._uy = x(n / a.e / e) || 0) }, t.prototype.setDPR = function (t) { this.dpr = t }, t.prototype.setContext = function (t) { this._ctx = t }, t.prototype.getContext = function () { return this._ctx }, t.prototype.beginPath = function () { return this._ctx && this._ctx.beginPath(), this.reset(), this }, t.prototype.reset = function () { this._saveData && (this._len = 0), this._lineDash && (this._lineDash = null, this._dashOffset = 0), this._pathSegLen && (this._pathSegLen = null, this._pathLen = 0), this._version++ }, t.prototype.moveTo = function (t, e) { return this.addData(l.M, t, e), this._ctx && this._ctx.moveTo(t, e), this._x0 = t, this._y0 = e, this._xi = t, this._yi = e, this }, t.prototype.lineTo = function (t, e) { var n = x(t - this._xi) > this._ux || x(e - this._yi) > this._uy || this._len < 5; return this.addData(l.L, t, e), this._ctx && n && (this._needsDash ? this._dashedLineTo(t, e) : this._ctx.lineTo(t, e)), n && (this._xi = t, this._yi = e), this }, t.prototype.bezierCurveTo = function (t, e, n, i, r, a) { return this.addData(l.C, t, e, n, i, r, a), this._ctx && (this._needsDash ? this._dashedBezierTo(t, e, n, i, r, a) : this._ctx.bezierCurveTo(t, e, n, i, r, a)), this._xi = r, this._yi = a, this }, t.prototype.quadraticCurveTo = function (t, e, n, i) { return this.addData(l.Q, t, e, n, i), this._ctx && (this._needsDash ? this._dashedQuadraticTo(t, e, n, i) : this._ctx.quadraticCurveTo(t, e, n, i)), this._xi = n, this._yi = i, this }, t.prototype.arc = function (t, e, n, i, r, a) { S[0] = i, S[1] = r, I(S, a), i = S[0], r = S[1]; var o = r - i; return this.addData(l.A, t, e, n, n, i, o, 0, a ? 0 : 1), this._ctx && this._ctx.arc(t, e, n, i, r, a), this._xi = v(r) * n + t, this._yi = m(r) * n + e, this }, t.prototype.arcTo = function (t, e, n, i, r) { return this._ctx && this._ctx.arcTo(t, e, n, i, r), this }, t.prototype.rect = function (t, e, n, i) { return this._ctx && this._ctx.rect(t, e, n, i), this.addData(l.R, t, e, n, i), this }, t.prototype.closePath = function () { this.addData(l.Z); var t = this._ctx; var e = this._x0; var n = this._y0; return t && (this._needsDash && this._dashedLineTo(e, n), t.closePath()), this._xi = e, this._yi = n, this }, t.prototype.fill = function (t) { t && t.fill(), this.toStatic() }, t.prototype.stroke = function (t) { t && t.stroke(), this.toStatic() }, t.prototype.setLineDash = function (t) { if (t instanceof Array) { this._lineDash = t, this._dashIdx = 0; for (var e = 0, n = 0; n < t.length; n++)e += t[n]; this._dashSum = e, this._needsDash = !0 } else this._lineDash = null, this._needsDash = !1; return this }, t.prototype.setLineDashOffset = function (t) { return this._dashOffset = t, this }, t.prototype.len = function () { return this._len }, t.prototype.setData = function (t) { var e = t.length; this.data && this.data.length === e || !O || (this.data = new Float32Array(e)); for (var n = 0; n < e; n++) this.data[n] = t[n]; this._len = e }, t.prototype.appendPath = function (t) { t instanceof Array || (t = [t]); for (var e = t.length, n = 0, i = this._len, r = 0; r < e; r++)n += t[r].len(); O && this.data instanceof Float32Array && (this.data = new Float32Array(i + n)); for (r = 0; r < e; r++) for (var a = t[r].data, o = 0; o < a.length; o++) this.data[i++] = a[o]; this._len = i }, t.prototype.addData = function (t, e, n, i, r, a, o, s, l) { if (this._saveData) { var u = this.data; this._len + arguments.length > u.length && (this._expandData(), u = this.data); for (var c = 0; c < arguments.length; c++)u[this._len++] = arguments[c] } }, t.prototype._expandData = function () { if (!(this.data instanceof Array)) { for (var t = [], e = 0; e < this._len; e++)t[e] = this.data[e]; this.data = t } }, t.prototype._dashedLineTo = function (t, e) { var n; var i; var r = this._dashSum; var a = this._lineDash; var o = this._ctx; var s = this._dashOffset; var l = this._xi; var u = this._yi; var c = t - l; var h = e - u; var d = b(c * c + h * h); var p = l; var f = u; var v = a.length; c /= d, h /= d, s < 0 && (s = r + s), s %= r, p -= s * c, f -= s * h; while (c > 0 && p <= t || c < 0 && p >= t || c === 0 && (h > 0 && f <= e || h < 0 && f >= e))i = this._dashIdx, n = a[i], p += c * n, f += h * n, this._dashIdx = (i + 1) % v, c > 0 && p < l || c < 0 && p > l || h > 0 && f < u || h < 0 && f > u || o[i % 2 ? 'moveTo' : 'lineTo'](c >= 0 ? g(p, t) : y(p, t), h >= 0 ? g(f, e) : y(f, e)); c = p - t, h = f - e, this._dashOffset = -b(c * c + h * h) }, t.prototype._dashedBezierTo = function (t, e, n, i, r, a) { var o; var l; var u; var c; var h; var d = this._ctx; var p = this._dashSum; var f = this._dashOffset; var g = this._lineDash; var y = this._xi; var v = this._yi; var m = 0; var x = this._dashIdx; var _ = g.length; var w = 0; for (f < 0 && (f = p + f), f %= p, o = 0; o < 1; o += 0.1)l = Object(s.a)(y, t, n, r, o + 0.1) - Object(s.a)(y, t, n, r, o), u = Object(s.a)(v, e, i, a, o + 0.1) - Object(s.a)(v, e, i, a, o), m += b(l * l + u * u); for (;x < _; x++) if (w += g[x], w > f) break; o = (w - f) / m; while (o <= 1)c = Object(s.a)(y, t, n, r, o), h = Object(s.a)(v, e, i, a, o), x % 2 ? d.moveTo(c, h) : d.lineTo(c, h), o += g[x] / m, x = (x + 1) % _; x % 2 !== 0 && d.lineTo(r, a), l = r - c, u = a - h, this._dashOffset = -b(l * l + u * u) }, t.prototype._dashedQuadraticTo = function (t, e, n, i) { var r = n; var a = i; n = (n + 2 * t) / 3, i = (i + 2 * e) / 3, t = (this._xi + 2 * t) / 3, e = (this._yi + 2 * e) / 3, this._dashedBezierTo(t, e, n, i, r, a) }, t.prototype.toStatic = function () { if (this._saveData) { var t = this.data; t instanceof Array && (t.length = this._len, O && this._len > 11 && (this.data = new Float32Array(t))) } }, t.prototype.getBoundingRect = function () { h[0] = h[1] = p[0] = p[1] = Number.MAX_VALUE, d[0] = d[1] = f[0] = f[1] = -Number.MAX_VALUE; var t; var e = this.data; var n = 0; var a = 0; var s = 0; var u = 0; for (t = 0; t < this._len;) { var c = e[t++]; var g = t === 1; switch (g && (n = e[t], a = e[t + 1], s = n, u = a), c) { case l.M:n = s = e[t++], a = u = e[t++], p[0] = s, p[1] = u, f[0] = s, f[1] = u; break; case l.L:Object(o.c)(n, a, e[t], e[t + 1], p, f), n = e[t++], a = e[t++]; break; case l.C:Object(o.b)(n, a, e[t++], e[t++], e[t++], e[t++], e[t], e[t + 1], p, f), n = e[t++], a = e[t++]; break; case l.Q:Object(o.e)(n, a, e[t++], e[t++], e[t], e[t + 1], p, f), n = e[t++], a = e[t++]; break; case l.A:var y = e[t++]; var b = e[t++]; var x = e[t++]; var _ = e[t++]; var w = e[t++]; var O = e[t++] + w; t += 1; var S = !e[t++]; g && (s = v(w) * x + y, u = m(w) * _ + b), Object(o.a)(y, b, x, _, w, O, S, p, f), n = v(O) * x + y, a = m(O) * _ + b; break; case l.R:s = n = e[t++], u = a = e[t++]; var M = e[t++]; var I = e[t++]; Object(o.c)(s, u, s + M, u + I, p, f); break; case l.Z:n = s, a = u; break }i.l(h, h, p), i.k(d, d, f) } return t === 0 && (h[0] = h[1] = d[0] = d[1] = 0), new r.a(h[0], h[1], d[0] - h[0], d[1] - h[1]) }, t.prototype._calculateLength = function () { var t = this.data; var e = this._len; var n = this._ux; var i = this._uy; var r = 0; var a = 0; var o = 0; var u = 0; this._pathSegLen || (this._pathSegLen = []); for (var c = this._pathSegLen, h = 0, d = 0, p = 0; p < e;) { var f = t[p++]; var b = p === 1; b && (r = t[p], a = t[p + 1], o = r, u = a); var _ = -1; switch (f) { case l.M:r = o = t[p++], a = u = t[p++]; break; case l.L:var O = t[p++]; var S = t[p++]; var M = O - r; var I = S - a; (x(M) > n || x(I) > i || p === e - 1) && (_ = Math.sqrt(M * M + I * I), r = O, a = S); break; case l.C:var T = t[p++]; var j = t[p++]; var A = (O = t[p++], S = t[p++], t[p++]); var C = t[p++]; _ = Object(s.d)(r, a, T, j, O, S, A, C, 10), r = A, a = C; break; case l.Q:T = t[p++], j = t[p++], O = t[p++], S = t[p++]; _ = Object(s.k)(r, a, T, j, O, S, 10), r = O, a = S; break; case l.A:var D = t[p++]; var k = t[p++]; var L = t[p++]; var P = t[p++]; var R = t[p++]; var N = t[p++]; var E = N + R; p += 1; t[p++]; b && (o = v(R) * L + D, u = m(R) * P + k), _ = y(L, P) * g(w, Math.abs(N)), r = v(E) * L + D, a = m(E) * P + k; break; case l.R:o = r = t[p++], u = a = t[p++]; var z = t[p++]; var B = t[p++]; _ = 2 * z + 2 * B; break; case l.Z:M = o - r, I = u - a; _ = Math.sqrt(M * M + I * I), r = o, a = u; break }_ >= 0 && (c[d++] = _, h += _) } return this._pathLen = h, h }, t.prototype.rebuildPath = function (t, e) { var n; var i; var r; var a; var o; var h; var d; var p; var f; var b = this.data; var _ = this._ux; var w = this._uy; var O = this._len; var S = e < 1; var M = 0; var I = 0; if (!S || (this._pathSegLen || this._calculateLength(), d = this._pathSegLen, p = this._pathLen, f = e * p, f))t:for (var T = 0; T < O;) { var j = b[T++]; var A = T === 1; switch (A && (r = b[T], a = b[T + 1], n = r, i = a), j) { case l.M:n = r = b[T++], i = a = b[T++], t.moveTo(r, a); break; case l.L:if (o = b[T++], h = b[T++], x(o - r) > _ || x(h - a) > w || T === O - 1) { if (S) { var C = d[I++]; if (M + C > f) { var D = (f - M) / C; t.lineTo(r * (1 - D) + o * D, a * (1 - D) + h * D); break t }M += C }t.lineTo(o, h), r = o, a = h } break; case l.C:var k = b[T++]; var L = b[T++]; var P = b[T++]; var R = b[T++]; var N = b[T++]; var E = b[T++]; if (S) { C = d[I++]; if (M + C > f) { D = (f - M) / C; Object(s.g)(r, k, P, N, D, u), Object(s.g)(a, L, R, E, D, c), t.bezierCurveTo(u[1], c[1], u[2], c[2], u[3], c[3]); break t }M += C }t.bezierCurveTo(k, L, P, R, N, E), r = N, a = E; break; case l.Q:k = b[T++], L = b[T++], P = b[T++], R = b[T++]; if (S) { C = d[I++]; if (M + C > f) { D = (f - M) / C; Object(s.n)(r, k, P, D, u), Object(s.n)(a, L, R, D, c), t.quadraticCurveTo(u[1], c[1], u[2], c[2]); break t }M += C }t.quadraticCurveTo(k, L, P, R), r = P, a = R; break; case l.A:var z = b[T++]; var B = b[T++]; var V = b[T++]; var F = b[T++]; var G = b[T++]; var H = b[T++]; var W = b[T++]; var X = !b[T++]; var Y = V > F ? V : F; var U = x(V - F) > 0.001; var Z = G + H; var q = !1; if (S) { C = d[I++]; M + C > f && (Z = G + H * (f - M) / C, q = !0), M += C } if (U && t.ellipse ? t.ellipse(z, B, V, F, W, G, Z, X) : t.arc(z, B, Y, G, Z, X), q) break t; A && (n = v(G) * V + z, i = m(G) * F + B), r = v(Z) * V + z, a = m(Z) * F + B; break; case l.R:n = r = b[T], i = a = b[T + 1], o = b[T++], h = b[T++]; var K = b[T++]; var $ = b[T++]; if (S) { C = d[I++]; if (M + C > f) { var Q = f - M; t.moveTo(o, h), t.lineTo(o + g(Q, K), h), Q -= K, Q > 0 && t.lineTo(o + K, h + g(Q, $)), Q -= $, Q > 0 && t.lineTo(o + y(K - Q, 0), h + $), Q -= K, Q > 0 && t.lineTo(o, h + y($ - Q, 0)); break t }M += C }t.rect(o, h, K, $); break; case l.Z:if (S) { C = d[I++]; if (M + C > f) { D = (f - M) / C; t.lineTo(r * (1 - D) + n * D, a * (1 - D) + i * D); break t }M += C }t.closePath(), r = n, a = i } } }, t.CMD = l, t.initDefaultProps = (function () { var e = t.prototype; e._saveData = !0, e._needsDash = !1, e._dashOffset = 0, e._dashIdx = 0, e._dashSum = 0, e._ux = 0, e._uy = 0 }()), t }()); e.a = T },
  '6e8c': function (t, e, n) { 'use strict'; n.d(e, 'd', function () { return s }), n.d(e, 'b', function () { return l }), n.d(e, 'c', function () { return u }), n.d(e, 'a', function () { return c }); var i = n('cc6e'); var r = n('2b74'); var a = n('65a1'); var o = (function () { function t (t) { this.data = t.data || (t.sourceFormat === r.d ? {} : []), this.sourceFormat = t.sourceFormat || r.h, this.seriesLayoutBy = t.seriesLayoutBy || r.a, this.startIndex = t.startIndex || 0, this.dimensionsDefine = t.dimensionsDefine, this.dimensionsDetectedCount = t.dimensionsDetectedCount, this.encodeDefine = t.encodeDefine, this.metaRawOption = t.metaRawOption } return t }()); function s (t) { return t instanceof o } function l (t, e, n, r) { n = n || d(t); var a = e.seriesLayoutBy; var s = p(t, n, a, e.sourceHeader, e.dimensions); var l = new o({ data: t, sourceFormat: n, seriesLayoutBy: a, dimensionsDefine: s.dimensionsDefine, startIndex: s.startIndex, dimensionsDetectedCount: s.dimensionsDetectedCount, encodeDefine: h(r), metaRawOption: Object(i.clone)(e) }); return l } function u (t) { return new o({ data: t, sourceFormat: Object(i.isTypedArray)(t) ? r.g : r.f }) } function c (t) { return new o({ data: t.data, sourceFormat: t.sourceFormat, seriesLayoutBy: t.seriesLayoutBy, dimensionsDefine: Object(i.clone)(t.dimensionsDefine), startIndex: t.startIndex, dimensionsDetectedCount: t.dimensionsDetectedCount, encodeDefine: h(t.encodeDefine) }) } function h (t) { return t ? Object(i.createHashMap)(t) : null } function d (t) { var e = r.h; if (Object(i.isTypedArray)(t))e = r.g; else if (Object(i.isArray)(t)) { t.length === 0 && (e = r.c); for (var n = 0, a = t.length; n < a; n++) { var o = t[n]; if (o != null) { if (Object(i.isArray)(o)) { e = r.c; break } if (Object(i.isObject)(o)) { e = r.e; break } } } } else if (Object(i.isObject)(t)) { for (var s in t) if (Object(i.hasOwn)(t, s) && Object(i.isArrayLike)(t[s])) { e = r.d; break } } else if (t != null) throw new Error('Invalid data'); return e } function p (t, e, n, o, s) { var l, u; if (!t) return { dimensionsDefine: g(s), startIndex: u, dimensionsDetectedCount: l }; if (e === r.c) { var c = t; o === 'auto' || o == null ? y(function (t) { t != null && t !== '-' && (Object(i.isString)(t) ? u == null && (u = 1) : u = 0) }, n, c, 10) : u = Object(i.isNumber)(o) ? o : o ? 1 : 0, s || u !== 1 || (s = [], y(function (t, e) { s[e] = t != null ? t + '' : '' }, n, c, 1 / 0)), l = s ? s.length : n === r.b ? c.length : c[0] ? c[0].length : null } else if (e === r.e)s || (s = f(t)); else if (e === r.d)s || (s = [], Object(i.each)(t, function (t, e) { s.push(e) })); else if (e === r.f) { var h = Object(a.h)(t[0]); l = Object(i.isArray)(h) && h.length || 1 } else r.g; return { startIndex: u, dimensionsDefine: g(s), dimensionsDetectedCount: l } } function f (t) { var e; var n = 0; while (n < t.length && !(e = t[n++]));if (e) { var r = []; return Object(i.each)(e, function (t, e) { r.push(e) }), r } } function g (t) { if (t) { var e = Object(i.createHashMap)(); return Object(i.map)(t, function (t, n) { t = Object(i.isObject)(t) ? t : { name: t }; var r = { name: t.name, displayName: t.displayName, type: t.type }; if (name == null) return r; r.name += '', r.displayName == null && (r.displayName = r.name); var a = e.get(r.name); return a ? r.name += '-' + a.count++ : e.set(r.name, { count: 1 }), r }) } } function y (t, e, n, i) { if (e === r.b) for (var a = 0; a < n.length && a < i; a++)t(n[a] ? n[a][0] : null, a); else { var o = n[0] || []; for (a = 0; a < o.length && a < i; a++)t(o[a], a) } } },
  '6fc4': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return s }); var i = n('cc6e'); var r = n('ad61'); var a = n('0f23'); var o = n('65a1'); function s (t) { var e; var n; var s; var u; var c = t.series; var h = t.dataIndex; var d = t.multipleSeries; var p = c.getData(); var f = p.mapDimensionsAll('defaultedTooltip'); var g = f.length; var y = c.getRawValue(h); var v = Object(i.isArray)(y); var m = Object(r.e)(c, h); if (g > 1 || v && !g) { var b = l(y, c, h, f, m); e = b.inlineValues, n = b.inlineValueTypes, s = b.blocks, u = b.inlineValues[0] } else if (g) { var x = p.getDimensionInfo(f[0]); u = e = Object(a.e)(p, h, f[0]), n = x.type } else u = e = v ? y[0] : y; var _ = Object(o.n)(c); var w = _ && c.name || ''; var O = p.getName(h); var S = d ? w : O; return Object(r.c)('section', { header: w, noHeader: d || !_, sortParam: u, blocks: [Object(r.c)('nameValue', { markerType: 'item', markerColor: m, name: S, noName: !Object(i.trim)(S), value: e, valueType: n })].concat(s || []) }) } function l (t, e, n, o, s) { var l = e.getData(); var u = Object(i.reduce)(t, function (t, e, n) { var i = l.getDimensionInfo(n); return t || i && !1 !== i.tooltip && i.displayName != null }, !1); var c = []; var h = []; var d = []; function p (t, e) { var n = l.getDimensionInfo(e); n && !1 !== n.otherDims.tooltip && (u ? d.push(Object(r.c)('nameValue', { markerType: 'subItem', markerColor: s, name: n.displayName, value: t, valueType: n.type })) : (c.push(t), h.push(n.type))) } return o.length ? Object(i.each)(o, function (t) { p(Object(a.e)(l, n, t), t) }) : Object(i.each)(t, p), { inlineValues: c, inlineValueTypes: h, blocks: d } } },
  7316: function (t, e, n) { 'use strict'; var i = n('21a1'); var r = n('18d3'); var a = n('3c03'); var o = n('6af1'); var s = []; var l = (function () { function t () { this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.cpx1 = 0, this.cpy1 = 0, this.percent = 1 } return t }()); function u (t, e, n) { var i = t.cpx2; var r = t.cpy2; return i === null || r === null ? [(n ? o.b : o.a)(t.x1, t.cpx1, t.cpx2, t.x2, e), (n ? o.b : o.a)(t.y1, t.cpy1, t.cpy2, t.y2, e)] : [(n ? o.i : o.h)(t.x1, t.cpx1, t.x2, e), (n ? o.i : o.h)(t.y1, t.cpy1, t.y2, e)] } var c = (function (t) { function e (e) { return t.call(this, e) || this } return Object(i.a)(e, t), e.prototype.getDefaultStyle = function () { return { stroke: '#000', fill: null } }, e.prototype.getDefaultShape = function () { return new l() }, e.prototype.buildPath = function (t, e) { var n = e.x1; var i = e.y1; var r = e.x2; var a = e.y2; var l = e.cpx1; var u = e.cpy1; var c = e.cpx2; var h = e.cpy2; var d = e.percent; d !== 0 && (t.moveTo(n, i), c == null || h == null ? (d < 1 && (Object(o.n)(n, l, r, d, s), l = s[1], r = s[2], Object(o.n)(i, u, a, d, s), u = s[1], a = s[2]), t.quadraticCurveTo(l, u, r, a)) : (d < 1 && (Object(o.g)(n, l, c, r, d, s), l = s[1], c = s[2], r = s[3], Object(o.g)(i, u, h, a, d, s), u = s[1], h = s[2], a = s[3]), t.bezierCurveTo(l, u, c, h, r, a))) }, e.prototype.pointAt = function (t) { return u(this.shape, t, !1) }, e.prototype.tangentAt = function (t) { var e = u(this.shape, t, !0); return a.m(e, e) }, e }(r.b)); c.prototype.type = 'bezier-curve', e.a = c },
  7421: function (t, e, n) { 'use strict'; n.d(e, 'b', function () { return r }), n.d(e, 'c', function () { return o }), n.d(e, 'd', function () { return s }), n.d(e, 'a', function () { return l }); var i = n('a2b2'); function r (t) { for (var e = [], n = 0; n < t.length; n++) { var r = t[n]; if (!r.defaultAttr.ignore) { var a = r.label; var o = a.getComputedTransform(); var s = a.getBoundingRect(); var l = !o || o[1] < 1e-5 && o[2] < 1e-5; var u = a.style.margin || 0; var c = s.clone(); c.applyTransform(o), c.x -= u / 2, c.y -= u / 2, c.width += u, c.height += u; var h = l ? new i.OrientedBoundingRect(s, o) : null; e.push({ label: a, labelLine: r.labelLine, rect: c, localRect: s, obb: h, priority: r.priority, defaultAttr: r.defaultAttr, layoutOption: r.computedLayoutOption, axisAligned: l, transform: o }) } } return e } function a (t, e, n, i, r, a) { var o = t.length; if (!(o < 2)) { t.sort(function (t, n) { return t.rect[e] - n.rect[e] }); for (var s, l = 0, u = !1, c = [], h = 0, d = 0; d < o; d++) { var p = t[d]; var f = p.rect; s = f[e] - l, s < 0 && (f[e] -= s, p.label[e] -= s, u = !0); var g = Math.max(-s, 0); c.push(g), h += g, l = f[e] + f[n] }h > 0 && a && w(-h / o, 0, o); var y; var v; var m = t[0]; var b = t[o - 1]; return x(), y < 0 && O(-y, 0.8), v < 0 && O(v, 0.8), x(), _(y, v, 1), _(v, y, -1), x(), y < 0 && S(-y), v < 0 && S(v), u } function x () { y = m.rect[e] - i, v = r - b.rect[e] - b.rect[n] } function _ (t, e, n) { if (t < 0) { var i = Math.min(e, -t); if (i > 0) { w(i * n, 0, o); var r = i + t; r < 0 && O(-r * n, 1) } else O(-t * n, 1) } } function w (n, i, r) { n !== 0 && (u = !0); for (var a = i; a < r; a++) { var o = t[a]; var s = o.rect; s[e] += n, o.label[e] += n } } function O (i, r) { for (var a = [], s = 0, l = 1; l < o; l++) { var u = t[l - 1].rect; var c = Math.max(t[l].rect[e] - u[e] - u[n], 0); a.push(c), s += c } if (s) { var h = Math.min(Math.abs(i) / s, r); if (i > 0) for (l = 0; l < o - 1; l++) { var d = a[l] * h; w(d, 0, l + 1) } else for (l = o - 1; l > 0; l--) { d = a[l - 1] * h; w(-d, l, o) } } } function S (t) { var e = t < 0 ? -1 : 1; t = Math.abs(t); for (var n = Math.ceil(t / (o - 1)), i = 0; i < o - 1; i++) if (e > 0 ? w(n, 0, i + 1) : w(-n, o - i - 1, o), t -= n, t <= 0) return } } function o (t, e, n, i) { return a(t, 'x', 'width', e, n, i) } function s (t, e, n, i) { return a(t, 'y', 'height', e, n, i) } function l (t) { var e = []; t.sort(function (t, e) { return e.priority - t.priority }); var n = new i.BoundingRect(0, 0, 0, 0); function r (t) { if (!t.ignore) { var e = t.ensureState('emphasis'); e.ignore == null && (e.ignore = !1) }t.ignore = !0 } for (var a = 0; a < t.length; a++) { var o = t[a]; var s = o.axisAligned; var l = o.localRect; var u = o.transform; var c = o.label; var h = o.labelLine; n.copy(o.rect), n.width -= 0.1, n.height -= 0.1, n.x += 0.05, n.y += 0.05; for (var d = o.obb, p = !1, f = 0; f < e.length; f++) { var g = e[f]; if (n.intersect(g.rect)) { if (s && g.axisAligned) { p = !0; break } if (g.obb || (g.obb = new i.OrientedBoundingRect(g.localRect, g.transform)), d || (d = new i.OrientedBoundingRect(l, u)), d.intersect(g.obb)) { p = !0; break } } }p ? (r(c), h && r(h)) : (c.attr('ignore', o.defaultAttr.ignore), h && h.attr('ignore', o.defaultAttr.labelGuideIgnore), e.push(o)) } } },
  '74a6': function (t, e, n) { 'use strict'; n.d(e, 'b', function () { return p }), n.d(e, 'a', function () { return y }); var i = n('cc6e'); var r = n('a2b2'); var a = n('10e1'); var o = n('949c'); var s = r.Path.extend({ type: 'triangle', shape: { cx: 0, cy: 0, width: 0, height: 0 }, buildPath: function (t, e) { var n = e.cx; var i = e.cy; var r = e.width / 2; var a = e.height / 2; t.moveTo(n, i - a), t.lineTo(n + r, i + a), t.lineTo(n - r, i + a), t.closePath() } }); var l = r.Path.extend({ type: 'diamond', shape: { cx: 0, cy: 0, width: 0, height: 0 }, buildPath: function (t, e) { var n = e.cx; var i = e.cy; var r = e.width / 2; var a = e.height / 2; t.moveTo(n, i - a), t.lineTo(n + r, i), t.lineTo(n, i + a), t.lineTo(n - r, i), t.closePath() } }); var u = r.Path.extend({ type: 'pin', shape: { x: 0, y: 0, width: 0, height: 0 }, buildPath: function (t, e) { var n = e.x; var i = e.y; var r = e.width / 5 * 3; var a = Math.max(r, e.height); var o = r / 2; var s = o * o / (a - o); var l = i - a + o + s; var u = Math.asin(s / o); var c = Math.cos(u) * o; var h = Math.sin(u); var d = Math.cos(u); var p = 0.6 * o; var f = 0.7 * o; t.moveTo(n - c, l + s), t.arc(n, l, o, Math.PI - u, 2 * Math.PI + u), t.bezierCurveTo(n + c - h * p, l + s + d * p, n, i - f, n, i), t.bezierCurveTo(n, i - f, n - c + h * p, l + s + d * p, n - c, l + s), t.closePath() } }); var c = r.Path.extend({ type: 'arrow', shape: { x: 0, y: 0, width: 0, height: 0 }, buildPath: function (t, e) { var n = e.height; var i = e.width; var r = e.x; var a = e.y; var o = i / 3 * 2; t.moveTo(r, a), t.lineTo(r + o, a + n), t.lineTo(r, a + n / 4 * 3), t.lineTo(r - o, a + n), t.lineTo(r, a), t.closePath() } }); var h = { line: r.Rect, rect: r.Rect, roundRect: r.Rect, square: r.Rect, circle: r.Circle, diamond: l, pin: u, arrow: c, triangle: s }; var d = { line: function (t, e, n, i, r) { var a = 2; r.x = t, r.y = e + i / 2 - a / 2, r.width = n, r.height = a }, rect: function (t, e, n, i, r) { r.x = t, r.y = e, r.width = n, r.height = i }, roundRect: function (t, e, n, i, r) { r.x = t, r.y = e, r.width = n, r.height = i, r.r = Math.min(n, i) / 4 }, square: function (t, e, n, i, r) { var a = Math.min(n, i); r.x = t, r.y = e, r.width = a, r.height = a }, circle: function (t, e, n, i, r) { r.cx = t + n / 2, r.cy = e + i / 2, r.r = Math.min(n, i) / 2 }, diamond: function (t, e, n, i, r) { r.cx = t + n / 2, r.cy = e + i / 2, r.width = n, r.height = i }, pin: function (t, e, n, i, r) { r.x = t + n / 2, r.y = e + i / 2, r.width = n, r.height = i }, arrow: function (t, e, n, i, r) { r.x = t + n / 2, r.y = e + i / 2, r.width = n, r.height = i }, triangle: function (t, e, n, i, r) { r.cx = t + n / 2, r.cy = e + i / 2, r.width = n, r.height = i } }; var p = {}; i.each(h, function (t, e) { p[e] = new t() }); var f = r.Path.extend({ type: 'symbol', shape: { symbolType: '', x: 0, y: 0, width: 0, height: 0 }, calculateTextPosition: function (t, e, n) { var i = Object(o.d)(t, e, n); var r = this.shape; return r && r.symbolType === 'pin' && e.position === 'inside' && (i.y = n.y + 0.4 * n.height), i }, buildPath: function (t, e, n) { var i = e.symbolType; if (i !== 'none') { var r = p[i]; r || (i = 'rect', r = p[i]), d[i](e.x, e.y, e.width, e.height, r.shape), r.buildPath(t, r.shape, n) } } }); function g (t, e) { if (this.type !== 'image') { var n = this.style; this.__isEmptyBrush ? (n.stroke = t, n.fill = e || '#fff', n.lineWidth = 2) : n.fill = t, this.markRedraw() } } function y (t, e, n, i, o, s, l) { var u; var c = t.indexOf('empty') === 0; return c && (t = t.substr(5, 1).toLowerCase() + t.substr(6)), u = t.indexOf('image://') === 0 ? r.makeImage(t.slice(8), new a.a(e, n, i, o), l ? 'center' : 'cover') : t.indexOf('path://') === 0 ? r.makePath(t.slice(7), {}, new a.a(e, n, i, o), l ? 'center' : 'cover') : new f({ shape: { symbolType: t, x: e, y: n, width: i, height: o } }), u.__isEmptyBrush = c, u.setColor = g, s && u.setColor(s), u } },
  7648: function (t, e, n) { 'use strict'; var i = n('21a1'); var r = n('18d3'); var a = n('8089'); var o = (function () { function t () { this.points = null, this.smooth = 0, this.smoothConstraint = null } return t }()); var s = (function (t) { function e (e) { return t.call(this, e) || this } return Object(i.a)(e, t), e.prototype.getDefaultShape = function () { return new o() }, e.prototype.buildPath = function (t, e) { a.a(t, e, !0) }, e }(r.b)); s.prototype.type = 'polygon', e.a = s },
  '7fae': function (t, e, n) {
    'use strict'; n.d(e, 'b', function () { return r }), n.d(e, 'a', function () { return a }), n.d(e, 'c', function () { return o })
    /*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
    var i = function (t, e) { return i = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, e) { t.__proto__ = e } || function (t, e) { for (var n in e)e.hasOwnProperty(n) && (t[n] = e[n]) }, i(t, e) }; function r (t, e) { function n () { this.constructor = t }i(t, e), t.prototype = e === null ? Object.create(e) : (n.prototype = e.prototype, new n()) } var a = function () { return a = Object.assign || function (t) { for (var e, n = 1, i = arguments.length; n < i; n++) for (var r in e = arguments[n], e)Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]); return t }, a.apply(this, arguments) }; function o () { for (var t = 0, e = 0, n = arguments.length; e < n; e++)t += arguments[e].length; var i = Array(t); var r = 0; for (e = 0; e < n; e++) for (var a = arguments[e], o = 0, s = a.length; o < s; o++, r++)i[r] = a[o]; return i }
  },
  8089: function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return s }); var i = n('3c03'); function r (t, e, n, i, r, a, o) { var s = 0.5 * (n - t); var l = 0.5 * (i - e); return (2 * (e - n) + s + l) * o + (-3 * (e - n) - 2 * s - l) * a + s * r + e } function a (t, e) { for (var n = t.length, a = [], o = 0, s = 1; s < n; s++)o += Object(i.h)(t[s - 1], t[s]); var l = o / 2; l = l < n ? n : l; for (s = 0; s < l; s++) { var u = s / (l - 1) * (e ? n : n - 1); var c = Math.floor(u); var h = u - c; var d = void 0; var p = t[c % n]; var f = void 0; var g = void 0; e ? (d = t[(c - 1 + n) % n], f = t[(c + 1) % n], g = t[(c + 2) % n]) : (d = t[c === 0 ? c : c - 1], f = t[c > n - 2 ? n - 1 : c + 1], g = t[c > n - 3 ? n - 1 : c + 2]); var y = h * h; var v = h * y; a.push([r(d[0], p[0], f[0], g[0], h, y, v), r(d[1], p[1], f[1], g[1], h, y, v)]) } return a } function o (t, e, n, r) { var a; var o; var s; var l; var u = []; var c = []; var h = []; var d = []; if (r) { s = [1 / 0, 1 / 0], l = [-1 / 0, -1 / 0]; for (var p = 0, f = t.length; p < f; p++)Object(i.l)(s, s, t[p]), Object(i.k)(l, l, t[p]); Object(i.l)(s, s, r[0]), Object(i.k)(l, l, r[1]) } for (p = 0, f = t.length; p < f; p++) { var g = t[p]; if (n)a = t[p ? p - 1 : f - 1], o = t[(p + 1) % f]; else { if (p === 0 || p === f - 1) { u.push(Object(i.c)(t[p])); continue }a = t[p - 1], o = t[p + 1] }Object(i.q)(c, o, a), Object(i.n)(c, c, e); var y = Object(i.h)(g, a); var v = Object(i.h)(g, o); var m = y + v; m !== 0 && (y /= m, v /= m), Object(i.n)(h, c, -y), Object(i.n)(d, c, v); var b = Object(i.a)([], g, h); var x = Object(i.a)([], g, d); r && (Object(i.k)(b, b, s), Object(i.l)(b, b, l), Object(i.k)(x, x, s), Object(i.l)(x, x, l)), u.push(b), u.push(x) } return n && u.push(u.shift()), u } function s (t, e, n) { var i = e.smooth; var r = e.points; if (r && r.length >= 2) { if (i && i !== 'spline') { var s = o(r, i, n, e.smoothConstraint); t.moveTo(r[0][0], r[0][1]); for (var l = r.length, u = 0; u < (n ? l : l - 1); u++) { var c = s[2 * u]; var h = s[2 * u + 1]; var d = r[(u + 1) % l]; t.bezierCurveTo(c[0], c[1], h[0], h[1], d[0], d[1]) } } else { i === 'spline' && (r = a(r, n)), t.moveTo(r[0][0], r[0][1]); u = 1; for (var p = r.length; u < p; u++)t.lineTo(r[u][0], r[u][1]) }n && t.closePath() } } },
  '86be': function (t, e, n) { 'use strict'; n.d(e, 'g', function () { return h }), n.d(e, 'e', function () { return d }), n.d(e, 'c', function () { return p }), n.d(e, 'b', function () { return f }), n.d(e, 'd', function () { return _ }), n.d(e, 'f', function () { return w }), n.d(e, 'h', function () { return O }), n.d(e, 'a', function () { return S }); var i = n('2488'); var r = n('cc6e'); var a = n('c713'); var o = (n('dcca'), n('65a1')); var s = n('a2b2'); var l = {}; function u (t, e) { for (var n = 0; n < a.g.length; n++) { var i = a.g[n]; var r = e[i]; var o = t.ensureState(i); o.style = o.style || {}, o.style.text = r } var s = t.currentStates.slice(); t.clearStates(!0), t.setStyle({ text: e.normal }), t.useStates(s, !0) } function c (t, e, n) { var i; var o = t.labelFetcher; var s = t.labelDataIndex; var l = t.labelDimIndex; var u = e.normal; o && (i = o.getFormattedLabel(s, 'normal', null, l, u && u.get('formatter'), n != null ? { value: n } : null)), i == null && (i = Object(r.isFunction)(t.defaultText) ? t.defaultText(s, t, n) : t.defaultText); for (var c = { normal: i }, h = 0; h < a.g.length; h++) { var d = a.g[h]; var p = e[d]; c[d] = Object(r.retrieve2)(o ? o.getFormattedLabel(s, d, null, l, p && p.get('formatter')) : null, i) } return c } function h (t, e, n, o) { n = n || l; for (var s = t instanceof i.a, h = !1, d = 0; d < a.a.length; d++) { var g = e[a.a[d]]; if (g && g.getShallow('show')) { h = !0; break } } var y = s ? t : t.getTextContent(); if (h) { s || (y || (y = new i.a(), t.setTextContent(y)), t.stateProxy && (y.stateProxy = t.stateProxy)); var v = c(n, e); var m = e.normal; var b = !!m.getShallow('show'); var x = p(m, o && o.normal, n, !1, !s); x.text = v.normal, s || t.setTextConfig(f(m, n, !1)); for (d = 0; d < a.g.length; d++) { var _ = a.g[d]; g = e[_]; if (g) { var O = y.ensureState(_); var S = !!Object(r.retrieve2)(g.getShallow('show'), b); if (S !== b && (O.ignore = !S), O.style = p(g, o && o[_], n, !0, !s), O.style.text = v[_], !s) { var M = t.ensureState(_); M.textConfig = f(g, n, !0) } } }y.silent = !!m.getShallow('silent'), y.style.x != null && (x.x = y.style.x), y.style.y != null && (x.y = y.style.y), y.ignore = !b, y.useStyle(x), y.dirty(), n.enableTextSetter && (w(y).setLabelText = function (t) { var i = c(n, e, t); u(y, i) }) } else y && (y.ignore = !0); t.dirty() } function d (t, e) { e = e || 'label'; for (var n = { normal: t.getModel(e) }, i = 0; i < a.g.length; i++) { var r = a.g[i]; n[r] = t.getModel([r, e]) } return n } function p (t, e, n, i, a) { var o = {}; return g(o, t, n, i, a), e && Object(r.extend)(o, e), o } function f (t, e, n) { e = e || {}; var i; var a = {}; var o = t.getShallow('rotate'); var s = Object(r.retrieve2)(t.getShallow('distance'), n ? null : 5); var l = t.getShallow('offset'); return i = t.getShallow('position') || (n ? null : 'inside'), i === 'outside' && (i = e.defaultOutsidePosition || 'top'), i != null && (a.position = i), l != null && (a.offset = l), o != null && (o *= Math.PI / 180, a.rotation = o), s != null && (a.distance = s), a.outsideFill = t.get('color') === 'inherit' ? e.inheritColor || null : 'auto', a } function g (t, e, n, i, r) { n = n || l; var a; var o = e.ecModel; var s = o && o.option.textStyle; var u = y(e); if (u) for (var c in a = {}, u) if (u.hasOwnProperty(c)) { var h = e.getModel(['rich', c]); x(a[c] = {}, h, s, n, i, r, !1, !0) }a && (t.rich = a); var d = e.get('overflow'); d && (t.overflow = d); var p = e.get('minMargin'); p != null && (t.margin = p), x(t, e, s, n, i, r, !0, !1) } function y (t) { var e; while (t && t !== t.ecModel) { var n = (t.option || l).rich; if (n) { e = e || {}; for (var i = Object(r.keys)(n), a = 0; a < i.length; a++) { var o = i[a]; e[o] = 1 } }t = t.parentModel } return e } var v = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY']; var m = ['align', 'lineHeight', 'width', 'height', 'tag', 'verticalAlign']; var b = ['padding', 'borderWidth', 'borderRadius', 'borderDashOffset', 'backgroundColor', 'borderColor', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY']; function x (t, e, n, i, a, o, s, u) { n = !a && n || l; var c = i && i.inheritColor; var h = e.getShallow('color'); var d = e.getShallow('textBorderColor'); var p = Object(r.retrieve2)(e.getShallow('opacity'), n.opacity); h !== 'inherit' && h !== 'auto' || (h = c || null), d !== 'inherit' && d !== 'auto' || (d = c || null), o || (h = h || n.color, d = d || n.textBorderColor), h != null && (t.fill = h), d != null && (t.stroke = d); var f = Object(r.retrieve2)(e.getShallow('textBorderWidth'), n.textBorderWidth); f != null && (t.lineWidth = f); var g = Object(r.retrieve2)(e.getShallow('textBorderType'), n.textBorderType); g != null && (t.lineDash = g); var y = Object(r.retrieve2)(e.getShallow('textBorderDashOffset'), n.textBorderDashOffset); y != null && (t.lineDashOffset = y), a || p != null || u || (p = i && i.defaultOpacity), p != null && (t.opacity = p), a || o || t.fill == null && i.inheritColor && (t.fill = i.inheritColor); for (var x = 0; x < v.length; x++) { var _ = v[x]; var w = Object(r.retrieve2)(e.getShallow(_), n[_]); w != null && (t[_] = w) } for (x = 0; x < m.length; x++) { _ = m[x], w = e.getShallow(_); w != null && (t[_] = w) } if (t.verticalAlign == null) { var O = e.getShallow('baseline'); O != null && (t.verticalAlign = O) } if (!s || !i.disableBox) { for (x = 0; x < b.length; x++) { _ = b[x], w = e.getShallow(_); w != null && (t[_] = w) } var S = e.getShallow('borderType'); S != null && (t.borderDash = S), t.backgroundColor !== 'auto' && t.backgroundColor !== 'inherit' || !c || (t.backgroundColor = c), t.borderColor !== 'auto' && t.borderColor !== 'inherit' || !c || (t.borderColor = c) } } function _ (t, e) { var n = e && e.getModel('textStyle'); return Object(r.trim)([t.fontStyle || n && n.getShallow('fontStyle') || '', t.fontWeight || n && n.getShallow('fontWeight') || '', (t.fontSize || n && n.getShallow('fontSize') || 12) + 'px', t.fontFamily || n && n.getShallow('fontFamily') || 'sans-serif'].join(' ')) } var w = Object(o.o)(); function O (t, e, n, i) { if (t) { var r = w(t); r.prevValue = r.value, r.value = n; var a = e.normal; r.valueAnimation = a.get('valueAnimation'), r.valueAnimation && (r.precision = a.get('precision'), r.defaultInterpolatedText = i, r.statesModels = e) } } function S (t, e, n, i) { var r = w(t); if (r.valueAnimation) { var a = r.defaultInterpolatedText; var l = r.prevValue; var h = r.value; (l == null ? s.initProps : s.updateProps)(t, {}, i, e, null, d) } function d (i) { var s = Object(o.k)(n, r.precision, l, h, i); var d = c({ labelDataIndex: e, defaultText: a ? a(s) : s + '' }, r.statesModels, s); u(t, d) } } },
  '877a': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return j }); var i = n('cc6e'); var r = n('65a1'); var a = (n('dcca'), i.each); var o = i.isObject; var s = ['areaStyle', 'lineStyle', 'nodeStyle', 'linkStyle', 'chordStyle', 'label', 'labelLine']; function l (t) { var e = t && t.itemStyle; if (e) for (var n = 0, r = s.length; n < r; n++) { var a = s[n]; var o = e.normal; var l = e.emphasis; o && o[a] && (t[a] = t[a] || {}, t[a].normal ? i.merge(t[a].normal, o[a]) : t[a].normal = o[a], o[a] = null), l && l[a] && (t[a] = t[a] || {}, t[a].emphasis ? i.merge(t[a].emphasis, l[a]) : t[a].emphasis = l[a], l[a] = null) } } function u (t, e, n) { if (t && t[e] && (t[e].normal || t[e].emphasis)) { var r = t[e].normal; var a = t[e].emphasis; r && (n ? (t[e].normal = t[e].emphasis = null, i.defaults(t[e], r)) : t[e] = r), a && (t.emphasis = t.emphasis || {}, t.emphasis[e] = a, a.focus && (t.emphasis.focus = a.focus), a.blurScope && (t.emphasis.blurScope = a.blurScope)) } } function c (t) { u(t, 'itemStyle'), u(t, 'lineStyle'), u(t, 'areaStyle'), u(t, 'label'), u(t, 'labelLine'), u(t, 'upperLabel'), u(t, 'edgeLabel') } function h (t, e) { var n = o(t) && t[e]; var i = o(n) && n.textStyle; if (i) { 0; for (var a = 0, s = r.c.length; a < s; a++) { var l = r.c[a]; i.hasOwnProperty(l) && (n[l] = i[l]) } } } function d (t) { t && (c(t), h(t, 'label'), t.emphasis && h(t.emphasis, 'label')) } function p (t) { if (o(t)) { l(t), c(t), h(t, 'label'), h(t, 'upperLabel'), h(t, 'edgeLabel'), t.emphasis && (h(t.emphasis, 'label'), h(t.emphasis, 'upperLabel'), h(t.emphasis, 'edgeLabel')); var e = t.markPoint; e && (l(e), d(e)); var n = t.markLine; n && (l(n), d(n)); var r = t.markArea; r && d(r); var a = t.data; if (t.type === 'graph') { a = a || t.nodes; var s = t.links || t.edges; if (s && !i.isTypedArray(s)) for (var p = 0; p < s.length; p++)d(s[p]); i.each(t.categories, function (t) { c(t) }) } if (a && !i.isTypedArray(a)) for (p = 0; p < a.length; p++)d(a[p]); if (e = t.markPoint, e && e.data) { var f = e.data; for (p = 0; p < f.length; p++)d(f[p]) } if (n = t.markLine, n && n.data) { var g = n.data; for (p = 0; p < g.length; p++)i.isArray(g[p]) ? (d(g[p][0]), d(g[p][1])) : d(g[p]) }t.type === 'gauge' ? (h(t, 'axisLabel'), h(t, 'title'), h(t, 'detail')) : t.type === 'treemap' ? (u(t.breadcrumb, 'itemStyle'), i.each(t.levels, function (t) { c(t) })) : t.type === 'tree' && c(t.leaves) } } function f (t) { return i.isArray(t) ? t : t ? [t] : [] } function g (t) { return (i.isArray(t) ? t[0] : t) || {} } function y (t, e) { a(f(t.series), function (t) { o(t) && p(t) }); var n = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'parallelAxis', 'radar']; e && n.push('valueAxis', 'categoryAxis', 'logAxis', 'timeAxis'), a(n, function (e) { a(f(t[e]), function (t) { t && (h(t, 'axisLabel'), h(t.axisPointer, 'label')) }) }), a(f(t.parallel), function (t) { var e = t && t.parallelAxisDefault; h(e, 'axisLabel'), h(e && e.axisPointer, 'label') }), a(f(t.calendar), function (t) { u(t, 'itemStyle'), h(t, 'dayLabel'), h(t, 'monthLabel'), h(t, 'yearLabel') }), a(f(t.radar), function (t) { h(t, 'name'), t.name && t.axisName == null && (t.axisName = t.name, delete t.name), t.nameGap != null && t.axisNameGap == null && (t.axisNameGap = t.nameGap, delete t.nameGap) }), a(f(t.geo), function (t) { o(t) && (d(t), a(f(t.regions), function (t) { d(t) })) }), a(f(t.timeline), function (t) { d(t), u(t, 'label'), u(t, 'itemStyle'), u(t, 'controlStyle', !0); var e = t.data; i.isArray(e) && i.each(e, function (t) { i.isObject(t) && (u(t, 'label'), u(t, 'itemStyle')) }) }), a(f(t.toolbox), function (t) { u(t, 'iconStyle'), a(t.feature, function (t) { u(t, 'iconStyle') }) }), h(g(t.axisPointer), 'label'), h(g(t.tooltip).axisPointer, 'label') } function v (t, e) { for (var n = e.split(','), i = t, r = 0; r < n.length; r++) if (i = i && i[n[r]], i == null) break; return i } function m (t, e, n, i) { for (var r, a = e.split(','), o = t, s = 0; s < a.length - 1; s++)r = a[s], o[r] == null && (o[r] = {}), o = o[r]; (i || o[a[s]] == null) && (o[a[s]] = n) } function b (t) { t && Object(i.each)(x, function (e) { e[0] in t && !(e[1] in t) && (t[e[1]] = t[e[0]]) }) } var x = [['x', 'left'], ['y', 'top'], ['x2', 'right'], ['y2', 'bottom']]; var _ = ['grid', 'geo', 'parallel', 'legend', 'toolbox', 'title', 'visualMap', 'dataZoom', 'timeline']; var w = [['borderRadius', 'barBorderRadius'], ['borderColor', 'barBorderColor'], ['borderWidth', 'barBorderWidth']]; function O (t) { var e = t && t.itemStyle; if (e) for (var n = 0; n < w.length; n++) { var i = w[n][1]; var r = w[n][0]; e[i] != null && (e[r] = e[i]) } } function S (t) { t && t.alignTo === 'edge' && t.margin != null && t.edgeDistance == null && (t.edgeDistance = t.margin) } function M (t) { t && t.downplay && !t.blur && (t.blur = t.downplay) } function I (t) { t && t.focusNodeAdjacency != null && (t.emphasis = t.emphasis || {}, t.emphasis.focus == null && (t.emphasis.focus = 'adjacency')) } function T (t, e) { if (t) for (var n = 0; n < t.length; n++)e(t[n]), t[n] && T(t[n].children, e) } function j (t, e) { y(t, e), t.series = Object(r.r)(t.series), Object(i.each)(t.series, function (t) { if (Object(i.isObject)(t)) { var e = t.type; if (e === 'line')t.clipOverflow != null && (t.clip = t.clipOverflow); else if (e === 'pie' || e === 'gauge') { t.clockWise != null && (t.clockwise = t.clockWise), S(t.label); var n = t.data; if (n && !Object(i.isTypedArray)(n)) for (var r = 0; r < n.length; r++)S(n[r]); t.hoverOffset != null && (t.emphasis = t.emphasis || {}, (t.emphasis.scaleSize = null) && (t.emphasis.scaleSize = t.hoverOffset)) } else if (e === 'gauge') { var a = v(t, 'pointer.color'); a != null && m(t, 'itemStyle.color', a) } else if (e === 'bar') { O(t), O(t.backgroundStyle), O(t.emphasis); n = t.data; if (n && !Object(i.isTypedArray)(n)) for (r = 0; r < n.length; r++) typeof n[r] === 'object' && (O(n[r]), O(n[r] && n[r].emphasis)) } else if (e === 'sunburst') { var o = t.highlightPolicy; o && (t.emphasis = t.emphasis || {}, t.emphasis.focus || (t.emphasis.focus = o)), M(t), T(t.data, M) } else e === 'graph' || e === 'sankey' ? I(t) : e === 'map' && (t.mapType && !t.map && (t.map = t.mapType), t.mapLocation && Object(i.defaults)(t, t.mapLocation)); t.hoverAnimation != null && (t.emphasis = t.emphasis || {}, t.emphasis && t.emphasis.scale == null && (t.emphasis.scale = t.hoverAnimation)), b(t) } }), t.dataRange && (t.visualMap = t.dataRange), Object(i.each)(_, function (e) { var n = t[e]; n && (Object(i.isArray)(n) || (n = [n]), Object(i.each)(n, function (t) { b(t) })) }) } },
  '88de': function (t, e, n) { 'use strict'; n.d(e, 'c', function () { return f }), n.d(e, 'b', function () { return y }), n.d(e, 'a', function () { return v }); var i = n('cc6e'); var r = n('27bd'); var a = n('f395'); var o = n('d7e6'); var s = n('f199'); var l = n('65a1'); var u = Object(l.o)(); var c = { itemStyle: Object(r.a)(a.a, !0), lineStyle: Object(r.a)(o.a, !0) }; var h = { lineStyle: 'stroke', itemStyle: 'fill' }; function d (t, e) { var n = t.visualStyleMapper || c[e]; return n || c.itemStyle } function p (t, e) { var n = t.visualDrawType || h[e]; return n || 'fill' } var f = { createOnAllSeries: !0, performRawSeries: !0, reset: function (t, e) { var n = t.getData(); var r = t.visualStyleAccessPath || 'itemStyle'; var a = t.getModel(r); var o = d(t, r); var s = o(a); var l = a.getShallow('decal'); l && (n.setVisual('decal', l), l.dirty = !0); var u = p(t, r); var c = s[u]; var h = Object(i.isFunction)(c) ? c : null; if (s[u] && !h || (s[u] = t.getColorFromPalette(t.name, null, e.getSeriesCount()), n.setVisual('colorFromPalette', !0)), n.setVisual('style', s), n.setVisual('drawType', u), !e.isSeriesFiltered(t) && h) return n.setVisual('colorFromPalette', !1), { dataEach: function (e, n) { var r = t.getDataParams(n); var a = Object(i.extend)({}, s); a[u] = h(r), e.setItemVisual(n, 'style', a) } } } }; var g = new s.a(); var y = { createOnAllSeries: !0, performRawSeries: !0, reset: function (t, e) { if (!t.ignoreStyleOnData && !e.isSeriesFiltered(t)) { var n = t.getData(); var r = t.visualStyleAccessPath || 'itemStyle'; var a = d(t, r); var o = n.getVisual('drawType'); return { dataEach: n.hasItemOption ? function (t, e) { var n = t.getRawDataItem(e); if (n && n[r]) { g.option = n[r]; var s = a(g); var l = t.ensureUniqueItemVisual(e, 'style'); Object(i.extend)(l, s), g.option.decal && (t.setItemVisual(e, 'decal', g.option.decal), g.option.decal.dirty = !0), o in s && t.setItemVisual(e, 'colorFromPalette', !1) } } : null } } } }; var v = { performRawSeries: !0, overallReset: function (t) { var e = Object(i.createHashMap)(); t.eachSeries(function (t) { if (t.useColorPaletteOnData) { var n = e.get(t.type); n || (n = {}, e.set(t.type, n)), u(t).scope = n } }), t.eachSeries(function (e) { if (e.useColorPaletteOnData && !t.isSeriesFiltered(e)) { var n = e.getRawData(); var i = {}; var r = e.getData(); var a = u(e).scope; var o = e.visualStyleAccessPath || 'itemStyle'; var s = p(e, o); r.each(function (t) { var e = r.getRawIndex(t); i[e] = t }), n.each(function (t) { var o = i[t]; var l = r.getItemVisual(o, 'colorFromPalette'); if (l) { var u = r.ensureUniqueItemVisual(o, 'style'); var c = n.getName(t) || t + ''; var h = n.count(); u[s] = e.getColorFromPalette(c, a, h) } }) } }) } } },
  '8a3b': function (t, e, n) { 'use strict'; var i = n('e2fd'); var r = n('c585'); var a = n('10e1'); var o = n('5395'); var s = n('949c'); var l = n('cc6e'); var u = n('4d45'); var c = n('8d25'); var h = n('0d4d'); var d = '__zr_normal__'; var p = ['x', 'y', 'scaleX', 'scaleY', 'originX', 'originY', 'rotation', 'ignore']; var f = { x: !0, y: !0, scaleX: !0, scaleY: !0, originX: !0, originY: !0, rotation: !0, ignore: !1 }; var g = {}; var y = new a.a(0, 0, 0, 0); var v = (function () { function t (t) { this.id = Object(l.guid)(), this.animators = [], this.currentStates = [], this.states = {}, this._init(t) } return t.prototype._init = function (t) { this.attr(t) }, t.prototype.drift = function (t, e, n) { switch (this.draggable) { case 'horizontal':e = 0; break; case 'vertical':t = 0; break } var i = this.transform; i || (i = this.transform = [1, 0, 0, 1, 0, 0]), i[4] += t, i[5] += e, this.decomposeTransform(), this.markRedraw() }, t.prototype.beforeUpdate = function () {}, t.prototype.afterUpdate = function () {}, t.prototype.update = function () { this.updateTransform(), this.__dirty && this.updateInnerText() }, t.prototype.updateInnerText = function (t) { var e = this._textContent; if (e && (!e.ignore || t)) { this.textConfig || (this.textConfig = {}); var n = this.textConfig; var i = n.local; var r = e.attachedTransform; var a = void 0; var o = void 0; var l = !1; r.parent = i ? this : null; var u = !1; if (r.x = e.x, r.y = e.y, r.originX = e.originX, r.originY = e.originY, r.rotation = e.rotation, r.scaleX = e.scaleX, r.scaleY = e.scaleY, n.position != null) { var c = y; n.layoutRect ? c.copy(n.layoutRect) : c.copy(this.getBoundingRect()), i || c.applyTransform(this.transform), this.calculateTextPosition ? this.calculateTextPosition(g, n, c) : Object(s.d)(g, n, c), r.x = g.x, r.y = g.y, a = g.align, o = g.verticalAlign; var h = n.origin; if (h && n.rotation != null) { var d = void 0; var p = void 0; h === 'center' ? (d = 0.5 * c.width, p = 0.5 * c.height) : (d = Object(s.h)(h[0], c.width), p = Object(s.h)(h[1], c.height)), u = !0, r.originX = -r.x + d + (i ? 0 : c.x), r.originY = -r.y + p + (i ? 0 : c.y) } }n.rotation != null && (r.rotation = n.rotation); var f = n.offset; f && (r.x += f[0], r.y += f[1], u || (r.originX = -f[0], r.originY = -f[1])); var v = n.inside == null ? typeof n.position === 'string' && n.position.indexOf('inside') >= 0 : n.inside; var m = this._innerTextDefaultStyle || (this._innerTextDefaultStyle = {}); var b = void 0; var x = void 0; var _ = void 0; v && this.canBeInsideText() ? (b = n.insideFill, x = n.insideStroke, b != null && b !== 'auto' || (b = this.getInsideTextFill()), x != null && x !== 'auto' || (x = this.getInsideTextStroke(b), _ = !0)) : (b = n.outsideFill, x = n.outsideStroke, b != null && b !== 'auto' || (b = this.getOutsideFill()), x != null && x !== 'auto' || (x = this.getOutsideStroke(b), _ = !0)), b = b || '#000', b === m.fill && x === m.stroke && _ === m.autoStroke && a === m.align && o === m.verticalAlign || (l = !0, m.fill = b, m.stroke = x, m.autoStroke = _, m.align = a, m.verticalAlign = o, e.setDefaultTextStyle(m)), l && e.dirtyStyle(), e.markRedraw() } }, t.prototype.canBeInsideText = function () { return !0 }, t.prototype.getInsideTextFill = function () { return '#fff' }, t.prototype.getInsideTextStroke = function (t) { return '#000' }, t.prototype.getOutsideFill = function () { return this.__zr && this.__zr.isDarkMode() ? u.d : u.a }, t.prototype.getOutsideStroke = function (t) { var e = this.__zr && this.__zr.getBackgroundColor(); var n = typeof e === 'string' && Object(c.f)(e); n || (n = [255, 255, 255, 1]); for (var i = n[3], r = this.__zr.isDarkMode(), a = 0; a < 3; a++)n[a] = n[a] * i + (r ? 0 : 255) * (1 - i); return n[3] = 1, Object(c.g)(n, 'rgba') }, t.prototype.traverse = function (t, e) {}, t.prototype.attrKV = function (t, e) { t === 'textConfig' ? this.setTextConfig(e) : t === 'textContent' ? this.setTextContent(e) : t === 'clipPath' ? this.setClipPath(e) : t === 'extra' ? (this.extra = this.extra || {}, Object(l.extend)(this.extra, e)) : this[t] = e }, t.prototype.hide = function () { this.ignore = !0, this.markRedraw() }, t.prototype.show = function () { this.ignore = !1, this.markRedraw() }, t.prototype.attr = function (t, e) { if (typeof t === 'string') this.attrKV(t, e); else if (Object(l.isObject)(t)) for (var n = t, i = Object(l.keys)(n), r = 0; r < i.length; r++) { var a = i[r]; this.attrKV(a, t[a]) } return this.markRedraw(), this }, t.prototype.saveCurrentToNormalState = function (t) { this._innerSaveToNormal(t); for (var e = this._normalState, n = 0; n < this.animators.length; n++) { var i = this.animators[n]; var r = i.__fromStateTransition; if (!r || r === d) { var a = i.targetName; var o = a ? e[a] : e; i.saveFinalToTarget(o) } } }, t.prototype._innerSaveToNormal = function (t) { var e = this._normalState; e || (e = this._normalState = {}), t.textConfig && !e.textConfig && (e.textConfig = this.textConfig), this._savePrimaryToNormal(t, e, p) }, t.prototype._savePrimaryToNormal = function (t, e, n) { for (var i = 0; i < n.length; i++) { var r = n[i]; t[r] == null || r in e || (e[r] = this[r]) } }, t.prototype.hasState = function () { return this.currentStates.length > 0 }, t.prototype.getState = function (t) { return this.states[t] }, t.prototype.ensureState = function (t) { var e = this.states; return e[t] || (e[t] = {}), e[t] }, t.prototype.clearStates = function (t) { this.useState(d, !1, t) }, t.prototype.useState = function (e, n, i) { var r = e === d; var a = this.hasState(); if (a || !r) { var o = this.currentStates; var s = this.stateTransition; if (!(Object(l.indexOf)(o, e) >= 0) || !n && o.length !== 1) { var u; if (this.stateProxy && !r && (u = this.stateProxy(e)), u || (u = this.states && this.states[e]), u || r) { r || this.saveCurrentToNormalState(u); var c = !(!u || !u.hoverLayer); return c && this._toggleHoverLayerFlag(!0), this._applyStateObj(e, u, this._normalState, n, !i && !this.__inHover && s && s.duration > 0, s), this._textContent && this._textContent.useState(e, n), this._textGuide && this._textGuide.useState(e, n), r ? (this.currentStates = [], this._normalState = {}) : n ? this.currentStates.push(e) : this.currentStates = [e], this._updateAnimationTargets(), this.markRedraw(), !c && this.__inHover && (this._toggleHoverLayerFlag(!1), this.__dirty &= ~t.REDARAW_BIT), u }Object(l.logError)('State ' + e + ' not exists.') } } }, t.prototype.useStates = function (e, n) { if (e.length) { var i = []; var r = this.currentStates; var a = e.length; var o = a === r.length; if (o) for (var s = 0; s < a; s++) if (e[s] !== r[s]) { o = !1; break } if (o) return; for (s = 0; s < a; s++) { var l = e[s]; var u = void 0; this.stateProxy && (u = this.stateProxy(l, e)), u || (u = this.states[l]), u && i.push(u) } var c = !(!i[a - 1] || !i[a - 1].hoverLayer); c && this._toggleHoverLayerFlag(!0); var h = this._mergeStates(i); var d = this.stateTransition; this.saveCurrentToNormalState(h), this._applyStateObj(e.join(','), h, this._normalState, !1, !n && !this.__inHover && d && d.duration > 0, d), this._textContent && this._textContent.useStates(e), this._textGuide && this._textGuide.useStates(e), this._updateAnimationTargets(), this.currentStates = e.slice(), this.markRedraw(), !c && this.__inHover && (this._toggleHoverLayerFlag(!1), this.__dirty &= ~t.REDARAW_BIT) } else this.clearStates() }, t.prototype._updateAnimationTargets = function () { for (var t = 0; t < this.animators.length; t++) { var e = this.animators[t]; e.targetName && e.changeTarget(this[e.targetName]) } }, t.prototype.removeState = function (t) { var e = Object(l.indexOf)(this.currentStates, t); if (e >= 0) { var n = this.currentStates.slice(); n.splice(e, 1), this.useStates(n) } }, t.prototype.replaceState = function (t, e, n) { var i = this.currentStates.slice(); var r = Object(l.indexOf)(i, t); var a = Object(l.indexOf)(i, e) >= 0; r >= 0 ? a ? i.splice(r, 1) : i[r] = e : n && !a && i.push(e), this.useStates(i) }, t.prototype.toggleState = function (t, e) { e ? this.useState(t, !0) : this.removeState(t) }, t.prototype._mergeStates = function (t) { for (var e, n = {}, i = 0; i < t.length; i++) { var r = t[i]; Object(l.extend)(n, r), r.textConfig && (e = e || {}, Object(l.extend)(e, r.textConfig)) } return e && (n.textConfig = e), n }, t.prototype._applyStateObj = function (t, e, n, i, r, a) { var o = !(e && i); e && e.textConfig ? (this.textConfig = Object(l.extend)({}, i ? this.textConfig : n.textConfig), Object(l.extend)(this.textConfig, e.textConfig)) : o && n.textConfig && (this.textConfig = n.textConfig); for (var s = {}, u = !1, c = 0; c < p.length; c++) { var h = p[c]; var d = r && f[h]; e && e[h] != null ? d ? (u = !0, s[h] = e[h]) : this[h] = e[h] : o && n[h] != null && (d ? (u = !0, s[h] = n[h]) : this[h] = n[h]) } if (!r) for (c = 0; c < this.animators.length; c++) { var g = this.animators[c]; var y = g.targetName; g.__changeFinalValue(y ? (e || n)[y] : e || n) }u && this._transitionState(t, s, a) }, t.prototype._attachComponent = function (t) { if (t.__zr && !t.__hostTarget) throw new Error('Text element has been added to zrender.'); if (t === this) throw new Error('Recursive component attachment.'); var e = this.__zr; e && t.addSelfToZr(e), t.__zr = e, t.__hostTarget = this }, t.prototype._detachComponent = function (t) { t.__zr && t.removeSelfFromZr(t.__zr), t.__zr = null, t.__hostTarget = null }, t.prototype.getClipPath = function () { return this._clipPath }, t.prototype.setClipPath = function (t) { this._clipPath && this._clipPath !== t && this.removeClipPath(), this._attachComponent(t), this._clipPath = t, this.markRedraw() }, t.prototype.removeClipPath = function () { var t = this._clipPath; t && (this._detachComponent(t), this._clipPath = null, this.markRedraw()) }, t.prototype.getTextContent = function () { return this._textContent }, t.prototype.setTextContent = function (t) { var e = this._textContent; if (e !== t) { if (e && e !== t && this.removeTextContent(), t.__zr && !t.__hostTarget) throw new Error('Text element has been added to zrender.'); t.attachedTransform = new i.a(), this._attachComponent(t), this._textContent = t, this.markRedraw() } }, t.prototype.setTextConfig = function (t) { this.textConfig || (this.textConfig = {}), Object(l.extend)(this.textConfig, t), this.markRedraw() }, t.prototype.removeTextContent = function () { var t = this._textContent; t && (t.attachedTransform = null, this._detachComponent(t), this._textContent = null, this._innerTextDefaultStyle = null, this.markRedraw()) }, t.prototype.getTextGuideLine = function () { return this._textGuide }, t.prototype.setTextGuideLine = function (t) { this._textGuide && this._textGuide !== t && this.removeTextGuideLine(), this._attachComponent(t), this._textGuide = t, this.markRedraw() }, t.prototype.removeTextGuideLine = function () { var t = this._textGuide; t && (this._detachComponent(t), this._textGuide = null, this.markRedraw()) }, t.prototype.markRedraw = function () { this.__dirty |= t.REDARAW_BIT; var e = this.__zr; e && (this.__inHover ? e.refreshHover() : e.refresh()), this.__hostTarget && this.__hostTarget.markRedraw() }, t.prototype.dirty = function () { this.markRedraw() }, t.prototype._toggleHoverLayerFlag = function (t) { this.__inHover = t; var e = this._textContent; var n = this._textGuide; e && (e.__inHover = t), n && (n.__inHover = t) }, t.prototype.addSelfToZr = function (t) { this.__zr = t; var e = this.animators; if (e) for (var n = 0; n < e.length; n++)t.animation.addAnimator(e[n]); this._clipPath && this._clipPath.addSelfToZr(t), this._textContent && this._textContent.addSelfToZr(t), this._textGuide && this._textGuide.addSelfToZr(t) }, t.prototype.removeSelfFromZr = function (t) { this.__zr = null; var e = this.animators; if (e) for (var n = 0; n < e.length; n++)t.animation.removeAnimator(e[n]); this._clipPath && this._clipPath.removeSelfFromZr(t), this._textContent && this._textContent.removeSelfFromZr(t), this._textGuide && this._textGuide.removeSelfFromZr(t) }, t.prototype.animate = function (t, e) { var n = t ? this[t] : this; if (n) { var i = new r.b(n, e); return this.addAnimator(i, t), i }Object(l.logError)('Property "' + t + '" is not existed in element ' + this.id) }, t.prototype.addAnimator = function (t, e) { var n = this.__zr; var i = this; t.during(function () { i.updateDuringAnimation(e) }).done(function () { var e = i.animators; var n = Object(l.indexOf)(e, t); n >= 0 && e.splice(n, 1) }), this.animators.push(t), n && n.animation.addAnimator(t), n && n.wakeUp() }, t.prototype.updateDuringAnimation = function (t) { this.markRedraw() }, t.prototype.stopAnimation = function (t, e) { for (var n = this.animators, i = n.length, r = [], a = 0; a < i; a++) { var o = n[a]; t && t !== o.scope ? r.push(o) : o.stop(e) } return this.animators = r, this }, t.prototype.animateTo = function (t, e, n) { m(this, t, e, n) }, t.prototype.animateFrom = function (t, e, n) { m(this, t, e, n, !0) }, t.prototype._transitionState = function (t, e, n, i) { for (var r = m(this, e, n, i), a = 0; a < r.length; a++)r[a].__fromStateTransition = t }, t.prototype.getBoundingRect = function () { return null }, t.prototype.getPaintRect = function () { return null }, t.REDARAW_BIT = 1, t.initDefaultProps = (function () { var e = t.prototype; e.type = 'element', e.name = '', e.ignore = !1, e.silent = !1, e.isGroup = !1, e.draggable = !1, e.dragging = !1, e.ignoreClip = !1, e.__inHover = !1, e.__dirty = t.REDARAW_BIT; var n = {}; function i (t, e, i) { n[t + e + i] || (n[t + e + i] = !0) } function r (t, n, r, a) { function o (t, e) { Object.defineProperty(e, 0, { get: function () { return t[r] }, set: function (e) { t[r] = e } }), Object.defineProperty(e, 1, { get: function () { return t[a] }, set: function (e) { t[a] = e } }) }Object.defineProperty(e, t, { get: function () { if (i(t, r, a), !this[n]) { var e = this[n] = []; o(this, e) } return this[n] }, set: function (e) { i(t, r, a), this[r] = e[0], this[a] = e[1], this[n] = e, o(this, e) } }) }Object.defineProperty && (!h.a.browser.ie || h.a.browser.version > 8) && (r('position', '_legacyPos', 'x', 'y'), r('scale', '_legacyScale', 'scaleX', 'scaleY'), r('origin', '_legacyOrigin', 'originX', 'originY')) }()), t }()); function m (t, e, n, i, r) { n = n || {}; var a = []; w(t, '', t, e, n, i, a, r); var o = a.length; var s = !1; var l = n.done; var u = n.aborted; var c = function () { s = !0, o--, o <= 0 && (s ? l && l() : u && u()) }; var h = function () { o--, o <= 0 && (s ? l && l() : u && u()) }; o || l && l(), a.length > 0 && n.during && a[0].during(function (t, e) { n.during(e) }); for (var d = 0; d < a.length; d++) { var p = a[d]; c && p.done(c), h && p.aborted(h), p.start(n.easing, n.force) } return a } function b (t, e, n) { for (var i = 0; i < n; i++)t[i] = e[i] } function x (t) { return Object(l.isArrayLike)(t[0]) } function _ (t, e, n) { if (Object(l.isArrayLike)(e[n])) if (Object(l.isArrayLike)(t[n]) || (t[n] = []), Object(l.isTypedArray)(e[n])) { var i = e[n].length; t[n].length !== i && (t[n] = new e[n].constructor(i), b(t[n], e[n], i)) } else { var r = e[n]; var a = t[n]; var o = r.length; if (x(r)) for (var s = r[0].length, u = 0; u < o; u++)a[u] ? b(a[u], r[u], s) : a[u] = Array.prototype.slice.call(r[u]); else b(a, r, o); a.length = r.length } else t[n] = e[n] } function w (t, e, n, i, a, o, s, u) { for (var c = [], h = [], d = Object(l.keys)(i), p = a.duration, f = a.delay, g = a.additive, y = a.setToFinal, v = !Object(l.isObject)(o), m = 0; m < d.length; m++) { var b = d[m]; if (n[b] != null && i[b] != null && (v || o[b])) if (Object(l.isObject)(i[b]) && !Object(l.isArrayLike)(i[b])) { if (e) { u || (n[b] = i[b], t.updateDuringAnimation(e)); continue }w(t, b, n[b], i[b], a, o && o[b], s, u) } else c.push(b), h.push(b); else u || (n[b] = i[b], t.updateDuringAnimation(e), h.push(b)) } var x = c.length; if (x > 0 || a.force && !s.length) { for (var O = t.animators, S = [], M = 0; M < O.length; M++)O[M].targetName === e && S.push(O[M]); if (!g && S.length) for (M = 0; M < S.length; M++) { var I = S[M].stopTracks(h); if (I) { var T = Object(l.indexOf)(O, S[M]); O.splice(T, 1) } } var j = void 0; var A = void 0; var C = void 0; if (u) { A = {}, y && (j = {}); for (M = 0; M < x; M++) { b = c[M]; A[b] = n[b], y ? j[b] = i[b] : n[b] = i[b] } } else if (y) { C = {}; for (M = 0; M < x; M++) { b = c[M]; C[b] = Object(r.a)(n[b]), _(n, i, b) } } var D = new r.b(n, !1, g ? S : null); D.targetName = e, a.scope && (D.scope = a.scope), y && j && D.whenWithKeys(0, j, c), C && D.whenWithKeys(0, C, c), D.whenWithKeys(p == null ? 500 : p, u ? A : i, c).delay(f || 0), t.addAnimator(D, e), s.push(D) } }Object(l.mixin)(v, o.a), Object(l.mixin)(v, i.a), e.a = v },
  '8aa5': function (t, e, n) { 'use strict'; var i = n('6547').charAt; t.exports = function (t, e, n) { return e + (n ? i(t, e).length : 1) } },
  '8d25': function (t, e, n) { 'use strict'; n.d(e, 'f', function () { return v }), n.d(e, 'b', function () { return x }), n.d(e, 'h', function () { return _ }), n.d(e, 'a', function () { return w }), n.d(e, 'e', function () { return O }), n.d(e, 'd', function () { return S }), n.d(e, 'g', function () { return M }), n.d(e, 'c', function () { return I }); var i = n('9952'); var r = { transparent: [0, 0, 0, 0], aliceblue: [240, 248, 255, 1], antiquewhite: [250, 235, 215, 1], aqua: [0, 255, 255, 1], aquamarine: [127, 255, 212, 1], azure: [240, 255, 255, 1], beige: [245, 245, 220, 1], bisque: [255, 228, 196, 1], black: [0, 0, 0, 1], blanchedalmond: [255, 235, 205, 1], blue: [0, 0, 255, 1], blueviolet: [138, 43, 226, 1], brown: [165, 42, 42, 1], burlywood: [222, 184, 135, 1], cadetblue: [95, 158, 160, 1], chartreuse: [127, 255, 0, 1], chocolate: [210, 105, 30, 1], coral: [255, 127, 80, 1], cornflowerblue: [100, 149, 237, 1], cornsilk: [255, 248, 220, 1], crimson: [220, 20, 60, 1], cyan: [0, 255, 255, 1], darkblue: [0, 0, 139, 1], darkcyan: [0, 139, 139, 1], darkgoldenrod: [184, 134, 11, 1], darkgray: [169, 169, 169, 1], darkgreen: [0, 100, 0, 1], darkgrey: [169, 169, 169, 1], darkkhaki: [189, 183, 107, 1], darkmagenta: [139, 0, 139, 1], darkolivegreen: [85, 107, 47, 1], darkorange: [255, 140, 0, 1], darkorchid: [153, 50, 204, 1], darkred: [139, 0, 0, 1], darksalmon: [233, 150, 122, 1], darkseagreen: [143, 188, 143, 1], darkslateblue: [72, 61, 139, 1], darkslategray: [47, 79, 79, 1], darkslategrey: [47, 79, 79, 1], darkturquoise: [0, 206, 209, 1], darkviolet: [148, 0, 211, 1], deeppink: [255, 20, 147, 1], deepskyblue: [0, 191, 255, 1], dimgray: [105, 105, 105, 1], dimgrey: [105, 105, 105, 1], dodgerblue: [30, 144, 255, 1], firebrick: [178, 34, 34, 1], floralwhite: [255, 250, 240, 1], forestgreen: [34, 139, 34, 1], fuchsia: [255, 0, 255, 1], gainsboro: [220, 220, 220, 1], ghostwhite: [248, 248, 255, 1], gold: [255, 215, 0, 1], goldenrod: [218, 165, 32, 1], gray: [128, 128, 128, 1], green: [0, 128, 0, 1], greenyellow: [173, 255, 47, 1], grey: [128, 128, 128, 1], honeydew: [240, 255, 240, 1], hotpink: [255, 105, 180, 1], indianred: [205, 92, 92, 1], indigo: [75, 0, 130, 1], ivory: [255, 255, 240, 1], khaki: [240, 230, 140, 1], lavender: [230, 230, 250, 1], lavenderblush: [255, 240, 245, 1], lawngreen: [124, 252, 0, 1], lemonchiffon: [255, 250, 205, 1], lightblue: [173, 216, 230, 1], lightcoral: [240, 128, 128, 1], lightcyan: [224, 255, 255, 1], lightgoldenrodyellow: [250, 250, 210, 1], lightgray: [211, 211, 211, 1], lightgreen: [144, 238, 144, 1], lightgrey: [211, 211, 211, 1], lightpink: [255, 182, 193, 1], lightsalmon: [255, 160, 122, 1], lightseagreen: [32, 178, 170, 1], lightskyblue: [135, 206, 250, 1], lightslategray: [119, 136, 153, 1], lightslategrey: [119, 136, 153, 1], lightsteelblue: [176, 196, 222, 1], lightyellow: [255, 255, 224, 1], lime: [0, 255, 0, 1], limegreen: [50, 205, 50, 1], linen: [250, 240, 230, 1], magenta: [255, 0, 255, 1], maroon: [128, 0, 0, 1], mediumaquamarine: [102, 205, 170, 1], mediumblue: [0, 0, 205, 1], mediumorchid: [186, 85, 211, 1], mediumpurple: [147, 112, 219, 1], mediumseagreen: [60, 179, 113, 1], mediumslateblue: [123, 104, 238, 1], mediumspringgreen: [0, 250, 154, 1], mediumturquoise: [72, 209, 204, 1], mediumvioletred: [199, 21, 133, 1], midnightblue: [25, 25, 112, 1], mintcream: [245, 255, 250, 1], mistyrose: [255, 228, 225, 1], moccasin: [255, 228, 181, 1], navajowhite: [255, 222, 173, 1], navy: [0, 0, 128, 1], oldlace: [253, 245, 230, 1], olive: [128, 128, 0, 1], olivedrab: [107, 142, 35, 1], orange: [255, 165, 0, 1], orangered: [255, 69, 0, 1], orchid: [218, 112, 214, 1], palegoldenrod: [238, 232, 170, 1], palegreen: [152, 251, 152, 1], paleturquoise: [175, 238, 238, 1], palevioletred: [219, 112, 147, 1], papayawhip: [255, 239, 213, 1], peachpuff: [255, 218, 185, 1], peru: [205, 133, 63, 1], pink: [255, 192, 203, 1], plum: [221, 160, 221, 1], powderblue: [176, 224, 230, 1], purple: [128, 0, 128, 1], red: [255, 0, 0, 1], rosybrown: [188, 143, 143, 1], royalblue: [65, 105, 225, 1], saddlebrown: [139, 69, 19, 1], salmon: [250, 128, 114, 1], sandybrown: [244, 164, 96, 1], seagreen: [46, 139, 87, 1], seashell: [255, 245, 238, 1], sienna: [160, 82, 45, 1], silver: [192, 192, 192, 1], skyblue: [135, 206, 235, 1], slateblue: [106, 90, 205, 1], slategray: [112, 128, 144, 1], slategrey: [112, 128, 144, 1], snow: [255, 250, 250, 1], springgreen: [0, 255, 127, 1], steelblue: [70, 130, 180, 1], tan: [210, 180, 140, 1], teal: [0, 128, 128, 1], thistle: [216, 191, 216, 1], tomato: [255, 99, 71, 1], turquoise: [64, 224, 208, 1], violet: [238, 130, 238, 1], wheat: [245, 222, 179, 1], white: [255, 255, 255, 1], whitesmoke: [245, 245, 245, 1], yellow: [255, 255, 0, 1], yellowgreen: [154, 205, 50, 1] }; function a (t) { return t = Math.round(t), t < 0 ? 0 : t > 255 ? 255 : t } function o (t) { return t = Math.round(t), t < 0 ? 0 : t > 360 ? 360 : t } function s (t) { return t < 0 ? 0 : t > 1 ? 1 : t } function l (t) { var e = t; return e.length && e.charAt(e.length - 1) === '%' ? a(parseFloat(e) / 100 * 255) : a(parseInt(e, 10)) } function u (t) { var e = t; return e.length && e.charAt(e.length - 1) === '%' ? s(parseFloat(e) / 100) : s(parseFloat(e)) } function c (t, e, n) { return n < 0 ? n += 1 : n > 1 && (n -= 1), 6 * n < 1 ? t + (e - t) * n * 6 : 2 * n < 1 ? e : 3 * n < 2 ? t + (e - t) * (2 / 3 - n) * 6 : t } function h (t, e, n) { return t + (e - t) * n } function d (t, e, n, i, r) { return t[0] = e, t[1] = n, t[2] = i, t[3] = r, t } function p (t, e) { return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t } var f = new i.a(20); var g = null; function y (t, e) { g && p(g, e), g = f.put(t, g || e.slice()) } function v (t, e) { if (t) { e = e || []; var n = f.get(t); if (n) return p(e, n); t += ''; var i = t.replace(/ /g, '').toLowerCase(); if (i in r) return p(e, r[i]), y(t, e), e; var a = i.length; if (i.charAt(0) !== '#') { var o = i.indexOf('('); var s = i.indexOf(')'); if (o !== -1 && s + 1 === a) { var c = i.substr(0, o); var h = i.substr(o + 1, s - (o + 1)).split(','); var g = 1; switch (c) { case 'rgba':if (h.length !== 4) return h.length === 3 ? d(e, +h[0], +h[1], +h[2], 1) : d(e, 0, 0, 0, 1); g = u(h.pop()); case 'rgb':return h.length !== 3 ? void d(e, 0, 0, 0, 1) : (d(e, l(h[0]), l(h[1]), l(h[2]), g), y(t, e), e); case 'hsla':return h.length !== 4 ? void d(e, 0, 0, 0, 1) : (h[3] = u(h[3]), m(h, e), y(t, e), e); case 'hsl':return h.length !== 3 ? void d(e, 0, 0, 0, 1) : (m(h, e), y(t, e), e); default:return } }d(e, 0, 0, 0, 1) } else { if (a === 4 || a === 5) { var v = parseInt(i.slice(1, 4), 16); return v >= 0 && v <= 4095 ? (d(e, (3840 & v) >> 4 | (3840 & v) >> 8, 240 & v | (240 & v) >> 4, 15 & v | (15 & v) << 4, a === 5 ? parseInt(i.slice(4), 16) / 15 : 1), y(t, e), e) : void d(e, 0, 0, 0, 1) } if (a === 7 || a === 9) { v = parseInt(i.slice(1, 7), 16); return v >= 0 && v <= 16777215 ? (d(e, (16711680 & v) >> 16, (65280 & v) >> 8, 255 & v, a === 9 ? parseInt(i.slice(7), 16) / 255 : 1), y(t, e), e) : void d(e, 0, 0, 0, 1) } } } } function m (t, e) { var n = (parseFloat(t[0]) % 360 + 360) % 360 / 360; var i = u(t[1]); var r = u(t[2]); var o = r <= 0.5 ? r * (i + 1) : r + i - r * i; var s = 2 * r - o; return e = e || [], d(e, a(255 * c(s, o, n + 1 / 3)), a(255 * c(s, o, n)), a(255 * c(s, o, n - 1 / 3)), 1), t.length === 4 && (e[3] = t[3]), e } function b (t) { if (t) { var e; var n; var i = t[0] / 255; var r = t[1] / 255; var a = t[2] / 255; var o = Math.min(i, r, a); var s = Math.max(i, r, a); var l = s - o; var u = (s + o) / 2; if (l === 0)e = 0, n = 0; else { n = u < 0.5 ? l / (s + o) : l / (2 - s - o); var c = ((s - i) / 6 + l / 2) / l; var h = ((s - r) / 6 + l / 2) / l; var d = ((s - a) / 6 + l / 2) / l; i === s ? e = d - h : r === s ? e = 1 / 3 + c - d : a === s && (e = 2 / 3 + h - c), e < 0 && (e += 1), e > 1 && (e -= 1) } var p = [360 * e, n, u]; return t[3] != null && p.push(t[3]), p } } function x (t, e) { var n = v(t); if (n) { for (var i = 0; i < 3; i++)n[i] = e < 0 ? n[i] * (1 - e) | 0 : (255 - n[i]) * e + n[i] | 0, n[i] > 255 ? n[i] = 255 : n[i] < 0 && (n[i] = 0); return M(n, n.length === 4 ? 'rgba' : 'rgb') } } function _ (t) { var e = v(t); if (e) return ((1 << 24) + (e[0] << 16) + (e[1] << 8) + +e[2]).toString(16).slice(1) } function w (t, e, n) { if (e && e.length && t >= 0 && t <= 1) { n = n || []; var i = t * (e.length - 1); var r = Math.floor(i); var o = Math.ceil(i); var l = e[r]; var u = e[o]; var c = i - r; return n[0] = a(h(l[0], u[0], c)), n[1] = a(h(l[1], u[1], c)), n[2] = a(h(l[2], u[2], c)), n[3] = s(h(l[3], u[3], c)), n } } function O (t, e, n, i) { var r = v(t); if (t) return r = b(r), e != null && (r[0] = o(e)), n != null && (r[1] = u(n)), i != null && (r[2] = u(i)), M(m(r), 'rgba') } function S (t, e) { var n = v(t); if (n && e != null) return n[3] = s(e), M(n, 'rgba') } function M (t, e) { if (t && t.length) { var n = t[0] + ',' + t[1] + ',' + t[2]; return e !== 'rgba' && e !== 'hsva' && e !== 'hsla' || (n += ',' + t[3]), e + '(' + n + ')' } } function I (t, e) { var n = v(t); return n ? (0.299 * n[0] + 0.587 * n[1] + 0.114 * n[2]) * n[3] / 255 + (1 - n[3]) * e : 0 } },
  '8e0b': function (t, e, n) { 'use strict'; n.d(e, 'd', function () { return s }), n.d(e, 'c', function () { return l }), n.d(e, 'b', function () { return u }), n.d(e, 'a', function () { return c }), n.d(e, 'e', function () { return h }), n.d(e, 'i', function () { return f }), n.d(e, 'B', function () { return y }), n.d(e, 'y', function () { return v }), n.d(e, 'm', function () { return m }), n.d(e, 'q', function () { return b }), n.d(e, 'l', function () { return x }), n.d(e, 'h', function () { return _ }), n.d(e, 'r', function () { return w }), n.d(e, 'n', function () { return S }), n.d(e, 'j', function () { return M }), n.d(e, 'w', function () { return I }), n.d(e, 'f', function () { return T }), n.d(e, 'o', function () { return j }), n.d(e, 'u', function () { return A }), n.d(e, 'z', function () { return C }), n.d(e, 's', function () { return D }), n.d(e, 'k', function () { return k }), n.d(e, 'x', function () { return L }), n.d(e, 'g', function () { return P }), n.d(e, 'p', function () { return R }), n.d(e, 'v', function () { return N }), n.d(e, 'A', function () { return E }), n.d(e, 't', function () { return z }); var i = n('cc6e'); var r = n('1f06'); var a = n('140d'); var o = n('f199'); var s = 1e3; var l = 60 * s; var u = 60 * l; var c = 24 * u; var h = 365 * c; var d = { year: '{yyyy}', month: '{MMM}', day: '{d}', hour: '{HH}:{mm}', minute: '{HH}:{mm}', second: '{HH}:{mm}:{ss}', millisecond: '{hh}:{mm}:{ss} {SSS}', none: '{yyyy}-{MM}-{dd} {hh}:{mm}:{ss} {SSS}' }; var p = '{yyyy}-{MM}-{dd}'; var f = { year: '{yyyy}', month: '{yyyy}-{MM}', day: p, hour: p + ' ' + d.hour, minute: p + ' ' + d.minute, second: p + ' ' + d.second, millisecond: d.none }; var g = ['year', 'month', 'day', 'hour', 'minute', 'second', 'millisecond']; var y = ['year', 'half-year', 'quarter', 'month', 'week', 'half-week', 'day', 'half-day', 'quarter-day', 'hour', 'minute', 'second', 'millisecond']; function v (t, e) { return t += '', '0000'.substr(0, e - t.length) + t } function m (t) { switch (t) { case 'half-year':case 'quarter':return 'month'; case 'week':case 'half-week':return 'day'; case 'half-day':case 'quarter-day':return 'hour'; default:return t } } function b (t) { return t === m(t) } function x (t) { switch (t) { case 'year':case 'month':return 'day'; case 'millisecond':return 'millisecond'; default:return 'second' } } function _ (t, e, n, i) { var s = r.parseDate(t); var l = s[M(n)](); var u = s[I(n)]() + 1; var c = Math.floor((u - 1) / 4) + 1; var h = s[T(n)](); var d = s['get' + (n ? 'UTC' : '') + 'Day'](); var p = s[j(n)](); var f = (p - 1) % 12 + 1; var g = s[A(n)](); var y = s[C(n)](); var m = s[D(n)](); var b = i instanceof o.a ? i : Object(a.d)(i || a.a) || Object(a.c)(); var x = b.getModel('time'); var _ = x.get('month'); var w = x.get('monthAbbr'); var O = x.get('dayOfWeek'); var S = x.get('dayOfWeekAbbr'); return (e || '').replace(/{yyyy}/g, l + '').replace(/{yy}/g, l % 100 + '').replace(/{Q}/g, c + '').replace(/{MMMM}/g, _[u - 1]).replace(/{MMM}/g, w[u - 1]).replace(/{MM}/g, v(u, 2)).replace(/{M}/g, u + '').replace(/{dd}/g, v(h, 2)).replace(/{d}/g, h + '').replace(/{eeee}/g, O[d]).replace(/{ee}/g, S[d]).replace(/{e}/g, d + '').replace(/{HH}/g, v(p, 2)).replace(/{H}/g, p + '').replace(/{hh}/g, v(f + '', 2)).replace(/{h}/g, f + '').replace(/{mm}/g, v(g, 2)).replace(/{m}/g, g + '').replace(/{ss}/g, v(y, 2)).replace(/{s}/g, y + '').replace(/{SSS}/g, v(m, 3)).replace(/{S}/g, m + '') } function w (t, e, n, r, a) { var o = null; if (typeof n === 'string')o = n; else if (typeof n === 'function')o = n(t.value, e, { level: t.level }); else { var s = i.extend({}, d); if (t.level > 0) for (var l = 0; l < g.length; ++l)s[g[l]] = '{primary|' + s[g[l]] + '}'; var u = n ? !1 === n.inherit ? n : i.defaults(n, s) : s; var c = O(t.value, a); if (u[c])o = u[c]; else if (u.inherit) { var h = y.indexOf(c); for (l = h - 1; l >= 0; --l) if (u[c]) { o = u[c]; break }o = o || s.none } if (i.isArray(o)) { var p = t.level == null ? 0 : t.level >= 0 ? t.level : o.length + t.level; p = Math.min(p, o.length - 1), o = o[p] } } return _(new Date(t.value), o, a, r) } function O (t, e) { var n = r.parseDate(t); var i = n[I(e)]() + 1; var a = n[T(e)](); var o = n[j(e)](); var s = n[A(e)](); var l = n[C(e)](); var u = n[D(e)](); var c = u === 0; var h = c && l === 0; var d = h && s === 0; var p = d && o === 0; var f = p && a === 1; var g = f && i === 1; return g ? 'year' : f ? 'month' : p ? 'day' : d ? 'hour' : h ? 'minute' : c ? 'second' : 'millisecond' } function S (t, e, n) { var i = typeof t === 'number' ? r.parseDate(t) : t; switch (e = e || O(t, n), e) { case 'year':return i[M(n)](); case 'half-year':return i[I(n)]() >= 6 ? 1 : 0; case 'quarter':return Math.floor((i[I(n)]() + 1) / 4); case 'month':return i[I(n)](); case 'day':return i[T(n)](); case 'half-day':return i[j(n)]() / 24; case 'hour':return i[j(n)](); case 'minute':return i[A(n)](); case 'second':return i[C(n)](); case 'millisecond':return i[D(n)]() } } function M (t) { return t ? 'getUTCFullYear' : 'getFullYear' } function I (t) { return t ? 'getUTCMonth' : 'getMonth' } function T (t) { return t ? 'getUTCDate' : 'getDate' } function j (t) { return t ? 'getUTCHours' : 'getHours' } function A (t) { return t ? 'getUTCMinutes' : 'getMinutes' } function C (t) { return t ? 'getUTCSeconds' : 'getSeconds' } function D (t) { return t ? 'getUTCSeconds' : 'getSeconds' } function k (t) { return t ? 'setUTCFullYear' : 'setFullYear' } function L (t) { return t ? 'setUTCMonth' : 'setMonth' } function P (t) { return t ? 'setUTCDate' : 'setDate' } function R (t) { return t ? 'setUTCHours' : 'setHours' } function N (t) { return t ? 'setUTCMinutes' : 'setMinutes' } function E (t) { return t ? 'setUTCSeconds' : 'setSeconds' } function z (t) { return t ? 'setUTCSeconds' : 'setSeconds' } },
  '91ef': function (t, e, n) { 'use strict'; var i = n('a2b2'); var r = n('cec8'); var a = n('1f06'); var o = n('e2fd'); var s = n('d581'); var l = n('65a1'); var u = n('cc6e'); var c = n('7421'); var h = n('86be'); function d (t) { if (t) { for (var e = [], n = 0; n < t.length; n++)e.push(t[n].slice()); return e } } function p (t, e) { var n = t.label; var i = e && e.getTextGuideLine(); return { dataIndex: t.dataIndex, dataType: t.dataType, seriesIndex: t.seriesModel.seriesIndex, text: t.label.style.text, rect: t.hostRect, labelRect: t.rect, align: n.style.align, verticalAlign: n.style.verticalAlign, labelLinePoints: d(i && i.shape.points) } } var f = ['align', 'verticalAlign', 'width', 'height', 'fontSize']; var g = new o.a(); var y = Object(l.o)(); var v = Object(l.o)(); function m (t, e, n) { for (var i = 0; i < n.length; i++) { var r = n[i]; e[r] != null && (t[r] = e[r]) } } var b = ['x', 'y', 'rotation']; var x = (function () { function t () { this._labelList = [], this._chartViewList = [] } return t.prototype.clearLabels = function () { this._labelList = [], this._chartViewList = [] }, t.prototype._addLabel = function (t, e, n, r, a) { var o = r.style; var s = r.__hostTarget; var l = s.textConfig || {}; var u = r.getComputedTransform(); var c = r.getBoundingRect().plain(); i.BoundingRect.applyTransform(c, c, u), u ? g.setLocalTransform(u) : (g.x = g.y = g.rotation = g.originX = g.originY = 0, g.scaleX = g.scaleY = 1); var h; var d = r.__hostTarget; if (d) { h = d.getBoundingRect().plain(); var p = d.getComputedTransform(); i.BoundingRect.applyTransform(h, h, p) } var f = h && d.getTextGuideLine(); this._labelList.push({ label: r, labelLine: f, seriesModel: n, dataIndex: t, dataType: e, layoutOption: a, computedLayoutOption: null, rect: c, hostRect: h, priority: h ? h.width * h.height : 0, defaultAttr: { ignore: r.ignore, labelGuideIgnore: f && f.ignore, x: g.x, y: g.y, rotation: g.rotation, style: { x: o.x, y: o.y, align: o.align, verticalAlign: o.verticalAlign, width: o.width, height: o.height, fontSize: o.fontSize }, cursor: r.cursor, attachedPos: l.position, attachedRot: l.rotation } }) }, t.prototype.addLabelsOfSeries = function (t) { var e = this; this._chartViewList.push(t); var n = t.__model; var i = n.get('labelLayout'); (Object(u.isFunction)(i) || Object(u.keys)(i).length) && t.group.traverse(function (t) { if (t.ignore) return !0; var a = t.getTextContent(); var o = Object(r.a)(t); a && !a.disableLabelLayout && e._addLabel(o.dataIndex, o.dataType, n, a, i) }) }, t.prototype.updateLayoutConfig = function (t) { var e = t.getWidth(); var n = t.getHeight(); function i (t, e) { return function () { Object(s.e)(t, e) } } for (var r = 0; r < this._labelList.length; r++) { var o = this._labelList[r]; var l = o.label; var u = l.__hostTarget; var c = o.defaultAttr; var h = void 0; h = typeof o.layoutOption === 'function' ? o.layoutOption(p(o, u)) : o.layoutOption, h = h || {}, o.computedLayoutOption = h; var d = Math.PI / 180; u && u.setTextConfig({ local: !1, position: h.x != null || h.y != null ? null : c.attachedPos, rotation: h.rotate != null ? h.rotate * d : c.attachedRot, offset: [h.dx || 0, h.dy || 0] }); var g = !1; if (h.x != null ? (l.x = Object(a.parsePercent)(h.x, e), l.setStyle('x', 0), g = !0) : (l.x = c.x, l.setStyle('x', c.style.x)), h.y != null ? (l.y = Object(a.parsePercent)(h.y, n), l.setStyle('y', 0), g = !0) : (l.y = c.y, l.setStyle('y', c.style.y)), h.labelLinePoints) { var v = u.getTextGuideLine(); v && (v.setShape({ points: h.labelLinePoints }), g = !1) } var m = y(l); m.needsUpdateLabelLine = g, l.rotation = h.rotate != null ? h.rotate * d : c.rotation; for (var b = 0; b < f.length; b++) { var x = f[b]; l.setStyle(x, h[x] != null ? h[x] : c.style[x]) } if (h.draggable) { if (l.draggable = !0, l.cursor = 'move', u) { var _ = o.seriesModel; if (o.dataIndex != null) { var w = o.seriesModel.getData(o.dataType); _ = w.getItemModel(o.dataIndex) }l.on('drag', i(u, _.getModel('labelLine'))) } } else l.off('drag'), l.cursor = c.cursor } }, t.prototype.layout = function (t) { var e = t.getWidth(); var n = t.getHeight(); var i = Object(c.b)(this._labelList); var r = Object(u.filter)(i, function (t) { return t.layoutOption.moveOverlap === 'shiftX' }); var a = Object(u.filter)(i, function (t) { return t.layoutOption.moveOverlap === 'shiftY' }); Object(c.c)(r, 0, e), Object(c.d)(a, 0, n); var o = Object(u.filter)(i, function (t) { return t.layoutOption.hideOverlap }); Object(c.a)(o) }, t.prototype.processLabelsOverall = function () { var t = this; Object(u.each)(this._chartViewList, function (e) { var n = e.__model; var i = e.ignoreLabelLineUpdate; var r = n.isAnimationEnabled(); e.group.traverse(function (e) { if (e.ignore) return !0; var a = !i; var o = e.getTextContent(); !a && o && (a = y(o).needsUpdateLabelLine), a && t._updateLabelLine(e, n), r && t._animateLabels(e, n) }) }) }, t.prototype._updateLabelLine = function (t, e) { var n = t.getTextContent(); var i = Object(r.a)(t); var a = i.dataIndex; if (n && a != null) { var o = e.getData(i.dataType); var l = o.getItemModel(a); var u = {}; var c = o.getItemVisual(a, 'style'); var h = o.getVisual('drawType'); u.stroke = c[h]; var d = l.getModel('labelLine'); Object(s.d)(t, Object(s.a)(l), u), Object(s.e)(t, d) } }, t.prototype._animateLabels = function (t, e) { var n = t.getTextContent(); var a = t.getTextGuideLine(); if (n && !n.ignore && !n.invisible && !t.disableLabelAnimation && !Object(i.isElementRemoved)(t)) { var o = y(n); var s = o.oldLayout; var l = Object(r.a)(t); var c = l.dataIndex; var d = { x: n.x, y: n.y, rotation: n.rotation }; var p = e.getData(l.dataType); if (s) { n.attr(s); var f = t.prevStates; f && (Object(u.indexOf)(f, 'select') >= 0 && n.attr(o.oldLayoutSelect), Object(u.indexOf)(f, 'emphasis') >= 0 && n.attr(o.oldLayoutEmphasis)), Object(i.updateProps)(n, d, e, c) } else if (n.attr(d), !Object(h.f)(n).valueAnimation) { var g = Object(u.retrieve2)(n.style.opacity, 1); n.style.opacity = 0, Object(i.initProps)(n, { style: { opacity: g } }, e, c) } if (o.oldLayout = d, n.states.select) { var x = o.oldLayoutSelect = {}; m(x, d, b), m(x, n.states.select, b) } if (n.states.emphasis) { var _ = o.oldLayoutEmphasis = {}; m(_, d, b), m(_, n.states.emphasis, b) }Object(h.a)(n, c, p, e) } if (a && !a.ignore && !a.invisible) { o = v(a), s = o.oldLayout; var w = { points: a.shape.points }; s ? (a.attr({ shape: s }), Object(i.updateProps)(a, { shape: w }, e)) : (a.setShape(w), a.style.strokePercent = 0, Object(i.initProps)(a, { style: { strokePercent: 1 } }, e)), o.oldLayout = w } }, t }()); e.a = x },
  9263: function (t, e, n) { 'use strict'; var i = n('ad6d'); var r = n('9f7f'); var a = RegExp.prototype.exec; var o = String.prototype.replace; var s = a; var l = (function () { var t = /a/; var e = /b*/g; return a.call(t, 'a'), a.call(e, 'a'), t.lastIndex !== 0 || e.lastIndex !== 0 }()); var u = r.UNSUPPORTED_Y || r.BROKEN_CARET; var c = void 0 !== /()??/.exec('')[1]; var h = l || c || u; h && (s = function (t) { var e; var n; var r; var s; var h = this; var d = u && h.sticky; var p = i.call(h); var f = h.source; var g = 0; var y = t; return d && (p = p.replace('y', ''), p.indexOf('g') === -1 && (p += 'g'), y = String(t).slice(h.lastIndex), h.lastIndex > 0 && (!h.multiline || h.multiline && t[h.lastIndex - 1] !== '\n') && (f = '(?: ' + f + ')', y = ' ' + y, g++), n = new RegExp('^(?:' + f + ')', p)), c && (n = new RegExp('^' + f + '$(?!\\s)', p)), l && (e = h.lastIndex), r = a.call(d ? n : h, y), d ? r ? (r.input = r.input.slice(g), r[0] = r[0].slice(g), r.index = h.lastIndex, h.lastIndex += r[0].length) : h.lastIndex = 0 : l && r && (h.lastIndex = h.global ? r.index + r[0].length : e), c && r && r.length > 1 && o.call(r[0], n, function () { for (s = 1; s < arguments.length - 2; s++) void 0 === arguments[s] && (r[s] = void 0) }), r }), t.exports = s },
  '93e2': function (t, e, n) { 'use strict'; function i (t, e, n, i, r, a, o) { if (r === 0) return !1; var s = r; var l = 0; var u = t; if (o > e + s && o > i + s || o < e - s && o < i - s || a > t + s && a > n + s || a < t - s && a < n - s) return !1; if (t === n) return Math.abs(a - t) <= s / 2; l = (e - i) / (t - n), u = (t * i - n * e) / (t - n); var c = l * a - o + u; var h = c * c / (l * l + 1); return h <= s / 2 * s / 2 }n.d(e, 'a', function () { return i }) },
  '949c': function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return u }), n.d(e, 'g', function () { return d }), n.d(e, 'e', function () { return f }), n.d(e, 'b', function () { return g }), n.d(e, 'c', function () { return y }), n.d(e, 'f', function () { return v }), n.d(e, 'h', function () { return m }), n.d(e, 'd', function () { return b }); var i; var r; var a = n('10e1'); var o = n('cc6e'); var s = n('9952'); var l = {}; var u = '12px sans-serif'; function c (t, e) { return i || (i = Object(o.createCanvas)().getContext('2d')), r !== e && (r = i.font = e || u), i.measureText(t) } var h = { measureText: c }; function d (t, e) { e = e || u; var n = l[e]; n || (n = l[e] = new s.a(500)); var i = n.get(t); return i == null && (i = h.measureText(t, e).width, n.put(t, i)), i } function p (t, e, n, i) { var r = d(t, e); var o = v(e); var s = g(0, r, n); var l = y(0, o, i); var u = new a.a(s, l, r, o); return u } function f (t, e, n, i) { var r = ((t || '') + '').split('\n'); var o = r.length; if (o === 1) return p(r[0], e, n, i); for (var s = new a.a(0, 0, 0, 0), l = 0; l < r.length; l++) { var u = p(r[l], e, n, i); l === 0 ? s.copy(u) : s.union(u) } return s } function g (t, e, n) { return n === 'right' ? t -= e : n === 'center' && (t -= e / 2), t } function y (t, e, n) { return n === 'middle' ? t -= e / 2 : n === 'bottom' && (t -= e), t } function v (t) { return d('国', t) } function m (t, e) { return typeof t === 'string' ? t.lastIndexOf('%') >= 0 ? parseFloat(t) / 100 * e : parseFloat(t) : t } function b (t, e, n) { var i = e.position || 'inside'; var r = e.distance != null ? e.distance : 5; var a = n.height; var o = n.width; var s = a / 2; var l = n.x; var u = n.y; var c = 'left'; var h = 'top'; if (i instanceof Array)l += m(i[0], n.width), u += m(i[1], n.height), c = null, h = null; else switch (i) { case 'left':l -= r, u += s, c = 'right', h = 'middle'; break; case 'right':l += r + o, u += s, h = 'middle'; break; case 'top':l += o / 2, u -= r, c = 'center', h = 'bottom'; break; case 'bottom':l += o / 2, u += a + r, c = 'center'; break; case 'inside':l += o / 2, u += s, c = 'center', h = 'middle'; break; case 'insideLeft':l += r, u += s, h = 'middle'; break; case 'insideRight':l += o - r, u += s, c = 'right', h = 'middle'; break; case 'insideTop':l += o / 2, u += r, c = 'center'; break; case 'insideBottom':l += o / 2, u += a - r, c = 'center', h = 'bottom'; break; case 'insideTopLeft':l += r, u += r; break; case 'insideTopRight':l += o - r, u += r, c = 'right'; break; case 'insideBottomLeft':l += r, u += a - r, h = 'bottom'; break; case 'insideBottomRight':l += o - r, u += a - r, c = 'right', h = 'bottom'; break } return t = t || {}, t.x = l, t.y = u, t.align = c, t.verticalAlign = h, t } },
  '953f': function (t, e, n) { 'use strict'; function i () { return [1, 0, 0, 1, 0, 0] } function r (t) { return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 1, t[4] = 0, t[5] = 0, t } function a (t, e) { return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[4] = e[4], t[5] = e[5], t } function o (t, e, n) { var i = e[0] * n[0] + e[2] * n[1]; var r = e[1] * n[0] + e[3] * n[1]; var a = e[0] * n[2] + e[2] * n[3]; var o = e[1] * n[2] + e[3] * n[3]; var s = e[0] * n[4] + e[2] * n[5] + e[4]; var l = e[1] * n[4] + e[3] * n[5] + e[5]; return t[0] = i, t[1] = r, t[2] = a, t[3] = o, t[4] = s, t[5] = l, t } function s (t, e, n) { return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[4] = e[4] + n[0], t[5] = e[5] + n[1], t } function l (t, e, n) { var i = e[0]; var r = e[2]; var a = e[4]; var o = e[1]; var s = e[3]; var l = e[5]; var u = Math.sin(n); var c = Math.cos(n); return t[0] = i * c + o * u, t[1] = -i * u + o * c, t[2] = r * c + s * u, t[3] = -r * u + c * s, t[4] = c * a + u * l, t[5] = c * l - u * a, t } function u (t, e, n) { var i = n[0]; var r = n[1]; return t[0] = e[0] * i, t[1] = e[1] * r, t[2] = e[2] * i, t[3] = e[3] * r, t[4] = e[4] * i, t[5] = e[5] * r, t } function c (t, e) { var n = e[0]; var i = e[2]; var r = e[4]; var a = e[1]; var o = e[3]; var s = e[5]; var l = n * o - a * i; return l ? (l = 1 / l, t[0] = o * l, t[1] = -a * l, t[2] = -i * l, t[3] = n * l, t[4] = (i * s - o * r) * l, t[5] = (a * r - n * s) * l, t) : null } function h (t) { var e = i(); return a(e, t), e }n.d(e, 'c', function () { return i }), n.d(e, 'd', function () { return r }), n.d(e, 'b', function () { return a }), n.d(e, 'f', function () { return o }), n.d(e, 'i', function () { return s }), n.d(e, 'g', function () { return l }), n.d(e, 'h', function () { return u }), n.d(e, 'e', function () { return c }), n.d(e, 'a', function () { return h }) },
  '96cf': function (t, e, n) { var i = (function (t) { 'use strict'; var e; var n = Object.prototype; var i = n.hasOwnProperty; var r = typeof Symbol === 'function' ? Symbol : {}; var a = r.iterator || '@@iterator'; var o = r.asyncIterator || '@@asyncIterator'; var s = r.toStringTag || '@@toStringTag'; function l (t, e, n) { return Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }), t[e] } try { l({}, '') } catch (k) { l = function (t, e, n) { return t[e] = n } } function u (t, e, n, i) { var r = e && e.prototype instanceof y ? e : y; var a = Object.create(r.prototype); var o = new A(i || []); return a._invoke = M(t, n, o), a } function c (t, e, n) { try { return { type: 'normal', arg: t.call(e, n) } } catch (k) { return { type: 'throw', arg: k } } }t.wrap = u; var h = 'suspendedStart'; var d = 'suspendedYield'; var p = 'executing'; var f = 'completed'; var g = {}; function y () {} function v () {} function m () {} var b = {}; b[a] = function () { return this }; var x = Object.getPrototypeOf; var _ = x && x(x(C([]))); _ && _ !== n && i.call(_, a) && (b = _); var w = m.prototype = y.prototype = Object.create(b); function O (t) { ['next', 'throw', 'return'].forEach(function (e) { l(t, e, function (t) { return this._invoke(e, t) }) }) } function S (t, e) { function n (r, a, o, s) { var l = c(t[r], t, a); if (l.type !== 'throw') { var u = l.arg; var h = u.value; return h && typeof h === 'object' && i.call(h, '__await') ? e.resolve(h.__await).then(function (t) { n('next', t, o, s) }, function (t) { n('throw', t, o, s) }) : e.resolve(h).then(function (t) { u.value = t, o(u) }, function (t) { return n('throw', t, o, s) }) }s(l.arg) } var r; function a (t, i) { function a () { return new e(function (e, r) { n(t, i, e, r) }) } return r = r ? r.then(a, a) : a() } this._invoke = a } function M (t, e, n) { var i = h; return function (r, a) { if (i === p) throw new Error('Generator is already running'); if (i === f) { if (r === 'throw') throw a; return D() }n.method = r, n.arg = a; while (1) { var o = n.delegate; if (o) { var s = I(o, n); if (s) { if (s === g) continue; return s } } if (n.method === 'next')n.sent = n._sent = n.arg; else if (n.method === 'throw') { if (i === h) throw i = f, n.arg; n.dispatchException(n.arg) } else n.method === 'return' && n.abrupt('return', n.arg); i = p; var l = c(t, e, n); if (l.type === 'normal') { if (i = n.done ? f : d, l.arg === g) continue; return { value: l.arg, done: n.done } }l.type === 'throw' && (i = f, n.method = 'throw', n.arg = l.arg) } } } function I (t, n) { var i = t.iterator[n.method]; if (i === e) { if (n.delegate = null, n.method === 'throw') { if (t.iterator.return && (n.method = 'return', n.arg = e, I(t, n), n.method === 'throw')) return g; n.method = 'throw', n.arg = new TypeError("The iterator does not provide a 'throw' method") } return g } var r = c(i, t.iterator, n.arg); if (r.type === 'throw') return n.method = 'throw', n.arg = r.arg, n.delegate = null, g; var a = r.arg; return a ? a.done ? (n[t.resultName] = a.value, n.next = t.nextLoc, n.method !== 'return' && (n.method = 'next', n.arg = e), n.delegate = null, g) : a : (n.method = 'throw', n.arg = new TypeError('iterator result is not an object'), n.delegate = null, g) } function T (t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e) } function j (t) { var e = t.completion || {}; e.type = 'normal', delete e.arg, t.completion = e } function A (t) { this.tryEntries = [{ tryLoc: 'root' }], t.forEach(T, this), this.reset(!0) } function C (t) { if (t) { var n = t[a]; if (n) return n.call(t); if (typeof t.next === 'function') return t; if (!isNaN(t.length)) { var r = -1; var o = function n () { while (++r < t.length) if (i.call(t, r)) return n.value = t[r], n.done = !1, n; return n.value = e, n.done = !0, n }; return o.next = o } } return { next: D } } function D () { return { value: e, done: !0 } } return v.prototype = w.constructor = m, m.constructor = v, v.displayName = l(m, s, 'GeneratorFunction'), t.isGeneratorFunction = function (t) { var e = typeof t === 'function' && t.constructor; return !!e && (e === v || (e.displayName || e.name) === 'GeneratorFunction') }, t.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, m) : (t.__proto__ = m, l(t, s, 'GeneratorFunction')), t.prototype = Object.create(w), t }, t.awrap = function (t) { return { __await: t } }, O(S.prototype), S.prototype[o] = function () { return this }, t.AsyncIterator = S, t.async = function (e, n, i, r, a) { void 0 === a && (a = Promise); var o = new S(u(e, n, i, r), a); return t.isGeneratorFunction(n) ? o : o.next().then(function (t) { return t.done ? t.value : o.next() }) }, O(w), l(w, s, 'Generator'), w[a] = function () { return this }, w.toString = function () { return '[object Generator]' }, t.keys = function (t) { var e = []; for (var n in t)e.push(n); return e.reverse(), function n () { while (e.length) { var i = e.pop(); if (i in t) return n.value = i, n.done = !1, n } return n.done = !0, n } }, t.values = C, A.prototype = { constructor: A, reset: function (t) { if (this.prev = 0, this.next = 0, this.sent = this._sent = e, this.done = !1, this.delegate = null, this.method = 'next', this.arg = e, this.tryEntries.forEach(j), !t) for (var n in this)n.charAt(0) === 't' && i.call(this, n) && !isNaN(+n.slice(1)) && (this[n] = e) }, stop: function () { this.done = !0; var t = this.tryEntries[0]; var e = t.completion; if (e.type === 'throw') throw e.arg; return this.rval }, dispatchException: function (t) { if (this.done) throw t; var n = this; function r (i, r) { return s.type = 'throw', s.arg = t, n.next = i, r && (n.method = 'next', n.arg = e), !!r } for (var a = this.tryEntries.length - 1; a >= 0; --a) { var o = this.tryEntries[a]; var s = o.completion; if (o.tryLoc === 'root') return r('end'); if (o.tryLoc <= this.prev) { var l = i.call(o, 'catchLoc'); var u = i.call(o, 'finallyLoc'); if (l && u) { if (this.prev < o.catchLoc) return r(o.catchLoc, !0); if (this.prev < o.finallyLoc) return r(o.finallyLoc) } else if (l) { if (this.prev < o.catchLoc) return r(o.catchLoc, !0) } else { if (!u) throw new Error('try statement without catch or finally'); if (this.prev < o.finallyLoc) return r(o.finallyLoc) } } } }, abrupt: function (t, e) { for (var n = this.tryEntries.length - 1; n >= 0; --n) { var r = this.tryEntries[n]; if (r.tryLoc <= this.prev && i.call(r, 'finallyLoc') && this.prev < r.finallyLoc) { var a = r; break } }a && (t === 'break' || t === 'continue') && a.tryLoc <= e && e <= a.finallyLoc && (a = null); var o = a ? a.completion : {}; return o.type = t, o.arg = e, a ? (this.method = 'next', this.next = a.finallyLoc, g) : this.complete(o) }, complete: function (t, e) { if (t.type === 'throw') throw t.arg; return t.type === 'break' || t.type === 'continue' ? this.next = t.arg : t.type === 'return' ? (this.rval = this.arg = t.arg, this.method = 'return', this.next = 'end') : t.type === 'normal' && e && (this.next = e), g }, finish: function (t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var n = this.tryEntries[e]; if (n.finallyLoc === t) return this.complete(n.completion, n.afterLoc), j(n), g } }, catch: function (t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var n = this.tryEntries[e]; if (n.tryLoc === t) { var i = n.completion; if (i.type === 'throw') { var r = i.arg; j(n) } return r } } throw new Error('illegal catch attempt') }, delegateYield: function (t, n, i) { return this.delegate = { iterator: C(t), resultName: n, nextLoc: i }, this.method === 'next' && (this.arg = e), g } }, t }(t.exports)); try { regeneratorRuntime = i } catch (r) { Function('r', 'regeneratorRuntime = r')(i) } },
  9952: function (t, e, n) { 'use strict'; var i = (function () { function t (t) { this.value = t } return t }()); var r = (function () { function t () { this._len = 0 } return t.prototype.insert = function (t) { var e = new i(t); return this.insertEntry(e), e }, t.prototype.insertEntry = function (t) { this.head ? (this.tail.next = t, t.prev = this.tail, t.next = null, this.tail = t) : this.head = this.tail = t, this._len++ }, t.prototype.remove = function (t) { var e = t.prev; var n = t.next; e ? e.next = n : this.head = n, n ? n.prev = e : this.tail = e, t.next = t.prev = null, this._len-- }, t.prototype.len = function () { return this._len }, t.prototype.clear = function () { this.head = this.tail = null, this._len = 0 }, t }()); var a = (function () { function t (t) { this._list = new r(), this._maxSize = 10, this._map = {}, this._maxSize = t } return t.prototype.put = function (t, e) { var n = this._list; var r = this._map; var a = null; if (r[t] == null) { var o = n.len(); var s = this._lastRemovedEntry; if (o >= this._maxSize && o > 0) { var l = n.head; n.remove(l), delete r[l.key], a = l.value, this._lastRemovedEntry = l }s ? s.value = e : s = new i(e), s.key = t, n.insertEntry(s), r[t] = s } return a }, t.prototype.get = function (t) { var e = this._map[t]; var n = this._list; if (e != null) return e !== n.tail && (n.remove(e), n.insertEntry(e)), e.value }, t.prototype.clear = function () { this._list.clear(), this._map = {} }, t.prototype.len = function () { return this._list.len() }, t }()); e.a = a },
  '999c': function (t, e, n) { 'use strict'; var i = n('cc6e'); var r = n('258f'); var a = n('b7b6'); var o = n('e001'); var s = n('473a'); var l = n('65a1'); var u = (function () { function t (t, e, n, r) { this._stageTaskMap = Object(i.createHashMap)(), this.ecInstance = t, this.api = e, n = this._dataProcessorHandlers = n.slice(), r = this._visualHandlers = r.slice(), this._allHandlers = n.concat(r) } return t.prototype.restoreData = function (t, e) { t.restoreData(e), this._stageTaskMap.each(function (t) { var e = t.overallTask; e && e.dirty() }) }, t.prototype.getPerformArgs = function (t, e) { if (t.__pipeline) { var n = this._pipelineMap.get(t.__pipeline.id); var i = n.context; var r = !e && n.progressiveEnabled && (!i || i.progressiveRender) && t.__idxInPipeline > n.blockIndex; var a = r ? n.step : null; var o = i && i.modDataCount; var s = o != null ? Math.ceil(o / a) : null; return { step: a, modBy: s, modDataCount: o } } }, t.prototype.getPipeline = function (t) { return this._pipelineMap.get(t) }, t.prototype.updateStreamModes = function (t, e) { var n = this._pipelineMap.get(t.uid); var i = t.getData(); var r = i.count(); var a = n.progressiveEnabled && e.incrementalPrepareRender && r >= n.threshold; var o = t.get('large') && r >= t.get('largeThreshold'); var s = t.get('progressiveChunkMode') === 'mod' ? r : null; t.pipelineContext = n.context = { progressiveRender: a, modDataCount: s, large: o } }, t.prototype.restorePipelines = function (t) { var e = this; var n = e._pipelineMap = Object(i.createHashMap)(); t.eachSeries(function (t) { var i = t.getProgressive(); var r = t.uid; n.set(r, { id: r, head: null, tail: null, threshold: t.getProgressiveThreshold(), progressiveEnabled: i && !(t.preventIncremental && t.preventIncremental()), blockIndex: -1, step: Math.round(i || 700), count: 0 }), e._pipe(t, t.dataTask) }) }, t.prototype.prepareStageTasks = function () { var t = this._stageTaskMap; var e = this.api.getModel(); var n = this.api; Object(i.each)(this._allHandlers, function (r) { var a = t.get(r.uid) || t.set(r.uid, {}); var o = ''; Object(i.assert)(!(r.reset && r.overallReset), o), r.reset && this._createSeriesStageTask(r, a, e, n), r.overallReset && this._createOverallStageTask(r, a, e, n) }, this) }, t.prototype.prepareView = function (t, e, n, i) { var r = t.renderTask; var a = r.context; a.model = e, a.ecModel = n, a.api = i, r.__block = !t.incrementalPrepareRender, this._pipe(e, r) }, t.prototype.performDataProcessorTasks = function (t, e) { this._performStageTasks(this._dataProcessorHandlers, t, e, { block: !0 }) }, t.prototype.performVisualTasks = function (t, e, n) { this._performStageTasks(this._visualHandlers, t, e, n) }, t.prototype._performStageTasks = function (t, e, n, r) { r = r || {}; var a = !1; var o = this; function s (t, e) { return t.setDirty && (!t.dirtyMap || t.dirtyMap.get(e.__pipeline.id)) }Object(i.each)(t, function (t, i) { if (!r.visualType || r.visualType === t.visualType) { var l = o._stageTaskMap.get(t.uid); var u = l.seriesTaskMap; var c = l.overallTask; if (c) { var h; var d = c.agentStubMap; d.each(function (t) { s(r, t) && (t.dirty(), h = !0) }), h && c.dirty(), o.updatePayload(c, n); var p = o.getPerformArgs(c, r.block); d.each(function (t) { t.perform(p) }), c.perform(p) && (a = !0) } else u && u.each(function (i, l) { s(r, i) && i.dirty(); var u = o.getPerformArgs(i, r.block); u.skip = !t.performRawSeries && e.isSeriesFiltered(i.context.model), o.updatePayload(i, n), i.perform(u) && (a = !0) }) } }), this.unfinished = a || this.unfinished }, t.prototype.performSeriesTasks = function (t) { var e; t.eachSeries(function (t) { e = t.dataTask.perform() || e }), this.unfinished = e || this.unfinished }, t.prototype.plan = function () { this._pipelineMap.each(function (t) { var e = t.tail; do { if (e.__block) { t.blockIndex = e.__idxInPipeline; break }e = e.getUpstream() } while (e) }) }, t.prototype.updatePayload = function (t, e) { e !== 'remain' && (t.context.payload = e) }, t.prototype._createSeriesStageTask = function (t, e, n, a) { var o = this; var s = e.seriesTaskMap; var l = e.seriesTaskMap = Object(i.createHashMap)(); var u = t.seriesType; var c = t.getTargetSeries; function h (e) { var i = e.uid; var u = l.set(i, s && s.get(i) || Object(r.a)({ plan: f, reset: g, count: m })); u.context = { model: e, ecModel: n, api: a, useClearVisual: t.isVisual && !t.isLayout, plan: t.plan, reset: t.reset, scheduler: o }, o._pipe(e, u) }t.createOnAllSeries ? n.eachRawSeries(h) : u ? n.eachRawSeriesByType(u, h) : c && c(n, a).each(h) }, t.prototype._createOverallStageTask = function (t, e, n, a) { var o = this; var s = e.overallTask = e.overallTask || Object(r.a)({ reset: c }); s.context = { ecModel: n, api: a, overallReset: t.overallReset, scheduler: o }; var l = s.agentStubMap; var u = s.agentStubMap = Object(i.createHashMap)(); var d = t.seriesType; var f = t.getTargetSeries; var g = !0; var y = !1; var v = ''; function m (t) { var e = t.uid; var n = u.set(e, l && l.get(e) || (y = !0, Object(r.a)({ reset: h, onDirty: p }))); n.context = { model: t, overallProgress: g }, n.agent = s, n.__block = g, o._pipe(t, n) }Object(i.assert)(!t.createOnAllSeries, v), d ? n.eachRawSeriesByType(d, m) : f ? f(n, a).each(m) : (g = !1, Object(i.each)(n.getSeries(), m)), y && s.dirty() }, t.prototype._pipe = function (t, e) { var n = t.uid; var i = this._pipelineMap.get(n); !i.head && (i.head = e), i.tail && i.tail.pipe(e), i.tail = e, e.__idxInPipeline = i.count++, e.__pipeline = i }, t.wrapStageHandler = function (t, e) { return Object(i.isFunction)(t) && (t = { overallReset: t, seriesType: b(t) }), t.uid = Object(a.c)('stageHandler'), e && (t.visualType = e), t }, t }()); function c (t) { t.overallReset(t.ecModel, t.api, t.payload) } function h (t) { return t.overallProgress && d } function d () { this.agent.dirty(), this.getDownstream().dirty() } function p () { this.agent && this.agent.dirty() } function f (t) { return t.plan ? t.plan(t.model, t.ecModel, t.api, t.payload) : null } function g (t) { t.useClearVisual && t.data.clearAllVisual(); var e = t.resetDefines = Object(l.r)(t.reset(t.model, t.ecModel, t.api, t.payload)); return e.length > 1 ? Object(i.map)(e, function (t, e) { return v(e) }) : y } var y = v(0); function v (t) { return function (e, n) { var i = n.data; var r = n.resetDefines[t]; if (r && r.dataEach) for (var a = e.start; a < e.end; a++)r.dataEach(i, a); else r && r.progress && r.progress(e, i) } } function m (t) { return t.data.count() } function b (t) { x = null; try { t(_, w) } catch (e) {} return x } var x; var _ = {}; var w = {}; function O (t, e) { for (var n in e.prototype)t[n] = i.noop }O(_, o.a), O(w, s.a), _.eachSeriesByType = _.eachRawSeriesByType = function (t) { x = t }, _.eachComponent = function (t) { t.mainType === 'series' && t.subType && (x = t.subType) }, e.a = u },
  '9cc6': function (t, e, n) { 'use strict'; var i = n('21a1'); var r = n('18d3'); var a = (function () { function t () { this.cx = 0, this.cy = 0, this.rx = 0, this.ry = 0 } return t }()); var o = (function (t) { function e (e) { return t.call(this, e) || this } return Object(i.a)(e, t), e.prototype.getDefaultShape = function () { return new a() }, e.prototype.buildPath = function (t, e) { var n = 0.5522848; var i = e.cx; var r = e.cy; var a = e.rx; var o = e.ry; var s = a * n; var l = o * n; t.moveTo(i - a, r), t.bezierCurveTo(i - a, r - l, i - s, r - o, i, r - o), t.bezierCurveTo(i + s, r - o, i + a, r - l, i + a, r), t.bezierCurveTo(i + a, r + l, i + s, r + o, i, r + o), t.bezierCurveTo(i - s, r + o, i - a, r + l, i - a, r), t.closePath() }, e }(r.b)); o.prototype.type = 'ellipse', e.a = o },
  '9f7f': function (t, e, n) { 'use strict'; var i = n('d039'); function r (t, e) { return RegExp(t, e) }e.UNSUPPORTED_Y = i(function () { var t = r('a', 'y'); return t.lastIndex = 2, t.exec('abcd') != null }), e.BROKEN_CARET = i(function () { var t = r('^r', 'gy'); return t.lastIndex = 2, t.exec('str') != null }) },
  '9fde': function (t, e, n) { 'use strict'; var i = n('21a1'); var r = n('18d3'); var a = n('6dc4'); var o = Math.PI; var s = 2 * o; var l = Math.sin; var u = Math.cos; var c = Math.acos; var h = Math.atan2; var d = Math.abs; var p = Math.sqrt; var f = Math.max; var g = Math.min; var y = 1e-4; function v (t, e, n, i, r, a, o, s) { var l = n - t; var u = i - e; var c = o - r; var h = s - a; var d = h * l - c * u; if (!(d * d < y)) return d = (c * (e - a) - h * (t - r)) / d, [t + d * l, e + d * u] } function m (t, e, n, i, r, a, o) { var s = t - n; var l = e - i; var u = (o ? a : -a) / p(s * s + l * l); var c = u * l; var h = -u * s; var d = t + c; var g = e + h; var y = n + c; var v = i + h; var m = (d + y) / 2; var b = (g + v) / 2; var x = y - d; var _ = v - g; var w = x * x + _ * _; var O = r - a; var S = d * v - y * g; var M = (_ < 0 ? -1 : 1) * p(f(0, O * O * w - S * S)); var I = (S * _ - x * M) / w; var T = (-S * x - _ * M) / w; var j = (S * _ + x * M) / w; var A = (-S * x + _ * M) / w; var C = I - m; var D = T - b; var k = j - m; var L = A - b; return C * C + D * D > k * k + L * L && (I = j, T = A), { cx: I, cy: T, x01: -c, y01: -h, x11: I * (r / O - 1), y11: T * (r / O - 1) } } function b (t, e) { var n = f(e.r, 0); var i = f(e.r0 || 0, 0); var r = n > 0; var b = i > 0; if (r || b) { if (r || (n = i, i = 0), i > n) { var x = n; n = i, i = x } var _ = !!e.clockwise; var w = e.startAngle; var O = e.endAngle; var S = [w, O]; Object(a.b)(S, !_); var M = d(S[0] - S[1]); var I = e.cx; var T = e.cy; var j = e.cornerRadius || 0; var A = e.innerCornerRadius || 0; if (n > y) if (M > s - y)t.moveTo(I + n * u(w), T + n * l(w)), t.arc(I, T, n, w, O, !_), i > y && (t.moveTo(I + i * u(O), T + i * l(O)), t.arc(I, T, i, O, w, _)); else { var C = d(n - i) / 2; var D = g(C, j); var k = g(C, A); var L = k; var P = D; var R = n * u(w); var N = n * l(w); var E = i * u(O); var z = i * l(O); var B = void 0; var V = void 0; var F = void 0; var G = void 0; if ((D > y || k > y) && (B = n * u(O), V = n * l(O), F = i * u(w), G = i * l(w), M < o)) { var H = v(R, N, F, G, B, V, E, z); if (H) { var W = R - H[0]; var X = N - H[1]; var Y = B - H[0]; var U = V - H[1]; var Z = 1 / l(c((W * Y + X * U) / (p(W * W + X * X) * p(Y * Y + U * U))) / 2); var q = p(H[0] * H[0] + H[1] * H[1]); L = g(k, (i - q) / (Z - 1)), P = g(D, (n - q) / (Z + 1)) } } if (M > y) if (P > y) { var K = m(F, G, R, N, n, P, _); var $ = m(B, V, E, z, n, P, _); t.moveTo(I + K.cx + K.x01, T + K.cy + K.y01), P < D ? t.arc(I + K.cx, T + K.cy, P, h(K.y01, K.x01), h($.y01, $.x01), !_) : (t.arc(I + K.cx, T + K.cy, P, h(K.y01, K.x01), h(K.y11, K.x11), !_), t.arc(I, T, n, h(K.cy + K.y11, K.cx + K.x11), h($.cy + $.y11, $.cx + $.x11), !_), t.arc(I + $.cx, T + $.cy, P, h($.y11, $.x11), h($.y01, $.x01), !_)) } else t.moveTo(I + R, T + N), t.arc(I, T, n, w, O, !_); else t.moveTo(I + R, T + N); if (i > y && M > y) if (L > y) { K = m(E, z, B, V, i, -L, _), $ = m(R, N, F, G, i, -L, _); t.lineTo(I + K.cx + K.x01, T + K.cy + K.y01), L < k ? t.arc(I + K.cx, T + K.cy, L, h(K.y01, K.x01), h($.y01, $.x01), !_) : (t.arc(I + K.cx, T + K.cy, L, h(K.y01, K.x01), h(K.y11, K.x11), !_), t.arc(I, T, i, h(K.cy + K.y11, K.cx + K.x11), h($.cy + $.y11, $.cx + $.x11), _), t.arc(I + $.cx, T + $.cy, L, h($.y11, $.x11), h($.y01, $.x01), !_)) } else t.lineTo(I + E, T + z), t.arc(I, T, i, O, w, _); else t.lineTo(I + E, T + z) } else t.moveTo(I, T); t.closePath() } } var x = (function () { function t () { this.cx = 0, this.cy = 0, this.r0 = 0, this.r = 0, this.startAngle = 0, this.endAngle = 2 * Math.PI, this.clockwise = !0, this.cornerRadius = 0, this.innerCornerRadius = 0 } return t }()); var _ = (function (t) { function e (e) { return t.call(this, e) || this } return Object(i.a)(e, t), e.prototype.getDefaultShape = function () { return new x() }, e.prototype.buildPath = function (t, e) { b(t, e) }, e.prototype.isZeroArea = function () { return this.shape.startAngle === this.shape.endAngle || this.shape.r === this.shape.r0 }, e }(r.b)); _.prototype.type = 'sector'; e.a = _ },
  a2b2: function (t, e, n) { 'use strict'; n.r(e), n.d(e, 'extendShape', function () { return P }), n.d(e, 'extendPath', function () { return N }), n.d(e, 'registerShape', function () { return E }), n.d(e, 'getShapeClass', function () { return z }), n.d(e, 'makePath', function () { return B }), n.d(e, 'makeImage', function () { return V }), n.d(e, 'mergePath', function () { return G }), n.d(e, 'resizePath', function () { return H }), n.d(e, 'subPixelOptimizeLine', function () { return W }), n.d(e, 'subPixelOptimizeRect', function () { return X }), n.d(e, 'subPixelOptimize', function () { return Y }), n.d(e, 'updateProps', function () { return Z }), n.d(e, 'initProps', function () { return q }), n.d(e, 'removeElement', function () { return K }), n.d(e, 'removeElementWithFadeOut', function () { return Q }), n.d(e, 'isElementRemoved', function () { return J }), n.d(e, 'getTransform', function () { return tt }), n.d(e, 'applyTransform', function () { return et }), n.d(e, 'transformDirection', function () { return nt }), n.d(e, 'groupTransition', function () { return at }), n.d(e, 'clipPointsByRect', function () { return ot }), n.d(e, 'clipRectByRect', function () { return st }), n.d(e, 'createIcon', function () { return lt }), n.d(e, 'linePolygonIntersect', function () { return ut }), n.d(e, 'lineLineIntersect', function () { return ct }); var i = n('49d3'); var r = n('953f'); var a = n('3c03'); var o = n('18d3'); n.d(e, 'Path', function () { return o.b }); var s = n('e2fd'); var l = n('2d84'); n.d(e, 'Image', function () { return l.a }); var u = n('d11b'); n.d(e, 'Group', function () { return u.a }); var c = n('2488'); n.d(e, 'Text', function () { return c.a }); var h = n('df39'); n.d(e, 'Circle', function () { return h.a }); var d = n('9cc6'); n.d(e, 'Ellipse', function () { return d.a }); var p = n('9fde'); n.d(e, 'Sector', function () { return p.a }); var f = n('6679'); n.d(e, 'Ring', function () { return f.a }); var g = n('7648'); n.d(e, 'Polygon', function () { return g.a }); var y = n('ab58'); n.d(e, 'Polyline', function () { return y.a }); var v = n('1b19'); n.d(e, 'Rect', function () { return v.a }); var m = n('f61c'); n.d(e, 'Line', function () { return m.a }); var b = n('7316'); n.d(e, 'BezierCurve', function () { return b.a }); var x = n('efd1'); n.d(e, 'Arc', function () { return x.a }); var _ = n('1f5d'); n.d(e, 'CompoundPath', function () { return _.a }); var w = n('0236'); n.d(e, 'LinearGradient', function () { return w.a }); var O = n('034a'); n.d(e, 'RadialGradient', function () { return O.a }); var S = n('10e1'); n.d(e, 'BoundingRect', function () { return S.a }); var M = n('a8a9'); n.d(e, 'OrientedBoundingRect', function () { return M.a }); var I = n('e22c'); n.d(e, 'Point', function () { return I.a }); var T = n('e580'); n.d(e, 'IncrementalDisplayable', function () { return T.a }); var j = n('ab54'); var A = n('cc6e'); var C = n('cec8'); var D = Math.max; var k = Math.min; var L = {}; function P (t) { return o.b.extend(t) } var R = i.b; function N (t, e) { return R(t, e) } function E (t, e) { L[t] = e } function z (t) { if (L.hasOwnProperty(t)) return L[t] } function B (t, e, n, r) { var a = i.a(t, e); return n && (r === 'center' && (n = F(n, a.getBoundingRect())), H(a, n)), a } function V (t, e, n) { var i = new l.a({ style: { image: t, x: e.x, y: e.y, width: e.width, height: e.height }, onload: function (t) { if (n === 'center') { var r = { width: t.width, height: t.height }; i.setStyle(F(e, r)) } } }); return i } function F (t, e) { var n; var i = e.width / e.height; var r = t.height * i; r <= t.width ? n = t.height : (r = t.width, n = r / i); var a = t.x + t.width / 2; var o = t.y + t.height / 2; return { x: a - r / 2, y: o - n / 2, width: r, height: n } } var G = i.c; function H (t, e) { if (t.applyTransform) { var n = t.getBoundingRect(); var i = n.calculateTransform(e); t.applyTransform(i) } } function W (t) { return j.b(t.shape, t.shape, t.style), t } function X (t) { return j.c(t.shape, t.shape, t.style), t } var Y = j.a; function U (t, e, n, i, r, a, o) { var s; var l = !1; typeof r === 'function' ? (o = a, a = r, r = null) : Object(A.isObject)(r) && (a = r.cb, o = r.during, l = r.isFrom, s = r.removeOpt, r = r.dataIndex); var u; var c = t === 'update'; var h = t === 'remove'; if (i && i.ecModel) { var d = i.ecModel.getUpdatePayload(); u = d && d.animation } var p = i && i.isAnimationEnabled(); if (h || e.stopAnimation('remove'), p) { var f = void 0; var g = void 0; var y = void 0; u ? (f = u.duration || 0, g = u.easing || 'cubicOut', y = u.delay || 0) : h ? (s = s || {}, f = Object(A.retrieve2)(s.duration, 200), g = Object(A.retrieve2)(s.easing, 'cubicOut'), y = 0) : (f = i.getShallow(c ? 'animationDurationUpdate' : 'animationDuration'), g = i.getShallow(c ? 'animationEasingUpdate' : 'animationEasing'), y = i.getShallow(c ? 'animationDelayUpdate' : 'animationDelay')), typeof y === 'function' && (y = y(r, i.getAnimationDelayParams ? i.getAnimationDelayParams(e, r) : null)), typeof f === 'function' && (f = f(r)), f > 0 ? l ? e.animateFrom(n, { duration: f, delay: y || 0, easing: g, done: a, force: !!a || !!o, scope: t, during: o }) : e.animateTo(n, { duration: f, delay: y || 0, easing: g, done: a, force: !!a || !!o, setToFinal: !0, scope: t, during: o }) : (e.stopAnimation(), !l && e.attr(n), a && a()) } else e.stopAnimation(), !l && e.attr(n), o && o(1), a && a() } function Z (t, e, n, i, r, a) { U('update', t, e, n, i, r, a) } function q (t, e, n, i, r, a) { U('init', t, e, n, i, r, a) } function K (t, e, n, i, r, a) { J(t) || U('remove', t, e, n, i, r, a) } function $ (t, e, n, i) { t.removeTextContent(), t.removeTextGuideLine(), K(t, { style: { opacity: 0 } }, e, n, i) } function Q (t, e, n) { function i () { t.parent && t.parent.remove(t) }t.isGroup ? t.traverse(function (t) { t.isGroup || $(t, e, n, i) }) : $(t, e, n, i) } function J (t) { if (!t.__zr) return !0; for (var e = 0; e < t.animators.length; e++) { var n = t.animators[e]; if (n.scope === 'remove') return !0 } return !1 } function tt (t, e) { var n = r.d([]); while (t && t !== e)r.f(n, t.getLocalTransform(), n), t = t.parent; return n } function et (t, e, n) { return e && !Object(A.isArrayLike)(e) && (e = s.a.getLocalTransform(e)), n && (e = r.e([], e)), a.b([], t, e) } function nt (t, e, n) { var i = e[4] === 0 || e[5] === 0 || e[0] === 0 ? 1 : Math.abs(2 * e[4] / e[0]); var r = e[4] === 0 || e[5] === 0 || e[2] === 0 ? 1 : Math.abs(2 * e[4] / e[2]); var a = [t === 'left' ? -i : t === 'right' ? i : 0, t === 'top' ? -r : t === 'bottom' ? r : 0]; return a = et(a, e, n), Math.abs(a[0]) > Math.abs(a[1]) ? a[0] > 0 ? 'right' : 'left' : a[1] > 0 ? 'bottom' : 'top' } function it (t) { return !t.isGroup } function rt (t) { return t.shape != null } function at (t, e, n) { if (t && e) { var i = r(t); e.traverse(function (t) { if (it(t) && t.anid) { var e = i[t.anid]; if (e) { var r = a(t); t.attr(a(e)), Z(t, r, n, Object(C.a)(t).dataIndex) } } }) } function r (t) { var e = {}; return t.traverse(function (t) { it(t) && t.anid && (e[t.anid] = t) }), e } function a (t) { var e = { x: t.x, y: t.y, rotation: t.rotation }; return rt(t) && (e.shape = Object(A.extend)({}, t.shape)), e } } function ot (t, e) { return Object(A.map)(t, function (t) { var n = t[0]; n = D(n, e.x), n = k(n, e.x + e.width); var i = t[1]; return i = D(i, e.y), i = k(i, e.y + e.height), [n, i] }) } function st (t, e) { var n = D(t.x, e.x); var i = k(t.x + t.width, e.x + e.width); var r = D(t.y, e.y); var a = k(t.y + t.height, e.y + e.height); if (i >= n && a >= r) return { x: n, y: r, width: i - n, height: a - r } } function lt (t, e, n) { var i = Object(A.extend)({ rectHover: !0 }, e); var r = i.style = { strokeNoScale: !0 }; if (n = n || { x: -1, y: -1, width: 2, height: 2 }, t) return t.indexOf('image://') === 0 ? (r.image = t.slice(8), Object(A.defaults)(r, n), new l.a(i)) : B(t.replace('path://', ''), i, n, 'center') } function ut (t, e, n, i, r) { for (var a = 0, o = r[r.length - 1]; a < r.length; a++) { var s = r[a]; if (ct(t, e, n, i, s[0], s[1], o[0], o[1])) return !0; o = s } } function ct (t, e, n, i, r, a, o, s) { var l = n - t; var u = i - e; var c = o - r; var h = s - a; var d = ht(c, h, l, u); if (dt(d)) return !1; var p = t - r; var f = e - a; var g = ht(p, f, l, u) / d; if (g < 0 || g > 1) return !1; var y = ht(p, f, c, h) / d; return !(y < 0 || y > 1) } function ht (t, e, n, i) { return t * i - n * e } function dt (t) { return t <= 1e-6 && t >= -1e-6 }E('circle', h.a), E('ellipse', d.a), E('sector', p.a), E('ring', f.a), E('polygon', g.a), E('polyline', y.a), E('rect', v.a), E('line', m.a), E('bezierCurve', b.a), E('arc', x.a) },
  a46b: function (t, e, n) { 'use strict'; var i = n('d11b'); var r = n('b7b6'); var a = n('d31e'); var o = (function () { function t () { this.group = new i.a(), this.uid = r.c('viewComponent') } return t.prototype.init = function (t, e) {}, t.prototype.render = function (t, e, n, i) {}, t.prototype.dispose = function (t, e) {}, t.prototype.updateView = function (t, e, n, i) {}, t.prototype.updateLayout = function (t, e, n, i) {}, t.prototype.updateVisual = function (t, e, n, i) {}, t.prototype.blurSeries = function (t, e) {}, t }()); a.b(o), a.c(o, { registerWhenExtend: !0 }), e.a = o },
  a543: function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return s }), n.d(e, 'b', function () { return l }); var i = n('cc6e'); var r = n('0f23'); var a = n('18f3'); var o = (n('dcca'), /\{@(.+?)\}/g); var s = (function () { function t () {} return t.prototype.getDataParams = function (t, e) { var n = this.getData(e); var i = this.getRawValue(t, e); var r = n.getRawIndex(t); var a = n.getName(t); var o = n.getRawDataItem(t); var s = n.getItemVisual(t, 'style'); var l = s && s[n.getItemVisual(t, 'drawType') || 'fill']; var u = s && s.stroke; var c = this.mainType; var h = c === 'series'; var d = n.userOutput; return { componentType: c, componentSubType: this.subType, componentIndex: this.componentIndex, seriesType: h ? this.subType : null, seriesIndex: this.seriesIndex, seriesId: h ? this.id : null, seriesName: h ? this.name : null, name: a, dataIndex: r, data: o, dataType: e, value: i, color: l, borderColor: u, dimensionNames: d ? d.dimensionNames : null, encode: d ? d.encode : null, $vars: ['seriesName', 'name', 'value'] } }, t.prototype.getFormattedLabel = function (t, e, n, s, l, u) { e = e || 'normal'; var c = this.getData(n); var h = this.getDataParams(t, n); if (u && i.extend(h, u), s != null && h.value instanceof Array && (h.value = h.value[s]), !l) { var d = c.getItemModel(t); l = d.get(e === 'normal' ? ['label', 'formatter'] : [e, 'label', 'formatter']) } if (typeof l === 'function') return h.status = e, h.dimensionIndex = s, l(h); if (typeof l === 'string') { var p = Object(a.formatTpl)(l, h); return p.replace(o, function (e, n) { var i = n.length; return n.charAt(0) === '[' && n.charAt(i - 1) === ']' && (n = +n.slice(1, i - 1)), Object(r.e)(c, t, n) }) } }, t.prototype.getRawValue = function (t, e) { return Object(r.e)(this.getData(e), t) }, t.prototype.formatTooltip = function (t, e, n) {}, t }()); function l (t) { var e, n; return i.isObject(t) ? t.type && (n = t) : e = t, { markupText: e, markupFragment: n } } },
  a8a9: function (t, e, n) { 'use strict'; var i = n('e22c'); var r = [0, 0]; var a = [0, 0]; var o = new i.a(); var s = new i.a(); var l = (function () { function t (t, e) { this._corners = [], this._axes = [], this._origin = [0, 0]; for (var n = 0; n < 4; n++) this._corners[n] = new i.a(); for (n = 0; n < 2; n++) this._axes[n] = new i.a(); t && this.fromBoundingRect(t, e) } return t.prototype.fromBoundingRect = function (t, e) { var n = this._corners; var r = this._axes; var a = t.x; var o = t.y; var s = a + t.width; var l = o + t.height; if (n[0].set(a, o), n[1].set(s, o), n[2].set(s, l), n[3].set(a, l), e) for (var u = 0; u < 4; u++)n[u].transform(e); i.a.sub(r[0], n[1], n[0]), i.a.sub(r[1], n[3], n[0]), r[0].normalize(), r[1].normalize(); for (u = 0; u < 2; u++) this._origin[u] = r[u].dot(n[0]) }, t.prototype.intersect = function (t, e) { var n = !0; var r = !e; return o.set(1 / 0, 1 / 0), s.set(0, 0), !this._intersectCheckOneSide(this, t, o, s, r, 1) && (n = !1, r) || !this._intersectCheckOneSide(t, this, o, s, r, -1) && (n = !1, r) || r || i.a.copy(e, n ? o : s), n }, t.prototype._intersectCheckOneSide = function (t, e, n, o, s, l) { for (var u = !0, c = 0; c < 2; c++) { var h = this._axes[c]; if (this._getProjMinMaxOnAxis(c, t._corners, r), this._getProjMinMaxOnAxis(c, e._corners, a), r[1] < a[0] || r[0] > a[1]) { if (u = !1, s) return u; var d = Math.abs(a[0] - r[1]); var p = Math.abs(r[0] - a[1]); Math.min(d, p) > o.len() && (d < p ? i.a.scale(o, h, -d * l) : i.a.scale(o, h, p * l)) } else if (n) { d = Math.abs(a[0] - r[1]), p = Math.abs(r[0] - a[1]); Math.min(d, p) < n.len() && (d < p ? i.a.scale(n, h, d * l) : i.a.scale(n, h, -p * l)) } } return u }, t.prototype._getProjMinMaxOnAxis = function (t, e, n) { for (var i = this._axes[t], r = this._origin, a = e[0].dot(i) + r[t], o = a, s = a, l = 1; l < e.length; l++) { var u = e[l].dot(i) + r[t]; o = Math.min(u, o), s = Math.max(u, s) }n[0] = o, n[1] = s }, t }()); e.a = l },
  a91b: function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return r }); var i = n('cc6e'); function r (t, e) { return t && t !== 'solid' && e > 0 ? (e = e || 1, t === 'dashed' ? [4 * e, 2 * e] : t === 'dotted' ? [e] : Object(i.isNumber)(t) ? [t] : Object(i.isArray)(t) ? t : null) : null } },
  aa80: function (t, e, n) { 'use strict'; var i; i = typeof window !== 'undefined' && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function (t) { return setTimeout(t, 16) }, e.a = i },
  ab54: function (t, e, n) { 'use strict'; n.d(e, 'b', function () { return r }), n.d(e, 'c', function () { return a }), n.d(e, 'a', function () { return o }); var i = Math.round; function r (t, e, n) { if (e) { var r = e.x1; var a = e.x2; var s = e.y1; var l = e.y2; t.x1 = r, t.x2 = a, t.y1 = s, t.y2 = l; var u = n && n.lineWidth; return u ? (i(2 * r) === i(2 * a) && (t.x1 = t.x2 = o(r, u, !0)), i(2 * s) === i(2 * l) && (t.y1 = t.y2 = o(s, u, !0)), t) : t } } function a (t, e, n) { if (e) { var i = e.x; var r = e.y; var a = e.width; var s = e.height; t.x = i, t.y = r, t.width = a, t.height = s; var l = n && n.lineWidth; return l ? (t.x = o(i, l, !0), t.y = o(r, l, !0), t.width = Math.max(o(i + a, l, !1) - t.x, a === 0 ? 0 : 1), t.height = Math.max(o(r + s, l, !1) - t.y, s === 0 ? 0 : 1), t) : t } } function o (t, e, n) { if (!e) return t; var r = i(2 * t); return (r + i(e)) % 2 === 0 ? r / 2 : (r + (n ? 1 : -1)) / 2 } },
  ab58: function (t, e, n) { 'use strict'; var i = n('21a1'); var r = n('18d3'); var a = n('8089'); var o = (function () { function t () { this.points = null, this.percent = 1, this.smooth = 0, this.smoothConstraint = null } return t }()); var s = (function (t) { function e (e) { return t.call(this, e) || this } return Object(i.a)(e, t), e.prototype.getDefaultStyle = function () { return { stroke: '#000', fill: null } }, e.prototype.getDefaultShape = function () { return new o() }, e.prototype.buildPath = function (t, e) { a.a(t, e, !1) }, e }(r.b)); s.prototype.type = 'polyline', e.a = s },
  ac1f: function (t, e, n) { 'use strict'; var i = n('23e7'); var r = n('9263'); i({ target: 'RegExp', proto: !0, forced: /./.exec !== r }, { exec: r }) },
  ad61: function (t, e, n) { 'use strict'; n.d(e, 'c', function () { return f }), n.d(e, 'b', function () { return m }), n.d(e, 'e', function () { return M }), n.d(e, 'd', function () { return I }), n.d(e, 'a', function () { return T }); var i = n('18f3'); var r = n('cc6e'); var a = n('d5c0'); var o = n('1f06'); var s = 'font-size:12px;color:#6e7079'; var l = { fontSize: 12, fill: '#6e7079' }; var u = 'font-size:14px;color:#464646;font-weight:900'; var c = { fontSize: 14, fill: '#464646', fontWeight: 900 }; var h = 'line-height:1'; var d = [0, 10, 20, 30]; var p = ['', '\n', '\n\n', '\n\n\n']; function f (t, e) { return e.type = t, e } function g (t) { return Object(r.hasOwn)(y, t.type) && y[t.type] } var y = { section: { planLayout: function (t) { var e = t.blocks.length; var n = e > 1 || e > 0 && !t.noHeader; var i = 0; Object(r.each)(t.blocks, function (t) { g(t).planLayout(t); var e = t.__gapLevelBetweenSubBlocks; e >= i && (i = e + (!n || e && (t.type !== 'section' || t.noHeader) ? 0 : 1)) }), t.__gapLevelBetweenSubBlocks = i }, build: function (t, e, n) { var r = e.noHeader; var a = b(e); var o = v(t, e, r ? n : a.html); if (r) return o; var l = Object(i.makeValueReadable)(e.header, 'ordinal', t.useUTC); return t.renderMode === 'richText' ? O(t, l) + a.richText + o : x('<div style="' + s + ';' + h + ';">' + Object(i.encodeHTML)(l) + '</div>' + o, n) } }, nameValue: { planLayout: function (t) { t.__gapLevelBetweenSubBlocks = 0 }, build: function (t, e, n) { var a = t.renderMode; var o = e.noName; var s = e.noValue; var l = !e.markerType; var u = e.name; var c = e.value; var h = t.useUTC; if (!o || !s) { var d = l ? '' : t.markupStyleCreator.makeTooltipMarker(e.markerType, e.markerColor || '#333', a); var p = o ? '' : Object(i.makeValueReadable)(u, 'ordinal', h); var f = e.valueType; var g = s ? [] : Object(r.isArray)(c) ? Object(r.map)(c, function (t, e) { return Object(i.makeValueReadable)(t, Object(r.isArray)(f) ? f[e] : f, h) }) : [Object(i.makeValueReadable)(c, Object(r.isArray)(f) ? f[0] : f, h)]; var y = !l || !o; var v = !l && o; return a === 'richText' ? (l ? '' : d) + (o ? '' : O(t, p)) + (s ? '' : S(t, g, y, v)) : x((l ? '' : d) + (o ? '' : _(p, !l)) + (s ? '' : w(g, y, v)), n) } } } }; function v (t, e, n) { var i = []; var o = e.blocks || []; Object(r.assert)(!o || Object(r.isArray)(o)), o = o || []; var s = t.orderMode; if (e.sortBlocks && s) { o = o.slice(); var l = { valueAsc: 'asc', valueDesc: 'desc' }; if (Object(r.hasOwn)(l, s)) { var u = new a.a(l[s], null); o.sort(function (t, e) { return u.evaluate(t.sortParam, e.sortParam) }) } else s === 'seriesDesc' && o.reverse() } var c = b(e); if (Object(r.each)(o, function (e, n) { var r = g(e).build(t, e, n > 0 ? c.html : 0); r != null && i.push(r) }), i.length) return t.renderMode === 'richText' ? i.join(c.richText) : x(i.join(''), n) } function m (t, e, n, i, r) { if (t) { var a = g(t); a.planLayout(t); var o = { useUTC: r, renderMode: n, orderMode: i, markupStyleCreator: e }; return a.build(o, t, 0) } } function b (t) { var e = t.__gapLevelBetweenSubBlocks; return { html: d[e], richText: p[e] } } function x (t, e) { var n = '<div style="clear:both"></div>'; var i = 'margin: ' + e + 'px 0 0'; return '<div style="' + i + ';' + h + ';">' + t + n + '</div>' } function _ (t, e) { var n = e ? 'margin-left:2px' : ''; return '<span style="' + s + ';' + n + '">' + Object(i.encodeHTML)(t) + '</span>' } function w (t, e, n) { var a = n ? '10px' : '20px'; var o = e ? 'float:right;margin-left:' + a : ''; return '<span style="' + o + ';' + u + '">' + Object(r.map)(t, function (t) { return Object(i.encodeHTML)(t) }).join('&nbsp;&nbsp;') + '</span>' } function O (t, e) { return t.markupStyleCreator.wrapRichTextStyle(e, l) } function S (t, e, n, i) { var r = [c]; var a = i ? 10 : 20; return n && r.push({ padding: [0, 0, 0, a], align: 'right' }), t.markupStyleCreator.wrapRichTextStyle(e.join('  '), r) } function M (t, e) { var n = t.getData().getItemVisual(e, 'style'); var r = n[t.visualDrawType]; return Object(i.convertToColorString)(r) } function I (t, e) { var n = t.get('padding'); return n != null ? n : e === 'richText' ? [8, 10] : 10 } var T = (function () { function t () { this.richTextStyles = {}, this._nextStyleNameId = Object(o.getRandomIdBase)() } return t.prototype._generateStyleName = function () { return '__EC_aUTo_' + this._nextStyleNameId++ }, t.prototype.makeTooltipMarker = function (t, e, n) { var a = n === 'richText' ? this._generateStyleName() : null; var o = Object(i.getTooltipMarker)({ color: e, type: t, renderMode: n, markerId: a }); return Object(r.isString)(o) ? o : (this.richTextStyles[a] = o.style, o.content) }, t.prototype.wrapRichTextStyle = function (t, e) { var n = {}; Object(r.isArray)(e) ? Object(r.each)(e, function (t) { return Object(r.extend)(n, t) }) : Object(r.extend)(n, e); var i = this._generateStyleName(); return this.richTextStyles[i] = n, '{' + i + '|' + t + '}' }, t }()) },
  ad6d: function (t, e, n) { 'use strict'; var i = n('825a'); t.exports = function () { var t = i(this); var e = ''; return t.global && (e += 'g'), t.ignoreCase && (e += 'i'), t.multiline && (e += 'm'), t.dotAll && (e += 's'), t.unicode && (e += 'u'), t.sticky && (e += 'y'), e } },
  ad8a: function (t, e, n) { 'use strict'; n.d(e, 'c', function () { return s }), n.d(e, 'a', function () { return h }), n.d(e, 'b', function () { return g }); var i = n('5ea5'); var r = n('cc6e'); var a = n('949c'); var o = /\{([a-zA-Z0-9_]+)\|([^}]*)\}/g; function s (t, e, n, i, r) { if (!e) return ''; var a = (t + '').split('\n'); r = l(e, n, i, r); for (var o = 0, s = a.length; o < s; o++)a[o] = u(a[o], r); return a.join('\n') } function l (t, e, n, i) { i = i || {}; var o = Object(r.extend)({}, i); o.font = e, n = Object(r.retrieve2)(n, '...'), o.maxIterations = Object(r.retrieve2)(i.maxIterations, 2); var s = o.minChar = Object(r.retrieve2)(i.minChar, 0); o.cnCharWidth = Object(a.g)('国', e); var l = o.ascCharWidth = Object(a.g)('a', e); o.placeholder = Object(r.retrieve2)(i.placeholder, ''); for (var u = t = Math.max(0, t - 1), c = 0; c < s && u >= l; c++)u -= l; var h = Object(a.g)(n, e); return h > u && (n = '', h = 0), u = t - h, o.ellipsis = n, o.ellipsisWidth = h, o.contentWidth = u, o.containerWidth = t, o } function u (t, e) { var n = e.containerWidth; var i = e.font; var r = e.contentWidth; if (!n) return ''; var o = Object(a.g)(t, i); if (o <= n) return t; for (var s = 0; ;s++) { if (o <= r || s >= e.maxIterations) { t += e.ellipsis; break } var l = s === 0 ? c(t, r, e.ascCharWidth, e.cnCharWidth) : o > 0 ? Math.floor(t.length * r / o) : 0; t = t.substr(0, l), o = Object(a.g)(t, i) } return t === '' && (t = e.placeholder), t } function c (t, e, n, i) { for (var r = 0, a = 0, o = t.length; a < o && r < e; a++) { var s = t.charCodeAt(a); r += s >= 0 && s <= 127 ? n : i } return a } function h (t, e) { t != null && (t += ''); var n; var i = e.overflow; var o = e.padding; var s = e.font; var c = i === 'truncate'; var h = Object(a.f)(s); var d = Object(r.retrieve2)(e.lineHeight, h); var p = e.lineOverflow === 'truncate'; var f = e.width; n = f != null && i === 'break' || i === 'breakAll' ? t ? x(t, e.font, f, i === 'breakAll', 0).lines : [] : t ? t.split('\n') : []; var g = n.length * d; var y = Object(r.retrieve2)(e.height, g); if (g > y && p) { var v = Math.floor(y / d); n = n.slice(0, v) } var m = y; var b = f; if (o && (m += o[0] + o[2], b != null && (b += o[1] + o[3])), t && c && b != null) for (var _ = l(f, s, e.ellipsis, { minChar: e.truncateMinChar, placeholder: e.placeholder }), w = 0; w < n.length; w++)n[w] = u(n[w], _); if (f == null) { var O = 0; for (w = 0; w < n.length; w++)O = Math.max(Object(a.g)(n[w], s), O); f = O } return { lines: n, height: y, outerHeight: m, lineHeight: d, calculatedLineHeight: h, contentHeight: g, width: f } } var d = (function () { function t () {} return t }()); var p = (function () { function t (t) { this.tokens = [], t && (this.tokens = t) } return t }()); var f = (function () { function t () { this.width = 0, this.height = 0, this.contentWidth = 0, this.contentHeight = 0, this.outerWidth = 0, this.outerHeight = 0, this.lines = [] } return t }()); function g (t, e) { var n = new f(); if (t != null && (t += ''), !t) return n; var l; var u = e.width; var c = e.height; var h = e.overflow; var d = h !== 'break' && h !== 'breakAll' || u == null ? null : { width: u, accumWidth: 0, breakAll: h === 'breakAll' }; var p = o.lastIndex = 0; while ((l = o.exec(t)) != null) { var g = l.index; g > p && y(n, t.substring(p, g), e, d), y(n, l[2], e, d, l[1]), p = o.lastIndex }p < t.length && y(n, t.substring(p, t.length), e, d); var v = []; var m = 0; var b = 0; var x = e.padding; var _ = h === 'truncate'; var w = e.lineOverflow === 'truncate'; function O (t, e, n) { t.width = e, t.lineHeight = n, m += n, b = Math.max(b, e) }t:for (var S = 0; S < n.lines.length; S++) { for (var M = n.lines[S], I = 0, T = 0, j = 0; j < M.tokens.length; j++) { var A = M.tokens[j]; var C = A.styleName && e.rich[A.styleName] || {}; var D = A.textPadding = C.padding; var k = D ? D[1] + D[3] : 0; var L = A.font = C.font || e.font; A.contentHeight = Object(a.f)(L); var P = Object(r.retrieve2)(C.height, A.contentHeight); if (A.innerHeight = P, D && (P += D[0] + D[2]), A.height = P, A.lineHeight = Object(r.retrieve3)(C.lineHeight, e.lineHeight, P), A.align = C && C.align || e.align, A.verticalAlign = C && C.verticalAlign || 'middle', w && c != null && m + A.lineHeight > c) { j > 0 ? (M.tokens = M.tokens.slice(0, j), O(M, T, I), n.lines = n.lines.slice(0, S + 1)) : n.lines = n.lines.slice(0, S); break t } var R = C.width; var N = R == null || R === 'auto'; if (typeof R === 'string' && R.charAt(R.length - 1) === '%')A.percentWidth = R, v.push(A), A.contentWidth = Object(a.g)(A.text, L); else { if (N) { var E = C.backgroundColor; var z = E && E.image; z && (z = i.b(z), i.c(z) && (A.width = Math.max(A.width, z.width * P / z.height))) } var B = _ && u != null ? u - T : null; B != null && B < A.width ? !N || B < k ? (A.text = '', A.width = A.contentWidth = 0) : (A.text = s(A.text, B - k, L, e.ellipsis, { minChar: e.truncateMinChar }), A.width = A.contentWidth = Object(a.g)(A.text, L)) : A.contentWidth = Object(a.g)(A.text, L) }A.width += k, T += A.width, C && (I = Math.max(I, A.lineHeight)), A }O(M, T, I) }n.outerWidth = n.width = Object(r.retrieve2)(u, b), n.outerHeight = n.height = Object(r.retrieve2)(c, m), n.contentHeight = m, n.contentWidth = b, x && (n.outerWidth += x[1] + x[3], n.outerHeight += x[0] + x[2]); for (S = 0; S < v.length; S++) { A = v[S]; var V = A.percentWidth; A.width = parseInt(V, 10) / 100 * n.width } return n } function y (t, e, n, i, r) { var o; var s; var l = e === ''; var u = r && n.rich[r] || {}; var c = t.lines; var h = u.font || n.font; var f = !1; if (i) { var g = u.padding; var y = g ? g[1] + g[3] : 0; if (u.width != null && u.width !== 'auto') { var v = _(u.width, i.width) + y; c.length > 0 && v + i.accumWidth > i.width && (o = e.split('\n'), f = !0), i.accumWidth = v } else { var m = x(e, h, i.width, i.breakAll, i.accumWidth); i.accumWidth = m.accumWidth + y, s = m.linesWidths, o = m.lines } } else o = e.split('\n'); for (var b = 0; b < o.length; b++) { var w = o[b]; var O = new d(); if (O.styleName = r, O.text = w, O.isLineHolder = !w && !l, typeof u.width === 'number' ? O.width = u.width : O.width = s ? s[b] : Object(a.g)(w, h), b || f)c.push(new p([O])); else { var S = (c[c.length - 1] || (c[0] = new p())).tokens; var M = S.length; M === 1 && S[0].isLineHolder ? S[0] = O : (w || !M || l) && S.push(O) } } } function v (t) { var e = t.charCodeAt(0); return e >= 33 && e <= 255 } var m = Object(r.reduce)(',&?/;] '.split(''), function (t, e) { return t[e] = !0, t }, {}); function b (t) { return !v(t) || !!m[t] } function x (t, e, n, i, r) { for (var o = [], s = [], l = '', u = '', c = 0, h = 0, d = 0; d < t.length; d++) { var p = t.charAt(d); if (p !== '\n') { var f = Object(a.g)(p, e); var g = !i && !b(p); (o.length ? h + f > n : r + h + f > n) ? h ? (l || u) && (g ? (l || (l = u, u = '', c = 0, h = c), o.push(l), s.push(h - c), u += p, c += f, l = '', h = c) : (u && (l += u, h += c, u = '', c = 0), o.push(l), s.push(h), l = p, h = f)) : g ? (o.push(u), s.push(c), u = p, c = f) : (o.push(p), s.push(f)) : (h += f, g ? (u += p, c += f) : (u && (l += u, u = '', c = 0), l += p)) } else u && (l += u, h += c), o.push(l), s.push(h), l = '', u = '', c = 0, h = 0 } return o.length || l || (l = t, u = '', c = 0), u && (l += u), l && (o.push(l), s.push(h)), o.length === 1 && (h += r), { accumWidth: h, lines: o, linesWidths: s } } function _ (t, e) { return typeof t === 'string' ? t.lastIndexOf('%') >= 0 ? parseFloat(t) / 100 * e : parseFloat(t) : t } },
  aea5: function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return o }), n.d(e, 'h', function () { return l }), n.d(e, 'c', function () { return u }), n.d(e, 'd', function () { return c }), n.d(e, 'e', function () { return h }), n.d(e, 'g', function () { return d }), n.d(e, 'f', function () { return p }), n.d(e, 'b', function () { return f }); var i = n('65a1'); var r = n('cc6e'); var a = n('2b74'); var o = { Must: 1, Might: 2, Not: 3 }; var s = Object(i.o)(); function l (t) { s(t).datasetMap = Object(r.createHashMap)() } function u (t, e) { var n = t ? t.metaRawOption : null; var i = Object(r.retrieve2)(e.seriesLayoutBy, n ? n.seriesLayoutBy : null); var a = Object(r.retrieve2)(e.sourceHeader, t ? t.startIndex : null); var o = Object(r.retrieve2)(e.dimensions, t ? t.dimensionsDefine : null); return { seriesLayoutBy: i, sourceHeader: a, dimensions: o } } function c (t, e, n) { var i = {}; var a = d(e); if (!a || !t) return i; var o; var l; var u = []; var c = []; var h = e.ecModel; var p = s(h).datasetMap; var f = a.uid + '_' + n.seriesLayoutBy; t = t.slice(), Object(r.each)(t, function (e, n) { var a = Object(r.isObject)(e) ? e : t[n] = { name: e }; a.type === 'ordinal' && o == null && (o = n, l = v(a)), i[a.name] = [] }); var g = p.get(f) || p.set(f, { categoryWayDim: l, valueWayDim: 0 }); function y (t, e, n) { for (var i = 0; i < n; i++)t.push(e + i) } function v (t) { var e = t.dimsDef; return e ? e.length : 1 } return Object(r.each)(t, function (t, e) { var n = t.name; var r = v(t); if (o == null) { var a = g.valueWayDim; y(i[n], a, r), y(c, a, r), g.valueWayDim += r } else if (o === e)y(i[n], 0, r), y(u, 0, r); else { a = g.categoryWayDim; y(i[n], a, r), y(c, a, r), g.categoryWayDim += r } }), u.length && (i.itemName = u), c.length && (i.seriesName = c), i } function h (t, e, n) { var i = {}; var s = d(t); if (!s) return i; var l; var u = e.sourceFormat; var c = e.dimensionsDefine; u !== a.e && u !== a.d || Object(r.each)(c, function (t, e) { (Object(r.isObject)(t) ? t.name : t) === 'name' && (l = e) }); var h = (function () { for (var t = {}, i = {}, r = [], a = 0, s = Math.min(5, n); a < s; a++) { var h = g(e.data, u, e.seriesLayoutBy, c, e.startIndex, a); r.push(h); var d = h === o.Not; if (d && t.v == null && a !== l && (t.v = a), (t.n == null || t.n === t.v || !d && r[t.n] === o.Not) && (t.n = a), p(t) && r[t.n] !== o.Not) return t; d || (h === o.Might && i.v == null && a !== l && (i.v = a), i.n != null && i.n !== i.v || (i.n = a)) } function p (t) { return t.v != null && t.n != null } return p(t) ? t : p(i) ? i : null }()); if (h) { i.value = [h.v]; var p = l != null ? l : h.n; i.itemName = [p], i.seriesName = [p] } return i } function d (t) { var e = t.get('data', !0); if (!e) return Object(i.u)(t.ecModel, 'dataset', { index: t.get('datasetIndex', !0), id: t.get('datasetId', !0) }, i.b).models[0] } function p (t) { return t.get('transform', !0) || t.get('fromTransformResult', !0) ? Object(i.u)(t.ecModel, 'dataset', { index: t.get('fromDatasetIndex', !0), id: t.get('fromDatasetId', !0) }, i.b).models : [] } function f (t, e) { return g(t.data, t.sourceFormat, t.seriesLayoutBy, t.dimensionsDefine, t.startIndex, e) } function g (t, e, n, s, l, u) { var c; var h; var d; var p = 5; if (Object(r.isTypedArray)(t)) return o.Not; if (s) { var f = s[u]; Object(r.isObject)(f) ? (h = f.name, d = f.type) : Object(r.isString)(f) && (h = f) } if (d != null) return d === 'ordinal' ? o.Must : o.Not; if (e === a.c) { var g = t; if (n === a.b) { for (var y = g[u], v = 0; v < (y || []).length && v < p; v++) if ((c = S(y[l + v])) != null) return c } else for (v = 0; v < g.length && v < p; v++) { var m = g[l + v]; if (m && (c = S(m[u])) != null) return c } } else if (e === a.e) { var b = t; if (!h) return o.Not; for (v = 0; v < b.length && v < p; v++) { var x = b[v]; if (x && (c = S(x[h])) != null) return c } } else if (e === a.d) { var _ = t; if (!h) return o.Not; y = _[h]; if (!y || Object(r.isTypedArray)(y)) return o.Not; for (v = 0; v < y.length && v < p; v++) if ((c = S(y[v])) != null) return c } else if (e === a.f) { var w = t; for (v = 0; v < w.length && v < p; v++) { x = w[v]; var O = Object(i.h)(x); if (!Object(r.isArray)(O)) return o.Not; if ((c = S(O[u])) != null) return c } } function S (t) { var e = Object(r.isString)(t); return t != null && isFinite(t) && t !== '' ? e ? o.Might : o.Not : e && t !== '-' ? o.Must : void 0 } return o.Not } },
  aff2: function (t, e, n) { 'use strict'; var i = n('65a1'); var r = n('cc6e'); var a = (n('dcca'), /^(min|max)?(.+)$/); var o = (function () { function t (t) { this._timelineOptions = [], this._mediaList = [], this._currentMediaIndices = [], this._api = t } return t.prototype.setOption = function (t, e, n) { t && (Object(r.each)(Object(i.r)(t.series), function (t) { t && t.data && Object(r.isTypedArray)(t.data) && Object(r.setAsPrimitive)(t.data) }), Object(r.each)(Object(i.r)(t.dataset), function (t) { t && t.source && Object(r.isTypedArray)(t.source) && Object(r.setAsPrimitive)(t.source) })), t = Object(r.clone)(t); var a = this._optionBackup; var o = s(t, e, !a); this._newBaseOption = o.baseOption, a ? (o.timelineOptions.length && (a.timelineOptions = o.timelineOptions), o.mediaList.length && (a.mediaList = o.mediaList), o.mediaDefault && (a.mediaDefault = o.mediaDefault)) : this._optionBackup = o }, t.prototype.mountOption = function (t) { var e = this._optionBackup; return this._timelineOptions = e.timelineOptions, this._mediaList = e.mediaList, this._mediaDefault = e.mediaDefault, this._currentMediaIndices = [], Object(r.clone)(t ? e.baseOption : this._newBaseOption) }, t.prototype.getTimelineOption = function (t) { var e; var n = this._timelineOptions; if (n.length) { var i = t.getComponent('timeline'); i && (e = Object(r.clone)(n[i.getCurrentIndex()])) } return e }, t.prototype.getMediaOption = function (t) { var e = this._api.getWidth(); var n = this._api.getHeight(); var i = this._mediaList; var a = this._mediaDefault; var o = []; var s = []; if (!i.length && !a) return s; for (var u = 0, h = i.length; u < h; u++)l(i[u].query, e, n) && o.push(u); return !o.length && a && (o = [-1]), o.length && !c(o, this._currentMediaIndices) && (s = Object(r.map)(o, function (t) { return Object(r.clone)(t === -1 ? a.option : i[t].option) })), this._currentMediaIndices = o, s }, t }()); function s (t, e, n) { var i; var a; var o = []; var s = t.baseOption; var l = t.timeline; var u = t.options; var c = t.media; var h = !!t.media; var d = !!(u || l || s && s.timeline); function p (t) { Object(r.each)(e, function (e) { e(t, n) }) } return s ? (a = s, a.timeline || (a.timeline = l)) : ((d || h) && (t.options = t.media = null), a = t), h && Object(r.isArray)(c) && Object(r.each)(c, function (t) { t && t.option && (t.query ? o.push(t) : i || (i = t)) }), p(a), Object(r.each)(u, function (t) { return p(t) }), Object(r.each)(o, function (t) { return p(t.option) }), { baseOption: a, timelineOptions: u || [], mediaDefault: i, mediaList: o } } function l (t, e, n) { var i = { width: e, height: n, aspectratio: e / n }; var o = !0; return Object(r.each)(t, function (t, e) { var n = e.match(a); if (n && n[1] && n[2]) { var r = n[1]; var s = n[2].toLowerCase(); u(i[s], t, r) || (o = !1) } }), o } function u (t, e, n) { return n === 'min' ? t >= e : n === 'max' ? t <= e : t === e } function c (t, e) { return t.join(',') === e.join(',') }e.a = o },
  b0c0: function (t, e, n) { var i = n('83ab'); var r = n('9bf2').f; var a = Function.prototype; var o = a.toString; var s = /^\s*function ([^ (]*)/; var l = 'name'; i && !(l in a) && r(a, l, { configurable: !0, get: function () { try { return o.call(this).match(s)[1] } catch (t) { return '' } } }) },
  b56e: function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return r }); var i = n('6af1'); function r (t, e, n, r, a, o, s, l, u) { if (s === 0) return !1; var c = s; if (u > e + c && u > r + c && u > o + c || u < e - c && u < r - c && u < o - c || l > t + c && l > n + c && l > a + c || l < t - c && l < n - c && l < a - c) return !1; var h = Object(i.l)(t, e, n, r, a, o, l, u, null); return h <= c / 2 } },
  b59e: function (t, e, n) { 'use strict'; n.d(e, 'b', function () { return a }), n.d(e, 'a', function () { return o }); var i = n('cc6e'); var r = (n('65a1'), Object(i.createHashMap)()); function a (t, e) { Object(i.assert)(r.get(t) == null && e), r.set(t, e) } function o (t, e, n) { var i = r.get(e); if (!i) return n; var a = i(t); return a ? n.concat(a) : n } },
  b7b6: function (t, e, n) { 'use strict'; n.d(e, 'c', function () { return o }), n.d(e, 'a', function () { return s }), n.d(e, 'b', function () { return l }), n.d(e, 'd', function () { return u }); var i = n('cc6e'); var r = n('d31e'); var a = (n('dcca'), Math.round(10 * Math.random())); function o (t) { return [t || '', a++].join('_') } function s (t) { var e = {}; t.registerSubTypeDefaulter = function (t, n) { var i = Object(r.f)(t); e[i.main] = n }, t.determineSubType = function (n, i) { var a = i.type; if (!a) { var o = Object(r.f)(n).main; t.hasSubTypes(n) && e[o] && (a = e[o](i)) } return a } } function l (t, e) { function n (t) { var n = {}; var o = []; return i.each(t, function (s) { var l = r(n, s); var u = l.originalDeps = e(s); var c = a(u, t); l.entryCount = c.length, l.entryCount === 0 && o.push(s), i.each(c, function (t) { i.indexOf(l.predecessor, t) < 0 && l.predecessor.push(t); var e = r(n, t); i.indexOf(e.successor, t) < 0 && e.successor.push(s) }) }), { graph: n, noEntryList: o } } function r (t, e) { return t[e] || (t[e] = { predecessor: [], successor: [] }), t[e] } function a (t, e) { var n = []; return i.each(t, function (t) { i.indexOf(e, t) >= 0 && n.push(t) }), n }t.topologicalTravel = function (t, e, r, a) { if (t.length) { var o = n(e); var s = o.graph; var l = o.noEntryList; var u = {}; i.each(t, function (t) { u[t] = !0 }); while (l.length) { var c = l.pop(); var h = s[c]; var d = !!u[c]; d && (r.call(a, c, h.originalDeps.slice()), delete u[c]), i.each(h.successor, d ? f : p) }i.each(u, function () { var t = ''; throw new Error(t) }) } function p (t) { s[t].entryCount--, s[t].entryCount === 0 && l.push(t) } function f (t) { u[t] = !0, p(t) } } } function u (t, e) { return i.merge(i.merge({}, t, !0), e, !0) } },
  bb19: function (t, e, n) { 'use strict'; var i = n('7fae'); var r = n('cc6e'); var a = n('f199'); var o = n('b7b6'); var s = n('d31e'); var l = n('65a1'); var u = n('d2bc'); var c = Object(l.o)(); var h = (function (t) { function e (e, n, i) { var r = t.call(this, e, n, i) || this; return r.uid = o.c('ec_cpt_model'), r } return Object(i.b)(e, t), e.prototype.init = function (t, e, n) { this.mergeDefaultAndTheme(t, n) }, e.prototype.mergeDefaultAndTheme = function (t, e) { var n = u.d(this); var i = n ? u.f(t) : {}; var a = e.getTheme(); r.merge(t, a.get(this.mainType)), r.merge(t, this.getDefaultOption()), n && u.h(t, i, n) }, e.prototype.mergeOption = function (t, e) { r.merge(this.option, t, !0); var n = u.d(this); n && u.h(this.option, t, n) }, e.prototype.optionUpdated = function (t, e) {}, e.prototype.getDefaultOption = function () { var t = this.constructor; if (!Object(s.d)(t)) return t.defaultOption; var e = c(this); if (!e.defaultOption) { var n = []; var i = t; while (i) { var a = i.prototype.defaultOption; a && n.push(a), i = i.superClass } for (var o = {}, l = n.length - 1; l >= 0; l--)o = r.merge(o, n[l], !0); e.defaultOption = o } return e.defaultOption }, e.prototype.getReferringComponents = function (t, e) { var n = t + 'Index'; var i = t + 'Id'; return Object(l.u)(this.ecModel, t, { index: this.get(n, !0), id: this.get(i, !0) }, e) }, e.prototype.getBoxLayoutParams = function () { var t = this; return { left: t.get('left'), top: t.get('top'), right: t.get('right'), bottom: t.get('bottom'), width: t.get('width'), height: t.get('height') } }, e.protoInitialize = (function () { var t = e.prototype; t.type = 'component', t.id = '', t.name = '', t.mainType = '', t.subType = '', t.componentIndex = 0 }()), e }(a.a)); function d (t) { var e = []; return r.each(h.getClassesByMainType(t), function (t) { e = e.concat(t.dependencies || t.prototype.dependencies || []) }), e = r.map(e, function (t) { return Object(s.f)(t).main }), t !== 'dataset' && r.indexOf(e, 'dataset') <= 0 && e.unshift('dataset'), e }Object(s.e)(h, a.a), Object(s.c)(h, { registerWhenExtend: !0 }), o.a(h), o.b(h, d), e.a = h },
  c0e9: function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return a }); var i = n('cc6e'); var r = n('d31e'); var a = (function () { function t () {} return t.prototype.normalizeQuery = function (t) { var e = {}; var n = {}; var a = {}; if (i.isString(t)) { var o = Object(r.f)(t); e.mainType = o.main || null, e.subType = o.sub || null } else { var s = ['Index', 'Name', 'Id']; var l = { name: 1, dataIndex: 1, dataType: 1 }; i.each(t, function (t, i) { for (var r = !1, o = 0; o < s.length; o++) { var u = s[o]; var c = i.lastIndexOf(u); if (c > 0 && c === i.length - u.length) { var h = i.slice(0, c); h !== 'data' && (e.mainType = h, e[u.toLowerCase()] = t, r = !0) } }l.hasOwnProperty(i) && (n[i] = t, r = !0), r || (a[i] = t) }) } return { cptQuery: e, dataQuery: n, otherQuery: a } }, t.prototype.filter = function (t, e) { var n = this.eventInfo; if (!n) return !0; var i = n.targetEl; var r = n.packedEvent; var a = n.model; var o = n.view; if (!a || !o) return !0; var s = e.cptQuery; var l = e.dataQuery; return u(s, a, 'mainType') && u(s, a, 'subType') && u(s, a, 'index', 'componentIndex') && u(s, a, 'name') && u(s, a, 'id') && u(l, r, 'name') && u(l, r, 'dataIndex') && u(l, r, 'dataType') && (!o.filterForExposedEvent || o.filterForExposedEvent(t, e.otherQuery, i, r)); function u (t, e, n, i) { return t[n] == null || e[i || n] === t[n] } }, t.prototype.afterTrigger = function () { this.eventInfo = null }, t }()) },
  c585: function (t, e, n) { 'use strict'; n.d(e, 'c', function () { return c }), n.d(e, 'a', function () { return _ }); var i = { linear: function (t) { return t }, quadraticIn: function (t) { return t * t }, quadraticOut: function (t) { return t * (2 - t) }, quadraticInOut: function (t) { return (t *= 2) < 1 ? 0.5 * t * t : -0.5 * (--t * (t - 2) - 1) }, cubicIn: function (t) { return t * t * t }, cubicOut: function (t) { return --t * t * t + 1 }, cubicInOut: function (t) { return (t *= 2) < 1 ? 0.5 * t * t * t : 0.5 * ((t -= 2) * t * t + 2) }, quarticIn: function (t) { return t * t * t * t }, quarticOut: function (t) { return 1 - --t * t * t * t }, quarticInOut: function (t) { return (t *= 2) < 1 ? 0.5 * t * t * t * t : -0.5 * ((t -= 2) * t * t * t - 2) }, quinticIn: function (t) { return t * t * t * t * t }, quinticOut: function (t) { return --t * t * t * t * t + 1 }, quinticInOut: function (t) { return (t *= 2) < 1 ? 0.5 * t * t * t * t * t : 0.5 * ((t -= 2) * t * t * t * t + 2) }, sinusoidalIn: function (t) { return 1 - Math.cos(t * Math.PI / 2) }, sinusoidalOut: function (t) { return Math.sin(t * Math.PI / 2) }, sinusoidalInOut: function (t) { return 0.5 * (1 - Math.cos(Math.PI * t)) }, exponentialIn: function (t) { return t === 0 ? 0 : Math.pow(1024, t - 1) }, exponentialOut: function (t) { return t === 1 ? 1 : 1 - Math.pow(2, -10 * t) }, exponentialInOut: function (t) { return t === 0 ? 0 : t === 1 ? 1 : (t *= 2) < 1 ? 0.5 * Math.pow(1024, t - 1) : 0.5 * (2 - Math.pow(2, -10 * (t - 1))) }, circularIn: function (t) { return 1 - Math.sqrt(1 - t * t) }, circularOut: function (t) { return Math.sqrt(1 - --t * t) }, circularInOut: function (t) { return (t *= 2) < 1 ? -0.5 * (Math.sqrt(1 - t * t) - 1) : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1) }, elasticIn: function (t) { var e; var n = 0.1; var i = 0.4; return t === 0 ? 0 : t === 1 ? 1 : (!n || n < 1 ? (n = 1, e = i / 4) : e = i * Math.asin(1 / n) / (2 * Math.PI), -n * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / i)) }, elasticOut: function (t) { var e; var n = 0.1; var i = 0.4; return t === 0 ? 0 : t === 1 ? 1 : (!n || n < 1 ? (n = 1, e = i / 4) : e = i * Math.asin(1 / n) / (2 * Math.PI), n * Math.pow(2, -10 * t) * Math.sin((t - e) * (2 * Math.PI) / i) + 1) }, elasticInOut: function (t) { var e; var n = 0.1; var i = 0.4; return t === 0 ? 0 : t === 1 ? 1 : (!n || n < 1 ? (n = 1, e = i / 4) : e = i * Math.asin(1 / n) / (2 * Math.PI), (t *= 2) < 1 ? n * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / i) * -0.5 : n * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / i) * 0.5 + 1) }, backIn: function (t) { var e = 1.70158; return t * t * ((e + 1) * t - e) }, backOut: function (t) { var e = 1.70158; return --t * t * ((e + 1) * t + e) + 1 }, backInOut: function (t) { var e = 2.5949095; return (t *= 2) < 1 ? t * t * ((e + 1) * t - e) * 0.5 : 0.5 * ((t -= 2) * t * ((e + 1) * t + e) + 2) }, bounceIn: function (t) { return 1 - i.bounceOut(1 - t) }, bounceOut: function (t) { return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + 0.75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + 0.9375 : 7.5625 * (t -= 2.625 / 2.75) * t + 0.984375 }, bounceInOut: function (t) { return t < 0.5 ? 0.5 * i.bounceIn(2 * t) : 0.5 * i.bounceOut(2 * t - 1) + 0.5 } }; var r = i; var a = (function () { function t (t) { this._initialized = !1, this._startTime = 0, this._pausedTime = 0, this._paused = !1, this._life = t.life || 1e3, this._delay = t.delay || 0, this.loop = t.loop != null && t.loop, this.gap = t.gap || 0, this.easing = t.easing || 'linear', this.onframe = t.onframe, this.ondestroy = t.ondestroy, this.onrestart = t.onrestart } return t.prototype.step = function (t, e) { if (this._initialized || (this._startTime = t + this._delay, this._initialized = !0), !this._paused) { var n = (t - this._startTime - this._pausedTime) / this._life; n < 0 && (n = 0), n = Math.min(n, 1); var i = this.easing; var a = typeof i === 'string' ? r[i] : i; var o = typeof a === 'function' ? a(n) : n; if (this.onframe && this.onframe(o), n === 1) { if (!this.loop) return !0; this._restart(t), this.onrestart && this.onrestart() } return !1 } this._pausedTime += e }, t.prototype._restart = function (t) { var e = (t - this._startTime - this._pausedTime) % this._life; this._startTime = t - e + this.gap, this._pausedTime = 0 }, t.prototype.pause = function () { this._paused = !0 }, t.prototype.resume = function () { this._paused = !1 }, t }()); var o = a; var s = n('8d25'); var l = n('cc6e'); var u = Array.prototype.slice; function c (t, e, n) { return (e - t) * n + t } function h (t, e, n) { return n > 0.5 ? e : t } function d (t, e, n, i) { for (var r = e.length, a = 0; a < r; a++)t[a] = c(e[a], n[a], i) } function p (t, e, n, i) { for (var r = e.length, a = r && e[0].length, o = 0; o < r; o++) { t[o] || (t[o] = []); for (var s = 0; s < a; s++)t[o][s] = c(e[o][s], n[o][s], i) } } function f (t, e, n, i) { for (var r = e.length, a = 0; a < r; a++)t[a] = e[a] + n[a] * i; return t } function g (t, e, n, i) { for (var r = e.length, a = r && e[0].length, o = 0; o < r; o++) { t[o] || (t[o] = []); for (var s = 0; s < a; s++)t[o][s] = e[o][s] + n[o][s] * i } return t } function y (t, e, n) { var i = t; var r = e; if (i.push && r.push) { var a = i.length; var o = r.length; if (a !== o) { var s = a > o; if (s)i.length = o; else for (var l = a; l < o; l++)i.push(n === 1 ? r[l] : u.call(r[l])) } var c = i[0] && i[0].length; for (l = 0; l < i.length; l++) if (n === 1)isNaN(i[l]) && (i[l] = r[l]); else for (var h = 0; h < c; h++)isNaN(i[l][h]) && (i[l][h] = r[l][h]) } } function v (t, e) { var n = t.length; if (n !== e.length) return !1; for (var i = 0; i < n; i++) if (t[i] !== e[i]) return !1; return !0 } function m (t, e, n, i, r, a, o) { var s = 0.5 * (n - t); var l = 0.5 * (i - e); return (2 * (e - n) + s + l) * o + (-3 * (e - n) - 2 * s - l) * a + s * r + e } function b (t, e, n, i, r, a, o, s) { for (var l = e.length, u = 0; u < l; u++)t[u] = m(e[u], n[u], i[u], r[u], a, o, s) } function x (t, e, n, i, r, a, o, s) { for (var l = e.length, u = e[0].length, c = 0; c < l; c++) { t[c] || (t[1] = []); for (var h = 0; h < u; h++)t[c][h] = m(e[c][h], n[c][h], i[c][h], r[c][h], a, o, s) } } function _ (t) { if (Object(l.isArrayLike)(t)) { var e = t.length; if (Object(l.isArrayLike)(t[0])) { for (var n = [], i = 0; i < e; i++)n.push(u.call(t[i])); return n } return u.call(t) } return t } function w (t) { return t[0] = Math.floor(t[0]), t[1] = Math.floor(t[1]), t[2] = Math.floor(t[2]), 'rgba(' + t.join(',') + ')' } function O (t) { return Object(l.isArrayLike)(t && t[0]) ? 2 : 1 } var S = [0, 0, 0, 0]; var M = (function () { function t (t) { this.keyframes = [], this.maxTime = 0, this.arrDim = 0, this.interpolable = !0, this._needsSort = !1, this._isAllValueEqual = !0, this._lastFrame = 0, this._lastFramePercent = 0, this.propName = t } return t.prototype.isFinished = function () { return this._finished }, t.prototype.setFinished = function () { this._finished = !0, this._additiveTrack && this._additiveTrack.setFinished() }, t.prototype.needsAnimate = function () { return !this._isAllValueEqual && this.keyframes.length >= 2 && this.interpolable }, t.prototype.getAdditiveTrack = function () { return this._additiveTrack }, t.prototype.addKeyframe = function (t, e) { t >= this.maxTime ? this.maxTime = t : this._needsSort = !0; var n = this.keyframes; var i = n.length; if (this.interpolable) if (Object(l.isArrayLike)(e)) { var r = O(e); if (i > 0 && this.arrDim !== r) return void (this.interpolable = !1); if (r === 1 && typeof e[0] !== 'number' || r === 2 && typeof e[0][0] !== 'number') return void (this.interpolable = !1); if (i > 0) { var a = n[i - 1]; this._isAllValueEqual && (r === 1 && v(e, a.value) || (this._isAllValueEqual = !1)) } this.arrDim = r } else { if (this.arrDim > 0) return void (this.interpolable = !1); if (typeof e === 'string') { var o = s.f(e); o ? (e = o, this.isValueColor = !0) : this.interpolable = !1 } else if (typeof e !== 'number') return void (this.interpolable = !1); if (this._isAllValueEqual && i > 0) { a = n[i - 1]; (this.isValueColor && !v(a.value, e) || a.value !== e) && (this._isAllValueEqual = !1) } } var u = { time: t, value: e, percent: 0 }; return this.keyframes.push(u), u }, t.prototype.prepare = function (t) { var e = this.keyframes; this._needsSort && e.sort(function (t, e) { return t.time - e.time }); for (var n = this.arrDim, i = e.length, r = e[i - 1], a = 0; a < i; a++)e[a].percent = e[a].time / this.maxTime, n > 0 && a !== i - 1 && y(e[a].value, r.value, n); if (t && this.needsAnimate() && t.needsAnimate() && n === t.arrDim && this.isValueColor === t.isValueColor && !t._finished) { this._additiveTrack = t; var o = e[0].value; for (a = 0; a < i; a++)n === 0 ? this.isValueColor ? e[a].additiveValue = f([], e[a].value, o, -1) : e[a].additiveValue = e[a].value - o : n === 1 ? e[a].additiveValue = f([], e[a].value, o, -1) : n === 2 && (e[a].additiveValue = g([], e[a].value, o, -1)) } }, t.prototype.step = function (t, e) { if (!this._finished) { this._additiveTrack && this._additiveTrack._finished && (this._additiveTrack = null); var n; var i = this._additiveTrack != null; var r = i ? 'additiveValue' : 'value'; var a = this.keyframes; var o = this.keyframes.length; var s = this.propName; var l = this.arrDim; var u = this.isValueColor; if (e < 0)n = 0; else if (e < this._lastFramePercent) { var f = Math.min(this._lastFrame + 1, o - 1); for (n = f; n >= 0; n--) if (a[n].percent <= e) break; n = Math.min(n, o - 2) } else { for (n = this._lastFrame; n < o; n++) if (a[n].percent > e) break; n = Math.min(n - 1, o - 2) } var g = a[n + 1]; var y = a[n]; if (y && g) { this._lastFrame = n, this._lastFramePercent = e; var v = g.percent - y.percent; if (v !== 0) { var _ = (e - y.percent) / v; var O = i ? this._additiveValue : u ? S : t[s]; if ((l > 0 || u) && !O && (O = this._additiveValue = []), this.useSpline) { var M = a[n][r]; var I = a[n === 0 ? n : n - 1][r]; var T = a[n > o - 2 ? o - 1 : n + 1][r]; var j = a[n > o - 3 ? o - 1 : n + 2][r]; if (l > 0)l === 1 ? b(O, I, M, T, j, _, _ * _, _ * _ * _) : x(O, I, M, T, j, _, _ * _, _ * _ * _); else if (u)b(O, I, M, T, j, _, _ * _, _ * _ * _), i || (t[s] = w(O)); else { var A = void 0; A = this.interpolable ? m(I, M, T, j, _, _ * _, _ * _ * _) : T, i ? this._additiveValue = A : t[s] = A } } else if (l > 0)l === 1 ? d(O, y[r], g[r], _) : p(O, y[r], g[r], _); else if (u)d(O, y[r], g[r], _), i || (t[s] = w(O)); else { A = void 0; A = this.interpolable ? c(y[r], g[r], _) : h(y[r], g[r], _), i ? this._additiveValue = A : t[s] = A }i && this._addToTarget(t) } } } }, t.prototype._addToTarget = function (t) { var e = this.arrDim; var n = this.propName; var i = this._additiveValue; e === 0 ? this.isValueColor ? (s.f(t[n], S), f(S, S, i, 1), t[n] = w(S)) : t[n] = t[n] + i : e === 1 ? f(t[n], t[n], i, 1) : e === 2 && g(t[n], t[n], i, 1) }, t }()); var I = (function () { function t (t, e, n) { this._tracks = {}, this._trackKeys = [], this._delay = 0, this._maxTime = 0, this._paused = !1, this._started = 0, this._clip = null, this._target = t, this._loop = e, e && n ? Object(l.logError)("Can' use additive animation on looped animation.") : this._additiveAnimators = n } return t.prototype.getTarget = function () { return this._target }, t.prototype.changeTarget = function (t) { this._target = t }, t.prototype.when = function (t, e) { return this.whenWithKeys(t, e, Object(l.keys)(e)) }, t.prototype.whenWithKeys = function (t, e, n) { for (var i = this._tracks, r = 0; r < n.length; r++) { var a = n[r]; var o = i[a]; if (!o) { o = i[a] = new M(a); var s = void 0; var l = this._getAdditiveTrack(a); if (l) { var u = l.keyframes[l.keyframes.length - 1]; s = u && u.value, l.isValueColor && s && (s = w(s)) } else s = this._target[a]; if (s == null) continue; t !== 0 && o.addKeyframe(0, _(s)), this._trackKeys.push(a) }o.addKeyframe(t, _(e[a])) } return this._maxTime = Math.max(this._maxTime, t), this }, t.prototype.pause = function () { this._clip.pause(), this._paused = !0 }, t.prototype.resume = function () { this._clip.resume(), this._paused = !1 }, t.prototype.isPaused = function () { return !!this._paused }, t.prototype._doneCallback = function () { this._setTracksFinished(), this._clip = null; var t = this._doneList; if (t) for (var e = t.length, n = 0; n < e; n++)t[n].call(this) }, t.prototype._abortedCallback = function () { this._setTracksFinished(); var t = this.animation; var e = this._abortedList; if (t && t.removeClip(this._clip), this._clip = null, e) for (var n = 0; n < e.length; n++)e[n].call(this) }, t.prototype._setTracksFinished = function () { for (var t = this._tracks, e = this._trackKeys, n = 0; n < e.length; n++)t[e[n]].setFinished() }, t.prototype._getAdditiveTrack = function (t) { var e; var n = this._additiveAnimators; if (n) for (var i = 0; i < n.length; i++) { var r = n[i].getTrack(t); r && (e = r) } return e }, t.prototype.start = function (t, e) { if (!(this._started > 0)) { this._started = 1; for (var n = this, i = [], r = 0; r < this._trackKeys.length; r++) { var a = this._trackKeys[r]; var s = this._tracks[a]; var l = this._getAdditiveTrack(a); var u = s.keyframes; if (s.prepare(l), s.needsAnimate())i.push(s); else if (!s.interpolable) { var c = u[u.length - 1]; c && (n._target[s.propName] = c.value) } } if (i.length || e) { var h = new o({ life: this._maxTime, loop: this._loop, delay: this._delay, onframe: function (t) { n._started = 2; var e = n._additiveAnimators; if (e) { for (var r = !1, a = 0; a < e.length; a++) if (e[a]._clip) { r = !0; break }r || (n._additiveAnimators = null) } for (a = 0; a < i.length; a++)i[a].step(n._target, t); var o = n._onframeList; if (o) for (a = 0; a < o.length; a++)o[a](n._target, t) }, ondestroy: function () { n._doneCallback() } }); this._clip = h, this.animation && this.animation.addClip(h), t && t !== 'spline' && (h.easing = t) } else this._doneCallback(); return this } }, t.prototype.stop = function (t) { if (this._clip) { var e = this._clip; t && e.onframe(1), this._abortedCallback() } }, t.prototype.delay = function (t) { return this._delay = t, this }, t.prototype.during = function (t) { return t && (this._onframeList || (this._onframeList = []), this._onframeList.push(t)), this }, t.prototype.done = function (t) { return t && (this._doneList || (this._doneList = []), this._doneList.push(t)), this }, t.prototype.aborted = function (t) { return t && (this._abortedList || (this._abortedList = []), this._abortedList.push(t)), this }, t.prototype.getClip = function () { return this._clip }, t.prototype.getTrack = function (t) { return this._tracks[t] }, t.prototype.stopTracks = function (t, e) { if (!t.length || !this._clip) return !0; for (var n = this._tracks, i = this._trackKeys, r = 0; r < t.length; r++) { var a = n[t[r]]; a && (e ? a.step(this._target, 1) : this._started === 1 && a.step(this._target, 0), a.setFinished()) } var o = !0; for (r = 0; r < i.length; r++) if (!n[i[r]].isFinished()) { o = !1; break } return o && this._abortedCallback(), o }, t.prototype.saveFinalToTarget = function (t, e) { if (t) { e = e || this._trackKeys; for (var n = 0; n < e.length; n++) { var i = e[n]; var r = this._tracks[i]; if (r && !r.isFinished()) { var a = r.keyframes; var o = a[a.length - 1]; if (o) { var s = _(o.value); r.isValueColor && (s = w(s)), t[i] = s } } } } }, t.prototype.__changeFinalValue = function (t, e) { e = e || Object(l.keys)(t); for (var n = 0; n < e.length; n++) { var i = e[n]; var r = this._tracks[i]; if (r) { var a = r.keyframes; if (a.length > 1) { var o = a.pop(); r.addKeyframe(o.time, t[i]), r.prepare(r.getAdditiveTrack()) } } } }, t }()); e.b = I },
  c713: function (t, e, n) { 'use strict'; n.d(e, 'd', function () { return p }), n.d(e, 'e', function () { return f }), n.d(e, 'g', function () { return g }), n.d(e, 'a', function () { return y }), n.d(e, 'j', function () { return v }), n.d(e, 'c', function () { return b }), n.d(e, 'b', function () { return x }), n.d(e, 'f', function () { return _ }), n.d(e, 'i', function () { return w }), n.d(e, 'h', function () { return O }), n.d(e, 'C', function () { return N }), n.d(e, 'B', function () { return G }), n.d(e, 'o', function () { return H }), n.d(e, 'x', function () { return W }), n.d(e, 'n', function () { return X }), n.d(e, 'w', function () { return Y }), n.d(e, 'm', function () { return U }), n.d(e, 'v', function () { return Z }), n.d(e, 'p', function () { return q }), n.d(e, 'y', function () { return K }), n.d(e, 'F', function () { return J }), n.d(e, 'G', function () { return tt }), n.d(e, 'E', function () { return et }), n.d(e, 'H', function () { return nt }), n.d(e, 'q', function () { return it }), n.d(e, 'k', function () { return rt }), n.d(e, 'l', function () { return at }), n.d(e, 'D', function () { return lt }), n.d(e, 'A', function () { return ut }), n.d(e, 's', function () { return ct }), n.d(e, 'r', function () { return ht }), n.d(e, 'u', function () { return dt }), n.d(e, 't', function () { return pt }), n.d(e, 'z', function () { return ft }); var i = n('9952'); var r = n('cc6e'); var a = n('cec8'); var o = n('8d25'); var s = n('65a1'); var l = n('18d3'); var u = 1; var c = {}; var h = Object(s.o)(); var d = 0; var p = 1; var f = 2; var g = ['emphasis', 'blur', 'select']; var y = ['normal', 'emphasis', 'blur', 'select']; var v = 10; var m = 9; var b = 'highlight'; var x = 'downplay'; var _ = 'select'; var w = 'unselect'; var O = 'toggleSelect'; function S (t) { return t != null && t !== 'none' } var M = new i.a(100); function I (t) { if (typeof t !== 'string') return t; var e = M.get(t); return e || (e = o.b(t, -0.1), M.put(t, e)), e } function T (t, e, n) { t.onHoverStateChange && (t.hoverState || 0) !== n && t.onHoverStateChange(e), t.hoverState = n } function j (t) { T(t, 'emphasis', f) } function A (t) { t.hoverState === f && T(t, 'normal', d) } function C (t) { T(t, 'blur', p) } function D (t) { t.hoverState === p && T(t, 'normal', d) } function k (t) { t.selected = !0 } function L (t) { t.selected = !1 } function P (t, e, n) { e(t, n) } function R (t, e, n) { P(t, e, n), t.isGroup && t.traverse(function (t) { P(t, e, n) }) } function N (t, e) { switch (e) { case 'emphasis':t.hoverState = f; break; case 'normal':t.hoverState = d; break; case 'blur':t.hoverState = p; break; case 'select':t.selected = !0 } } function E (t, e, n, i) { for (var r = t.style, a = {}, o = 0; o < e.length; o++) { var s = e[o]; var l = r[s]; a[s] = l == null ? i && i[s] : l } for (o = 0; o < t.animators.length; o++) { var u = t.animators[o]; u.__fromStateTransition && u.__fromStateTransition.indexOf(n) < 0 && u.targetName === 'style' && u.saveFinalToTarget(a, e) } return a } function z (t, e, n, i) { var a = n && Object(r.indexOf)(n, 'select') >= 0; var o = !1; if (t instanceof l.b) { var s = h(t); var u = a && s.selectFill || s.normalFill; var c = a && s.selectStroke || s.normalStroke; if (S(u) || S(c)) { i = i || {}; var d = i.style || {}; !S(d.fill) && S(u) ? (o = !0, i = Object(r.extend)({}, i), d = Object(r.extend)({}, d), d.fill = I(u)) : !S(d.stroke) && S(c) && (o || (i = Object(r.extend)({}, i), d = Object(r.extend)({}, d)), d.stroke = I(c)), i.style = d } } if (i && i.z2 == null) { o || (i = Object(r.extend)({}, i)); var p = t.z2EmphasisLift; i.z2 = t.z2 + (p != null ? p : v) } return i } function B (t, e, n) { if (n && n.z2 == null) { n = Object(r.extend)({}, n); var i = t.z2SelectLift; n.z2 = t.z2 + (i != null ? i : m) } return n } function V (t, e, n) { var i = Object(r.indexOf)(t.currentStates, e) >= 0; var a = t.style.opacity; var o = i ? null : E(t, ['opacity'], e, { opacity: 1 }); n = n || {}; var s = n.style || {}; return s.opacity == null && (n = Object(r.extend)({}, n), s = Object(r.extend)({ opacity: i ? a : 0.1 * o.opacity }, s), n.style = s), n } function F (t, e) { var n = this.states[t]; if (this.style) { if (t === 'emphasis') return z(this, t, e, n); if (t === 'blur') return V(this, t, n); if (t === 'select') return B(this, t, n) } return n } function G (t) { t.stateProxy = F; var e = t.getTextContent(); var n = t.getTextGuideLine(); e && (e.stateProxy = F), n && (n.stateProxy = F) } function H (t, e) { !$(t, e) && !t.__highByOuter && R(t, j) } function W (t, e) { !$(t, e) && !t.__highByOuter && R(t, A) } function X (t, e) { t.__highByOuter |= 1 << (e || 0), R(t, j) } function Y (t, e) { !(t.__highByOuter &= ~(1 << (e || 0))) && R(t, A) } function U (t) { R(t, C) } function Z (t) { R(t, D) } function q (t) { R(t, k) } function K (t) { R(t, L) } function $ (t, e) { return t.__highDownSilentOnTouch && e.zrByTouch } function Q (t) { var e = t.getModel(); e.eachComponent(function (e, n) { var i = e === 'series' ? t.getViewOfSeriesModel(n) : t.getViewOfComponentModel(n); i.group.traverse(function (t) { D(t) }) }) } function J (t, e, n, i, a) { var o = i.getModel(); function s (t, e) { for (var n = 0; n < e.length; n++) { var i = t.getItemGraphicEl(e[n]); i && Z(i) } } if (n = n || 'coordinateSystem', a) { if (t != null && e && e !== 'none') { var l = o.getSeriesByIndex(t); var u = l.coordinateSystem; u && u.master && (u = u.master); var c = []; o.eachSeries(function (t) { var a = l === t; var o = t.coordinateSystem; o && o.master && (o = o.master); var h = o && u ? o === u : a; if (!(n === 'series' && !a || n === 'coordinateSystem' && !h || e === 'series' && a)) { var d = i.getViewOfSeriesModel(t); if (d.group.traverse(function (t) { C(t) }), Object(r.isArrayLike)(e))s(t.getData(), e); else if (Object(r.isObject)(e)) for (var p = Object(r.keys)(e), f = 0; f < p.length; f++)s(t.getData(p[f]), e[p[f]]); c.push(t) } }), o.eachComponent(function (t, e) { if (t !== 'series') { var n = i.getViewOfComponentModel(e); n && n.blurSeries && n.blurSeries(c, o) } }) } } else Q(i) } function tt (t, e, n) { if (pt(e)) { var i = e.type === b; var o = t.seriesIndex; var l = t.getData(e.dataType); var u = Object(s.t)(l, e); u = (Object(r.isArray)(u) ? u[0] : u) || 0; var c = l.getItemGraphicEl(u); if (!c) { var h = l.count(); var d = 0; while (!c && d < h)c = l.getItemGraphicEl(d++) } if (c) { var p = Object(a.a)(c); J(o, p.focus, p.blurScope, n, i) } else { var f = t.get(['emphasis', 'focus']); var g = t.get(['emphasis', 'blurScope']); f != null && J(o, f, g, n, i) } } } function et (t, e, n) { if (dt(e)) { var i = e.dataType; var a = t.getData(i); var o = Object(s.t)(a, e); Object(r.isArray)(o) || (o = [o]), t[e.type === O ? 'toggleSelect' : e.type === _ ? 'select' : 'unselect'](o, i) } } function nt (t) { var e = t.getAllData(); Object(r.each)(e, function (e) { var n = e.data; var i = e.type; n.eachItemGraphicEl(function (e, n) { t.isSelected(n, i) ? q(e) : K(e) }) }) } function it (t) { var e = []; return t.eachSeries(function (t) { var n = t.getAllData(); Object(r.each)(n, function (n) { n.data; var i = n.type; var r = t.getSelectedDataIndices(); if (r.length > 0) { var a = { dataIndex: r, seriesIndex: t.seriesIndex }; i != null && (a.dataType = i), e.push(a) } }) }), e } function rt (t, e, n) { ut(t, !0), R(t, G), at(t, e, n) } function at (t, e, n) { var i = Object(a.a)(t); e != null ? (i.focus = e, i.blurScope = n) : i.focus && (i.focus = null) } var ot = ['emphasis', 'blur', 'select']; var st = { itemStyle: 'getItemStyle', lineStyle: 'getLineStyle', areaStyle: 'getAreaStyle' }; function lt (t, e, n, i) { n = n || 'itemStyle'; for (var r = 0; r < ot.length; r++) { var a = ot[r]; var o = e.getModel([a, n]); var s = t.ensureState(a); s.style = i ? i(o) : o[st[n]]() } } function ut (t, e) { var n = !1 === e; var i = t; t.highDownSilentOnTouch && (i.__highDownSilentOnTouch = t.highDownSilentOnTouch), n && !i.__highDownDispatcher || (i.__highByOuter = i.__highByOuter || 0, i.__highDownDispatcher = !n) } function ct (t) { return !(!t || !t.__highDownDispatcher) } function ht (t) { var e = c[t]; return e == null && u <= 32 && (e = c[t] = u++), e } function dt (t) { var e = t.type; return e === _ || e === w || e === O } function pt (t) { var e = t.type; return e === b || e === x } function ft (t) { var e = h(t); e.normalFill = t.style.fill, e.normalStroke = t.style.stroke; var n = t.states.select || {}; e.selectFill = n.style && n.style.fill || null, e.selectStroke = n.style && n.style.stroke || null } },
  c917: function (t, e, n) { 'use strict'; var i = n('009c'); var r = n('eb53'); var a = n('4d45'); var o = n('cc6e'); var s = n('21a1'); var l = n('5395'); var u = n('8a3b'); var c = n('335a'); var h = n('10e1'); function d () { return !1 } function p (t, e, n) { var i = o.createCanvas(); var r = e.getWidth(); var a = e.getHeight(); var s = i.style; return s && (s.position = 'absolute', s.left = '0', s.top = '0', s.width = r + 'px', s.height = a + 'px', i.setAttribute('data-zr-dom-id', t)), i.width = r * n, i.height = a * n, i } var f = (function (t) { function e (e, n, i) { var r; var s = t.call(this) || this; s.motionBlur = !1, s.lastFrameAlpha = 0.7, s.dpr = 1, s.virtual = !1, s.config = {}, s.incremental = !1, s.zlevel = 0, s.maxRepaintRectCount = 5, s.__dirty = !0, s.__firstTimePaint = !0, s.__used = !1, s.__drawIndex = 0, s.__startIndex = 0, s.__endIndex = 0, s.__prevStartIndex = null, s.__prevEndIndex = null, i = i || a.e, typeof e === 'string' ? r = p(e, n, i) : o.isObject(e) && (r = e, e = r.id), s.id = e, s.dom = r; var l = r.style; return l && (r.onselectstart = d, l.webkitUserSelect = 'none', l.userSelect = 'none', l.webkitTapHighlightColor = 'rgba(0,0,0,0)', l['-webkit-touch-callout'] = 'none', l.padding = '0', l.margin = '0', l.borderWidth = '0'), s.domBack = null, s.ctxBack = null, s.painter = n, s.config = null, s.dpr = i, s } return Object(s.a)(e, t), e.prototype.getElementCount = function () { return this.__endIndex - this.__startIndex }, e.prototype.afterBrush = function () { this.__prevStartIndex = this.__startIndex, this.__prevEndIndex = this.__endIndex }, e.prototype.initContext = function () { this.ctx = this.dom.getContext('2d'), this.ctx.dpr = this.dpr }, e.prototype.setUnpainted = function () { this.__firstTimePaint = !0 }, e.prototype.createBackBuffer = function () { var t = this.dpr; this.domBack = p('back-' + this.id, this.painter, t), this.ctxBack = this.domBack.getContext('2d'), t !== 1 && this.ctxBack.scale(t, t) }, e.prototype.createRepaintRects = function (t, e, n, i) { if (this.__firstTimePaint) return this.__firstTimePaint = !1, null; var r; var a = []; var o = this.maxRepaintRectCount; var s = !1; var l = new h.a(0, 0, 0, 0); function c (t) { if (t.isFinite() && !t.isZero()) if (a.length === 0) { var e = new h.a(0, 0, 0, 0); e.copy(t), a.push(e) } else { for (var n = !1, i = 1 / 0, r = 0, u = 0; u < a.length; ++u) { var c = a[u]; if (c.intersect(t)) { var d = new h.a(0, 0, 0, 0); d.copy(c), d.union(t), a[u] = d, n = !0; break } if (s) { l.copy(t), l.union(c); var p = t.width * t.height; var f = c.width * c.height; var g = l.width * l.height; var y = g - p - f; y < i && (i = i, r = u) } } if (s && (a[r].union(t), n = !0), !n) { e = new h.a(0, 0, 0, 0); e.copy(t), a.push(e) }s || (s = a.length >= o) } } for (var d = this.__startIndex; d < this.__endIndex; ++d) { var p = t[d]; if (p) { var f = p.shouldBePainted(n, i, !0, !0); var g = p.__isRendered && (p.__dirty & u.a.REDARAW_BIT || !f) ? p.getPrevPaintRect() : null; g && c(g); var y = f && (p.__dirty & u.a.REDARAW_BIT || !p.__isRendered) ? p.getPaintRect() : null; y && c(y) } } for (d = this.__prevStartIndex; d < this.__prevEndIndex; ++d) { p = e[d], f = p.shouldBePainted(n, i, !0, !0); if (p && (!f || !p.__zr) && p.__isRendered) { g = p.getPrevPaintRect(); g && c(g) } } do { r = !1; for (d = 0; d < a.length;) if (a[d].isZero())a.splice(d, 1); else { for (var v = d + 1; v < a.length;)a[d].intersect(a[v]) ? (r = !0, a[d].union(a[v]), a.splice(v, 1)) : v++; d++ } } while (r);return this._paintRects = a, a }, e.prototype.debugGetPaintRects = function () { return (this._paintRects || []).slice() }, e.prototype.resize = function (t, e) { var n = this.dpr; var i = this.dom; var r = i.style; var a = this.domBack; r && (r.width = t + 'px', r.height = e + 'px'), i.width = t * n, i.height = e * n, a && (a.width = t * n, a.height = e * n, n !== 1 && this.ctxBack.scale(n, n)) }, e.prototype.clear = function (t, e, n) { var r = this.dom; var a = this.ctx; var s = r.width; var l = r.height; e = e || this.clearColor; var u = this.motionBlur && !t; var h = this.lastFrameAlpha; var d = this.dpr; var p = this; u && (this.domBack || this.createBackBuffer(), this.ctxBack.globalCompositeOperation = 'copy', this.ctxBack.drawImage(r, 0, 0, s / d, l / d)); var f = this.domBack; function g (t, n, r, s) { if (a.clearRect(t, n, r, s), e && e !== 'transparent') { var l = void 0; o.isGradientObject(e) ? (l = e.__canvasGradient || Object(c.a)(a, e, { x: 0, y: 0, width: r, height: s }), e.__canvasGradient = l) : o.isPatternObject(e) && (l = Object(i.c)(a, e, { dirty: function () { p.setUnpainted(), p.__painter.refresh() } })), a.save(), a.fillStyle = l || e, a.fillRect(t, n, r, s), a.restore() }u && (a.save(), a.globalAlpha = h, a.drawImage(f, t, n, r, s), a.restore()) }!n || u ? g(0, 0, s, l) : n.length && o.each(n, function (t) { g(t.x * d, t.y * d, t.width * d, t.height * d) }) }, e }(l.a)); var g = f; var y = n('aa80'); var v = n('2d84'); var m = n('0d4d'); var b = 1e5; var x = 314159; var _ = 0.01; var w = 0.001; function O (t) { return parseInt(t, 10) } function S (t) { return !!t && (!!t.__builtin__ || typeof t.resize === 'function' && typeof t.refresh === 'function') } function M (t, e) { var n = document.createElement('div'); return n.style.cssText = ['position:relative', 'width:' + t + 'px', 'height:' + e + 'px', 'padding:0', 'margin:0', 'border-width:0'].join(';') + ';', n } var I = (function () { function t (t, e, n, i) { this.type = 'canvas', this._zlevelList = [], this._prevDisplayList = [], this._layers = {}, this._layerConfig = {}, this._needsManuallyCompositing = !1, this.type = 'canvas'; var r = !t.nodeName || t.nodeName.toUpperCase() === 'CANVAS'; this._opts = n = o.extend({}, n || {}), this.dpr = n.devicePixelRatio || a.e, this._singleCanvas = r, this.root = t; var s = t.style; s && (s.webkitTapHighlightColor = 'transparent', s.webkitUserSelect = 'none', s.userSelect = 'none', s['-webkit-touch-callout'] = 'none', t.innerHTML = ''), this.storage = e; var l = this._zlevelList; this._prevDisplayList = []; var u = this._layers; if (r) { var c = t; var h = c.width; var d = c.height; n.width != null && (h = n.width), n.height != null && (d = n.height), this.dpr = n.devicePixelRatio || 1, c.width = h * this.dpr, c.height = d * this.dpr, this._width = h, this._height = d; var p = new g(c, this, this.dpr); p.__builtin__ = !0, p.initContext(), u[x] = p, p.zlevel = x, l.push(x), this._domRoot = t } else { this._width = this._getSize(0), this._height = this._getSize(1); var f = this._domRoot = M(this._width, this._height); t.appendChild(f) } } return t.prototype.getType = function () { return 'canvas' }, t.prototype.isSingleCanvas = function () { return this._singleCanvas }, t.prototype.getViewportRoot = function () { return this._domRoot }, t.prototype.getViewportRootOffset = function () { var t = this.getViewportRoot(); if (t) return { offsetLeft: t.offsetLeft || 0, offsetTop: t.offsetTop || 0 } }, t.prototype.refresh = function (t) { var e = this.storage.getDisplayList(!0); var n = this._prevDisplayList; var i = this._zlevelList; this._redrawId = Math.random(), this._paintList(e, n, t, this._redrawId); for (var r = 0; r < i.length; r++) { var a = i[r]; var o = this._layers[a]; if (!o.__builtin__ && o.refresh) { var s = r === 0 ? this._backgroundColor : null; o.refresh(s) } } return this._opts.useDirtyRect && (this._prevDisplayList = e.slice()), this }, t.prototype.refreshHover = function () { this._paintHoverList(this.storage.getDisplayList(!1)) }, t.prototype._paintHoverList = function (t) { var e = t.length; var n = this._hoverlayer; if (n && n.clear(), e) { for (var r, a = { inHover: !0, viewWidth: this._width, viewHeight: this._height }, o = 0; o < e; o++) { var s = t[o]; s.__inHover && (n || (n = this._hoverlayer = this.getLayer(b)), r || (r = n.ctx, r.save()), Object(i.a)(r, s, a, o === e - 1)) }r && r.restore() } }, t.prototype.getHoverLayer = function () { return this.getLayer(b) }, t.prototype.paintOne = function (t, e) { Object(i.b)(t, e) }, t.prototype._paintList = function (t, e, n, i) { if (this._redrawId === i) { n = n || !1, this._updateLayerStatus(t); var r = this._doPaintList(t, e, n); var a = r.finished; var o = r.needsRefreshHover; if (this._needsManuallyCompositing && this._compositeManually(), o && this._paintHoverList(t), a) this.eachLayer(function (t) { t.afterBrush && t.afterBrush() }); else { var s = this; Object(y.a)(function () { s._paintList(t, e, n, i) }) } } }, t.prototype._compositeManually = function () { var t = this.getLayer(x).ctx; var e = this._domRoot.width; var n = this._domRoot.height; t.clearRect(0, 0, e, n), this.eachBuiltinLayer(function (i) { i.virtual && t.drawImage(i.dom, 0, 0, e, n) }) }, t.prototype._doPaintList = function (t, e, n) { for (var i = this, r = [], a = this._opts.useDirtyRect, s = 0; s < this._zlevelList.length; s++) { var l = this._zlevelList[s]; var u = this._layers[l]; u.__builtin__ && u !== this._hoverlayer && (u.__dirty || n) && r.push(u) } for (var c = !0, h = !1, d = function (o) { var s = r[o]; var l = s.ctx; var u = a && s.createRepaintRects(t, e, p._width, p._height); l.save(); var d; var f = n ? s.__startIndex : s.__drawIndex; var g = !n && s.incremental && Date.now; var y = g && Date.now(); var v = s.zlevel === p._zlevelList[0] ? p._backgroundColor : null; if (s.__startIndex === s.__endIndex)s.clear(!1, v, u); else if (f === s.__startIndex) { var m = t[f]; m.incremental && m.notClear && !n || s.clear(!1, v, u) }f === -1 && (f = s.__startIndex); var b = function (e) { var n = { inHover: !1, allClipped: !1, prevEl: null, viewWidth: i._width, viewHeight: i._height }; for (d = f; d < s.__endIndex; d++) { var r = t[d]; if (r.__inHover && (h = !0), i._doPaintEl(r, s, a, e, n, d === s.__endIndex - 1), g) { var o = Date.now() - y; if (o > 15) break } }n.prevElClipPaths && l.restore() }; if (u) if (u.length === 0)d = s.__endIndex; else for (var x = p.dpr, _ = 0; _ < u.length; ++_) { var w = u[_]; l.save(), l.beginPath(), l.rect(w.x * x, w.y * x, w.width * x, w.height * x), l.clip(), b(w), l.restore() } else l.save(), b(), l.restore(); s.__drawIndex = d, s.__drawIndex < s.__endIndex && (c = !1) }, p = this, f = 0; f < r.length; f++)d(f); return m.a.wxa && o.each(this._layers, function (t) { t && t.ctx && t.ctx.draw && t.ctx.draw() }), { finished: c, needsRefreshHover: h } }, t.prototype._doPaintEl = function (t, e, n, r, a, o) { var s = e.ctx; if (n) { var l = t.getPaintRect(); (!r || l && l.intersect(r)) && (Object(i.a)(s, t, a, o), t.setPrevPaintRect(l)) } else Object(i.a)(s, t, a, o) }, t.prototype.getLayer = function (t, e) { this._singleCanvas && !this._needsManuallyCompositing && (t = x); var n = this._layers[t]; return n || (n = new g('zr_' + t, this, this.dpr), n.zlevel = t, n.__builtin__ = !0, this._layerConfig[t] ? o.merge(n, this._layerConfig[t], !0) : this._layerConfig[t - _] && o.merge(n, this._layerConfig[t - _], !0), e && (n.virtual = e), this.insertLayer(t, n), n.initContext()), n }, t.prototype.insertLayer = function (t, e) { var n = this._layers; var i = this._zlevelList; var r = i.length; var a = this._domRoot; var s = null; var l = -1; if (n[t])o.logError('ZLevel ' + t + ' has been used already'); else if (S(e)) { if (r > 0 && t > i[0]) { for (l = 0; l < r - 1; l++) if (i[l] < t && i[l + 1] > t) break; s = n[i[l]] } if (i.splice(l + 1, 0, t), n[t] = e, !e.virtual) if (s) { var u = s.dom; u.nextSibling ? a.insertBefore(e.dom, u.nextSibling) : a.appendChild(e.dom) } else a.firstChild ? a.insertBefore(e.dom, a.firstChild) : a.appendChild(e.dom); e.__painter = this } else o.logError('Layer of zlevel ' + t + ' is not valid') }, t.prototype.eachLayer = function (t, e) { for (var n = this._zlevelList, i = 0; i < n.length; i++) { var r = n[i]; t.call(e, this._layers[r], r) } }, t.prototype.eachBuiltinLayer = function (t, e) { for (var n = this._zlevelList, i = 0; i < n.length; i++) { var r = n[i]; var a = this._layers[r]; a.__builtin__ && t.call(e, a, r) } }, t.prototype.eachOtherLayer = function (t, e) { for (var n = this._zlevelList, i = 0; i < n.length; i++) { var r = n[i]; var a = this._layers[r]; a.__builtin__ || t.call(e, a, r) } }, t.prototype.getLayers = function () { return this._layers }, t.prototype._updateLayerStatus = function (t) { function e (t) { s && (s.__endIndex !== t && (s.__dirty = !0), s.__endIndex = t) } if (this.eachBuiltinLayer(function (t, e) { t.__dirty = t.__used = !1 }), this._singleCanvas) for (var n = 1; n < t.length; n++) { var i = t[n]; if (i.zlevel !== t[n - 1].zlevel || i.incremental) { this._needsManuallyCompositing = !0; break } } var r; var a; var s = null; var l = 0; for (a = 0; a < t.length; a++) { i = t[a]; var c = i.zlevel; var h = void 0; r !== c && (r = c, l = 0), i.incremental ? (h = this.getLayer(c + w, this._needsManuallyCompositing), h.incremental = !0, l = 1) : h = this.getLayer(c + (l > 0 ? _ : 0), this._needsManuallyCompositing), h.__builtin__ || o.logError('ZLevel ' + c + ' has been used by unkown layer ' + h.id), h !== s && (h.__used = !0, h.__startIndex !== a && (h.__dirty = !0), h.__startIndex = a, h.incremental ? h.__drawIndex = -1 : h.__drawIndex = a, e(a), s = h), i.__dirty & u.a.REDARAW_BIT && !i.__inHover && (h.__dirty = !0, h.incremental && h.__drawIndex < 0 && (h.__drawIndex = a)) }e(a), this.eachBuiltinLayer(function (t, e) { !t.__used && t.getElementCount() > 0 && (t.__dirty = !0, t.__startIndex = t.__endIndex = t.__drawIndex = 0), t.__dirty && t.__drawIndex < 0 && (t.__drawIndex = t.__startIndex) }) }, t.prototype.clear = function () { return this.eachBuiltinLayer(this._clearLayer), this }, t.prototype._clearLayer = function (t) { t.clear() }, t.prototype.setBackgroundColor = function (t) { this._backgroundColor = t, o.each(this._layers, function (t) { t.setUnpainted() }) }, t.prototype.configLayer = function (t, e) { if (e) { var n = this._layerConfig; n[t] ? o.merge(n[t], e, !0) : n[t] = e; for (var i = 0; i < this._zlevelList.length; i++) { var r = this._zlevelList[i]; if (r === t || r === t + _) { var a = this._layers[r]; o.merge(a, n[t], !0) } } } }, t.prototype.delLayer = function (t) { var e = this._layers; var n = this._zlevelList; var i = e[t]; i && (i.dom.parentNode.removeChild(i.dom), delete e[t], n.splice(o.indexOf(n, t), 1)) }, t.prototype.resize = function (t, e) { if (this._domRoot.style) { var n = this._domRoot; n.style.display = 'none'; var i = this._opts; if (t != null && (i.width = t), e != null && (i.height = e), t = this._getSize(0), e = this._getSize(1), n.style.display = '', this._width !== t || e !== this._height) { for (var r in n.style.width = t + 'px', n.style.height = e + 'px', this._layers) this._layers.hasOwnProperty(r) && this._layers[r].resize(t, e); this.refresh(!0) } this._width = t, this._height = e } else { if (t == null || e == null) return; this._width = t, this._height = e, this.getLayer(x).resize(t, e) } return this }, t.prototype.clearLayer = function (t) { var e = this._layers[t]; e && e.clear() }, t.prototype.dispose = function () { this.root.innerHTML = '', this.root = this.storage = this._domRoot = this._layers = null }, t.prototype.getRenderedCanvas = function (t) { if (t = t || {}, this._singleCanvas && !this._compositeManually) return this._layers[x].dom; var e = new g('image', this, t.pixelRatio || this.dpr); var n = e.ctx; if (e.initContext(), e.clear(!1, t.backgroundColor || this._backgroundColor), t.pixelRatio <= this.dpr) { this.refresh(); var r = e.dom.width; var a = e.dom.height; var o = e.ctx; this.eachLayer(function (t) { t.__builtin__ ? o.drawImage(t.dom, 0, 0, r, a) : t.renderToCanvas && (e.ctx.save(), t.renderToCanvas(e.ctx), e.ctx.restore()) }) } else for (var s = { inHover: !1, viewWidth: this._width, viewHeight: this._height }, l = this.storage.getDisplayList(!0), u = 0, c = l.length; u < c; u++) { var h = l[u]; Object(i.a)(n, h, s, u === c - 1) } return e.dom }, t.prototype.getWidth = function () { return this._width }, t.prototype.getHeight = function () { return this._height }, t.prototype._getSize = function (t) { var e = this._opts; var n = ['width', 'height'][t]; var i = ['clientWidth', 'clientHeight'][t]; var r = ['paddingLeft', 'paddingTop'][t]; var a = ['paddingRight', 'paddingBottom'][t]; if (e[n] != null && e[n] !== 'auto') return parseFloat(e[n]); var o = this.root; var s = document.defaultView.getComputedStyle(o); return (o[i] || O(s[n]) || O(o.style[n])) - (O(s[r]) || 0) - (O(s[a]) || 0) | 0 }, t.prototype.pathToImage = function (t, e) { e = e || this.dpr; var n = document.createElement('canvas'); var r = n.getContext('2d'); var a = t.getBoundingRect(); var s = t.style; var l = s.shadowBlur * e; var u = s.shadowOffsetX * e; var c = s.shadowOffsetY * e; var h = t.hasStroke() ? s.lineWidth : 0; var d = Math.max(h / 2, -u + l); var p = Math.max(h / 2, u + l); var f = Math.max(h / 2, -c + l); var g = Math.max(h / 2, c + l); var y = a.width + d + p; var m = a.height + f + g; n.width = y * e, n.height = m * e, r.scale(e, e), r.clearRect(0, 0, y, m), r.dpr = e; var b = { x: t.x, y: t.y, scaleX: t.scaleX, scaleY: t.scaleY, rotation: t.rotation, originX: t.originX, originY: t.originY }; t.x = d - a.x, t.y = f - a.y, t.rotation = 0, t.scaleX = 1, t.scaleY = 1, t.updateTransform(), t && Object(i.a)(r, t, { inHover: !1, viewWidth: this._width, viewHeight: this._height }, !0); var x = new v.a({ style: { x: 0, y: 0, image: n } }); return o.extend(t, b), x }, t }()); var T = I; Object(r.b)('canvas', T) },
  c954: function (t, e, n) { 'use strict'; var i = '#B9B8CE'; var r = '#100C2A'; var a = function () { return { axisLine: { lineStyle: { color: i } }, splitLine: { lineStyle: { color: '#484753' } }, splitArea: { areaStyle: { color: ['rgba(255,255,255,0.02)', 'rgba(255,255,255,0.05)'] } }, minorSplitLine: { lineStyle: { color: '#20203B' } } } }; var o = ['#4992ff', '#7cffb2', '#fddd60', '#ff6e76', '#58d9f9', '#05c091', '#ff8a45', '#8d48e3', '#dd79ff']; var s = { darkMode: !0, color: o, backgroundColor: r, axisPointer: { lineStyle: { color: '#817f91' }, crossStyle: { color: '#817f91' }, label: { color: '#fff' } }, legend: { textStyle: { color: i } }, textStyle: { color: i }, title: { textStyle: { color: '#EEF1FA' }, subtextStyle: { color: '#B9B8CE' } }, toolbox: { iconStyle: { borderColor: i } }, dataZoom: { borderColor: '#71708A', textStyle: { color: i }, brushStyle: { color: 'rgba(135,163,206,0.3)' }, handleStyle: { color: '#353450', borderColor: '#C5CBE3' }, moveHandleStyle: { color: '#B0B6C3', opacity: 0.3 }, fillerColor: 'rgba(135,163,206,0.2)', emphasis: { handleStyle: { borderColor: '#91B7F2', color: '#4D587D' }, moveHandleStyle: { color: '#636D9A', opacity: 0.7 } }, dataBackground: { lineStyle: { color: '#71708A', width: 1 }, areaStyle: { color: '#71708A' } }, selectedDataBackground: { lineStyle: { color: '#87A3CE' }, areaStyle: { color: '#87A3CE' } } }, visualMap: { textStyle: { color: i } }, timeline: { lineStyle: { color: i }, label: { color: i }, controlStyle: { color: i, borderColor: i } }, calendar: { itemStyle: { color: r }, dayLabel: { color: i }, monthLabel: { color: i }, yearLabel: { color: i } }, timeAxis: a(), logAxis: a(), valueAxis: a(), categoryAxis: a(), line: { symbol: 'circle' }, graph: { color: o }, gauge: { title: { color: i }, axisLine: { lineStyle: { color: [[1, 'rgba(207,212,219,0.2)']] } }, axisLabel: { color: i }, detail: { color: '#EEF1FA' } }, candlestick: { itemStyle: { color: '#FD1050', color0: '#0CF49B', borderColor: '#FD1050', borderColor0: '#0CF49B' } } }; s.categoryAxis.splitLine.show = !1, e.a = s },
  c9b5: function (t, e, n) { 'use strict'; var i = n('7fae'); var r = n('bb19'); var a = n('a46b'); var o = n('2b74'); var s = n('26d4'); var l = (function (t) { function e () { var e = t !== null && t.apply(this, arguments) || this; return e.type = 'dataset', e } return Object(i.b)(e, t), e.prototype.init = function (e, n, i) { t.prototype.init.call(this, e, n, i), this._sourceManager = new s.a(this), Object(s.b)(this) }, e.prototype.mergeOption = function (e, n) { t.prototype.mergeOption.call(this, e, n), Object(s.b)(this) }, e.prototype.optionUpdated = function () { this._sourceManager.dirty() }, e.prototype.getSourceManager = function () { return this._sourceManager }, e.type = 'dataset', e.defaultOption = { seriesLayoutBy: o.a }, e }(r.a)); r.a.registerClass(l); var u = (function (t) { function e () { var e = t !== null && t.apply(this, arguments) || this; return e.type = 'dataset', e } return Object(i.b)(e, t), e.type = 'dataset', e }(a.a)); a.a.registerClass(u) },
  ca23: function (t, e, n) { 'use strict'; n.d(e, 'b', function () { return m }), n.d(e, 'a', function () { return b }); var i = n('2b74'); var r = n('65a1'); var a = n('cc6e'); var o = n('0f23'); var s = n('d5c0'); var l = n('aea5'); var u = n('dcca'); var c = n('6e8c'); var h = (function () { function t () {} return t.prototype.getRawData = function () { throw new Error('not supported') }, t.prototype.getRawDataItem = function (t) { throw new Error('not supported') }, t.prototype.cloneRawData = function () {}, t.prototype.getDimensionInfo = function (t) {}, t.prototype.cloneAllDimensionInfo = function () {}, t.prototype.count = function () {}, t.prototype.retrieveValue = function (t, e) {}, t.prototype.retrieveValueFromItem = function (t, e) {}, t.prototype.convertValue = function (t, e) { return Object(s.d)(t, e) }, t }()); function d (t, e) { var n = new h(); var r = t.data; var s = n.sourceFormat = t.sourceFormat; var l = t.startIndex; var c = []; var d = {}; var v = t.dimensionsDefine; if (v)Object(a.each)(v, function (t, e) { var n = t.name; var i = { index: e, name: n, displayName: t.displayName }; if (c.push(i), n != null) { var r = ''; Object(a.hasOwn)(d, n) && Object(u.b)(r), d[n] = i } }); else for (var m = 0; m < t.dimensionsDetectedCount; m++)c.push({ index: m }); var b = Object(o.c)(s, i.a); e.__isBuiltIn && (n.getRawDataItem = function (t) { return b(r, l, c, t) }, n.getRawData = Object(a.bind)(p, null, t)), n.cloneRawData = Object(a.bind)(f, null, t); var x = Object(o.b)(s, i.a); n.count = Object(a.bind)(x, null, r, l, c); var _ = Object(o.d)(s); n.retrieveValue = function (t, e) { var n = b(r, l, c, t); return w(n, e) }; var w = n.retrieveValueFromItem = function (t, e) { if (t != null) { var n = c[e]; return n ? _(t, e, n.name) : void 0 } }; return n.getDimensionInfo = Object(a.bind)(g, null, c, d), n.cloneAllDimensionInfo = Object(a.bind)(y, null, c), n } function p (t) { var e = t.sourceFormat; var n = t.data; if (e === i.c || e === i.e || !n || Object(a.isArray)(n) && !n.length) return t.data; var r = ''; Object(u.b)(r) } function f (t) { var e = t.sourceFormat; var n = t.data; if (!n) return n; if (Object(a.isArray)(n) && !n.length) return []; if (e === i.c) { for (var r = [], o = 0, s = n.length; o < s; o++)r.push(n[o].slice()); return r } if (e === i.e) { for (r = [], o = 0, s = n.length; o < s; o++)r.push(Object(a.extend)({}, n[o])); return r } } function g (t, e, n) { if (n != null) return typeof n === 'number' || !isNaN(n) && !Object(a.hasOwn)(e, n) ? t[n] : Object(a.hasOwn)(e, n) ? e[n] : void 0 } function y (t) { return Object(a.clone)(t) } var v = Object(a.createHashMap)(); function m (t) { t = Object(a.clone)(t); var e = t.type; var n = ''; e || Object(u.b)(n); var i = e.split(':'); i.length !== 2 && Object(u.b)(n); var r = !1; i[0] === 'echarts' && (e = i[1], r = !0), t.__isBuiltIn = r, v.set(e, t) } function b (t, e, n) { var i = Object(r.r)(t); var a = i.length; var o = ''; a || Object(u.b)(o); for (var s = 0, l = a; s < l; s++) { var c = i[s]; e = x(c, e, n, a === 1 ? null : s), s !== l - 1 && (e.length = Math.max(e.length, 1)) } return e } function x (t, e, n, o) { var s = ''; e.length || Object(u.b)(s), Object(a.isObject)(t) || Object(u.b)(s); var h = t.type; var p = v.get(h); p || Object(u.b)(s); var f = Object(a.map)(e, function (t) { return d(t, p) }); var g = Object(r.r)(p.transform({ upstream: f[0], upstreamList: f, config: Object(a.clone)(t.config) })); return Object(a.map)(g, function (t) { var n = ''; Object(a.isObject)(t) || Object(u.b)(n); var r = t.data; r != null ? Object(a.isObject)(r) || Object(a.isArrayLike)(r) || Object(u.b)(n) : r = e[0].data; var o = Object(l.c)(e[0], { seriesLayoutBy: i.a, sourceHeader: 0, dimensions: t.dimensions }); return Object(c.b)(r, o, null, null) }) } },
  cb97: function (t, e, n) { 'use strict'; n.d(e, 'b', function () { return r }), n.d(e, 'a', function () { return a }); var i = n('cc6e'); var r = { createOnAllSeries: !0, performRawSeries: !0, reset: function (t, e) { var n = t.getData(); if (t.legendSymbol && n.setVisual('legendSymbol', t.legendSymbol), t.hasSymbolVisual) { var r = t.get('symbol'); var a = t.get('symbolSize'); var o = t.get('symbolKeepAspect'); var s = t.get('symbolRotate'); var l = Object(i.isFunction)(r); var u = Object(i.isFunction)(a); var c = Object(i.isFunction)(s); var h = l || u || c; var d = !l && r ? r : t.defaultSymbol; var p = u ? null : a; var f = c ? null : s; if (n.setVisual({ legendSymbol: t.legendSymbol || d, symbol: d, symbolSize: p, symbolKeepAspect: o, symbolRotate: f }), !e.isSeriesFiltered(t)) return { dataEach: h ? g : null } } function g (e, n) { var i = t.getRawValue(n); var o = t.getDataParams(n); l && e.setItemVisual(n, 'symbol', r(i, o)), u && e.setItemVisual(n, 'symbolSize', a(i, o)), c && e.setItemVisual(n, 'symbolRotate', s(i, o)) } } }; var a = { createOnAllSeries: !0, performRawSeries: !0, reset: function (t, e) { if (t.hasSymbolVisual && !e.isSeriesFiltered(t)) { var n = t.getData(); return { dataEach: n.hasItemOption ? i : null } } function i (t, e) { var n = t.getItemModel(e); var i = n.getShallow('symbol', !0); var r = n.getShallow('symbolSize', !0); var a = n.getShallow('symbolRotate', !0); var o = n.getShallow('symbolKeepAspect', !0); i != null && t.setItemVisual(e, 'symbol', i), r != null && t.setItemVisual(e, 'symbolSize', r), a != null && t.setItemVisual(e, 'symbolRotate', a), o != null && t.setItemVisual(e, 'symbolKeepAspect', o) } } } },
  cc6e: function (t, e, n) { 'use strict'; n.r(e), n.d(e, '$override', function () { return f }), n.d(e, 'guid', function () { return y }), n.d(e, 'logError', function () { return v }), n.d(e, 'clone', function () { return m }), n.d(e, 'merge', function () { return b }), n.d(e, 'mergeAll', function () { return x }), n.d(e, 'extend', function () { return _ }), n.d(e, 'defaults', function () { return w }), n.d(e, 'createCanvas', function () { return O }), n.d(e, 'indexOf', function () { return S }), n.d(e, 'inherits', function () { return M }), n.d(e, 'mixin', function () { return I }), n.d(e, 'isArrayLike', function () { return T }), n.d(e, 'each', function () { return j }), n.d(e, 'map', function () { return A }), n.d(e, 'reduce', function () { return C }), n.d(e, 'filter', function () { return D }), n.d(e, 'find', function () { return k }), n.d(e, 'keys', function () { return L }), n.d(e, 'bind', function () { return R }), n.d(e, 'curry', function () { return N }), n.d(e, 'isArray', function () { return E }), n.d(e, 'isFunction', function () { return z }), n.d(e, 'isString', function () { return B }), n.d(e, 'isStringSafe', function () { return V }), n.d(e, 'isNumber', function () { return F }), n.d(e, 'isObject', function () { return G }), n.d(e, 'isBuiltInObject', function () { return H }), n.d(e, 'isTypedArray', function () { return W }), n.d(e, 'isDom', function () { return X }), n.d(e, 'isGradientObject', function () { return Y }), n.d(e, 'isPatternObject', function () { return U }), n.d(e, 'isRegExp', function () { return Z }), n.d(e, 'eqNaN', function () { return q }), n.d(e, 'retrieve', function () { return K }), n.d(e, 'retrieve2', function () { return $ }), n.d(e, 'retrieve3', function () { return Q }), n.d(e, 'slice', function () { return J }), n.d(e, 'normalizeCssArray', function () { return tt }), n.d(e, 'assert', function () { return et }), n.d(e, 'trim', function () { return nt }), n.d(e, 'setAsPrimitive', function () { return rt }), n.d(e, 'isPrimitive', function () { return at }), n.d(e, 'HashMap', function () { return ot }), n.d(e, 'createHashMap', function () { return st }), n.d(e, 'concatArray', function () { return lt }), n.d(e, 'createObject', function () { return ut }), n.d(e, 'hasOwn', function () { return ct }), n.d(e, 'noop', function () { return ht }); var i = { '[object Function]': !0, '[object RegExp]': !0, '[object Date]': !0, '[object Error]': !0, '[object CanvasGradient]': !0, '[object CanvasPattern]': !0, '[object Image]': !0, '[object Canvas]': !0 }; var r = { '[object Int8Array]': !0, '[object Uint8Array]': !0, '[object Uint8ClampedArray]': !0, '[object Int16Array]': !0, '[object Uint16Array]': !0, '[object Int32Array]': !0, '[object Uint32Array]': !0, '[object Float32Array]': !0, '[object Float64Array]': !0 }; var a = Object.prototype.toString; var o = Array.prototype; var s = o.forEach; var l = o.filter; var u = o.slice; var c = o.map; var h = function () {}.constructor; var d = h ? h.prototype : null; var p = {}; function f (t, e) { p[t] = e } var g = 2311; function y () { return g++ } function v () { for (var t = [], e = 0; e < arguments.length; e++)t[e] = arguments[e] } function m (t) { if (t == null || typeof t !== 'object') return t; var e = t; var n = a.call(t); if (n === '[object Array]') { if (!at(t)) { e = []; for (var o = 0, s = t.length; o < s; o++)e[o] = m(t[o]) } } else if (r[n]) { if (!at(t)) { var l = t.constructor; if (l.from)e = l.from(t); else { e = new l(t.length); for (o = 0, s = t.length; o < s; o++)e[o] = m(t[o]) } } } else if (!i[n] && !at(t) && !X(t)) for (var u in e = {}, t)t.hasOwnProperty(u) && (e[u] = m(t[u])); return e } function b (t, e, n) { if (!G(e) || !G(t)) return n ? m(e) : t; for (var i in e) if (e.hasOwnProperty(i)) { var r = t[i]; var a = e[i]; !G(a) || !G(r) || E(a) || E(r) || X(a) || X(r) || H(a) || H(r) || at(a) || at(r) ? !n && i in t || (t[i] = m(e[i])) : b(r, a, n) } return t } function x (t, e) { for (var n = t[0], i = 1, r = t.length; i < r; i++)n = b(n, t[i], e); return n } function _ (t, e) { if (Object.assign)Object.assign(t, e); else for (var n in e)e.hasOwnProperty(n) && (t[n] = e[n]); return t } function w (t, e, n) { for (var i = L(e), r = 0; r < i.length; r++) { var a = i[r]; (n ? e[a] != null : t[a] == null) && (t[a] = e[a]) } return t } var O = function () { return p.createCanvas() }; function S (t, e) { if (t) { if (t.indexOf) return t.indexOf(e); for (var n = 0, i = t.length; n < i; n++) if (t[n] === e) return n } return -1 } function M (t, e) { var n = t.prototype; function i () {} for (var r in i.prototype = e.prototype, t.prototype = new i(), n)n.hasOwnProperty(r) && (t.prototype[r] = n[r]); t.prototype.constructor = t, t.superClass = e } function I (t, e, n) { if (t = 'prototype' in t ? t.prototype : t, e = 'prototype' in e ? e.prototype : e, Object.getOwnPropertyNames) for (var i = Object.getOwnPropertyNames(e), r = 0; r < i.length; r++) { var a = i[r]; a !== 'constructor' && (n ? e[a] != null : t[a] == null) && (t[a] = e[a]) } else w(t, e, n) } function T (t) { return !!t && (typeof t !== 'string' && typeof t.length === 'number') } function j (t, e, n) { if (t && e) if (t.forEach && t.forEach === s)t.forEach(e, n); else if (t.length === +t.length) for (var i = 0, r = t.length; i < r; i++)e.call(n, t[i], i, t); else for (var a in t)t.hasOwnProperty(a) && e.call(n, t[a], a, t) } function A (t, e, n) { if (!t) return []; if (!e) return J(t); if (t.map && t.map === c) return t.map(e, n); for (var i = [], r = 0, a = t.length; r < a; r++)i.push(e.call(n, t[r], r, t)); return i } function C (t, e, n, i) { if (t && e) { for (var r = 0, a = t.length; r < a; r++)n = e.call(i, n, t[r], r, t); return n } } function D (t, e, n) { if (!t) return []; if (!e) return J(t); if (t.filter && t.filter === l) return t.filter(e, n); for (var i = [], r = 0, a = t.length; r < a; r++)e.call(n, t[r], r, t) && i.push(t[r]); return i } function k (t, e, n) { if (t && e) for (var i = 0, r = t.length; i < r; i++) if (e.call(n, t[i], i, t)) return t[i] } function L (t) { if (!t) return []; if (Object.keys) return Object.keys(t); var e = []; for (var n in t)t.hasOwnProperty(n) && e.push(n); return e } function P (t, e) { for (var n = [], i = 2; i < arguments.length; i++)n[i - 2] = arguments[i]; return function () { return t.apply(e, n.concat(u.call(arguments))) } }p.createCanvas = function () { return document.createElement('canvas') }; var R = d && z(d.bind) ? d.call.bind(d.bind) : P; function N (t) { for (var e = [], n = 1; n < arguments.length; n++)e[n - 1] = arguments[n]; return function () { return t.apply(this, e.concat(u.call(arguments))) } } function E (t) { return Array.isArray ? Array.isArray(t) : a.call(t) === '[object Array]' } function z (t) { return typeof t === 'function' } function B (t) { return typeof t === 'string' } function V (t) { return a.call(t) === '[object String]' } function F (t) { return typeof t === 'number' } function G (t) { var e = typeof t; return e === 'function' || !!t && e === 'object' } function H (t) { return !!i[a.call(t)] } function W (t) { return !!r[a.call(t)] } function X (t) { return typeof t === 'object' && typeof t.nodeType === 'number' && typeof t.ownerDocument === 'object' } function Y (t) { return t.colorStops != null } function U (t) { return t.image != null } function Z (t) { return a.call(t) === '[object RegExp]' } function q (t) { return t !== t } function K () { for (var t = [], e = 0; e < arguments.length; e++)t[e] = arguments[e]; for (var n = 0, i = t.length; n < i; n++) if (t[n] != null) return t[n] } function $ (t, e) { return t != null ? t : e } function Q (t, e, n) { return t != null ? t : e != null ? e : n } function J (t) { for (var e = [], n = 1; n < arguments.length; n++)e[n - 1] = arguments[n]; return u.apply(t, e) } function tt (t) { if (typeof t === 'number') return [t, t, t, t]; var e = t.length; return e === 2 ? [t[0], t[1], t[0], t[1]] : e === 3 ? [t[0], t[1], t[2], t[1]] : t } function et (t, e) { if (!t) throw new Error(e) } function nt (t) { return t == null ? null : typeof t.trim === 'function' ? t.trim() : t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '') } var it = '__ec_primitive__'; function rt (t) { t[it] = !0 } function at (t) { return t[it] } var ot = (function () { function t (e) { this.data = {}; var n = E(e); this.data = {}; var i = this; function r (t, e) { n ? i.set(t, e) : i.set(e, t) }e instanceof t ? e.each(r) : e && j(e, r) } return t.prototype.get = function (t) { return this.data.hasOwnProperty(t) ? this.data[t] : null }, t.prototype.set = function (t, e) { return this.data[t] = e }, t.prototype.each = function (t, e) { for (var n in this.data) this.data.hasOwnProperty(n) && t.call(e, this.data[n], n) }, t.prototype.keys = function () { return L(this.data) }, t.prototype.removeKey = function (t) { delete this.data[t] }, t }()); function st (t) { return new ot(t) } function lt (t, e) { for (var n = new t.constructor(t.length + e.length), i = 0; i < t.length; i++)n[i] = t[i]; var r = t.length; for (i = 0; i < e.length; i++)n[i + r] = e[i]; return n } function ut (t, e) { var n; if (Object.create)n = Object.create(t); else { var i = function () {}; i.prototype = t, n = new i() } return e && _(n, e), n } function ct (t, e) { return t.hasOwnProperty(e) } function ht () {} },
  cec8: function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return r }); var i = n('65a1'); var r = Object(i.o)() },
  cf57: function (t, e, n) { 'use strict'; var i = n('21a1'); var r = n('1ded'); var a = n('949c'); var o = n('18d3'); var s = n('cc6e'); var l = Object(s.defaults)({ strokeFirst: !0, font: a.a, x: 0, y: 0, textAlign: 'left', textBaseline: 'top', miterLimit: 2 }, o.a); var u = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(i.a)(e, t), e.prototype.hasStroke = function () { var t = this.style; var e = t.stroke; return e != null && e !== 'none' && t.lineWidth > 0 }, e.prototype.hasFill = function () { var t = this.style; var e = t.fill; return e != null && e !== 'none' }, e.prototype.createStyle = function (t) { return Object(s.createObject)(l, t) }, e.prototype.setBoundingRect = function (t) { this._rect = t }, e.prototype.getBoundingRect = function () { var t = this.style; if (!this._rect) { var e = t.text; e != null ? e += '' : e = ''; var n = Object(a.e)(e, t.font, t.textAlign, t.textBaseline); if (n.x += t.x || 0, n.y += t.y || 0, this.hasStroke()) { var i = t.lineWidth; n.x -= i / 2, n.y -= i / 2, n.width += i, n.height += i } this._rect = n } return this._rect }, e.initDefaultProps = (function () { var t = e.prototype; t.dirtyRectTolerance = 10 }()), e }(r.c)); u.prototype.type = 'tspan', e.a = u },
  d11b: function (t, e, n) { 'use strict'; var i = n('21a1'); var r = n('cc6e'); var a = n('8a3b'); var o = n('10e1'); var s = (function (t) { function e (e) { var n = t.call(this) || this; return n.isGroup = !0, n._children = [], n.attr(e), n } return Object(i.a)(e, t), e.prototype.childrenRef = function () { return this._children }, e.prototype.children = function () { return this._children.slice() }, e.prototype.childAt = function (t) { return this._children[t] }, e.prototype.childOfName = function (t) { for (var e = this._children, n = 0; n < e.length; n++) if (e[n].name === t) return e[n] }, e.prototype.childCount = function () { return this._children.length }, e.prototype.add = function (t) { if (t && (t !== this && t.parent !== this && (this._children.push(t), this._doAdd(t)), t.__hostTarget)) throw 'This elemenet has been used as an attachment'; return this }, e.prototype.addBefore = function (t, e) { if (t && t !== this && t.parent !== this && e && e.parent === this) { var n = this._children; var i = n.indexOf(e); i >= 0 && (n.splice(i, 0, t), this._doAdd(t)) } return this }, e.prototype.replaceAt = function (t, e) { var n = this._children; var i = n[e]; if (t && t !== this && t.parent !== this && t !== i) { n[e] = t, i.parent = null; var r = this.__zr; r && i.removeSelfFromZr(r), this._doAdd(t) } return this }, e.prototype._doAdd = function (t) { t.parent && t.parent.remove(t), t.parent = this; var e = this.__zr; e && e !== t.__zr && t.addSelfToZr(e), e && e.refresh() }, e.prototype.remove = function (t) { var e = this.__zr; var n = this._children; var i = r.indexOf(n, t); return i < 0 || (n.splice(i, 1), t.parent = null, e && t.removeSelfFromZr(e), e && e.refresh()), this }, e.prototype.removeAll = function () { for (var t = this._children, e = this.__zr, n = 0; n < t.length; n++) { var i = t[n]; e && i.removeSelfFromZr(e), i.parent = null } return t.length = 0, this }, e.prototype.eachChild = function (t, e) { for (var n = this._children, i = 0; i < n.length; i++) { var r = n[i]; t.call(e, r, i) } return this }, e.prototype.traverse = function (t, e) { for (var n = 0; n < this._children.length; n++) { var i = this._children[n]; var r = t.call(e, i); i.isGroup && !r && i.traverse(t, e) } return this }, e.prototype.addSelfToZr = function (e) { t.prototype.addSelfToZr.call(this, e); for (var n = 0; n < this._children.length; n++) { var i = this._children[n]; i.addSelfToZr(e) } }, e.prototype.removeSelfFromZr = function (e) { t.prototype.removeSelfFromZr.call(this, e); for (var n = 0; n < this._children.length; n++) { var i = this._children[n]; i.removeSelfFromZr(e) } }, e.prototype.getBoundingRect = function (t) { for (var e = new o.a(0, 0, 0, 0), n = t || this._children, i = [], r = null, a = 0; a < n.length; a++) { var s = n[a]; if (!s.ignore && !s.invisible) { var l = s.getBoundingRect(); var u = s.getLocalTransform(i); u ? (o.a.applyTransform(e, l, u), r = r || e.clone(), r.union(e)) : (r = r || l.clone(), r.union(l)) } } return r || e }, e }(a.a)); s.prototype.type = 'group', e.a = s },
  d288: function (t, e, n) { 'use strict'; var i = n('cc6e'); var r = {}; var a = (function () { function t () { this._coordinateSystems = [] } return t.prototype.create = function (t, e) { var n = []; i.each(r, function (i, r) { var a = i.create(t, e); n = n.concat(a || []) }), this._coordinateSystems = n }, t.prototype.update = function (t, e) { i.each(this._coordinateSystems, function (n) { n.update && n.update(t, e) }) }, t.prototype.getCoordinateSystems = function () { return this._coordinateSystems.slice() }, t.register = function (t, e) { r[t] = e }, t.get = function (t) { return r[t] }, t }()); e.a = a },
  d2bc: function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return l }), n.d(e, 'b', function () { return h }), n.d(e, 'e', function () { return d }), n.d(e, 'g', function () { return p }), n.d(e, 'i', function () { return f }), n.d(e, 'j', function () { return g }), n.d(e, 'd', function () { return y }), n.d(e, 'h', function () { return v }), n.d(e, 'f', function () { return m }), n.d(e, 'c', function () { return b }); var i = n('cc6e'); var r = n('10e1'); var a = n('1f06'); var o = n('18f3'); var s = i.each; var l = ['left', 'right', 'top', 'bottom', 'width', 'height']; var u = [['width', 'left', 'right'], ['height', 'top', 'bottom']]; function c (t, e, n, i, r) { var a = 0; var o = 0; i == null && (i = 1 / 0), r == null && (r = 1 / 0); var s = 0; e.eachChild(function (l, u) { var c; var h; var d = l.getBoundingRect(); var p = e.childAt(u + 1); var f = p && p.getBoundingRect(); if (t === 'horizontal') { var g = d.width + (f ? -f.x + d.x : 0); c = a + g, c > i || l.newline ? (a = 0, c = g, o += s + n, s = d.height) : s = Math.max(s, d.height) } else { var y = d.height + (f ? -f.y + d.y : 0); h = o + y, h > r || l.newline ? (a += s + n, o = 0, h = y, s = d.width) : s = Math.max(s, d.width) }l.newline || (l.x = a, l.y = o, l.markRedraw(), t === 'horizontal' ? a = c + n : o = h + n) }) } var h = c; i.curry(c, 'vertical'), i.curry(c, 'horizontal'); function d (t, e, n) { var i = e.width; var r = e.height; var s = Object(a.parsePercent)(t.left, i); var l = Object(a.parsePercent)(t.top, r); var u = Object(a.parsePercent)(t.right, i); var c = Object(a.parsePercent)(t.bottom, r); return (isNaN(s) || isNaN(parseFloat(t.left))) && (s = 0), (isNaN(u) || isNaN(parseFloat(t.right))) && (u = i), (isNaN(l) || isNaN(parseFloat(t.top))) && (l = 0), (isNaN(c) || isNaN(parseFloat(t.bottom))) && (c = r), n = o.normalizeCssArray(n || 0), { width: Math.max(u - s - n[1] - n[3], 0), height: Math.max(c - l - n[0] - n[2], 0) } } function p (t, e, n) { n = o.normalizeCssArray(n || 0); var i = e.width; var s = e.height; var l = Object(a.parsePercent)(t.left, i); var u = Object(a.parsePercent)(t.top, s); var c = Object(a.parsePercent)(t.right, i); var h = Object(a.parsePercent)(t.bottom, s); var d = Object(a.parsePercent)(t.width, i); var p = Object(a.parsePercent)(t.height, s); var f = n[2] + n[0]; var g = n[1] + n[3]; var y = t.aspect; switch (isNaN(d) && (d = i - c - g - l), isNaN(p) && (p = s - h - f - u), y != null && (isNaN(d) && isNaN(p) && (y > i / s ? d = 0.8 * i : p = 0.8 * s), isNaN(d) && (d = y * p), isNaN(p) && (p = d / y)), isNaN(l) && (l = i - c - d - g), isNaN(u) && (u = s - h - p - f), t.left || t.right) { case 'center':l = i / 2 - d / 2 - n[3]; break; case 'right':l = i - d - g; break } switch (t.top || t.bottom) { case 'middle':case 'center':u = s / 2 - p / 2 - n[0]; break; case 'bottom':u = s - p - f; break }l = l || 0, u = u || 0, isNaN(d) && (d = i - g - l - (c || 0)), isNaN(p) && (p = s - f - u - (h || 0)); var v = new r.a(l + n[3], u + n[0], d, p); return v.margin = n, v } function f (t, e, n, a, o) { var s = !o || !o.hv || o.hv[0]; var l = !o || !o.hv || o.hv[1]; var u = o && o.boundingMode || 'all'; if (s || l) { var c; if (u === 'raw')c = t.type === 'group' ? new r.a(0, 0, +e.width || 0, +e.height || 0) : t.getBoundingRect(); else if (c = t.getBoundingRect(), t.needLocalTransform()) { var h = t.getLocalTransform(); c = c.clone(), c.applyTransform(h) } var d = p(i.defaults({ width: c.width, height: c.height }, e), n, a); var f = s ? d.x - c.x : 0; var g = l ? d.y - c.y : 0; u === 'raw' ? (t.x = f, t.y = g) : (t.x += f, t.y += g), t.markRedraw() } } function g (t, e) { return t[u[e][0]] != null || t[u[e][1]] != null && t[u[e][2]] != null } function y (t) { var e = t.layoutMode || t.constructor.layoutMode; return i.isObject(e) ? e : e ? { type: e } : null } function v (t, e, n) { var r = n && n.ignoreSize; !i.isArray(r) && (r = [r, r]); var a = l(u[0], 0); var o = l(u[1], 1); function l (n, i) { var a = {}; var o = 0; var l = {}; var u = 0; var d = 2; if (s(n, function (e) { l[e] = t[e] }), s(n, function (t) { c(e, t) && (a[t] = l[t] = e[t]), h(a, t) && o++, h(l, t) && u++ }), r[i]) return h(e, n[1]) ? l[n[2]] = null : h(e, n[2]) && (l[n[1]] = null), l; if (u !== d && o) { if (o >= d) return a; for (var p = 0; p < n.length; p++) { var f = n[p]; if (!c(a, f) && c(t, f)) { a[f] = t[f]; break } } return a } return l } function c (t, e) { return t.hasOwnProperty(e) } function h (t, e) { return t[e] != null && t[e] !== 'auto' } function d (t, e, n) { s(t, function (t) { e[t] = n[t] }) }d(u[0], t, a), d(u[1], t, o) } function m (t) { return b({}, t) } function b (t, e) { return e && t && s(l, function (n) { e.hasOwnProperty(n) && (t[n] = e[n]) }), t } },
  d31e: function (t, e, n) { 'use strict'; n.d(e, 'f', function () { return l }), n.d(e, 'd', function () { return c }), n.d(e, 'b', function () { return h }), n.d(e, 'e', function () { return p }), n.d(e, 'a', function () { return g }), n.d(e, 'c', function () { return m }); var i = n('7fae'); var r = n('cc6e'); var a = '.'; var o = '___EC__COMPONENT__CONTAINER___'; var s = '___EC__EXTENDED_CLASS___'; function l (t) { var e = { main: '', sub: '' }; if (t) { var n = t.split(a); e.main = n[0] || '', e.sub = n[1] || '' } return e } function u (t) { r.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t), 'componentType "' + t + '" illegal') } function c (t) { return !(!t || !t[s]) } function h (t, e) { t.$constructor = t, t.extend = function (t) { var e = this; function n () { for (var a = [], o = 0; o < arguments.length; o++)a[o] = arguments[o]; if (t.$constructor)t.$constructor.apply(this, arguments); else { if (d(e)) { var s = r.createObject(n.prototype, new (e.bind.apply(e, Object(i.c)([void 0], a)))()); return s }e.apply(this, arguments) } } return n[s] = !0, r.extend(n.prototype, t), n.extend = this.extend, n.superCall = y, n.superApply = v, r.inherits(n, this), n.superClass = e, n } } function d (t) { return typeof t === 'function' && /^class\s/.test(Function.prototype.toString.call(t)) } function p (t, e) { t.extend = e.extend } var f = Math.round(10 * Math.random()); function g (t) { var e = ['__\0is_clz', f++].join('_'); t.prototype[e] = !0, t.isInstance = function (t) { return !(!t || !t[e]) } } function y (t, e) { for (var n = [], i = 2; i < arguments.length; i++)n[i - 2] = arguments[i]; return this.superClass.prototype[e].apply(t, n) } function v (t, e, n) { return this.superClass.prototype[e].apply(t, n) } function m (t, e) { e = e || {}; var n = {}; function i (t) { var e = n[t.main]; return e && e[o] || (e = n[t.main] = {}, e[o] = !0), e } if (t.registerClass = function (t) { var e = t.type || t.prototype.type; if (e) { u(e), t.prototype.type = e; var r = l(e); if (r.sub) { if (r.sub !== o) { var a = i(r); a[r.sub] = t } } else n[r.main] = t } return t }, t.getClass = function (t, e, i) { var r = n[t]; if (r && r[o] && (r = e ? r[e] : null), i && !r) throw new Error(e ? 'Component ' + t + '.' + (e || '') + ' not exists. Load it first.' : t + '.type should be specified.'); return r }, t.getClassesByMainType = function (t) { var e = l(t); var i = []; var a = n[e.main]; return a && a[o] ? r.each(a, function (t, e) { e !== o && i.push(t) }) : i.push(a), i }, t.hasClass = function (t) { var e = l(t); return !!n[e.main] }, t.getAllClassMainTypes = function () { var t = []; return r.each(n, function (e, n) { t.push(n) }), t }, t.hasSubTypes = function (t) { var e = l(t); var i = n[e.main]; return i && i[o] }, e.registerWhenExtend) { var a = t.extend; a && (t.extend = function (e) { var n = a.call(this, e); return t.registerClass(n) }) } } },
  d581: function (t, e, n) { 'use strict'; n.d(e, 'e', function () { return I }), n.d(e, 'c', function () { return A }), n.d(e, 'b', function () { return C }), n.d(e, 'd', function () { return L }), n.d(e, 'a', function () { return P }); var i = n('a2b2'); var r = n('6dc4'); var a = n('daee'); var o = n('6af1'); var s = n('cc6e'); var l = n('953f'); var u = n('3c03'); var c = n('c713'); var h = 2 * Math.PI; var d = r.a.CMD; var p = ['top', 'right', 'bottom', 'left']; function f (t, e, n, i, r) { var a = n.width; var o = n.height; switch (t) { case 'top':i.set(n.x + a / 2, n.y - e), r.set(0, -1); break; case 'bottom':i.set(n.x + a / 2, n.y + o + e), r.set(0, 1); break; case 'left':i.set(n.x - e, n.y + o / 2), r.set(-1, 0); break; case 'right':i.set(n.x + a + e, n.y + o / 2), r.set(1, 0); break } } function g (t, e, n, i, r, o, s, l, u) { s -= t, l -= e; var c = Math.sqrt(s * s + l * l); s /= c, l /= c; var d = s * n + t; var p = l * n + e; if (Math.abs(i - r) % h < 1e-4) return u[0] = d, u[1] = p, c - n; if (o) { var f = i; i = Object(a.a)(r), r = Object(a.a)(f) } else i = Object(a.a)(i), r = Object(a.a)(r); i > r && (r += h); var g = Math.atan2(l, s); if (g < 0 && (g += h), g >= i && g <= r || g + h >= i && g + h <= r) return u[0] = d, u[1] = p, c - n; var y = n * Math.cos(i) + t; var v = n * Math.sin(i) + e; var m = n * Math.cos(r) + t; var b = n * Math.sin(r) + e; var x = (y - s) * (y - s) + (v - l) * (v - l); var _ = (m - s) * (m - s) + (b - l) * (b - l); return x < _ ? (u[0] = y, u[1] = v, Math.sqrt(x)) : (u[0] = m, u[1] = b, Math.sqrt(_)) } function y (t, e, n, i, r, a, o, s) { var l = r - t; var u = a - e; var c = n - t; var h = i - e; var d = Math.sqrt(c * c + h * h); c /= d, h /= d; var p = l * c + u * h; var f = p / d; s && (f = Math.min(Math.max(f, 0), 1)), f *= d; var g = o[0] = t + f * c; var y = o[1] = e + f * h; return Math.sqrt((g - r) * (g - r) + (y - a) * (y - a)) } function v (t, e, n, i, r, a, o) { n < 0 && (t += n, n = -n), i < 0 && (e += i, i = -i); var s = t + n; var l = e + i; var u = o[0] = Math.min(Math.max(r, t), s); var c = o[1] = Math.min(Math.max(a, e), l); return Math.sqrt((u - r) * (u - r) + (c - a) * (c - a)) } var m = []; function b (t, e, n) { var i = v(e.x, e.y, e.width, e.height, t.x, t.y, m); return n.set(m[0], m[1]), i } function x (t, e, n) { for (var i, r, a = 0, s = 0, l = 0, u = 0, c = 1 / 0, h = e.data, p = t.x, f = t.y, b = 0; b < h.length;) { var x = h[b++]; b === 1 && (a = h[b], s = h[b + 1], l = a, u = s); var _ = c; switch (x) { case d.M:l = h[b++], u = h[b++], a = l, s = u; break; case d.L:_ = y(a, s, h[b], h[b + 1], p, f, m, !0), a = h[b++], s = h[b++]; break; case d.C:_ = Object(o.e)(a, s, h[b++], h[b++], h[b++], h[b++], h[b], h[b + 1], p, f, m), a = h[b++], s = h[b++]; break; case d.Q:_ = Object(o.l)(a, s, h[b++], h[b++], h[b], h[b + 1], p, f, m), a = h[b++], s = h[b++]; break; case d.A:var w = h[b++]; var O = h[b++]; var S = h[b++]; var M = h[b++]; var I = h[b++]; var T = h[b++]; b += 1; var j = !!(1 - h[b++]); i = Math.cos(I) * S + w, r = Math.sin(I) * M + O, b <= 1 && (l = i, u = r); var A = (p - w) * M / S + w; _ = g(w, O, M, I, I + T, j, A, f, m), a = Math.cos(I + T) * S + w, s = Math.sin(I + T) * M + O; break; case d.R:l = a = h[b++], u = s = h[b++]; var C = h[b++]; var D = h[b++]; _ = v(l, u, C, D, p, f, m); break; case d.Z:_ = y(a, s, l, u, p, f, m, !0), a = l, s = u; break }_ < c && (c = _, n.set(m[0], m[1])) } return c } var _ = new i.Point(); var w = new i.Point(); var O = new i.Point(); var S = new i.Point(); var M = new i.Point(); function I (t, e) { if (t) { var n = t.getTextGuideLine(); var r = t.getTextContent(); if (r && n) { var a = t.textGuideLineConfig || {}; var o = [[0, 0], [0, 0], [0, 0]]; var s = a.candidates || p; var u = r.getBoundingRect().clone(); u.applyTransform(r.getComputedTransform()); var c = 1 / 0; var h = a.anchor; var d = t.getComputedTransform(); var g = d && Object(l.e)([], d); var y = e.get('length2') || 0; h && O.copy(h); for (var v = 0; v < s.length; v++) { var m = s[v]; f(m, 0, u, _, S), i.Point.scaleAndAdd(w, _, S, y), w.transform(g); var M = t.getBoundingRect(); var I = h ? h.distance(w) : t instanceof i.Path ? x(w, t.path, O) : b(w, M, O); I < c && (c = I, w.transform(d), O.transform(d), O.toArray(o[0]), w.toArray(o[1]), _.toArray(o[2])) }A(o, e.get('minTurnAngle')), n.setShape({ points: o }) } } } var T = []; var j = new i.Point(); function A (t, e) { if (e <= 180 && e > 0) { e = e / 180 * Math.PI, _.fromArray(t[0]), w.fromArray(t[1]), O.fromArray(t[2]), i.Point.sub(S, _, w), i.Point.sub(M, O, w); var n = S.len(); var r = M.len(); if (!(n < 0.001 || r < 0.001)) { S.scale(1 / n), M.scale(1 / r); var a = S.dot(M); var o = Math.cos(e); if (o < a) { var s = y(w.x, w.y, O.x, O.y, _.x, _.y, T, !1); j.fromArray(T), j.scaleAndAdd(M, s / Math.tan(Math.PI - e)); var l = O.x !== w.x ? (j.x - w.x) / (O.x - w.x) : (j.y - w.y) / (O.y - w.y); if (isNaN(l)) return; l < 0 ? i.Point.copy(j, w) : l > 1 && i.Point.copy(j, O), j.toArray(t[1]) } } } } function C (t, e, n) { if (n <= 180 && n > 0) { n = n / 180 * Math.PI, _.fromArray(t[0]), w.fromArray(t[1]), O.fromArray(t[2]), i.Point.sub(S, w, _), i.Point.sub(M, O, w); var r = S.len(); var a = M.len(); if (!(r < 0.001 || a < 0.001)) { S.scale(1 / r), M.scale(1 / a); var o = S.dot(e); var s = Math.cos(n); if (o < s) { var l = y(w.x, w.y, O.x, O.y, _.x, _.y, T, !1); j.fromArray(T); var u = Math.PI / 2; var c = Math.acos(M.dot(e)); var h = u + c - n; if (h >= u)i.Point.copy(j, O); else { j.scaleAndAdd(M, l / Math.tan(Math.PI / 2 - h)); var d = O.x !== w.x ? (j.x - w.x) / (O.x - w.x) : (j.y - w.y) / (O.y - w.y); if (isNaN(d)) return; d < 0 ? i.Point.copy(j, w) : d > 1 && i.Point.copy(j, O) }j.toArray(t[1]) } } } } function D (t, e, n, i) { var r = n === 'normal'; var a = r ? t : t.ensureState(n); a.ignore = e; var o = i.get('smooth'); o && !0 === o && (o = 0.3), a.shape = a.shape || {}, o > 0 && (a.shape.smooth = o); var s = i.getModel('lineStyle').getLineStyle(); r ? t.useStyle(s) : a.style = s } function k (t, e) { var n = e.smooth; var i = e.points; if (i) if (t.moveTo(i[0][0], i[0][1]), n > 0 && i.length >= 3) { var r = u.f(i[0], i[1]); var a = u.f(i[1], i[2]); if (!r || !a) return t.lineTo(i[1][0], i[1][1]), void t.lineTo(i[2][0], i[2][1]); var o = Math.min(r, a) * n; var s = u.j([], i[1], i[0], o / r); var l = u.j([], i[1], i[2], o / a); var c = u.j([], s, l, 0.5); t.bezierCurveTo(s[0], s[1], s[0], s[1], c[0], c[1]), t.bezierCurveTo(l[0], l[1], l[0], l[1], i[2][0], i[2][1]) } else for (var h = 1; h < i.length; h++)t.lineTo(i[h][0], i[h][1]) } function L (t, e, n) { var r = t.getTextGuideLine(); var a = t.getTextContent(); if (a) { for (var o = e.normal, l = o.get('show'), u = a.ignore, h = 0; h < c.a.length; h++) { var d = c.a[h]; var p = e[d]; var f = d === 'normal'; if (p) { var g = p.get('show'); var y = f ? u : Object(s.retrieve2)(a.states[d] && a.states[d].ignore, u); if (y || !Object(s.retrieve2)(g, l)) { var v = f ? r : r && r.states.normal; v && (v.ignore = !0); continue }r || (r = new i.Polyline(), t.setTextGuideLine(r), f || !u && l || D(r, !0, 'normal', e.normal), t.stateProxy && (r.stateProxy = t.stateProxy)), D(r, !1, d, p) } } if (r) { Object(s.defaults)(r.style, n), r.style.fill = null; var m = o.get('showAbove'); var b = t.textGuideLineConfig = t.textGuideLineConfig || {}; b.showAbove = m || !1, r.buildPath = k } } else r && t.removeTextGuideLine() } function P (t, e) { e = e || 'labelLine'; for (var n = { normal: t.getModel(e) }, i = 0; i < c.g.length; i++) { var r = c.g[i]; n[r] = t.getModel([r, e]) } return n } },
  d5c0: function (t, e, n) { 'use strict'; n.d(e, 'd', function () { return o }), n.d(e, 'c', function () { return l }), n.d(e, 'a', function () { return h }), n.d(e, 'b', function () { return p }); var i = n('1f06'); var r = n('cc6e'); var a = n('dcca'); function o (t, e) { var n = e && e.type; if (n === 'ordinal') { var r = e && e.ordinalMeta; return r ? r.parseAndCollect(t) : t } return n === 'time' && typeof t !== 'number' && t != null && t !== '-' && (t = +Object(i.parseDate)(t)), t == null || t === '' ? NaN : +t } var s = Object(r.createHashMap)({ number: function (t) { return parseFloat(t) }, time: function (t) { return +Object(i.parseDate)(t) }, trim: function (t) { return typeof t === 'string' ? Object(r.trim)(t) : t } }); function l (t) { return s.get(t) } var u = { lt: function (t, e) { return t < e }, lte: function (t, e) { return t <= e }, gt: function (t, e) { return t > e }, gte: function (t, e) { return t >= e } }; var c = (function () { function t (t, e) { if (typeof e !== 'number') { var n = ''; 0, Object(a.b)(n) } this._opFn = u[t], this._rvalFloat = Object(i.numericToNumber)(e) } return t.prototype.evaluate = function (t) { return typeof t === 'number' ? this._opFn(t, this._rvalFloat) : this._opFn(Object(i.numericToNumber)(t), this._rvalFloat) }, t }()); var h = (function () { function t (t, e) { var n = t === 'desc'; this._resultLT = n ? 1 : -1, e == null && (e = n ? 'min' : 'max'), this._incomparable = e === 'min' ? -1 / 0 : 1 / 0 } return t.prototype.evaluate = function (t, e) { var n = typeof t; var r = typeof e; var a = n === 'number' ? t : Object(i.numericToNumber)(t); var o = r === 'number' ? e : Object(i.numericToNumber)(e); var s = isNaN(a); var l = isNaN(o); if (s && (a = this._incomparable), l && (o = this._incomparable), s && l) { var u = n === 'string'; var c = r === 'string'; u && (a = c ? t : 0), c && (o = u ? e : 0) } return a < o ? this._resultLT : a > o ? -this._resultLT : 0 }, t }()); var d = (function () { function t (t, e) { this._rval = e, this._isEQ = t, this._rvalTypeof = typeof e, this._rvalFloat = Object(i.numericToNumber)(e) } return t.prototype.evaluate = function (t) { var e = t === this._rval; if (!e) { var n = typeof t; n === this._rvalTypeof || n !== 'number' && this._rvalTypeof !== 'number' || (e = Object(i.numericToNumber)(t) === this._rvalFloat) } return this._isEQ ? e : !e }, t }()); function p (t, e) { return t === 'eq' || t === 'ne' ? new d(t === 'eq', e) : Object(r.hasOwn)(u, t) ? new c(t, e) : null } },
  d784: function (t, e, n) { 'use strict'; n('ac1f'); var i = n('6eeb'); var r = n('d039'); var a = n('b622'); var o = n('9263'); var s = n('9112'); var l = a('species'); var u = !r(function () { var t = /./; return t.exec = function () { var t = []; return t.groups = { a: '7' }, t }, ''.replace(t, '$<a>') !== '7' }); var c = (function () { return 'a'.replace(/./, '$0') === '$0' }()); var h = a('replace'); var d = (function () { return !!/./[h] && /./[h]('a', '$0') === '' }()); var p = !r(function () { var t = /(?:)/; var e = t.exec; t.exec = function () { return e.apply(this, arguments) }; var n = 'ab'.split(t); return n.length !== 2 || n[0] !== 'a' || n[1] !== 'b' }); t.exports = function (t, e, n, h) { var f = a(t); var g = !r(function () { var e = {}; return e[f] = function () { return 7 }, ''[t](e) != 7 }); var y = g && !r(function () { var e = !1; var n = /a/; return t === 'split' && (n = {}, n.constructor = {}, n.constructor[l] = function () { return n }, n.flags = '', n[f] = /./[f]), n.exec = function () { return e = !0, null }, n[f](''), !e }); if (!g || !y || t === 'replace' && (!u || !c || d) || t === 'split' && !p) { var v = /./[f]; var m = n(f, ''[t], function (t, e, n, i, r) { return e.exec === o ? g && !r ? { done: !0, value: v.call(e, n, i) } : { done: !0, value: t.call(n, e, i) } : { done: !1 } }, { REPLACE_KEEPS_$0: c, REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: d }); var b = m[0]; var x = m[1]; i(String.prototype, t, b), i(RegExp.prototype, f, e == 2 ? function (t, e) { return x.call(t, this, e) } : function (t) { return x.call(t, this) }) }h && s(RegExp.prototype[f], 'sham', !0) } },
  d7e6: function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return r }), n.d(e, 'b', function () { return o }); var i = n('27bd'); var r = [['lineWidth', 'width'], ['stroke', 'color'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['lineDash', 'type'], ['lineDashOffset', 'dashOffset'], ['lineCap', 'cap'], ['lineJoin', 'join'], ['miterLimit']]; var a = Object(i.a)(r); var o = (function () { function t () {} return t.prototype.getLineStyle = function (t) { return a(this, t) }, t }()) },
  daee: function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return r }); var i = 2 * Math.PI; function r (t) { return t %= i, t < 0 && (t += i), t } },
  dcca: function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return i }), n.d(e, 'b', function () { return r }); n('cc6e'), typeof console !== 'undefined' && console.warn && console.log; function i (t) { 0 } function r (t) { throw new Error(t) } },
  df39: function (t, e, n) { 'use strict'; var i = n('21a1'); var r = n('18d3'); var a = (function () { function t () { this.cx = 0, this.cy = 0, this.r = 0 } return t }()); var o = (function (t) { function e (e) { return t.call(this, e) || this } return Object(i.a)(e, t), e.prototype.getDefaultShape = function () { return new a() }, e.prototype.buildPath = function (t, e, n) { n && t.moveTo(e.cx + e.r, e.cy), t.arc(e.cx, e.cy, e.r, 0, 2 * Math.PI) }, e }(r.b)); o.prototype.type = 'circle', e.a = o },
  e001: function (t, e, n) { 'use strict'; var i = n('7fae'); var r = n('cc6e'); var a = n('65a1'); var o = n('f199'); var s = n('bb19'); var l = ''; typeof navigator !== 'undefined' && (l = navigator.platform || ''); var u; var c; var h; var d = 'rgba(0, 0, 0, 0.2)'; var p = { darkMode: 'auto', color: ['#5470c6', '#91cc75', '#fac858', '#ee6666', '#73c0de', '#3ba272', '#fc8452', '#9a60b4', '#ea7ccc'], gradientColor: ['#f6efa6', '#d88273', '#bf444c'], aria: { decal: { decals: [{ color: d, dashArrayX: [1, 0], dashArrayY: [2, 5], symbolSize: 1, rotation: Math.PI / 6 }, { color: d, symbol: 'circle', dashArrayX: [[8, 8], [0, 8, 8, 0]], dashArrayY: [6, 0], symbolSize: 0.8 }, { color: d, dashArrayX: [1, 0], dashArrayY: [4, 3], dashLineOffset: 0, rotation: -Math.PI / 4 }, { color: d, dashArrayX: [[6, 6], [0, 6, 6, 0]], dashArrayY: [6, 0] }, { color: d, dashArrayX: [[1, 0], [1, 6]], dashArrayY: [1, 0, 6, 0], rotation: Math.PI / 4 }, { color: d, symbol: 'triangle', dashArrayX: [[9, 9], [0, 9, 9, 0]], dashArrayY: [7, 2], symbolSize: 0.75 }] } }, textStyle: { fontFamily: l.match(/^Win/) ? 'Microsoft YaHei' : 'sans-serif', fontSize: 12, fontStyle: 'normal', fontWeight: 'normal' }, blendMode: null, stateAnimation: { duration: 300, easing: 'cubicOut' }, animation: 'auto', animationDuration: 1e3, animationDurationUpdate: 500, animationEasing: 'cubicInOut', animationEasingUpdate: 'cubicInOut', animationThreshold: 2e3, progressiveThreshold: 3e3, progressive: 400, hoverLayerThreshold: 3e3, useUTC: !1 }; var f = n('aea5'); var g = n('b59e'); var y = n('61e4'); var v = '\0_ec_inner'; var m = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(i.b)(e, t), e.prototype.init = function (t, e, n, i, r, a) { i = i || {}, this.option = null, this._theme = new o.a(i), this._locale = new o.a(r), this._optionManager = a }, e.prototype.setOption = function (t, e, n) { Object(r.assert)(!(v in t), 'please use chart.getOption()'); var i = O(e); this._optionManager.setOption(t, n, i), this._resetOption(null, i) }, e.prototype.resetOption = function (t, e) { return this._resetOption(t, O(e)) }, e.prototype._resetOption = function (t, e) { var n = !1; var i = this._optionManager; if (!t || t === 'recreate') { var a = i.mountOption(t === 'recreate'); this.option && t !== 'recreate' ? (this.restoreData(), this._mergeOption(a, e)) : h(this, a), n = !0 } if (t !== 'timeline' && t !== 'media' || this.restoreData(), !t || t === 'recreate' || t === 'timeline') { var o = i.getTimelineOption(this); o && (n = !0, this._mergeOption(o, e)) } if (!t || t === 'recreate' || t === 'media') { var s = i.getMediaOption(this); s.length && Object(r.each)(s, function (t) { n = !0, this._mergeOption(t, e) }, this) } return n }, e.prototype.mergeOption = function (t) { this._mergeOption(t, null) }, e.prototype._mergeOption = function (t, e) { var n = this.option; var i = this._componentsMap; var o = this._componentsCount; var l = []; var c = Object(r.createHashMap)(); var h = e && e.replaceMergeMainTypeMap; function d (e) { var l = Object(g.a)(this, e, a.r(t[e])); var c = i.get(e); var d = c ? h && h.get(e) ? 'replaceMerge' : 'normalMerge' : 'replaceAll'; var p = a.q(c, l, d); a.w(p, e, s.a), n[e] = null, i.set(e, null), o.set(e, 0); var f = []; var y = []; var v = 0; Object(r.each)(p, function (t, n) { var i = t.existing; var a = t.newOption; if (a) { var o = s.a.getClass(e, t.keyInfo.subType, !0); if (i && i.constructor === o)i.name = t.keyInfo.name, i.mergeOption(a, this), i.optionUpdated(a, !1); else { var l = Object(r.extend)({ componentIndex: n }, t.keyInfo); i = new o(a, this, this, l), Object(r.extend)(i, l), t.brandNew && (i.__requireNewView = !0), i.init(a, this, this), i.optionUpdated(null, !0) } } else i && (i.mergeOption({}, this), i.optionUpdated({}, !1)); i ? (f.push(i.option), y.push(i), v++) : (f.push(void 0), y.push(void 0)) }, this), n[e] = f, i.set(e, y), o.set(e, v), e === 'series' && u(this) }Object(f.h)(this), Object(r.each)(t, function (t, e) { t != null && (s.a.hasClass(e) ? e && (l.push(e), c.set(e, !0)) : n[e] = n[e] == null ? Object(r.clone)(t) : Object(r.merge)(n[e], t, !0)) }), h && h.each(function (t, e) { s.a.hasClass(e) && !c.get(e) && (l.push(e), c.set(e, !0)) }), s.a.topologicalTravel(l, s.a.getAllClassMainTypes(), d, this), this._seriesIndices || u(this) }, e.prototype.getOption = function () { var t = Object(r.clone)(this.option); return Object(r.each)(t, function (e, n) { if (s.a.hasClass(n)) { for (var i = a.r(e), r = i.length, o = !1, l = r - 1; l >= 0; l--)i[l] && !a.l(i[l]) ? o = !0 : (i[l] = null, !o && r--); i.length = r, t[n] = i } }), delete t[v], t }, e.prototype.getTheme = function () { return this._theme }, e.prototype.getLocaleModel = function () { return this._locale }, e.prototype.getLocale = function (t) { var e = this.getLocaleModel(); return e.get(t) }, e.prototype.setUpdatePayload = function (t) { this._payload = t }, e.prototype.getUpdatePayload = function () { return this._payload }, e.prototype.getComponent = function (t, e) { var n = this._componentsMap.get(t); if (n) { var i = n[e || 0]; if (i) return i; if (e == null) for (var r = 0; r < n.length; r++) if (n[r]) return n[r] } }, e.prototype.queryComponents = function (t) { var e = t.mainType; if (!e) return []; var n; var i = t.index; var o = t.id; var s = t.name; var l = this._componentsMap.get(e); return l && l.length ? (i != null ? (n = [], Object(r.each)(a.r(i), function (t) { l[t] && n.push(l[t]) })) : n = o != null ? _('id', o, l) : s != null ? _('name', s, l) : Object(r.filter)(l, function (t) { return !!t }), w(n, t)) : [] }, e.prototype.findComponents = function (t) { var e = t.query; var n = t.mainType; var i = o(e); var a = i ? this.queryComponents(i) : Object(r.filter)(this._componentsMap.get(n), function (t) { return !!t }); return s(w(a, t)); function o (t) { var e = n + 'Index'; var i = n + 'Id'; var r = n + 'Name'; return !t || t[e] == null && t[i] == null && t[r] == null ? null : { mainType: n, index: t[e], id: t[i], name: t[r] } } function s (e) { return t.filter ? Object(r.filter)(e, t.filter) : e } }, e.prototype.eachComponent = function (t, e, n) { var i = this._componentsMap; if (Object(r.isFunction)(t)) { var a = e; var o = t; i.each(function (t, e) { for (var n = 0; t && n < t.length; n++) { var i = t[n]; i && o.call(a, e, i, i.componentIndex) } }) } else for (var s = Object(r.isString)(t) ? i.get(t) : Object(r.isObject)(t) ? this.findComponents(t) : null, l = 0; s && l < s.length; l++) { var u = s[l]; u && e.call(n, u, u.componentIndex) } }, e.prototype.getSeriesByName = function (t) { var e = a.e(t, null); return Object(r.filter)(this._componentsMap.get('series'), function (t) { return !!t && e != null && t.name === e }) }, e.prototype.getSeriesByIndex = function (t) { return this._componentsMap.get('series')[t] }, e.prototype.getSeriesByType = function (t) { return Object(r.filter)(this._componentsMap.get('series'), function (e) { return !!e && e.subType === t }) }, e.prototype.getSeries = function () { return Object(r.filter)(this._componentsMap.get('series').slice(), function (t) { return !!t }) }, e.prototype.getSeriesCount = function () { return this._componentsCount.get('series') }, e.prototype.eachSeries = function (t, e) { c(this), Object(r.each)(this._seriesIndices, function (n) { var i = this._componentsMap.get('series')[n]; t.call(e, i, n) }, this) }, e.prototype.eachRawSeries = function (t, e) { Object(r.each)(this._componentsMap.get('series'), function (n) { n && t.call(e, n, n.componentIndex) }) }, e.prototype.eachSeriesByType = function (t, e, n) { c(this), Object(r.each)(this._seriesIndices, function (i) { var r = this._componentsMap.get('series')[i]; r.subType === t && e.call(n, r, i) }, this) }, e.prototype.eachRawSeriesByType = function (t, e, n) { return Object(r.each)(this.getSeriesByType(t), e, n) }, e.prototype.isSeriesFiltered = function (t) { return c(this), this._seriesIndicesMap.get(t.componentIndex) == null }, e.prototype.getCurrentSeriesIndices = function () { return (this._seriesIndices || []).slice() }, e.prototype.filterSeries = function (t, e) { c(this); var n = []; Object(r.each)(this._seriesIndices, function (i) { var r = this._componentsMap.get('series')[i]; t.call(e, r, i) && n.push(i) }, this), this._seriesIndices = n, this._seriesIndicesMap = Object(r.createHashMap)(n) }, e.prototype.restoreData = function (t) { u(this); var e = this._componentsMap; var n = []; e.each(function (t, e) { s.a.hasClass(e) && n.push(e) }), s.a.topologicalTravel(n, s.a.getAllClassMainTypes(), function (n) { Object(r.each)(e.get(n), function (e) { !e || n === 'series' && b(e, t) || e.restoreData() }) }) }, e.internalField = (function () { u = function (t) { var e = t._seriesIndices = []; Object(r.each)(t._componentsMap.get('series'), function (t) { t && e.push(t.componentIndex) }), t._seriesIndicesMap = Object(r.createHashMap)(e) }, c = function (t) { 0 }, h = function (t, e) { t.option = {}, t.option[v] = 1, t._componentsMap = Object(r.createHashMap)({ series: [] }), t._componentsCount = Object(r.createHashMap)(); var n = e.aria; Object(r.isObject)(n) && n.enabled == null && (n.enabled = !0), x(e, t._theme.option), Object(r.merge)(e, p, !1), t._mergeOption(e, null) } }()), e }(o.a)); function b (t, e) { if (e) { var n = e.seriesIndex; var i = e.seriesId; var r = e.seriesName; return n != null && t.componentIndex !== n || i != null && t.id !== i || r != null && t.name !== r } } function x (t, e) { var n = t.color && !t.colorLayer; Object(r.each)(e, function (e, i) { i === 'colorLayer' && n || s.a.hasClass(i) || (typeof e === 'object' ? t[i] = t[i] ? Object(r.merge)(t[i], e, !1) : Object(r.clone)(e) : t[i] == null && (t[i] = e)) }) } function _ (t, e, n) { if (Object(r.isArray)(e)) { var i = Object(r.createHashMap)(); return Object(r.each)(e, function (t) { if (t != null) { var e = a.e(t, null); e != null && i.set(t, !0) } }), Object(r.filter)(n, function (e) { return e && i.get(e[t]) }) } var o = a.e(e, null); return Object(r.filter)(n, function (e) { return e && o != null && e[t] === o }) } function w (t, e) { return e.hasOwnProperty('subType') ? Object(r.filter)(t, function (t) { return t && t.subType === e.subType }) : t } function O (t) { var e = Object(r.createHashMap)(); return t && Object(r.each)(a.r(t.replaceMerge), function (t) { e.set(t, !0) }), { replaceMergeMainTypeMap: e } }Object(r.mixin)(m, y.a); e.a = m },
  e22c: function (t, e, n) { 'use strict'; var i = (function () { function t (t, e) { this.x = t || 0, this.y = e || 0 } return t.prototype.copy = function (t) { return this.x = t.x, this.y = t.y, this }, t.prototype.clone = function () { return new t(this.x, this.y) }, t.prototype.set = function (t, e) { return this.x = t, this.y = e, this }, t.prototype.equal = function (t) { return t.x === this.x && t.y === this.y }, t.prototype.add = function (t) { return this.x += t.x, this.y += t.y, this }, t.prototype.scale = function (t) { this.x *= t, this.y *= t }, t.prototype.scaleAndAdd = function (t, e) { this.x += t.x * e, this.y += t.y * e }, t.prototype.sub = function (t) { return this.x -= t.x, this.y -= t.y, this }, t.prototype.dot = function (t) { return this.x * t.x + this.y * t.y }, t.prototype.len = function () { return Math.sqrt(this.x * this.x + this.y * this.y) }, t.prototype.lenSquare = function () { return this.x * this.x + this.y * this.y }, t.prototype.normalize = function () { var t = this.len(); return this.x /= t, this.y /= t, this }, t.prototype.distance = function (t) { var e = this.x - t.x; var n = this.y - t.y; return Math.sqrt(e * e + n * n) }, t.prototype.distanceSquare = function (t) { var e = this.x - t.x; var n = this.y - t.y; return e * e + n * n }, t.prototype.negate = function () { return this.x = -this.x, this.y = -this.y, this }, t.prototype.transform = function (t) { if (t) { var e = this.x; var n = this.y; return this.x = t[0] * e + t[2] * n + t[4], this.y = t[1] * e + t[3] * n + t[5], this } }, t.prototype.toArray = function (t) { return t[0] = this.x, t[1] = this.y, t }, t.prototype.fromArray = function (t) { this.x = t[0], this.y = t[1] }, t.set = function (t, e, n) { t.x = e, t.y = n }, t.copy = function (t, e) { t.x = e.x, t.y = e.y }, t.len = function (t) { return Math.sqrt(t.x * t.x + t.y * t.y) }, t.lenSquare = function (t) { return t.x * t.x + t.y * t.y }, t.dot = function (t, e) { return t.x * e.x + t.y * e.y }, t.add = function (t, e, n) { t.x = e.x + n.x, t.y = e.y + n.y }, t.sub = function (t, e, n) { t.x = e.x - n.x, t.y = e.y - n.y }, t.scale = function (t, e, n) { t.x = e.x * n, t.y = e.y * n }, t.scaleAndAdd = function (t, e, n, i) { t.x = e.x + n.x * i, t.y = e.y + n.y * i }, t.lerp = function (t, e, n, i) { var r = 1 - i; t.x = r * e.x + i * n.x, t.y = r * e.y + i * n.y }, t }()); e.a = i },
  e2fd: function (t, e, n) { 'use strict'; var i = n('953f'); var r = n('3c03'); var a = i.d; var o = 5e-5; function s (t) { return t > o || t < -o } var l = []; var u = []; var c = i.c(); var h = Math.abs; var d = (function () { function t () {} return t.prototype.setPosition = function (t) { this.x = t[0], this.y = t[1] }, t.prototype.setScale = function (t) { this.scaleX = t[0], this.scaleY = t[1] }, t.prototype.setOrigin = function (t) { this.originX = t[0], this.originY = t[1] }, t.prototype.needLocalTransform = function () { return s(this.rotation) || s(this.x) || s(this.y) || s(this.scaleX - 1) || s(this.scaleY - 1) }, t.prototype.updateTransform = function () { var t = this.parent; var e = t && t.transform; var n = this.needLocalTransform(); var r = this.transform; n || e ? (r = r || i.c(), n ? this.getLocalTransform(r) : a(r), e && (n ? i.f(r, t.transform, r) : i.b(r, t.transform)), this.transform = r, this._resolveGlobalScaleRatio(r)) : r && a(r) }, t.prototype._resolveGlobalScaleRatio = function (t) { var e = this.globalScaleRatio; if (e != null && e !== 1) { this.getGlobalScale(l); var n = l[0] < 0 ? -1 : 1; var r = l[1] < 0 ? -1 : 1; var a = ((l[0] - n) * e + n) / l[0] || 0; var o = ((l[1] - r) * e + r) / l[1] || 0; t[0] *= a, t[1] *= a, t[2] *= o, t[3] *= o } this.invTransform = this.invTransform || i.c(), i.e(this.invTransform, t) }, t.prototype.getLocalTransform = function (e) { return t.getLocalTransform(this, e) }, t.prototype.getComputedTransform = function () { var t = this; var e = []; while (t)e.push(t), t = t.parent; while (t = e.pop())t.updateTransform(); return this.transform }, t.prototype.setLocalTransform = function (t) { if (t) { var e = t[0] * t[0] + t[1] * t[1]; var n = t[2] * t[2] + t[3] * t[3]; s(e - 1) && (e = Math.sqrt(e)), s(n - 1) && (n = Math.sqrt(n)), t[0] < 0 && (e = -e), t[3] < 0 && (n = -n), this.rotation = Math.atan2(-t[1] / n, t[0] / e), e < 0 && n < 0 && (this.rotation += Math.PI, e = -e, n = -n), this.x = t[4], this.y = t[5], this.scaleX = e, this.scaleY = n } }, t.prototype.decomposeTransform = function () { if (this.transform) { var t = this.parent; var e = this.transform; t && t.transform && (i.f(u, t.invTransform, e), e = u); var n = this.originX; var r = this.originY; (n || r) && (c[4] = n, c[5] = r, i.f(u, e, c), u[4] -= n, u[5] -= r, e = u), this.setLocalTransform(e) } }, t.prototype.getGlobalScale = function (t) { var e = this.transform; return t = t || [], e ? (t[0] = Math.sqrt(e[0] * e[0] + e[1] * e[1]), t[1] = Math.sqrt(e[2] * e[2] + e[3] * e[3]), e[0] < 0 && (t[0] = -t[0]), e[3] < 0 && (t[1] = -t[1]), t) : (t[0] = 1, t[1] = 1, t) }, t.prototype.transformCoordToLocal = function (t, e) { var n = [t, e]; var i = this.invTransform; return i && r.b(n, n, i), n }, t.prototype.transformCoordToGlobal = function (t, e) { var n = [t, e]; var i = this.transform; return i && r.b(n, n, i), n }, t.prototype.getLineScale = function () { var t = this.transform; return t && h(t[0] - 1) > 1e-10 && h(t[3] - 1) > 1e-10 ? Math.sqrt(h(t[0] * t[3] - t[2] * t[1])) : 1 }, t.getLocalTransform = function (t, e) { e = e || [], a(e); var n = t.originX || 0; var r = t.originY || 0; var o = t.scaleX; var s = t.scaleY; var l = t.rotation || 0; var u = t.x; var c = t.y; return e[4] -= n, e[5] -= r, e[0] *= o, e[1] *= s, e[2] *= o, e[3] *= s, e[4] *= o, e[5] *= s, l && i.g(e, e, l), e[4] += n, e[5] += r, e[4] += u, e[5] += c, e }, t.initDefaultProps = (function () { var e = t.prototype; e.x = 0, e.y = 0, e.scaleX = 1, e.scaleY = 1, e.originX = 0, e.originY = 0, e.rotation = 0, e.globalScaleRatio = 1 }()), t }()); e.a = d },
  e580: function (t, e, n) { 'use strict'; var i = n('21a1'); var r = n('1ded'); var a = n('10e1'); var o = []; var s = (function (t) { function e () { var e = t !== null && t.apply(this, arguments) || this; return e.notClear = !0, e.incremental = !0, e._displayables = [], e._temporaryDisplayables = [], e._cursor = 0, e } return Object(i.a)(e, t), e.prototype.traverse = function (t, e) { t.call(e, this) }, e.prototype.useStyle = function () { this.style = {} }, e.prototype.getCursor = function () { return this._cursor }, e.prototype.innerAfterBrush = function () { this._cursor = this._displayables.length }, e.prototype.clearDisplaybles = function () { this._displayables = [], this._temporaryDisplayables = [], this._cursor = 0, this.markRedraw(), this.notClear = !1 }, e.prototype.clearTemporalDisplayables = function () { this._temporaryDisplayables = [] }, e.prototype.addDisplayable = function (t, e) { e ? this._temporaryDisplayables.push(t) : this._displayables.push(t), this.markRedraw() }, e.prototype.addDisplayables = function (t, e) { e = e || !1; for (var n = 0; n < t.length; n++) this.addDisplayable(t[n], e) }, e.prototype.getDisplayables = function () { return this._displayables }, e.prototype.getTemporalDisplayables = function () { return this._temporaryDisplayables }, e.prototype.eachPendingDisplayable = function (t) { for (var e = this._cursor; e < this._displayables.length; e++)t && t(this._displayables[e]); for (e = 0; e < this._temporaryDisplayables.length; e++)t && t(this._temporaryDisplayables[e]) }, e.prototype.update = function () { this.updateTransform(); for (var t = this._cursor; t < this._displayables.length; t++) { var e = this._displayables[t]; e.parent = this, e.update(), e.parent = null } for (t = 0; t < this._temporaryDisplayables.length; t++) { e = this._temporaryDisplayables[t]; e.parent = this, e.update(), e.parent = null } }, e.prototype.getBoundingRect = function () { if (!this._rect) { for (var t = new a.a(1 / 0, 1 / 0, -1 / 0, -1 / 0), e = 0; e < this._displayables.length; e++) { var n = this._displayables[e]; var i = n.getBoundingRect().clone(); n.needLocalTransform() && i.applyTransform(n.getLocalTransform(o)), t.union(i) } this._rect = t } return this._rect }, e.prototype.contain = function (t, e) { var n = this.transformCoordToLocal(t, e); var i = this.getBoundingRect(); if (i.contain(n[0], n[1])) for (var r = 0; r < this._displayables.length; r++) { var a = this._displayables[r]; if (a.contain(t, e)) return !0 } return !1 }, e }(r.c)); e.a = s },
  e68e: function (t, e, n) { 'use strict'; n.d(e, 'c', function () { return u }), n.d(e, 'b', function () { return c }), n.d(e, 'a', function () { return p }); var i = n('0d4d'); var r = Math.log(2); function a (t, e, n, i, o, s) { var l = i + '-' + o; var u = t.length; if (s.hasOwnProperty(l)) return s[l]; if (e === 1) { var c = Math.round(Math.log((1 << u) - 1 & ~o) / r); return t[n][c] } var h = i | 1 << n; var d = n + 1; while (i & 1 << d)d++; for (var p = 0, f = 0, g = 0; f < u; f++) { var y = 1 << f; y & o || (p += (g % 2 ? -1 : 1) * t[n][f] * a(t, e - 1, d, h, o | y, s), g++) } return s[l] = p, p } function o (t, e) { var n = [[t[0], t[1], 1, 0, 0, 0, -e[0] * t[0], -e[0] * t[1]], [0, 0, 0, t[0], t[1], 1, -e[1] * t[0], -e[1] * t[1]], [t[2], t[3], 1, 0, 0, 0, -e[2] * t[2], -e[2] * t[3]], [0, 0, 0, t[2], t[3], 1, -e[3] * t[2], -e[3] * t[3]], [t[4], t[5], 1, 0, 0, 0, -e[4] * t[4], -e[4] * t[5]], [0, 0, 0, t[4], t[5], 1, -e[5] * t[4], -e[5] * t[5]], [t[6], t[7], 1, 0, 0, 0, -e[6] * t[6], -e[6] * t[7]], [0, 0, 0, t[6], t[7], 1, -e[7] * t[6], -e[7] * t[7]]]; var i = {}; var r = a(n, 8, 0, 0, 0, i); if (r !== 0) { for (var o = [], s = 0; s < 8; s++) for (var l = 0; l < 8; l++)o[l] == null && (o[l] = 0), o[l] += ((s + l) % 2 ? -1 : 1) * a(n, 7, s === 0 ? 1 : 0, 1 << s, 1 << l, i) / r * e[s]; return function (t, e, n) { var i = e * o[6] + n * o[7] + 1; t[0] = (e * o[0] + n * o[1] + o[2]) / i, t[1] = (e * o[3] + n * o[4] + o[5]) / i } } } var s = '___zrEVENTSAVED'; var l = []; function u (t, e, n, i, r) { return c(l, e, i, r, !0) && c(t, n, l[0], l[1]) } function c (t, e, n, r, a) { if (e.getBoundingClientRect && i.a.domSupported && !p(e)) { var o = e[s] || (e[s] = {}); var l = h(e, o); var u = d(l, o, a); if (u) return u(t, n, r), !0 } return !1 } function h (t, e) { var n = e.markers; if (n) return n; n = e.markers = []; for (var i = ['left', 'right'], r = ['top', 'bottom'], a = 0; a < 4; a++) { var o = document.createElement('div'); var s = o.style; var l = a % 2; var u = (a >> 1) % 2; s.cssText = ['position: absolute', 'visibility: hidden', 'padding: 0', 'margin: 0', 'border-width: 0', 'user-select: none', 'width:0', 'height:0', i[l] + ':0', r[u] + ':0', i[1 - l] + ':auto', r[1 - u] + ':auto', ''].join('!important;'), t.appendChild(o), n.push(o) } return n } function d (t, e, n) { for (var i = n ? 'invTrans' : 'trans', r = e[i], a = e.srcCoords, s = [], l = [], u = !0, c = 0; c < 4; c++) { var h = t[c].getBoundingClientRect(); var d = 2 * c; var p = h.left; var f = h.top; s.push(p, f), u = u && a && p === a[d] && f === a[d + 1], l.push(t[c].offsetLeft, t[c].offsetTop) } return u && r ? r : (e.srcCoords = s, e[i] = n ? o(l, s) : o(s, l)) } function p (t) { return t.nodeName.toUpperCase() === 'CANVAS' } },
  e9ea: function (t, e, n) { 'use strict'; (function (t) { n.d(e, 'a', function () { return ot }), n.d(e, 'f', function () { return ne }), n.d(e, 'g', function () { return ie }), n.d(e, 'c', function () { return re }), n.d(e, 'd', function () { return ae }), n.d(e, 'e', function () { return oe }), n.d(e, 'i', function () { return se }), n.d(e, 'b', function () { return ce }), n.d(e, 'h', function () { return he }); var i = n('7fae'); var r = n('eb53'); var a = n('cc6e'); var o = n('8d25'); var s = n('0d4d'); var l = n('6c55'); var u = n('5395'); var c = n('e001'); var h = n('473a'); var d = n('d288'); var p = n('aff2'); var f = n('877a'); var g = n('2c78'); var y = (n('bb19'), n('673d')); var v = n('a46b'); var m = n('1cb2'); var b = n('a2b2'); var x = n('cec8'); var _ = n('c713'); var w = n('65a1'); var O = n('1012'); var S = n('88de'); var M = n('423d'); var I = n('999c'); var T = n('6804'); var j = n('c954'); var A = (n('c9b5'), n('fd35'), n('d31e')); var C = n('c0e9'); var D = n('cb97'); var k = n('1041'); var L = n('91ef'); var P = n('dcca'); var R = n('2e4d'); var N = (n('c917'), n('ca23')); var E = n('140d'); var z = n('553b'); var B = n('03d4'); var V = a.assert; var F = a.each; var G = a.isFunction; var H = a.isObject; var W = 1; var X = 800; var Y = 900; var U = 1e3; var Z = 2e3; var q = 5e3; var K = 1e3; var $ = 1100; var Q = 2e3; var J = 3e3; var tt = 4e3; var et = 4500; var nt = 4600; var it = 5e3; var rt = 6e3; var at = 7e3; var ot = { PROCESSOR: { FILTER: U, SERIES_FILTER: X, STATISTIC: q }, VISUAL: { LAYOUT: K, PROGRESSIVE_LAYOUT: $, GLOBAL: Q, CHART: J, POST_CHART_LAYOUT: nt, COMPONENT: tt, BRUSH: it, CHART_ITEM: et, ARIA: rt, DECAL: at } }; var st = '__flagInMainProcess'; var lt = '__optionUpdated'; var ut = '__needsUpdateStatus'; var ct = /^[a-zA-Z0-9_]+$/; var ht = '__connectUpdateStatus'; var dt = 0; var pt = 1; var ft = 2; function gt (t) { return function () { for (var e = [], n = 0; n < arguments.length; n++)e[n] = arguments[n]; if (!this.isDisposed()) return vt(this, t, e); Ht(this.id) } } function yt (t) { return function () { for (var e = [], n = 0; n < arguments.length; n++)e[n] = arguments[n]; return vt(this, t, e) } } function vt (t, e, n) { return n[0] = n[0] && n[0].toLowerCase(), u.a.prototype[e].apply(t, n) } var mt; var bt; var xt; var _t; var wt; var Ot; var St; var Mt; var It; var Tt; var jt; var At; var Ct; var Dt; var kt; var Lt; var Pt; var Rt; var Nt; var Et; var zt = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(i.b)(e, t), e }(u.a)); var Bt = zt.prototype; Bt.on = yt('on'), Bt.off = yt('off'); var Vt = (function (t) { function e (e, n, i) { var o = t.call(this, new C.a()) || this; o._chartsViews = [], o._chartsMap = {}, o._componentsViews = [], o._componentsMap = {}, o._pendingActions = [], i = i || {}, typeof n === 'string' && (n = Kt[n]), o._dom = e; typeof window === 'undefined' || window; var s = 'canvas'; var u = !1; var c = o._zr = r.a(e, { renderer: i.renderer || s, devicePixelRatio: i.devicePixelRatio, width: i.width, height: i.height, useDirtyRect: i.useDirtyRect == null ? u : i.useDirtyRect }); o._throttledZrFlush = Object(O.c)(a.bind(c.flush, c), 17), n = a.clone(n), n && Object(f.a)(n, !0), o._theme = n, o._locale = Object(E.b)(i.locale || E.a), o._coordSysMgr = new d.a(); var h = o._api = Pt(o); function p (t, e) { return t.__prio - e.__prio } return Object(l.a)(qt, p), Object(l.a)(Yt, p), o._scheduler = new I.a(o, h, Yt, qt), o._messageCenter = new zt(), o._labelManager = new L.a(), o._initEvents(), o.resize = a.bind(o.resize, o), c.animation.on('frame', o._onframe, o), Tt(c, o), jt(c, o), a.setAsPrimitive(o), o } return Object(i.b)(e, t), e.prototype._onframe = function () { if (!this._disposed) { Et(this); var t = this._scheduler; if (this[lt]) { var e = this[lt].silent; this[st] = !0, mt(this), _t.update.call(this), this._zr.flush(), this[st] = !1, this[lt] = !1, Mt.call(this, e), It.call(this, e) } else if (t.unfinished) { var n = W; var i = this._model; var r = this._api; t.unfinished = !1; do { var a = +new Date(); t.performSeriesTasks(i), t.performDataProcessorTasks(i), Ot(this, i), t.performVisualTasks(i), kt(this, this._model, r, 'remain'), n -= +new Date() - a } while (n > 0 && t.unfinished);t.unfinished || this._zr.flush() } } }, e.prototype.getDom = function () { return this._dom }, e.prototype.getId = function () { return this.id }, e.prototype.getZr = function () { return this._zr }, e.prototype.setOption = function (t, e, n) { if (this._disposed)Ht(this.id); else { var i, r, a; if (H(e) && (n = e.lazyUpdate, i = e.silent, r = e.replaceMerge, a = e.transition, e = e.notMerge), this[st] = !0, !this._model || e) { var o = new p.a(this._api); var s = this._theme; var l = this._model = new c.a(); l.scheduler = this._scheduler, l.init(null, null, null, s, this._locale, o) } this._model.setOption(t, { replaceMerge: r }, Ut), Rt(this, a), n ? (this[lt] = { silent: i }, this[st] = !1, this.getZr().wakeUp()) : (mt(this), _t.update.call(this), this._zr.flush(), this[lt] = !1, this[st] = !1, Mt.call(this, i), It.call(this, i)) } }, e.prototype.setTheme = function () {}, e.prototype.getModel = function () { return this._model }, e.prototype.getOption = function () { return this._model && this._model.getOption() }, e.prototype.getWidth = function () { return this._zr.getWidth() }, e.prototype.getHeight = function () { return this._zr.getHeight() }, e.prototype.getDevicePixelRatio = function () { return this._zr.painter.dpr || window.devicePixelRatio || 1 }, e.prototype.getRenderedCanvas = function (t) { if (s.a.canvasSupported) { t = a.extend({}, t || {}), t.pixelRatio = t.pixelRatio || 1, t.backgroundColor = t.backgroundColor || this._model.get('backgroundColor'); var e = this._zr; return e.painter.getRenderedCanvas(t) } }, e.prototype.getSvgDataURL = function () { if (s.a.svgSupported) { var t = this._zr; var e = t.storage.getDisplayList(); return a.each(e, function (t) { t.stopAnimation(null, !0) }), t.painter.toDataURL() } }, e.prototype.getDataURL = function (t) { if (!this._disposed) { t = t || {}; var e = t.excludeComponents; var n = this._model; var i = []; var r = this; F(e, function (t) { n.eachComponent({ mainType: t }, function (t) { var e = r._componentsMap[t.__viewId]; e.group.ignore || (i.push(e), e.group.ignore = !0) }) }); var a = this._zr.painter.getType() === 'svg' ? this.getSvgDataURL() : this.getRenderedCanvas(t).toDataURL('image/' + (t && t.type || 'png')); return F(i, function (t) { t.group.ignore = !1 }), a }Ht(this.id) }, e.prototype.getConnectedDataURL = function (t) { if (this._disposed)Ht(this.id); else if (s.a.canvasSupported) { var e = t.type === 'svg'; var n = this.group; var i = Math.min; var o = Math.max; var l = 1 / 0; if (Jt[n]) { var u = l; var c = l; var h = -l; var d = -l; var p = []; var f = t && t.pixelRatio || 1; a.each(Qt, function (r, s) { if (r.group === n) { var l = e ? r.getZr().painter.getSvgDom().innerHTML : r.getRenderedCanvas(a.clone(t)); var f = r.getDom().getBoundingClientRect(); u = i(f.left, u), c = i(f.top, c), h = o(f.right, h), d = o(f.bottom, d), p.push({ dom: l, left: f.left, top: f.top }) } }), u *= f, c *= f, h *= f, d *= f; var g = h - u; var y = d - c; var v = a.createCanvas(); var m = r.a(v, { renderer: e ? 'svg' : 'canvas' }); if (m.resize({ width: g, height: y }), e) { var x = ''; return F(p, function (t) { var e = t.left - u; var n = t.top - c; x += '<g transform="translate(' + e + ',' + n + ')">' + t.dom + '</g>' }), m.painter.getSvgRoot().innerHTML = x, t.connectedBackgroundColor && m.painter.setBackgroundColor(t.connectedBackgroundColor), m.refreshImmediately(), m.painter.toDataURL() } return t.connectedBackgroundColor && m.add(new b.Rect({ shape: { x: 0, y: 0, width: g, height: y }, style: { fill: t.connectedBackgroundColor } })), F(p, function (t) { var e = new b.Image({ style: { x: t.left * f - u, y: t.top * f - c, image: t.dom } }); m.add(e) }), m.refreshImmediately(), v.toDataURL('image/' + (t && t.type || 'png')) } return this.getDataURL(t) } }, e.prototype.convertToPixel = function (t, e) { return wt(this, 'convertToPixel', t, e) }, e.prototype.convertFromPixel = function (t, e) { return wt(this, 'convertFromPixel', t, e) }, e.prototype.containPixel = function (t, e) { if (!this._disposed) { var n; var i = this._model; var r = w.s(i, t); return a.each(r, function (t, i) { i.indexOf('Models') >= 0 && a.each(t, function (t) { var r = t.coordinateSystem; if (r && r.containPoint)n = n || !!r.containPoint(e); else if (i === 'seriesModels') { var a = this._chartsMap[t.__viewId]; a && a.containPoint && (n = n || a.containPoint(e, t)) } else 0 }, this) }, this), !!n }Ht(this.id) }, e.prototype.getVisual = function (t, e) { var n = this._model; var i = w.s(n, t, { defaultMainType: 'series' }); var r = i.seriesModel; var a = r.getData(); var o = i.hasOwnProperty('dataIndexInside') ? i.dataIndexInside : i.hasOwnProperty('dataIndex') ? a.indexOfRawIndex(i.dataIndex) : null; return o != null ? Object(k.a)(a, o, e) : Object(k.b)(a, e) }, e.prototype.getViewOfComponentModel = function (t) { return this._componentsMap[t.__viewId] }, e.prototype.getViewOfSeriesModel = function (t) { return this._chartsMap[t.__viewId] }, e.prototype._initEvents = function () { var t = this; F(Gt, function (e) { var n = function (n) { var i; var r = t.getModel(); var o = n.target; var s = e === 'globalout'; if (s ? i = {} : o && Object(z.a)(o, function (t) { var e = Object(x.a)(t); if (e && e.dataIndex != null) { var n = e.dataModel || r.getSeriesByIndex(e.seriesIndex); return i = n && n.getDataParams(e.dataIndex, e.dataType) || {}, !0 } if (e.eventData) return i = a.extend({}, e.eventData), !0 }, !0), i) { var l = i.componentType; var u = i.componentIndex; l !== 'markLine' && l !== 'markPoint' && l !== 'markArea' || (l = 'series', u = i.seriesIndex); var c = l && u != null && r.getComponent(l, u); var h = c && t[c.mainType === 'series' ? '_chartsMap' : '_componentsMap'][c.__viewId]; 0, i.event = n, i.type = e, t._$eventProcessor.eventInfo = { targetEl: o, packedEvent: i, model: c, view: h }, t.trigger(e, i) } }; n.zrEventfulCallAtLast = !0, t._zr.on(e, n, t) }), F(Xt, function (e, n) { t._messageCenter.on(n, function (t) { this.trigger(n, t) }, t) }), F(['selectchanged'], function (e) { t._messageCenter.on(e, function (t) { this.trigger(e, t) }, t) }), Object(R.b)(this._messageCenter, this, this._model) }, e.prototype.isDisposed = function () { return this._disposed }, e.prototype.clear = function () { this._disposed ? Ht(this.id) : this.setOption({ series: [] }, !0) }, e.prototype.dispose = function () { if (this._disposed)Ht(this.id); else { this._disposed = !0, w.v(this.getDom(), te, ''); var t = this._api; var e = this._model; F(this._componentsViews, function (n) { n.dispose(e, t) }), F(this._chartsViews, function (n) { n.dispose(e, t) }), this._zr.dispose(), delete Qt[this.id] } }, e.prototype.resize = function (t) { if (this._disposed)Ht(this.id); else { this._zr.resize(t); var e = this._model; if (this._loadingFX && this._loadingFX.resize(), e) { var n = e.resetOption('media'); var i = t && t.silent; this[st] = !0, n && mt(this), _t.update.call(this, { type: 'resize', animation: { duration: 0 } }), this[st] = !1, Mt.call(this, i), It.call(this, i) } } }, e.prototype.showLoading = function (t, e) { if (this._disposed)Ht(this.id); else if (H(t) && (e = t, t = ''), t = t || 'default', this.hideLoading(), $t[t]) { var n = $t[t](this._api, e); var i = this._zr; this._loadingFX = n, i.add(n) } }, e.prototype.hideLoading = function () { this._disposed ? Ht(this.id) : (this._loadingFX && this._zr.remove(this._loadingFX), this._loadingFX = null) }, e.prototype.makeActionFromEvent = function (t) { var e = a.extend({}, t); return e.type = Xt[t.type], e }, e.prototype.dispatchAction = function (t, e) { if (this._disposed)Ht(this.id); else if (H(e) || (e = { silent: !!e }), Wt[t.type] && this._model) if (this[st]) this._pendingActions.push(t); else { var n = e.silent; St.call(this, t, n); var i = e.flush; i ? this._zr.flush() : !1 !== i && s.a.browser.weChat && this._throttledZrFlush(), Mt.call(this, n), It.call(this, n) } }, e.prototype.updateLabelLayout = function () { var t = this._labelManager; t.updateLayoutConfig(this._api), t.layout(this._api), t.processLabelsOverall() }, e.prototype.appendData = function (t) { if (this._disposed)Ht(this.id); else { var e = t.seriesIndex; var n = this.getModel(); var i = n.getSeriesByIndex(e); 0, i.appendData(t), this._scheduler.unfinished = !0, this.getZr().wakeUp() } }, e.internalField = (function () { function t (t) { for (var e = [], n = t.currentStates, i = 0; i < n.length; i++) { var r = n[i]; r !== 'emphasis' && r !== 'blur' && r !== 'select' && e.push(r) }t.selected && t.states.select && e.push('select'), t.hoverState === _.e && t.states.emphasis ? e.push('emphasis') : t.hoverState === _.d && t.states.blur && e.push('blur'), t.useStates(e) } function e (t, e) { var n = t._zr; var i = n.storage; var r = 0; i.traverse(function (t) { t.isGroup || r++ }), r > e.get('hoverLayerThreshold') && !s.a.node && !s.a.worker && e.eachSeries(function (e) { if (!e.preventUsingHoverLayer) { var n = t._chartsMap[e.__viewId]; n.__alive && n.group.traverse(function (t) { t.states.emphasis && (t.states.emphasis.hoverLayer = !0) }) } }) } function n (t, e) { var n = t.get('blendMode') || null; e.group.traverse(function (t) { t.isGroup || (t.style.blend = n), t.eachPendingDisplayable && t.eachPendingDisplayable(function (t) { t.style.blend = n }) }) } function r (t, e) { if (!t.preventAutoZ) { var n = t.get('z'); var i = t.get('zlevel'); e.group.traverse(function (t) { if (!t.isGroup) { n != null && (t.z = n), i != null && (t.zlevel = i); var e = t.getTextContent(); var r = t.getTextGuideLine(); if (e && (e.z = t.z, e.zlevel = t.zlevel, e.z2 = t.z2 + 2), r) { var a = t.textGuideLineConfig && t.textGuideLineConfig.showAbove; r.z = t.z, r.zlevel = t.zlevel, r.z2 = t.z2 + (a ? 1 : -1) } } }) } } function l (t, e) { e.group.traverse(function (t) { if (!b.isElementRemoved(t)) { var e = t.getTextContent(); var n = t.getTextGuideLine(); t.stateTransition && (t.stateTransition = null), e && e.stateTransition && (e.stateTransition = null), n && n.stateTransition && (n.stateTransition = null), t.hasState() ? (t.prevStates = t.currentStates, t.clearStates()) : t.prevStates && (t.prevStates = null) } }) } function u (e, n) { var i = e.getModel('stateAnimation'); var r = e.isAnimationEnabled(); var a = i.get('duration'); var o = a > 0 ? { duration: a, delay: i.get('delay'), easing: i.get('easing') } : null; n.group.traverse(function (e) { if (e.states && e.states.emphasis) { if (b.isElementRemoved(e)) return; if (e instanceof b.Path && Object(_.z)(e), e.__dirty) { var n = e.prevStates; n && e.useStates(n) } if (r) { e.stateTransition = o; var i = e.getTextContent(); var a = e.getTextGuideLine(); i && (i.stateTransition = o), a && (a.stateTransition = o) }e.__dirty && t(e) } }) }mt = function (t) { var e = t._scheduler; e.restorePipelines(t._model), e.prepareStageTasks(), bt(t, !0), bt(t, !1), e.plan() }, bt = function (t, e) { for (var n = t._model, i = t._scheduler, r = e ? t._componentsViews : t._chartsViews, a = e ? t._componentsMap : t._chartsMap, o = t._zr, s = t._api, l = 0; l < r.length; l++)r[l].__alive = !1; function u (t) { var l = t.__requireNewView; t.__requireNewView = !1; var u = '_ec_' + t.id + '_' + t.type; var c = !l && a[u]; if (!c) { var h = Object(A.f)(t.type); var d = e ? v.a.getClass(h.main, h.sub) : m.a.getClass(h.sub); 0, c = new d(), c.init(n, s), a[u] = c, r.push(c), o.add(c.group) }t.__viewId = c.__id = u, c.__alive = !0, c.__model = t, c.group.__ecComponentInfo = { mainType: t.mainType, index: t.componentIndex }, !e && i.prepareView(c, t, n, s) }e ? n.eachComponent(function (t, e) { t !== 'series' && u(e) }) : n.eachSeries(u); for (l = 0; l < r.length;) { var c = r[l]; c.__alive ? l++ : (!e && c.renderTask.dispose(), o.remove(c.group), c.dispose(n, s), r.splice(l, 1), a[c.__id] === c && delete a[c.__id], c.__id = c.group.__ecComponentInfo = null) } }, xt = function (t, e, n, i, r) { var o = t._model; if (o.setUpdatePayload(n), i) { var s = {}; s[i + 'Id'] = n[i + 'Id'], s[i + 'Index'] = n[i + 'Index'], s[i + 'Name'] = n[i + 'Name']; var l = { mainType: i, query: s }; r && (l.subType = r); var u; var c = n.excludeSeriesId; c != null && (u = a.createHashMap(), F(w.r(c), function (t) { var e = w.e(t, null); e != null && u.set(e, !0) })), o && o.eachComponent(l, function (e) { u && u.get(e.id) != null || (Object(_.t)(n) && !n.notBlur ? e instanceof y.a && Object(_.G)(e, n, t._api) : Object(_.u)(n) && e instanceof y.a && (Object(_.E)(e, n, t._api), Object(_.H)(e), Nt(t)), h(t[i === 'series' ? '_chartsMap' : '_componentsMap'][e.__viewId])) }, t) } else F([].concat(t._componentsViews).concat(t._chartsViews), h); function h (i) { i && i.__alive && i[e] && i[e](i.__model, o, t._api, n) } }, _t = { prepareAndUpdate: function (t) { mt(this), _t.update.call(this, t) }, update: function (t) { var e = this._model; var n = this._api; var i = this._zr; var r = this._coordSysMgr; var a = this._scheduler; if (e) { e.setUpdatePayload(t), a.restoreData(e, t), a.performSeriesTasks(e), r.create(e, n), a.performDataProcessorTasks(e, t), Ot(this, e), r.update(e, n), At(e), a.performVisualTasks(e, t), Ct(this, e, n, t); var l = e.get('backgroundColor') || 'transparent'; var u = e.get('darkMode'); if (s.a.canvasSupported)i.setBackgroundColor(l), u != null && u !== 'auto' && i.setDarkMode(u); else { var c = o.f(l); l = o.g(c, 'rgb'), c[3] === 0 && (l = 'transparent') }Lt(e, n) } }, updateTransform: function (t) { var e = this; var n = this._model; var i = this._api; if (n) { n.setUpdatePayload(t); var r = []; n.eachComponent(function (a, o) { if (a !== 'series') { var s = e.getViewOfComponentModel(o); if (s && s.__alive) if (s.updateTransform) { var l = s.updateTransform(o, n, i, t); l && l.update && r.push(s) } else r.push(s) } }); var o = a.createHashMap(); n.eachSeries(function (r) { var a = e._chartsMap[r.__viewId]; if (a.updateTransform) { var s = a.updateTransform(r, n, i, t); s && s.update && o.set(r.uid, 1) } else o.set(r.uid, 1) }), At(n), this._scheduler.performVisualTasks(n, t, { setDirty: !0, dirtyMap: o }), kt(this, n, i, t, o), Lt(n, this._api) } }, updateView: function (t) { var e = this._model; e && (e.setUpdatePayload(t), m.a.markUpdateMethod(t, 'updateView'), At(e), this._scheduler.performVisualTasks(e, t, { setDirty: !0 }), Ct(this, this._model, this._api, t), Lt(e, this._api)) }, updateVisual: function (t) { var e = this; var n = this._model; n && (n.setUpdatePayload(t), n.eachSeries(function (t) { t.getData().clearAllVisual() }), m.a.markUpdateMethod(t, 'updateVisual'), At(n), this._scheduler.performVisualTasks(n, t, { visualType: 'visual', setDirty: !0 }), n.eachComponent(function (i, r) { if (i !== 'series') { var a = e.getViewOfComponentModel(r); a && a.__alive && a.updateVisual(r, n, e._api, t) } }), n.eachSeries(function (i) { var r = e._chartsMap[i.__viewId]; r.updateVisual(i, n, e._api, t) }), Lt(n, this._api)) }, updateLayout: function (t) { _t.update.call(this, t) } }, wt = function (t, e, n, i) { if (t._disposed)Ht(t.id); else { for (var r, a = t._model, o = t._coordSysMgr.getCoordinateSystems(), s = w.s(a, n), l = 0; l < o.length; l++) { var u = o[l]; if (u[e] && (r = u[e](a, s, i)) != null) return r }0 } }, Ot = function (t, e) { var n = t._chartsMap; var i = t._scheduler; e.eachSeries(function (t) { i.updateStreamModes(t, n[t.__viewId]) }) }, St = function (t, e) { var n = this; var i = this.getModel(); var r = t.type; var o = t.escapeConnect; var s = Wt[r]; var l = s.actionInfo; var u = (l.update || 'update').split(':'); var c = u.pop(); var h = u[0] != null && Object(A.f)(u[0]); this[st] = !0; var d = [t]; var p = !1; t.batch && (p = !0, d = a.map(t.batch, function (e) { return e = a.defaults(a.extend({}, e), t), e.batch = null, e })); var f; var g = []; var y = Object(_.u)(t); var v = Object(_.t)(t) || y; if (F(d, function (t) { f = s.action(t, n._model, n._api), f = f || a.extend({}, t), f.type = l.event || f.type, g.push(f), v ? (xt(n, c, t, 'series'), Nt(n)) : h && xt(n, c, t, h.main, h.sub) }), c === 'none' || v || h || (this[lt] ? (mt(this), _t.update.call(this, t), this[lt] = !1) : _t[c].call(this, t)), f = p ? { type: l.event || r, escapeConnect: o, batch: g } : g[0], this[st] = !1, !e) { var m = this._messageCenter; if (m.trigger(f.type, f), y) { var b = { type: 'selectchanged', escapeConnect: o, selected: Object(_.q)(i), isFromClick: t.isFromClick || !1, fromAction: t.type, fromActionPayload: t }; m.trigger(b.type, b) } } }, Mt = function (t) { var e = this._pendingActions; while (e.length) { var n = e.shift(); St.call(this, n, t) } }, It = function (t) { !t && this.trigger('updated') }, Tt = function (t, e) { t.on('rendered', function (n) { e.trigger('rendered', n), !t.animation.isFinished() || e[lt] || e._scheduler.unfinished || e._pendingActions.length || e.trigger('finished') }) }, jt = function (t, e) { t.on('mouseover', function (t) { var n = t.target; var i = Object(z.a)(n, _.s); if (i) { var r = Object(x.a)(i); Object(_.F)(r.seriesIndex, r.focus, r.blurScope, e._api, !0), Object(_.o)(i, t), Nt(e) } }).on('mouseout', function (t) { var n = t.target; var i = Object(z.a)(n, _.s); if (i) { var r = Object(x.a)(i); Object(_.F)(r.seriesIndex, r.focus, r.blurScope, e._api, !1), Object(_.x)(i, t), Nt(e) } }).on('click', function (t) { var n = t.target; var i = Object(z.a)(n, function (t) { return Object(x.a)(t).dataIndex != null }, !0); if (i) { var r = i.selected ? 'unselect' : 'select'; var a = Object(x.a)(i); e._api.dispatchAction({ type: r, dataType: a.dataType, dataIndexInside: a.dataIndex, seriesIndex: a.seriesIndex, isFromClick: !0 }) } }) }, At = function (t) { t.clearColorPalette(), t.eachSeries(function (t) { t.clearColorPalette() }) }, Ct = function (t, e, n, i) { Dt(t, e, n, i), F(t._chartsViews, function (t) { t.__alive = !1 }), kt(t, e, n, i), F(t._chartsViews, function (t) { t.__alive || t.remove(e, n) }) }, Dt = function (t, e, n, i, a) { F(a || t._componentsViews, function (t) { var a = t.__model; l(a, t), t.render(a, e, n, i), r(a, t), u(a, t) }) }, kt = function (t, i, a, o, s) { var c = t._scheduler; var h = t._labelManager; h.clearLabels(); var d = !1; i.eachSeries(function (e) { var i = t._chartsMap[e.__viewId]; i.__alive = !0; var r = i.renderTask; c.updatePayload(r, o), l(e, i), s && s.get(e.uid) && r.dirty(), r.perform(c.getPerformArgs(r)) && (d = !0), e.__transientTransitionOpt = null, i.group.silent = !!e.get('silent'), n(e, i), Object(_.H)(e), h.addLabelsOfSeries(i) }), c.unfinished = d || c.unfinished, h.updateLayoutConfig(a), h.layout(a), h.processLabelsOverall(), i.eachSeries(function (e) { var n = t._chartsMap[e.__viewId]; r(e, n), u(e, n) }), e(t, i) }, Lt = function (t, e) { F(Zt, function (n) { n(t, e) }) }, Nt = function (t) { t[ut] = !0, t.getZr().wakeUp() }, Et = function (e) { e[ut] && (e.getZr().storage.traverse(function (e) { b.isElementRemoved(e) || t(e) }), e[ut] = !1) }, Pt = function (t) { return new (function (e) { function n () { return e !== null && e.apply(this, arguments) || this } return Object(i.b)(n, e), n.prototype.getCoordinateSystems = function () { return t._coordSysMgr.getCoordinateSystems() }, n.prototype.getComponentByElement = function (e) { while (e) { var n = e.__ecComponentInfo; if (n != null) return t._model.getComponent(n.mainType, n.index); e = e.parent } }, n.prototype.enterEmphasis = function (e, n) { Object(_.n)(e, n), Nt(t) }, n.prototype.leaveEmphasis = function (e, n) { Object(_.w)(e, n), Nt(t) }, n.prototype.enterBlur = function (e) { Object(_.m)(e), Nt(t) }, n.prototype.leaveBlur = function (e) { Object(_.v)(e), Nt(t) }, n.prototype.enterSelect = function (e) { Object(_.p)(e), Nt(t) }, n.prototype.leaveSelect = function (e) { Object(_.y)(e), Nt(t) }, n.prototype.getModel = function () { return t.getModel() }, n.prototype.getViewOfComponentModel = function (e) { return t.getViewOfComponentModel(e) }, n.prototype.getViewOfSeriesModel = function (e) { return t.getViewOfSeriesModel(e) }, n }(h.a))(t) }, function (t) { function e (t, e) { for (var n = 0; n < t.length; n++) { var i = t[n]; i[ht] = e } }F(Xt, function (n, i) { t._messageCenter.on(i, function (n) { if (Jt[t.group] && t[ht] !== dt) { if (n && n.escapeConnect) return; var i = t.makeActionFromEvent(n); var r = []; F(Qt, function (e) { e !== t && e.group === t.group && r.push(e) }), e(r, dt), F(r, function (t) { t[ht] !== pt && t.dispatchAction(i) }), e(r, ft) } }) }) }, Rt = function (t, e) { var n = t._model; a.each(w.r(e), function (t) { var e; var i = t.from; var r = t.to; r == null && Object(P.b)(e); var a = { includeMainTypes: ['series'], enableAll: !1, enableNone: !1 }; var o = i ? w.s(n, i, a) : null; var s = w.s(n, r, a); var l = s.seriesModel; l == null && (e = ''), o && o.seriesModel !== l && (e = ''), e != null && Object(P.b)(e), l.__transientTransitionOpt = { from: i ? i.dimension : null, to: r.dimension, dividingMethod: t.dividingMethod } }) } }()), e }(u.a)); var Ft = Vt.prototype; Ft.on = gt('on'), Ft.off = gt('off'), Ft.one = function (t, e, n) { var i = this; function r () { for (var n = [], a = 0; a < arguments.length; a++)n[a] = arguments[a]; e && e.apply && e.apply(this, n), i.off(t, r) }Object(P.a)('ECharts#one is deprecated.'), this.on.call(this, t, r, n) }; var Gt = ['click', 'dblclick', 'mouseover', 'mouseout', 'mousemove', 'mousedown', 'mouseup', 'globalout', 'contextmenu']; function Ht (t) { 0 } var Wt = {}; var Xt = {}; var Yt = []; var Ut = []; var Zt = []; var qt = []; var Kt = {}; var $t = {}; var Qt = {}; var Jt = {}; var te = (new Date(), new Date(), '_echarts_instance_'); function ee (t, e) { Kt[t] = e } function ne (t) { Ut.push(t) } function ie (t, e) { le(Yt, t, e, Z) } function re (t, e, n) { typeof e === 'function' && (n = e, e = ''); var i = H(t) ? t.type : [t, t = { event: e }][0]; t.event = (t.event || i).toLowerCase(), e = t.event, V(ct.test(i) && ct.test(e)), Wt[i] || (Wt[i] = { action: n, actionInfo: t }), Xt[e] = i } function ae (t, e) { d.a.register(t, e) } function oe (t, e) { le(qt, t, e, K, 'layout') } function se (t, e) { le(qt, t, e, J, 'visual') } function le (t, e, n, i, r) { (G(e) || H(e)) && (n = e, e = i); var a = I.a.wrapStageHandler(n, r); a.__prio = e, a.__raw = n, t.push(a) } function ue (t, e) { $t[t] = e } function ce (t) { return v.a.extend(t) } var he = N.b; se(Q, S.c), se(et, S.b), se(et, S.a), se(Q, D.b), se(et, D.a), se(at, B.a), ne(f.a), ie(Y, g.a), ue('default', M.a), re({ type: _.c, event: _.c, update: _.c }, a.noop), re({ type: _.b, event: _.b, update: _.b }, a.noop), re({ type: _.f, event: _.f, update: _.f }, a.noop), re({ type: _.i, event: _.i, update: _.i }, a.noop), re({ type: _.h, event: _.h, update: _.h }, a.noop), ee('light', T.a), ee('dark', j.a) }).call(this, n('c8ba')) },
  eb53: function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return dt }), n.d(e, 'b', function () { return pt }); var i = n('0d4d'); var r = n('cc6e'); var a = n('21a1'); var o = n('3c03'); var s = (function () { function t (t, e) { this.target = t, this.topTarget = e && e.topTarget } return t }()); var l = (function () { function t (t) { this.handler = t, t.on('mousedown', this._dragStart, this), t.on('mousemove', this._drag, this), t.on('mouseup', this._dragEnd, this) } return t.prototype._dragStart = function (t) { var e = t.target; while (e && !e.draggable)e = e.parent; e && (this._draggingTarget = e, e.dragging = !0, this._x = t.offsetX, this._y = t.offsetY, this.handler.dispatchToElement(new s(e, t), 'dragstart', t.event)) }, t.prototype._drag = function (t) { var e = this._draggingTarget; if (e) { var n = t.offsetX; var i = t.offsetY; var r = n - this._x; var a = i - this._y; this._x = n, this._y = i, e.drift(r, a, t), this.handler.dispatchToElement(new s(e, t), 'drag', t.event); var o = this.handler.findHover(n, i, e).target; var l = this._dropTarget; this._dropTarget = o, e !== o && (l && o !== l && this.handler.dispatchToElement(new s(l, t), 'dragleave', t.event), o && o !== l && this.handler.dispatchToElement(new s(o, t), 'dragenter', t.event)) } }, t.prototype._dragEnd = function (t) { var e = this._draggingTarget; e && (e.dragging = !1), this.handler.dispatchToElement(new s(e, t), 'dragend', t.event), this._dropTarget && this.handler.dispatchToElement(new s(this._dropTarget, t), 'drop', t.event), this._draggingTarget = null, this._dropTarget = null }, t }()); var u = l; var c = n('5395'); var h = n('ede8'); var d = (function () { function t () { this._track = [] } return t.prototype.recognize = function (t, e, n) { return this._doTrack(t, e, n), this._recognize(t) }, t.prototype.clear = function () { return this._track.length = 0, this }, t.prototype._doTrack = function (t, e, n) { var i = t.touches; if (i) { for (var r = { points: [], touches: [], target: e, event: t }, a = 0, o = i.length; a < o; a++) { var s = i[a]; var l = h.b(n, s, {}); r.points.push([l.zrX, l.zrY]), r.touches.push(s) } this._track.push(r) } }, t.prototype._recognize = function (t) { for (var e in g) if (g.hasOwnProperty(e)) { var n = g[e](this._track, t); if (n) return n } }, t }()); function p (t) { var e = t[1][0] - t[0][0]; var n = t[1][1] - t[0][1]; return Math.sqrt(e * e + n * n) } function f (t) { return [(t[0][0] + t[1][0]) / 2, (t[0][1] + t[1][1]) / 2] } var g = { pinch: function (t, e) { var n = t.length; if (n) { var i = (t[n - 1] || {}).points; var r = (t[n - 2] || {}).points || i; if (r && r.length > 1 && i && i.length > 1) { var a = p(i) / p(r); !isFinite(a) && (a = 1), e.pinchScale = a; var o = f(i); return e.pinchX = o[0], e.pinchY = o[1], { type: 'pinch', target: t[0].target, event: e } } } } }; var y = 'silent'; function v (t, e, n) { return { type: t, event: n, target: e.target, topTarget: e.topTarget, cancelBubble: !1, offsetX: n.zrX, offsetY: n.zrY, gestureEvent: n.gestureEvent, pinchX: n.pinchX, pinchY: n.pinchY, pinchScale: n.pinchScale, wheelDelta: n.zrDelta, zrByTouch: n.zrByTouch, which: n.which, stop: m } } function m () { h.g(this.event) } var b = (function (t) { function e () { var e = t !== null && t.apply(this, arguments) || this; return e.handler = null, e } return Object(a.a)(e, t), e.prototype.dispose = function () {}, e.prototype.setCursor = function () {}, e }(c.a)); var x = (function () { function t (t, e) { this.x = t, this.y = e } return t }()); var _ = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu']; var w = (function (t) { function e (e, n, i, r) { var a = t.call(this) || this; return a._hovered = new x(0, 0), a.storage = e, a.painter = n, a.painterRoot = r, i = i || new b(), a.proxy = null, a.setHandlerProxy(i), a._draggingMgr = new u(a), a } return Object(a.a)(e, t), e.prototype.setHandlerProxy = function (t) { this.proxy && this.proxy.dispose(), t && (r.each(_, function (e) { t.on && t.on(e, this[e], this) }, this), t.handler = this), this.proxy = t }, e.prototype.mousemove = function (t) { var e = t.zrX; var n = t.zrY; var i = S(this, e, n); var r = this._hovered; var a = r.target; a && !a.__zr && (r = this.findHover(r.x, r.y), a = r.target); var o = this._hovered = i ? new x(e, n) : this.findHover(e, n); var s = o.target; var l = this.proxy; l.setCursor && l.setCursor(s ? s.cursor : 'default'), a && s !== a && this.dispatchToElement(r, 'mouseout', t), this.dispatchToElement(o, 'mousemove', t), s && s !== a && this.dispatchToElement(o, 'mouseover', t) }, e.prototype.mouseout = function (t) { var e = t.zrEventControl; var n = t.zrIsToLocalDOM; e !== 'only_globalout' && this.dispatchToElement(this._hovered, 'mouseout', t), e !== 'no_globalout' && !n && this.trigger('globalout', { type: 'globalout', event: t }) }, e.prototype.resize = function () { this._hovered = new x(0, 0) }, e.prototype.dispatch = function (t, e) { var n = this[t]; n && n.call(this, e) }, e.prototype.dispose = function () { this.proxy.dispose(), this.storage = null, this.proxy = null, this.painter = null }, e.prototype.setCursorStyle = function (t) { var e = this.proxy; e.setCursor && e.setCursor(t) }, e.prototype.dispatchToElement = function (t, e, n) { t = t || {}; var i = t.target; if (!i || !i.silent) { var r = 'on' + e; var a = v(e, t, n); while (i) if (i[r] && (a.cancelBubble = !!i[r].call(i, a)), i.trigger(e, a), i = i.__hostTarget ? i.__hostTarget : i.parent, a.cancelBubble) break; a.cancelBubble || (this.trigger(e, a), this.painter && this.painter.eachOtherLayer && this.painter.eachOtherLayer(function (t) { typeof t[r] === 'function' && t[r].call(t, a), t.trigger && t.trigger(e, a) })) } }, e.prototype.findHover = function (t, e, n) { for (var i = this.storage.getDisplayList(), r = new x(t, e), a = i.length - 1; a >= 0; a--) { var o = void 0; if (i[a] !== n && !i[a].ignore && (o = O(i[a], t, e)) && (!r.topTarget && (r.topTarget = i[a]), o !== y)) { r.target = i[a]; break } } return r }, e.prototype.processGesture = function (t, e) { this._gestureMgr || (this._gestureMgr = new d()); var n = this._gestureMgr; e === 'start' && n.clear(); var i = n.recognize(t, this.findHover(t.zrX, t.zrY, null).target, this.proxy.dom); if (e === 'end' && n.clear(), i) { var r = i.type; t.gestureEvent = r; var a = new x(); a.target = i.target, this.dispatchToElement(a, r, i.event) } }, e }(c.a)); function O (t, e, n) { if (t[t.rectHover ? 'rectContain' : 'contain'](e, n)) { var i = t; var r = void 0; var a = !1; while (i) { if (i.ignoreClip && (a = !0), !a) { var o = i.getClipPath(); if (o && !o.contain(e, n)) return !1; i.silent && (r = !0) } var s = i.__hostTarget; i = s || i.parent } return !r || y } return !1 } function S (t, e, n) { var i = t.painter; return e < 0 || e > i.getWidth() || n < 0 || n > i.getHeight() }r.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (t) { w.prototype[t] = function (e) { var n; var i; var r = e.zrX; var a = e.zrY; var s = S(this, r, a); if (t === 'mouseup' && s || (n = this.findHover(r, a), i = n.target), t === 'mousedown') this._downEl = i, this._downPoint = [e.zrX, e.zrY], this._upEl = i; else if (t === 'mouseup') this._upEl = i; else if (t === 'click') { if (this._downEl !== this._upEl || !this._downPoint || o.f(this._downPoint, [e.zrX, e.zrY]) > 4) return; this._downPoint = null } this.dispatchToElement(n, t, e) } }); var M = w; var I = n('8a3b'); var T = n('6c55'); var j = !1; function A () { j || (j = !0) } function C (t, e) { return t.zlevel === e.zlevel ? t.z === e.z ? t.z2 - e.z2 : t.z - e.z : t.zlevel - e.zlevel } var D = (function () { function t () { this._roots = [], this._displayList = [], this._displayListLen = 0, this.displayableSortFunc = C } return t.prototype.traverse = function (t, e) { for (var n = 0; n < this._roots.length; n++) this._roots[n].traverse(t, e) }, t.prototype.getDisplayList = function (t, e) { e = e || !1; var n = this._displayList; return !t && n.length || this.updateDisplayList(e), n }, t.prototype.updateDisplayList = function (t) { this._displayListLen = 0; for (var e = this._roots, n = this._displayList, r = 0, a = e.length; r < a; r++) this._updateAndAddDisplayable(e[r], null, t); n.length = this._displayListLen, i.a.canvasSupported && Object(T.a)(n, C) }, t.prototype._updateAndAddDisplayable = function (t, e, n) { if (!t.ignore || n) { t.beforeUpdate(), t.update(), t.afterUpdate(); var i = t.getClipPath(); if (t.ignoreClip)e = null; else if (i) { e = e ? e.slice() : []; var r = i; var a = t; while (r)r.parent = a, r.updateTransform(), e.push(r), a = r, r = r.getClipPath() } if (t.childrenRef) { for (var o = t.childrenRef(), s = 0; s < o.length; s++) { var l = o[s]; t.__dirty && (l.__dirty |= I.a.REDARAW_BIT), this._updateAndAddDisplayable(l, e, n) }t.__dirty = 0 } else { var u = t; e && e.length ? u.__clipPaths = e : u.__clipPaths && u.__clipPaths.length > 0 && (u.__clipPaths = []), isNaN(u.z) && (A(), u.z = 0), isNaN(u.z2) && (A(), u.z2 = 0), isNaN(u.zlevel) && (A(), u.zlevel = 0), this._displayList[this._displayListLen++] = u } var c = t.getDecalElement && t.getDecalElement(); c && this._updateAndAddDisplayable(c, e, n); var h = t.getTextGuideLine(); h && this._updateAndAddDisplayable(h, e, n); var d = t.getTextContent(); d && this._updateAndAddDisplayable(d, e, n) } }, t.prototype.addRoot = function (t) { t.__zr && t.__zr.storage === this || this._roots.push(t) }, t.prototype.delRoot = function (t) { if (t instanceof Array) for (var e = 0, n = t.length; e < n; e++) this.delRoot(t[e]); else { var i = r.indexOf(this._roots, t); i >= 0 && this._roots.splice(i, 1) } }, t.prototype.delAllRoots = function () { this._roots = [], this._displayList = [], this._displayListLen = 0 }, t.prototype.getRoots = function () { return this._roots }, t.prototype.dispose = function () { this._displayList = null, this._roots = null }, t }()); var k = D; var L = n('aa80'); var P = n('c585'); var R = (function (t) { function e (e) { var n = t.call(this) || this; return n._running = !1, n._time = 0, n._pausedTime = 0, n._pauseStart = 0, n._paused = !1, e = e || {}, n.stage = e.stage || {}, n.onframe = e.onframe || function () {}, n } return Object(a.a)(e, t), e.prototype.addClip = function (t) { t.animation && this.removeClip(t), this._clipsHead ? (this._clipsTail.next = t, t.prev = this._clipsTail, t.next = null, this._clipsTail = t) : this._clipsHead = this._clipsTail = t, t.animation = this }, e.prototype.addAnimator = function (t) { t.animation = this; var e = t.getClip(); e && this.addClip(e) }, e.prototype.removeClip = function (t) { if (t.animation) { var e = t.prev; var n = t.next; e ? e.next = n : this._clipsHead = n, n ? n.prev = e : this._clipsTail = e, t.next = t.prev = t.animation = null } }, e.prototype.removeAnimator = function (t) { var e = t.getClip(); e && this.removeClip(e), t.animation = null }, e.prototype.update = function (t) { var e = (new Date()).getTime() - this._pausedTime; var n = e - this._time; var i = this._clipsHead; while (i) { var r = i.next; var a = i.step(e, n); a ? (i.ondestroy && i.ondestroy(), this.removeClip(i), i = r) : i = r } this._time = e, t || (this.onframe(n), this.trigger('frame', n), this.stage.update && this.stage.update()) }, e.prototype._startLoop = function () { var t = this; function e () { t._running && (Object(L.a)(e), !t._paused && t.update()) } this._running = !0, Object(L.a)(e) }, e.prototype.start = function () { this._running || (this._time = (new Date()).getTime(), this._pausedTime = 0, this._startLoop()) }, e.prototype.stop = function () { this._running = !1 }, e.prototype.pause = function () { this._paused || (this._pauseStart = (new Date()).getTime(), this._paused = !0) }, e.prototype.resume = function () { this._paused && (this._pausedTime += (new Date()).getTime() - this._pauseStart, this._paused = !1) }, e.prototype.clear = function () { var t = this._clipsHead; while (t) { var e = t.next; t.prev = t.next = t.animation = null, t = e } this._clipsHead = this._clipsTail = null }, e.prototype.isFinished = function () { return this._clipsHead == null }, e.prototype.animate = function (t, e) { e = e || {}, this.start(); var n = new P.b(t, e.loop); return this.addAnimator(n), n }, e }(c.a)); var N = R; var E = 300; var z = i.a.domSupported; var B = (function () { var t = ['click', 'dblclick', 'mousewheel', 'wheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu']; var e = ['touchstart', 'touchend', 'touchmove']; var n = { pointerdown: 1, pointerup: 1, pointermove: 1, pointerout: 1 }; var i = r.map(t, function (t) { var e = t.replace('mouse', 'pointer'); return n.hasOwnProperty(e) ? e : t }); return { mouse: t, touch: e, pointer: i } }()); var V = { mouse: ['mousemove', 'mouseup'], pointer: ['pointermove', 'pointerup'] }; var F = !1; function G (t) { var e = t.pointerType; return e === 'pen' || e === 'touch' } function H (t) { t.touching = !0, t.touchTimer != null && (clearTimeout(t.touchTimer), t.touchTimer = null), t.touchTimer = setTimeout(function () { t.touching = !1, t.touchTimer = null }, 700) } function W (t) { t && (t.zrByTouch = !0) } function X (t, e) { return Object(h.e)(t.dom, new U(t, e), !0) } function Y (t, e) { var n = e; var i = !1; while (n && n.nodeType !== 9 && !(i = n.domBelongToZr || n !== e && n === t.painterRoot))n = n.parentNode; return i } var U = (function () { function t (t, e) { this.stopPropagation = r.noop, this.stopImmediatePropagation = r.noop, this.preventDefault = r.noop, this.type = e.type, this.target = this.currentTarget = t.dom, this.pointerType = e.pointerType, this.clientX = e.clientX, this.clientY = e.clientY } return t }()); var Z = { mousedown: function (t) { t = Object(h.e)(this.dom, t), this.__mayPointerCapture = [t.zrX, t.zrY], this.trigger('mousedown', t) }, mousemove: function (t) { t = Object(h.e)(this.dom, t); var e = this.__mayPointerCapture; !e || t.zrX === e[0] && t.zrY === e[1] || this.__togglePointerCapture(!0), this.trigger('mousemove', t) }, mouseup: function (t) { t = Object(h.e)(this.dom, t), this.__togglePointerCapture(!1), this.trigger('mouseup', t) }, mouseout: function (t) { if (t.target === this.dom) { t = Object(h.e)(this.dom, t), this.__pointerCapturing && (t.zrEventControl = 'no_globalout'); var e = t.toElement || t.relatedTarget; t.zrIsToLocalDOM = Y(this, e), this.trigger('mouseout', t) } }, wheel: function (t) { F = !0, t = Object(h.e)(this.dom, t), this.trigger('mousewheel', t) }, mousewheel: function (t) { F || (t = Object(h.e)(this.dom, t), this.trigger('mousewheel', t)) }, touchstart: function (t) { t = Object(h.e)(this.dom, t), W(t), this.__lastTouchMoment = new Date(), this.handler.processGesture(t, 'start'), Z.mousemove.call(this, t), Z.mousedown.call(this, t) }, touchmove: function (t) { t = Object(h.e)(this.dom, t), W(t), this.handler.processGesture(t, 'change'), Z.mousemove.call(this, t) }, touchend: function (t) { t = Object(h.e)(this.dom, t), W(t), this.handler.processGesture(t, 'end'), Z.mouseup.call(this, t), +new Date() - +this.__lastTouchMoment < E && Z.click.call(this, t) }, pointerdown: function (t) { Z.mousedown.call(this, t) }, pointermove: function (t) { G(t) || Z.mousemove.call(this, t) }, pointerup: function (t) { Z.mouseup.call(this, t) }, pointerout: function (t) { G(t) || Z.mouseout.call(this, t) } }; r.each(['click', 'dblclick', 'contextmenu'], function (t) { Z[t] = function (e) { e = Object(h.e)(this.dom, e), this.trigger(t, e) } }); var q = { pointermove: function (t) { G(t) || q.mousemove.call(this, t) }, pointerup: function (t) { q.mouseup.call(this, t) }, mousemove: function (t) { this.trigger('mousemove', t) }, mouseup: function (t) { var e = this.__pointerCapturing; this.__togglePointerCapture(!1), this.trigger('mouseup', t), e && (t.zrEventControl = 'only_globalout', this.trigger('mouseout', t)) } }; function K (t, e) { var n = e.domHandlers; i.a.pointerEventsSupported ? r.each(B.pointer, function (i) { Q(e, i, function (e) { n[i].call(t, e) }) }) : (i.a.touchEventsSupported && r.each(B.touch, function (i) { Q(e, i, function (r) { n[i].call(t, r), H(e) }) }), r.each(B.mouse, function (i) { Q(e, i, function (r) { r = Object(h.c)(r), e.touching || n[i].call(t, r) }) })) } function $ (t, e) { function n (n) { function i (i) { i = Object(h.c)(i), Y(t, i.target) || (i = X(t, i), e.domHandlers[n].call(t, i)) }Q(e, n, i, { capture: !0 }) }i.a.pointerEventsSupported ? r.each(V.pointer, n) : i.a.touchEventsSupported || r.each(V.mouse, n) } function Q (t, e, n, i) { t.mounted[e] = n, t.listenerOpts[e] = i, Object(h.a)(t.domTarget, e, n, i) } function J (t) { var e = t.mounted; for (var n in e)e.hasOwnProperty(n) && Object(h.f)(t.domTarget, n, e[n], t.listenerOpts[n]); t.mounted = {} } var tt = (function () { function t (t, e) { this.mounted = {}, this.listenerOpts = {}, this.touching = !1, this.domTarget = t, this.domHandlers = e } return t }()); var et = (function (t) { function e (e, n) { var i = t.call(this) || this; return i.__pointerCapturing = !1, i.dom = e, i.painterRoot = n, i._localHandlerScope = new tt(e, Z), z && (i._globalHandlerScope = new tt(document, q)), K(i, i._localHandlerScope), i } return Object(a.a)(e, t), e.prototype.dispose = function () { J(this._localHandlerScope), z && J(this._globalHandlerScope) }, e.prototype.setCursor = function (t) { this.dom.style && (this.dom.style.cursor = t || 'default') }, e.prototype.__togglePointerCapture = function (t) { if (this.__mayPointerCapture = null, z && +this.__pointerCapturing ^ +t) { this.__pointerCapturing = t; var e = this._globalHandlerScope; t ? $(this, e) : J(e) } }, e }(c.a)); var nt = et; var it = n('3fb5'); var rt = n('8d25'); var at = n('4d45'); var ot = !i.a.canvasSupported; var st = {}; var lt = {}; function ut (t) { delete lt[t] } function ct (t) { if (!t) return !1; if (typeof t === 'string') return Object(rt.c)(t, 1) < at.b; if (t.colorStops) { for (var e = t.colorStops, n = 0, i = e.length, r = 0; r < i; r++)n += Object(rt.c)(e[r].color, 1); return n /= i, n < at.b } return !1 } var ht = (function () { function t (t, e, n) { var r = this; this._sleepAfterStill = 10, this._stillFrameAccum = 0, this._needsRefresh = !0, this._needsRefreshHover = !0, this._darkMode = !1, n = n || {}, this.dom = e, this.id = t; var a = new k(); var o = n.renderer; if (ot) { if (!st.vml) throw new Error("You need to require 'zrender/vml/vml' to support IE8"); o = 'vml' } else o || (o = 'canvas'); if (!st[o]) throw new Error("Renderer '" + o + "' is not imported. Please import it first."); n.useDirtyRect = n.useDirtyRect != null && n.useDirtyRect; var s = new st[o](e, a, n, t); this.storage = a, this.painter = s; var l = i.a.node || i.a.worker ? null : new nt(s.getViewportRoot(), s.root); this.handler = new M(a, s, l, s.root), this.animation = new N({ stage: { update: function () { return r._flush(!0) } } }), this.animation.start() } return t.prototype.add = function (t) { t && (this.storage.addRoot(t), t.addSelfToZr(this), this.refresh()) }, t.prototype.remove = function (t) { t && (this.storage.delRoot(t), t.removeSelfFromZr(this), this.refresh()) }, t.prototype.configLayer = function (t, e) { this.painter.configLayer && this.painter.configLayer(t, e), this.refresh() }, t.prototype.setBackgroundColor = function (t) { this.painter.setBackgroundColor && this.painter.setBackgroundColor(t), this.refresh(), this._backgroundColor = t, this._darkMode = ct(t) }, t.prototype.getBackgroundColor = function () { return this._backgroundColor }, t.prototype.setDarkMode = function (t) { this._darkMode = t }, t.prototype.isDarkMode = function () { return this._darkMode }, t.prototype.refreshImmediately = function (t) { t || this.animation.update(!0), this._needsRefresh = !1, this.painter.refresh(), this._needsRefresh = !1 }, t.prototype.refresh = function () { this._needsRefresh = !0, this.animation.start() }, t.prototype.flush = function () { this._flush(!1) }, t.prototype._flush = function (t) { var e; var n = (new Date()).getTime(); this._needsRefresh && (e = !0, this.refreshImmediately(t)), this._needsRefreshHover && (e = !0, this.refreshHoverImmediately()); var i = (new Date()).getTime(); e ? (this._stillFrameAccum = 0, this.trigger('rendered', { elapsedTime: i - n })) : this._sleepAfterStill > 0 && (this._stillFrameAccum++, this._stillFrameAccum > this._sleepAfterStill && this.animation.stop()) }, t.prototype.setSleepAfterStill = function (t) { this._sleepAfterStill = t }, t.prototype.wakeUp = function () { this.animation.start(), this._stillFrameAccum = 0 }, t.prototype.addHover = function (t) {}, t.prototype.removeHover = function (t) {}, t.prototype.clearHover = function () {}, t.prototype.refreshHover = function () { this._needsRefreshHover = !0 }, t.prototype.refreshHoverImmediately = function () { this._needsRefreshHover = !1, this.painter.refreshHover && this.painter.getType() === 'canvas' && this.painter.refreshHover() }, t.prototype.resize = function (t) { t = t || {}, this.painter.resize(t.width, t.height), this.handler.resize() }, t.prototype.clearAnimation = function () { this.animation.clear() }, t.prototype.getWidth = function () { return this.painter.getWidth() }, t.prototype.getHeight = function () { return this.painter.getHeight() }, t.prototype.pathToImage = function (t, e) { if (this.painter.pathToImage) return this.painter.pathToImage(t, e) }, t.prototype.setCursorStyle = function (t) { this.handler.setCursorStyle(t) }, t.prototype.findHover = function (t, e) { return this.handler.findHover(t, e) }, t.prototype.on = function (t, e, n) { return this.handler.on(t, e, n), this }, t.prototype.off = function (t, e) { this.handler.off(t, e) }, t.prototype.trigger = function (t, e) { this.handler.trigger(t, e) }, t.prototype.clear = function () { for (var t = this.storage.getRoots(), e = 0; e < t.length; e++)t[e] instanceof it.a && t[e].removeSelfFromZr(this); this.storage.delAllRoots(), this.painter.clear() }, t.prototype.dispose = function () { this.animation.stop(), this.clear(), this.storage.dispose(), this.painter.dispose(), this.handler.dispose(), this.animation = this.storage = this.painter = this.handler = null, ut(this.id) }, t }()); function dt (t, e) { var n = new ht(r.guid(), t, e); return lt[n.id] = n, n } function pt (t, e) { st[t] = e } },
  eb80: function (t, e, n) { 'use strict'; n('4826') },
  ede8: function (t, e, n) { 'use strict'; n.d(e, 'b', function () { return l }), n.d(e, 'c', function () { return c }), n.d(e, 'e', function () { return h }), n.d(e, 'a', function () { return p }), n.d(e, 'f', function () { return f }), n.d(e, 'g', function () { return g }), n.d(e, 'd', function () { return y }); n('5395'); var i = n('0d4d'); var r = n('e68e'); var a = typeof window !== 'undefined' && !!window.addEventListener; var o = /^(?:mouse|pointer|contextmenu|drag|drop)|click/; var s = []; function l (t, e, n, r) { return n = n || {}, r || !i.a.canvasSupported ? u(t, e, n) : i.a.browser.firefox && e.layerX != null && e.layerX !== e.offsetX ? (n.zrX = e.layerX, n.zrY = e.layerY) : e.offsetX != null ? (n.zrX = e.offsetX, n.zrY = e.offsetY) : u(t, e, n), n } function u (t, e, n) { if (i.a.domSupported && t.getBoundingClientRect) { var a = e.clientX; var o = e.clientY; if (Object(r.a)(t)) { var l = t.getBoundingClientRect(); return n.zrX = a - l.left, void (n.zrY = o - l.top) } if (Object(r.b)(s, t, a, o)) return n.zrX = s[0], void (n.zrY = s[1]) }n.zrX = n.zrY = 0 } function c (t) { return t || window.event } function h (t, e, n) { if (e = c(e), e.zrX != null) return e; var i = e.type; var r = i && i.indexOf('touch') >= 0; if (r) { var a = i !== 'touchend' ? e.targetTouches[0] : e.changedTouches[0]; a && l(t, a, e, n) } else { l(t, e, e, n); var s = d(e); e.zrDelta = s ? s / 120 : -(e.detail || 0) / 3 } var u = e.button; return e.which == null && void 0 !== u && o.test(e.type) && (e.which = 1 & u ? 1 : 2 & u ? 3 : 4 & u ? 2 : 0), e } function d (t) { var e = t.wheelDelta; if (e) return e; var n = t.deltaX; var i = t.deltaY; if (n == null || i == null) return e; var r = i !== 0 ? Math.abs(i) : Math.abs(n); var a = i > 0 ? -1 : i < 0 ? 1 : n > 0 ? -1 : 1; return 3 * r * a } function p (t, e, n, i) { a ? t.addEventListener(e, n, i) : t.attachEvent('on' + e, n) } function f (t, e, n, i) { a ? t.removeEventListener(e, n, i) : t.detachEvent('on' + e, n) } var g = a ? function (t) { t.preventDefault(), t.stopPropagation(), t.cancelBubble = !0 } : function (t) { t.returnValue = !1, t.cancelBubble = !0 }; function y (t) { return t.which === 2 || t.which === 3 } },
  efd1: function (t, e, n) { 'use strict'; var i = n('21a1'); var r = n('18d3'); var a = (function () { function t () { this.cx = 0, this.cy = 0, this.r = 0, this.startAngle = 0, this.endAngle = 2 * Math.PI, this.clockwise = !0 } return t }()); var o = (function (t) { function e (e) { return t.call(this, e) || this } return Object(i.a)(e, t), e.prototype.getDefaultStyle = function () { return { stroke: '#000', fill: null } }, e.prototype.getDefaultShape = function () { return new a() }, e.prototype.buildPath = function (t, e) { var n = e.cx; var i = e.cy; var r = Math.max(e.r, 0); var a = e.startAngle; var o = e.endAngle; var s = e.clockwise; var l = Math.cos(a); var u = Math.sin(a); t.moveTo(l * r + n, u * r + i), t.arc(n, i, r, a, o, !s) }, e }(r.b)); o.prototype.type = 'arc', e.a = o },
  f199: function (t, e, n) { 'use strict'; var i = n('0d4d'); var r = n('d31e'); var a = n('27bd'); var o = [['fill', 'color'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['opacity'], ['shadowColor']]; var s = Object(a.a)(o); var l = (function () { function t () {} return t.prototype.getAreaStyle = function (t, e) { return s(this, t, e) }, t }()); var u = n('86be'); var c = n('2488'); var h = ['textStyle', 'color']; var d = new c.a(); var p = (function () { function t () {} return t.prototype.getTextColor = function (t) { var e = this.ecModel; return this.getShallow('color') || (!t && e ? e.get(h) : null) }, t.prototype.getFont = function () { return Object(u.d)({ fontStyle: this.getShallow('fontStyle'), fontWeight: this.getShallow('fontWeight'), fontSize: this.getShallow('fontSize'), fontFamily: this.getShallow('fontFamily') }, this.ecModel) }, t.prototype.getTextRect = function (t) { return d.useStyle({ text: t, fontStyle: this.getShallow('fontStyle'), fontWeight: this.getShallow('fontWeight'), fontSize: this.getShallow('fontSize'), fontFamily: this.getShallow('fontFamily'), verticalAlign: this.getShallow('verticalAlign') || this.getShallow('baseline'), padding: this.getShallow('padding'), lineHeight: this.getShallow('lineHeight'), rich: this.getShallow('rich') }), d.update(), d.getBoundingRect() }, t }()); var f = p; var g = n('d7e6'); var y = n('f395'); var v = n('cc6e'); var m = (function () { function t (t, e, n) { this.parentModel = e, this.ecModel = n, this.option = t } return t.prototype.init = function (t, e, n) { for (var i = [], r = 3; r < arguments.length; r++)i[r - 3] = arguments[r] }, t.prototype.mergeOption = function (t, e) { Object(v.merge)(this.option, t, !0) }, t.prototype.get = function (t, e) { return t == null ? this.option : this._doGet(this.parsePath(t), !e && this.parentModel) }, t.prototype.getShallow = function (t, e) { var n = this.option; var i = n == null ? n : n[t]; if (i == null && !e) { var r = this.parentModel; r && (i = r.getShallow(t)) } return i }, t.prototype.getModel = function (e, n) { var i = e != null; var r = i ? this.parsePath(e) : null; var a = i ? this._doGet(r) : this.option; return n = n || this.parentModel && this.parentModel.getModel(this.resolveParentPath(r)), new t(a, n, this.ecModel) }, t.prototype.isEmpty = function () { return this.option == null }, t.prototype.restoreData = function () {}, t.prototype.clone = function () { var t = this.constructor; return new t(Object(v.clone)(this.option)) }, t.prototype.parsePath = function (t) { return typeof t === 'string' ? t.split('.') : t }, t.prototype.resolveParentPath = function (t) { return t }, t.prototype.isAnimationEnabled = function () { if (!i.a.node && this.option) { if (this.option.animation != null) return !!this.option.animation; if (this.parentModel) return this.parentModel.isAnimationEnabled() } }, t.prototype._doGet = function (t, e) { var n = this.option; if (!t) return n; for (var i = 0; i < t.length; i++) if (t[i] && (n = n && typeof n === 'object' ? n[t[i]] : null, n == null)) break; return n == null && e && (n = e._doGet(this.resolveParentPath(t), e.parentModel)), n }, t }()); Object(r.b)(m), Object(r.a)(m), Object(v.mixin)(m, g.b), Object(v.mixin)(m, y.b), Object(v.mixin)(m, l), Object(v.mixin)(m, f); e.a = m },
  f395: function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return r }), n.d(e, 'b', function () { return o }); var i = n('27bd'); var r = [['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['lineDash', 'borderType'], ['lineDashOffset', 'borderDashOffset'], ['lineCap', 'borderCap'], ['lineJoin', 'borderJoin'], ['miterLimit', 'borderMiterLimit']]; var a = Object(i.a)(r); var o = (function () { function t () {} return t.prototype.getItemStyle = function (t, e) { return a(this, t, e) }, t }()) },
  f61c: function (t, e, n) { 'use strict'; var i = n('21a1'); var r = n('18d3'); var a = n('ab54'); var o = {}; var s = (function () { function t () { this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.percent = 1 } return t }()); var l = (function (t) { function e (e) { return t.call(this, e) || this } return Object(i.a)(e, t), e.prototype.getDefaultStyle = function () { return { stroke: '#000', fill: null } }, e.prototype.getDefaultShape = function () { return new s() }, e.prototype.buildPath = function (t, e) { var n, i, r, s; if (this.subPixelOptimize) { var l = Object(a.b)(o, e, this.style); n = l.x1, i = l.y1, r = l.x2, s = l.y2 } else n = e.x1, i = e.y1, r = e.x2, s = e.y2; var u = e.percent; u !== 0 && (t.moveTo(n, i), u < 1 && (r = n * (1 - u) + r * u, s = i * (1 - u) + s * u), t.lineTo(r, s)) }, e.prototype.pointAt = function (t) { var e = this.shape; return [e.x1 * (1 - t) + e.x2 * t, e.y1 * (1 - t) + e.y2 * t] }, e }(r.b)); l.prototype.type = 'line', e.a = l },
  fbc4: function (t, e, n) { 'use strict'; n.r(e); var i = function () { var t = this; var e = t.$createElement; var n = t._self._c || e; return n('div', { staticClass: 'fans-container' }, [n('el-card', [n('div', { attrs: { slot: 'header' }, slot: 'header' }, [n('my-breadcrumb', [t._v('粉丝管理')])], 1), n('el-tabs', { attrs: { type: 'card' }, on: { 'tab-click': t.hTabClick }, model: { value: t.activeName, callback: function (e) { t.activeName = e }, expression: 'activeName' } }, [n('el-tab-pane', { attrs: { label: '粉丝列表', name: 'list' } }, [n('div', { staticClass: 'fan_list' }, t._l(t.list, function (e, i) { return n('div', { key: i, staticClass: 'fans_item' }, [n('el-avatar', { attrs: { size: 80, src: e.photo } }), n('p', [t._v(t._s(e.name))]), n('el-button', { attrs: { type: 'primary', plain: '', size: 'small' } }, [t._v('+关注')])], 1) }), 0), n('el-pagination', { attrs: { background: '', layout: 'prev,pager,next', 'page-size': t.per_page, total: t.total }, on: { 'current-change': t.hChangePage } })], 1), n('el-tab-pane', { attrs: { label: '粉丝画像', name: 'img' } }, [n('div', { ref: 'main', staticStyle: { width: '600px', height: '400px' } })])], 1)], 1)], 1) }; var r = []; var a = (n('b0c0'), n('ac1f'), n('5319'), n('96cf'), n('1da1')); var o = n('663f'); var s = n('b775'); var l = function (t, e) { return Object(s.a)({ method: 'GET', url: '/mp/v1_0/followers', params: { page: t, per_page: e } }) }; var u = function () { return Object(s.a)({ method: 'GET', url: '/mp/v1_0/statistics/followers' }) }; var c = n('e9ea'); var h = n('eb53'); var d = n('953f'); var p = n('3c03'); var f = n('cc6e'); var g = n('8d25'); var y = n('a2b2'); var v = n('1f06'); var m = n('18f3'); var b = n('8e0b'); var x = n('1012'); var _ = n('f199'); function w (t) { return t == null ? 0 : t.length || 1 } function O (t) { return t } var S = (function () { function t (t, e, n, i, r, a) { this._old = t, this._new = e, this._oldKeyGetter = n || O, this._newKeyGetter = i || O, this.context = r, this._diffModeMultiple = a === 'multiple' } return t.prototype.add = function (t) { return this._add = t, this }, t.prototype.update = function (t) { return this._update = t, this }, t.prototype.updateManyToOne = function (t) { return this._updateManyToOne = t, this }, t.prototype.updateOneToMany = function (t) { return this._updateOneToMany = t, this }, t.prototype.remove = function (t) { return this._remove = t, this }, t.prototype.execute = function () { this[this._diffModeMultiple ? '_executeMultiple' : '_executeOneToOne']() }, t.prototype._executeOneToOne = function () { var t = this._old; var e = this._new; var n = {}; var i = new Array(t.length); var r = new Array(e.length); this._initIndexMap(t, null, i, '_oldKeyGetter'), this._initIndexMap(e, n, r, '_newKeyGetter'); for (var a = 0; a < t.length; a++) { var o = i[a]; var s = n[o]; var l = w(s); if (l > 1) { var u = s.shift(); s.length === 1 && (n[o] = s[0]), this._update && this._update(u, a) } else l === 1 ? (n[o] = null, this._update && this._update(s, a)) : this._remove && this._remove(a) } this._performRestAdd(r, n) }, t.prototype._executeMultiple = function () { var t = this._old; var e = this._new; var n = {}; var i = {}; var r = []; var a = []; this._initIndexMap(t, n, r, '_oldKeyGetter'), this._initIndexMap(e, i, a, '_newKeyGetter'); for (var o = 0; o < r.length; o++) { var s = r[o]; var l = n[s]; var u = i[s]; var c = w(l); var h = w(u); if (c > 1 && h === 1) this._updateManyToOne && this._updateManyToOne(u, l), i[s] = null; else if (c === 1 && h > 1) this._updateOneToMany && this._updateOneToMany(u, l), i[s] = null; else if (c === 1 && h === 1) this._update && this._update(u, l), i[s] = null; else if (c > 1) for (var d = 0; d < c; d++) this._remove && this._remove(l[d]); else this._remove && this._remove(l) } this._performRestAdd(a, i) }, t.prototype._performRestAdd = function (t, e) { for (var n = 0; n < t.length; n++) { var i = t[n]; var r = e[i]; var a = w(r); if (a > 1) for (var o = 0; o < a; o++) this._add && this._add(r[o]); else a === 1 && this._add && this._add(r); e[i] = null } }, t.prototype._initIndexMap = function (t, e, n, i) { for (var r = this._diffModeMultiple, a = 0; a < t.length; a++) { var o = '_ec_' + this[i](t[a], a); if (r || (n[a] = o), e) { var s = e[o]; var l = w(s); l === 0 ? (e[o] = a, r && n.push(o)) : l === 1 ? e[o] = [s, a] : s.push(a) } } }, t }()); var M = S; var I = n('0f23'); var T = n('2b74'); function j (t) { var e = {}; var n = e.encode = {}; var i = Object(f.createHashMap)(); var r = []; var a = []; var o = e.userOutput = { dimensionNames: t.dimensions.slice(), encode: {} }; Object(f.each)(t.dimensions, function (e) { var s = t.getDimensionInfo(e); var l = s.coordDim; if (l) { 0; var u = s.coordDimIndex; A(n, l)[u] = e, s.isExtraCoord || (i.set(l, 1), D(s.type) && (r[0] = e), A(o.encode, l)[u] = s.index), s.defaultTooltip && a.push(e) }T.i.each(function (t, e) { var i = A(n, e); var r = s.otherDims[e]; r != null && !1 !== r && (i[r] = s.name) }) }); var s = []; var l = {}; i.each(function (t, e) { var i = n[e]; l[e] = i[0], s = s.concat(i) }), e.dataDimsOnCoord = s, e.encodeFirstDimNotExtra = l; var u = n.label; u && u.length && (r = u.slice()); var c = n.tooltip; return c && c.length ? a = c.slice() : a.length || (a = r.slice()), n.defaultedLabel = r, n.defaultedTooltip = a, e } function A (t, e) { return t.hasOwnProperty(e) || (t[e] = []), t[e] } function C (t) { return t === 'category' ? 'ordinal' : t === 'time' ? 'time' : 'float' } function D (t) { return !(t === 'ordinal' || t === 'time') } var k; var L; var P; var R; var N; var E; var z; var B; var V; var F; var G; var H; var W; var X; var Y = (function () { function t (t) { this.otherDims = {}, t != null && f.extend(this, t) } return t }()); var U = Y; var Z = n('65a1'); var q = n('cec8'); var K = n('d5c0'); var $ = n('6e8c'); var Q = Math.floor; var J = f.isObject; var tt = f.map; var et = 'undefined'; var nt = -1; var it = 'e\0\0'; var rt = { float: typeof Float64Array === et ? Array : Float64Array, int: typeof Int32Array === et ? Array : Int32Array, ordinal: Array, number: Array, time: Array }; var at = typeof Uint32Array === et ? Array : Uint32Array; var ot = typeof Int32Array === et ? Array : Int32Array; var st = typeof Uint16Array === et ? Array : Uint16Array; var lt = ['hasItemOption', '_nameList', '_idList', '_invertedIndicesMap', '_rawData', '_dimValueGetter', '_count', '_rawCount', '_nameDimIdx', '_idDimIdx', '_nameRepeatCount']; var ut = ['_extent', '_approximateExtent', '_rawExtent']; var ct = (function () { function t (t, e) { this.type = 'list', this._count = 0, this._rawCount = 0, this._storage = {}, this._storageArr = [], this._nameList = [], this._idList = [], this._visual = {}, this._layout = {}, this._itemVisuals = [], this._itemLayouts = [], this._graphicEls = [], this._rawExtent = {}, this._extent = {}, this._approximateExtent = {}, this._calculationInfo = {}, this.hasItemOption = !0, this.TRANSFERABLE_METHODS = ['cloneShallow', 'downSample', 'lttbDownSample', 'map'], this.CHANGABLE_METHODS = ['filterSelf', 'selectRange'], this.DOWNSAMPLE_METHODS = ['downSample', 'lttbDownSample'], this.getRawIndex = N, t = t || ['x', 'y']; for (var n = {}, i = [], r = {}, a = 0; a < t.length; a++) { var o = t[a]; var s = f.isString(o) ? new U({ name: o }) : o instanceof U ? o : new U(o); var l = s.name; s.type = s.type || 'float', s.coordDim || (s.coordDim = l, s.coordDimIndex = 0); var u = s.otherDims = s.otherDims || {}; i.push(l), n[l] = s, s.index = a, s.createInvertedIndices && (r[l] = []), u.itemName === 0 && (this._nameDimIdx = a, this._nameOrdinalMeta = s.ordinalMeta), u.itemId === 0 && (this._idDimIdx = a, this._idOrdinalMeta = s.ordinalMeta) } this.dimensions = i, this._dimensionInfos = n, this.hostModel = e, this._dimensionsSummary = j(this), this._invertedIndicesMap = r, this.userOutput = this._dimensionsSummary.userOutput } return t.prototype.getDimension = function (t) { return typeof t !== 'number' && (isNaN(t) || this._dimensionInfos.hasOwnProperty(t)) || (t = this.dimensions[t]), t }, t.prototype.getDimensionInfo = function (t) { return this._dimensionInfos[this.getDimension(t)] }, t.prototype.getDimensionsOnCoord = function () { return this._dimensionsSummary.dataDimsOnCoord.slice() }, t.prototype.mapDimension = function (t, e) { var n = this._dimensionsSummary; if (e == null) return n.encodeFirstDimNotExtra[t]; var i = n.encode[t]; return i ? i[e] : null }, t.prototype.mapDimensionsAll = function (t) { var e = this._dimensionsSummary; var n = e.encode[t]; return (n || []).slice() }, t.prototype.initData = function (t, e, n) { var i = Object($.d)(t) || f.isArrayLike(t); var r = i ? new I.a(t, this.dimensions.length) : t; this._rawData = r; var a = r.getSource().sourceFormat; this._storage = {}, this._indices = null, this._dontMakeIdFromName = this._idDimIdx != null || a === T.g || !!r.fillStorage, this._nameList = (e || []).slice(), this._idList = [], this._nameRepeatCount = {}, n || (this.hasItemOption = !1), this.defaultDimValueGetter = k[a], this._dimValueGetter = n = n || this.defaultDimValueGetter, this._dimValueGetterArrayRows = k.arrayRows, this._rawExtent = {}, this._initDataFromProvider(0, r.count()), r.pure && (this.hasItemOption = !1) }, t.prototype.getProvider = function () { return this._rawData }, t.prototype.appendData = function (t) { var e = this._rawData; var n = this.count(); e.appendData(t); var i = e.count(); e.persistent || (i += n), this._initDataFromProvider(n, i, !0) }, t.prototype.appendValues = function (t, e) { for (var n = this._storage, i = this.dimensions, r = i.length, a = this._rawExtent, o = this.count(), s = o + Math.max(t.length, e ? e.length : 0), l = 0; l < r; l++) { var u = i[l]; a[u] || (a[u] = H()), R(n, this._dimensionInfos[u], s, !0) } for (var c = tt(i, function (t) { return a[t] }), h = this._storageArr = tt(i, function (t) { return n[t] }), d = [], p = o; p < s; p++) { for (var f = p - o, g = 0; g < r; g++) { u = i[g]; var y = this._dimValueGetterArrayRows(t[f] || d, u, f, g); h[g][p] = y; var v = c[g]; y < v[0] && (v[0] = y), y > v[1] && (v[1] = y) }e && (this._nameList[p] = e[f], this._dontMakeIdFromName || V(this, p)) } this._rawCount = this._count = s, this._extent = {}, L(this) }, t.prototype._initDataFromProvider = function (t, e, n) { if (!(t >= e)) { for (var i = this._rawData, r = this._storage, a = this.dimensions, o = a.length, s = this._dimensionInfos, l = this._nameList, u = this._idList, c = this._rawExtent, h = i.getSource().sourceFormat, d = h === T.f, p = 0; p < o; p++) { var f = a[p]; c[f] || (c[f] = H()), R(r, s[f], e, n) } var g = this._storageArr = tt(a, function (t) { return r[t] }); var y = tt(a, function (t) { return c[t] }); if (i.fillStorage)i.fillStorage(t, e, g, y); else for (var v = [], m = t; m < e; m++) { v = i.getItem(m, v); for (var b = 0; b < o; b++) { f = a[b]; var x = g[b]; var _ = this._dimValueGetter(v, f, m, b); x[m] = _; var w = y[b]; _ < w[0] && (w[0] = _), _ > w[1] && (w[1] = _) } if (d && !i.pure && v) { var O = v.name; l[m] == null && O != null && (l[m] = Object(Z.e)(O, null)); var S = v.id; u[m] == null && S != null && (u[m] = Object(Z.e)(S, null)) } this._dontMakeIdFromName || V(this, m) }!i.persistent && i.clean && i.clean(), this._rawCount = this._count = e, this._extent = {}, L(this) } }, t.prototype.count = function () { return this._count }, t.prototype.getIndices = function () { var t; var e = this._indices; if (e) { var n = e.constructor; var i = this._count; if (n === Array) { t = new n(i); for (var r = 0; r < i; r++)t[r] = e[r] } else t = new n(e.buffer, 0, i) } else { n = P(this); t = new n(this.count()); for (r = 0; r < t.length; r++)t[r] = r } return t }, t.prototype.getByDimIdx = function (t, e) { if (!(e >= 0 && e < this._count)) return NaN; var n = this._storageArr[t]; return n ? n[this.getRawIndex(e)] : NaN }, t.prototype.get = function (t, e) { if (!(e >= 0 && e < this._count)) return NaN; var n = this._storage[t]; return n ? n[this.getRawIndex(e)] : NaN }, t.prototype.getByRawIndex = function (t, e) { if (!(e >= 0 && e < this._rawCount)) return NaN; var n = this._storage[t]; return n ? n[e] : NaN }, t.prototype.getValues = function (t, e) { var n = []; f.isArray(t) || (e = t, t = this.dimensions); for (var i = 0, r = t.length; i < r; i++)n.push(this.get(t[i], e)); return n }, t.prototype.hasValue = function (t) { for (var e = this._dimensionsSummary.dataDimsOnCoord, n = 0, i = e.length; n < i; n++) if (isNaN(this.get(e[n], t))) return !1; return !0 }, t.prototype.getDataExtent = function (t) { t = this.getDimension(t); var e = this._storage[t]; var n = H(); if (!e) return n; var i; var r = this.count(); var a = !this._indices; if (a) return this._rawExtent[t].slice(); if (i = this._extent[t], i) return i.slice(); i = n; for (var o = i[0], s = i[1], l = 0; l < r; l++) { var u = this.getRawIndex(l); var c = e[u]; c < o && (o = c), c > s && (s = c) } return i = [o, s], this._extent[t] = i, i }, t.prototype.getApproximateExtent = function (t) { return t = this.getDimension(t), this._approximateExtent[t] || this.getDataExtent(t) }, t.prototype.setApproximateExtent = function (t, e) { e = this.getDimension(e), this._approximateExtent[e] = t.slice() }, t.prototype.getCalculationInfo = function (t) { return this._calculationInfo[t] }, t.prototype.setCalculationInfo = function (t, e) { J(t) ? f.extend(this._calculationInfo, t) : this._calculationInfo[t] = e }, t.prototype.getSum = function (t) { var e = this._storage[t]; var n = 0; if (e) for (var i = 0, r = this.count(); i < r; i++) { var a = this.get(t, i); isNaN(a) || (n += a) } return n }, t.prototype.getMedian = function (t) { var e = []; this.each(t, function (t) { isNaN(t) || e.push(t) }); var n = e.sort(function (t, e) { return t - e }); var i = this.count(); return i === 0 ? 0 : i % 2 === 1 ? n[(i - 1) / 2] : (n[i / 2] + n[i / 2 - 1]) / 2 }, t.prototype.rawIndexOf = function (t, e) { var n = t && this._invertedIndicesMap[t]; var i = n[e]; return i == null || isNaN(i) ? nt : i }, t.prototype.indexOfName = function (t) { for (var e = 0, n = this.count(); e < n; e++) if (this.getName(e) === t) return e; return -1 }, t.prototype.indexOfRawIndex = function (t) { if (t >= this._rawCount || t < 0) return -1; if (!this._indices) return t; var e = this._indices; var n = e[t]; if (n != null && n < this._count && n === t) return t; var i = 0; var r = this._count - 1; while (i <= r) { var a = (i + r) / 2 | 0; if (e[a] < t)i = a + 1; else { if (!(e[a] > t)) return a; r = a - 1 } } return -1 }, t.prototype.indicesOfNearest = function (t, e, n) { var i = this._storage; var r = i[t]; var a = []; if (!r) return a; n == null && (n = 1 / 0); for (var o = 1 / 0, s = -1, l = 0, u = 0, c = this.count(); u < c; u++) { var h = this.getRawIndex(u); var d = e - r[h]; var p = Math.abs(d); p <= n && ((p < o || p === o && d >= 0 && s < 0) && (o = p, s = d, l = 0), d === s && (a[l++] = u)) } return a.length = l, a }, t.prototype.getRawDataItem = function (t) { if (this._rawData.persistent) return this._rawData.getItem(this.getRawIndex(t)); for (var e = [], n = 0; n < this.dimensions.length; n++) { var i = this.dimensions[n]; e.push(this.get(i, t)) } return e }, t.prototype.getName = function (t) { var e = this.getRawIndex(t); var n = this._nameList[e]; return n == null && this._nameDimIdx != null && (n = B(this, this._nameDimIdx, this._nameOrdinalMeta, e)), n == null && (n = ''), n }, t.prototype.getId = function (t) { return z(this, this.getRawIndex(t)) }, t.prototype.each = function (t, e, n, i) { var r = this; if (this._count) { typeof t === 'function' && (i = n, n = e, e = t, t = []); var a = n || i || this; var o = tt(F(t), this.getDimension, this); 0; for (var s = o.length, l = tt(o, function (t) { return r._dimensionInfos[t].index }), u = this._storageArr, c = 0, h = this.count(); c < h; c++) { var d = this.getRawIndex(c); switch (s) { case 0:e.call(a, c); break; case 1:e.call(a, u[l[0]][d], c); break; case 2:e.call(a, u[l[0]][d], u[l[1]][d], c); break; default:for (var p = 0, f = []; p < s; p++)f[p] = u[l[p]][d]; f[p] = c, e.apply(a, f) } } } }, t.prototype.filterSelf = function (t, e, n, i) { var r = this; if (this._count) { typeof t === 'function' && (i = n, n = e, e = t, t = []); var a = n || i || this; var o = tt(F(t), this.getDimension, this); 0; for (var s = this.count(), l = P(this), u = new l(s), c = [], h = o.length, d = 0, p = tt(o, function (t) { return r._dimensionInfos[t].index }), f = p[0], g = this._storageArr, y = 0; y < s; y++) { var v = void 0; var m = this.getRawIndex(y); if (h === 0)v = e.call(a, y); else if (h === 1) { var b = g[f][m]; v = e.call(a, b, y) } else { for (var x = 0; x < h; x++)c[x] = g[p[x]][m]; c[x] = y, v = e.apply(a, c) }v && (u[d++] = m) } return d < s && (this._indices = u), this._count = d, this._extent = {}, this.getRawIndex = this._indices ? E : N, this } }, t.prototype.selectRange = function (t) { var e = this; var n = this._count; if (n) { var i = []; for (var r in t)t.hasOwnProperty(r) && i.push(r); 0; var a = i.length; if (a) { var o = this.count(); var s = P(this); var l = new s(o); var u = 0; var c = i[0]; var h = tt(i, function (t) { return e._dimensionInfos[t].index }); var d = t[c][0]; var p = t[c][1]; var f = this._storageArr; var g = !1; if (!this._indices) { var y = 0; if (a === 1) { for (var v = f[h[0]], m = 0; m < n; m++) { var b = v[m]; (b >= d && b <= p || isNaN(b)) && (l[u++] = y), y++ }g = !0 } else if (a === 2) { v = f[h[0]]; var x = f[h[1]]; var _ = t[i[1]][0]; var w = t[i[1]][1]; for (m = 0; m < n; m++) { b = v[m]; var O = x[m]; (b >= d && b <= p || isNaN(b)) && (O >= _ && O <= w || isNaN(O)) && (l[u++] = y), y++ }g = !0 } } if (!g) if (a === 1) for (m = 0; m < o; m++) { var S = this.getRawIndex(m); b = f[h[0]][S]; (b >= d && b <= p || isNaN(b)) && (l[u++] = S) } else for (m = 0; m < o; m++) { for (var M = !0, I = (S = this.getRawIndex(m), 0); I < a; I++) { var T = i[I]; b = f[h[I]][S]; (b < t[T][0] || b > t[T][1]) && (M = !1) }M && (l[u++] = this.getRawIndex(m)) } return u < o && (this._indices = l), this._count = u, this._extent = {}, this.getRawIndex = this._indices ? E : N, this } } }, t.prototype.mapArray = function (t, e, n, i) { typeof t === 'function' && (i = n, n = e, e = t, t = []), n = n || i || this; var r = []; return this.each(t, function () { r.push(e && e.apply(this, arguments)) }, n), r }, t.prototype.map = function (t, e, n, i) { var r = n || i || this; var a = tt(F(t), this.getDimension, this); var o = G(this, a); var s = o._storage; o._indices = this._indices, o.getRawIndex = o._indices ? E : N; for (var l = [], u = a.length, c = this.count(), h = [], d = o._rawExtent, p = 0; p < c; p++) { for (var f = 0; f < u; f++)h[f] = this.get(a[f], p); h[u] = p; var g = e && e.apply(r, h); if (g != null) { typeof g !== 'object' && (l[0] = g, g = l); for (var y = this.getRawIndex(p), v = 0; v < g.length; v++) { var m = a[v]; var b = g[v]; var x = d[m]; var _ = s[m]; _ && (_[y] = b), b < x[0] && (x[0] = b), b > x[1] && (x[1] = b) } } } return o }, t.prototype.downSample = function (t, e, n, i) { for (var r = G(this, [t]), a = r._storage, o = [], s = Q(1 / e), l = a[t], u = this.count(), c = r._rawExtent[t], h = new (P(this))(u), d = 0, p = 0; p < u; p += s) { s > u - p && (s = u - p, o.length = s); for (var f = 0; f < s; f++) { var g = this.getRawIndex(p + f); o[f] = l[g] } var y = n(o); var v = this.getRawIndex(Math.min(p + i(o, y) || 0, u - 1)); l[v] = y, y < c[0] && (c[0] = y), y > c[1] && (c[1] = y), h[d++] = v } return r._count = d, r._indices = h, r.getRawIndex = E, r }, t.prototype.lttbDownSample = function (t, e) { var n; var i; var r; var a = G(this, []); var o = a._storage; var s = o[t]; var l = this.count(); var u = new (P(this))(l); var c = 0; var h = Q(1 / e); var d = this.getRawIndex(0); u[c++] = d; for (var p = 1; p < l - 1; p += h) { for (var f = Math.min(p + h, l - 1), g = Math.min(p + 2 * h, l), y = (g + f) / 2, v = 0, m = f; m < g; m++) { var b = this.getRawIndex(m); var x = s[b]; isNaN(x) || (v += x) }v /= g - f; var _ = p; var w = Math.min(p + h, l); var O = p - 1; var S = s[d]; n = -1, r = _; for (m = _; m < w; m++) { b = this.getRawIndex(m), x = s[b]; isNaN(x) || (i = Math.abs((O - y) * (x - S) - (O - m) * (v - S)), i > n && (n = i, r = b)) }u[c++] = r, d = r } return u[c++] = this.getRawIndex(l - 1), a._count = c, a._indices = u, a.getRawIndex = E, a }, t.prototype.getItemModel = function (t) { var e = this.hostModel; var n = this.getRawDataItem(t); return new _.a(n, e, e && e.ecModel) }, t.prototype.diff = function (t) { var e = this; return new M(t ? t.getIndices() : [], this.getIndices(), function (e) { return z(t, e) }, function (t) { return z(e, t) }) }, t.prototype.getVisual = function (t) { var e = this._visual; return e && e[t] }, t.prototype.setVisual = function (t, e) { this._visual = this._visual || {}, J(t) ? f.extend(this._visual, t) : this._visual[t] = e }, t.prototype.getItemVisual = function (t, e) { var n = this._itemVisuals[t]; var i = n && n[e]; return i == null ? this.getVisual(e) : i }, t.prototype.hasItemVisual = function () { return this._itemVisuals.length > 0 }, t.prototype.ensureUniqueItemVisual = function (t, e) { var n = this._itemVisuals; var i = n[t]; i || (i = n[t] = {}); var r = i[e]; return r == null && (r = this.getVisual(e), f.isArray(r) ? r = r.slice() : J(r) && (r = f.extend({}, r)), i[e] = r), r }, t.prototype.setItemVisual = function (t, e, n) { var i = this._itemVisuals[t] || {}; this._itemVisuals[t] = i, J(e) ? f.extend(i, e) : i[e] = n }, t.prototype.clearAllVisual = function () { this._visual = {}, this._itemVisuals = [] }, t.prototype.setLayout = function (t, e) { if (J(t)) for (var n in t)t.hasOwnProperty(n) && this.setLayout(n, t[n]); else this._layout[t] = e }, t.prototype.getLayout = function (t) { return this._layout[t] }, t.prototype.getItemLayout = function (t) { return this._itemLayouts[t] }, t.prototype.setItemLayout = function (t, e, n) { this._itemLayouts[t] = n ? f.extend(this._itemLayouts[t] || {}, e) : e }, t.prototype.clearItemLayouts = function () { this._itemLayouts.length = 0 }, t.prototype.setItemGraphicEl = function (t, e) { var n = this.hostModel; if (e) { var i = Object(q.a)(e); i.dataIndex = t, i.dataType = this.dataType, i.seriesIndex = n && n.seriesIndex, e.type === 'group' && e.traverse(W, e) } this._graphicEls[t] = e }, t.prototype.getItemGraphicEl = function (t) { return this._graphicEls[t] }, t.prototype.eachItemGraphicEl = function (t, e) { f.each(this._graphicEls, function (n, i) { n && t && t.call(e, n, i) }) }, t.prototype.cloneShallow = function (e) { if (!e) { var n = tt(this.dimensions, this.getDimensionInfo, this); e = new t(n, this.hostModel) } if (e._storage = this._storage, e._storageArr = this._storageArr, X(e, this), this._indices) { var i = this._indices.constructor; if (i === Array) { var r = this._indices.length; e._indices = new i(r); for (var a = 0; a < r; a++)e._indices[a] = this._indices[a] } else e._indices = new i(this._indices) } else e._indices = null; return e.getRawIndex = e._indices ? E : N, e }, t.prototype.wrapMethod = function (t, e) { var n = this[t]; typeof n === 'function' && (this.__wrappedMethods = this.__wrappedMethods || [], this.__wrappedMethods.push(t), this[t] = function () { var t = n.apply(this, arguments); return e.apply(this, [t].concat(f.slice(arguments))) }) }, t.internalField = (function () { function e (t, e, n, i) { return Object(K.d)(t[i], this._dimensionInfos[e]) } function n (t) { var e = t.constructor; return e === Array ? t.slice() : new e(t) }k = { arrayRows: e, objectRows: function (t, e, n, i) { return Object(K.d)(t[e], this._dimensionInfos[e]) }, keyedColumns: e, original: function (t, e, n, i) { var r = t && (t.value == null ? t : t.value); return !this._rawData.pure && Object(Z.m)(t) && (this.hasItemOption = !0), Object(K.d)(r instanceof Array ? r[i] : r, this._dimensionInfos[e]) }, typedArray: function (t, e, n, i) { return t[i] } }, L = function (t) { var e = t._invertedIndicesMap; f.each(e, function (n, i) { var r = t._dimensionInfos[i]; var a = r.ordinalMeta; if (a) { n = e[i] = new ot(a.categories.length); for (var o = 0; o < n.length; o++)n[o] = nt; for (o = 0; o < t._count; o++)n[t.get(i, o)] = o } }) }, B = function (t, e, n, i) { var r; var a = t._storageArr[e]; return a && (r = a[i], n && n.categories.length && (r = n.categories[r])), Object(Z.e)(r, null) }, P = function (t) { return t._rawCount > 65535 ? at : st }, R = function (t, e, n, i) { var r = rt[e.type]; var a = e.name; if (i) { var o = t[a]; var s = o && o.length; if (s !== n) { for (var l = new r(n), u = 0; u < s; u++)l[u] = o[u]; t[a] = l } } else t[a] = new r(n) }, N = function (t) { return t }, E = function (t) { return t < this._count && t >= 0 ? this._indices[t] : -1 }, z = function (t, e) { var n = t._idList[e]; return n == null && t._idDimIdx != null && (n = B(t, t._idDimIdx, t._idOrdinalMeta, e)), n == null && (n = it + e), n }, F = function (t) { return f.isArray(t) || (t = t != null ? [t] : []), t }, function (t, e) { for (var n = 0; n < e.length; n++)t._dimensionInfos[e[n]] }, G = function (e, i) { var r = e.dimensions; var a = new t(tt(r, e.getDimensionInfo, e), e.hostModel); X(a, e); for (var o = a._storage = {}, s = e._storage, l = a._storageArr = [], u = 0; u < r.length; u++) { var c = r[u]; s[c] && (f.indexOf(i, c) >= 0 ? (o[c] = n(s[c]), a._rawExtent[c] = H(), a._extent[c] = null) : o[c] = s[c], l.push(o[c])) } return a }, H = function () { return [1 / 0, -1 / 0] }, W = function (t) { var e = Object(q.a)(t); var n = Object(q.a)(this); e.seriesIndex = n.seriesIndex, e.dataIndex = n.dataIndex, e.dataType = n.dataType }, X = function (t, e) { f.each(lt.concat(e.__wrappedMethods || []), function (n) { e.hasOwnProperty(n) && (t[n] = e[n]) }), t.__wrappedMethods = e.__wrappedMethods, f.each(ut, function (n) { t[n] = f.clone(e[n]) }), t._calculationInfo = f.extend({}, e._calculationInfo) }, V = function (t, e) { var n = t._nameList; var i = t._idList; var r = t._nameDimIdx; var a = t._idDimIdx; var o = n[e]; var s = i[e]; if (o == null && r != null && (n[e] = o = B(t, r, t._nameOrdinalMeta, e)), s == null && a != null && (i[e] = s = B(t, a, t._idOrdinalMeta, e)), s == null && o != null) { var l = t._nameRepeatCount; var u = l[o] = (l[o] || 0) + 1; s = o, u > 1 && (s += '__ec__' + u), i[e] = s } } }()), t }()); var ht = ct; var dt = n('aea5'); function pt (t, e, n) { Object($.d)(e) || (e = Object($.c)(e)), n = n || {}, t = (t || []).slice(); for (var i = (n.dimsDef || []).slice(), r = Object(f.createHashMap)(), a = Object(f.createHashMap)(), o = [], s = ft(e, t, i, n.dimCount), l = 0; l < s; l++) { var u = i[l]; var c = i[l] = Object(f.extend)({}, Object(f.isObject)(u) ? u : { name: u }); var h = c.name; var d = o[l] = new U(); h != null && r.get(h) == null && (d.name = d.displayName = h, r.set(h, l)), c.type != null && (d.type = c.type), c.displayName != null && (d.displayName = c.displayName) } var p = n.encodeDef; !p && n.encodeDefaulter && (p = n.encodeDefaulter(e, s)); var g = Object(f.createHashMap)(p); g.each(function (t, e) { var n = Object(Z.r)(t).slice(); if (n.length === 1 && !Object(f.isString)(n[0]) && n[0] < 0)g.set(e, !1); else { var i = g.set(e, []); Object(f.each)(n, function (t, n) { var a = Object(f.isString)(t) ? r.get(t) : t; a != null && a < s && (i[n] = a, v(o[a], e, n)) }) } }); var y = 0; function v (t, e, n) { T.i.get(e) != null ? t.otherDims[e] = n : (t.coordDim = e, t.coordDimIndex = n, a.set(e, !0)) }Object(f.each)(t, function (t) { var e, n, i, r; if (Object(f.isString)(t))e = t, r = {}; else { r = t, e = r.name; var a = r.ordinalMeta; r.ordinalMeta = null, r = Object(f.clone)(r), r.ordinalMeta = a, n = r.dimsDef, i = r.otherDims, r.name = r.coordDim = r.coordDimIndex = r.dimsDef = r.otherDims = null } var s = g.get(e); if (!1 !== s) { if (s = Object(Z.r)(s), !s.length) for (var l = 0; l < (n && n.length || 1); l++) { while (y < o.length && o[y].coordDim != null)y++; y < o.length && s.push(y++) }Object(f.each)(s, function (t, a) { var s = o[t]; if (v(Object(f.defaults)(s, r), e, a), s.name == null && n) { var l = n[a]; !Object(f.isObject)(l) && (l = { name: l }), s.name = s.displayName = l.name, s.defaultTooltip = l.defaultTooltip }i && Object(f.defaults)(s.otherDims, i) }) } }); var m = n.generateCoord; var b = n.generateCoordCount; var x = b != null; b = m ? b || 1 : 0; for (var _ = m || 'value', w = 0; w < s; w++) { d = o[w] = o[w] || new U(); var O = d.coordDim; O == null && (d.coordDim = gt(_, a, x), d.coordDimIndex = 0, (!m || b <= 0) && (d.isExtraCoord = !0), b--), d.name == null && (d.name = gt(d.coordDim, r, !1)), d.type != null || Object(dt.b)(e, w) !== dt.a.Must && (!d.isExtraCoord || d.otherDims.itemName == null && d.otherDims.seriesName == null) || (d.type = 'ordinal') } return o } function ft (t, e, n, i) { var r = Math.max(t.dimensionsDetectedCount || 1, e.length, n.length, i || 0); return Object(f.each)(e, function (t) { var e; Object(f.isObject)(t) && (e = t.dimsDef) && (r = Math.max(r, e.length)) }), r } function gt (t, e, n) { if (n || e.get(t) != null) { var i = 0; while (e.get(t + i) != null)i++; t += i } return e.set(t, !0), t } var yt = pt; function vt (t, e) { return e = e || {}, yt(e.coordDimensions || [], t, { dimsDef: e.dimensionsDefine || t.dimensionsDefine, encodeDef: e.encodeDefine || t.encodeDefine, dimCount: e.dimensionsCount, encodeDefaulter: e.encodeDefaulter, generateCoord: e.generateCoord, generateCoordCount: e.generateCoordCount }) } var mt = n('d288'); var bt = (function () { function t (t) { this.coordSysDims = [], this.axisMap = Object(f.createHashMap)(), this.categoryAxisMap = Object(f.createHashMap)(), this.coordSysName = t } return t }()); function xt (t) { var e = t.get('coordinateSystem'); var n = new bt(e); var i = _t[e]; if (i) return i(t, n, n.axisMap, n.categoryAxisMap), n } var _t = { cartesian2d: function (t, e, n, i) { var r = t.getReferringComponents('xAxis', Z.b).models[0]; var a = t.getReferringComponents('yAxis', Z.b).models[0]; e.coordSysDims = ['x', 'y'], n.set('x', r), n.set('y', a), wt(r) && (i.set('x', r), e.firstCategoryDimIndex = 0), wt(a) && (i.set('y', a), e.firstCategoryDimIndex == null && (e.firstCategoryDimIndex = 1)) }, singleAxis: function (t, e, n, i) { var r = t.getReferringComponents('singleAxis', Z.b).models[0]; e.coordSysDims = ['single'], n.set('single', r), wt(r) && (i.set('single', r), e.firstCategoryDimIndex = 0) }, polar: function (t, e, n, i) { var r = t.getReferringComponents('polar', Z.b).models[0]; var a = r.findAxisModel('radiusAxis'); var o = r.findAxisModel('angleAxis'); e.coordSysDims = ['radius', 'angle'], n.set('radius', a), n.set('angle', o), wt(a) && (i.set('radius', a), e.firstCategoryDimIndex = 0), wt(o) && (i.set('angle', o), e.firstCategoryDimIndex == null && (e.firstCategoryDimIndex = 1)) }, geo: function (t, e, n, i) { e.coordSysDims = ['lng', 'lat'] }, parallel: function (t, e, n, i) { var r = t.ecModel; var a = r.getComponent('parallel', t.get('parallelIndex')); var o = e.coordSysDims = a.dimensions.slice(); Object(f.each)(a.parallelAxisIndex, function (t, a) { var s = r.getComponent('parallelAxis', t); var l = o[a]; n.set(l, s), wt(s) && (i.set(l, s), e.firstCategoryDimIndex == null && (e.firstCategoryDimIndex = a)) }) } }; function wt (t) { return t.get('type') === 'category' } function Ot (t, e, n) { n = n || {}; var i; var r; var a; var o; var s = n.byIndex; var l = n.stackedCoordDimension; var u = !(!t || !t.get('stack')); if (Object(f.each)(e, function (t, n) { Object(f.isString)(t) && (e[n] = t = { name: t }), u && !t.isExtraCoord && (s || i || !t.ordinalMeta || (i = t), r || t.type === 'ordinal' || t.type === 'time' || l && l !== t.coordDim || (r = t)) }), !r || s || i || (s = !0), r) { a = '__\0ecstackresult', o = '__\0ecstackedover', i && (i.createInvertedIndices = !0); var c = r.coordDim; var h = r.type; var d = 0; Object(f.each)(e, function (t) { t.coordDim === c && d++ }), e.push({ name: a, coordDim: c, coordDimIndex: d, type: h, isExtraCoord: !0, isCalculationCoord: !0 }), d++, e.push({ name: o, coordDim: o, coordDimIndex: d, type: h, isExtraCoord: !0, isCalculationCoord: !0 }) } return { stackedDimension: r && r.name, stackedByDimension: i && i.name, isStackedByIndex: s, stackedOverDimension: o, stackResultDimension: a } } function St (t, e) { return !!e && e === t.getCalculationInfo('stackedDimension') } function Mt (t, e) { return St(t, e) ? t.getCalculationInfo('stackResultDimension') : e } function It (t, e, n) { n = n || {}, Object($.d)(t) || (t = Object($.c)(t)); var i; var r = e.get('coordinateSystem'); var a = mt.a.get(r); var o = xt(e); o && o.coordSysDims && (i = f.map(o.coordSysDims, function (t) { var e = { name: t }; var n = o.axisMap.get(t); if (n) { var i = n.get('type'); e.type = C(i) } return e })), i || (i = a && (a.getDimensionsInfo ? a.getDimensionsInfo() : a.dimensions.slice()) || ['x', 'y']); var s; var l; var u = n.useEncodeDefaulter; var c = vt(t, { coordDimensions: i, generateCoord: n.generateCoord, encodeDefaulter: f.isFunction(u) ? u : u ? f.curry(dt.d, i, e) : null }); o && f.each(c, function (t, e) { var n = t.coordDim; var i = o.categoryAxisMap.get(n); i && (s == null && (s = e), t.ordinalMeta = i.getOrdinalMeta()), t.otherDims.itemName != null && (l = !0) }), l || s == null || (c[s].otherDims.itemName = 0); var h = Ot(e, c); var d = new ht(c, e); d.setCalculationInfo(h); var p = s != null && Tt(t) ? function (t, e, n, i) { return i === s ? n : this.defaultDimValueGetter(t, e, n, i) } : null; return d.hasItemOption = !1, d.initData(t, null, p), d } function Tt (t) { if (t.sourceFormat === T.f) { var e = jt(t.data || []); return e != null && !f.isArray(Object(Z.h)(e)) } } function jt (t) { var e = 0; while (e < t.length && t[e] == null)e++; return t[e] } var At = It; var Ct = n('7fae'); var Dt = n('d31e'); var kt = (function () { function t (t) { this._setting = t || {}, this._extent = [1 / 0, -1 / 0] } return t.prototype.getSetting = function (t) { return this._setting[t] }, t.prototype.unionExtent = function (t) { var e = this._extent; t[0] < e[0] && (e[0] = t[0]), t[1] > e[1] && (e[1] = t[1]) }, t.prototype.unionExtentFromData = function (t, e) { this.unionExtent(t.getApproximateExtent(e)) }, t.prototype.getExtent = function () { return this._extent.slice() }, t.prototype.setExtent = function (t, e) { var n = this._extent; isNaN(t) || (n[0] = t), isNaN(e) || (n[1] = e) }, t.prototype.isInExtentRange = function (t) { return this._extent[0] <= t && this._extent[1] >= t }, t.prototype.isBlank = function () { return this._isBlank }, t.prototype.setBlank = function (t) { this._isBlank = t }, t }()); Dt.c(kt, { registerWhenExtend: !0 }); var Lt = kt; var Pt = (function () { function t (t) { this.categories = t.categories || [], this._needCollect = t.needCollect, this._deduplication = t.deduplication } return t.createByAxisModel = function (e) { var n = e.option; var i = n.data; var r = i && Object(f.map)(i, Rt); return new t({ categories: r, needCollect: !r, deduplication: !1 !== n.dedplication }) }, t.prototype.getOrdinal = function (t) { return this._getOrCreateMap().get(t) }, t.prototype.parseAndCollect = function (t) { var e; var n = this._needCollect; if (typeof t !== 'string' && !n) return t; if (n && !this._deduplication) return e = this.categories.length, this.categories[e] = t, e; var i = this._getOrCreateMap(); return e = i.get(t), e == null && (n ? (e = this.categories.length, this.categories[e] = t, i.set(t, e)) : e = NaN), e }, t.prototype._getOrCreateMap = function () { return this._map || (this._map = Object(f.createHashMap)(this.categories)) }, t }()); function Rt (t) { return Object(f.isObject)(t) && t.value != null ? t.value : t + '' } var Nt = Pt; var Et = v.round; function zt (t, e, n, i) { var r = {}; var a = t[1] - t[0]; var o = r.interval = v.nice(a / e, !0); n != null && o < n && (o = r.interval = n), i != null && o > i && (o = r.interval = i); var s = r.intervalPrecision = Bt(o); var l = r.niceTickExtent = [Et(Math.ceil(t[0] / o) * o, s), Et(Math.floor(t[1] / o) * o, s)]; return Ft(l, t), r } function Bt (t) { return v.getPrecisionSafe(t) + 2 } function Vt (t, e, n) { t[e] = Math.max(Math.min(t[e], n[1]), n[0]) } function Ft (t, e) { !isFinite(t[0]) && (t[0] = e[0]), !isFinite(t[1]) && (t[1] = e[1]), Vt(t, 0, e), Vt(t, 1, e), t[0] > t[1] && (t[0] = t[1]) } function Gt (t, e) { return t >= e[0] && t <= e[1] } function Ht (t, e) { return e[1] === e[0] ? 0.5 : (t - e[0]) / (e[1] - e[0]) } function Wt (t, e) { return t * (e[1] - e[0]) + e[0] } var Xt = (function (t) { function e (e) { var n = t.call(this, e) || this; n.type = 'ordinal'; var i = n.getSetting('ordinalMeta'); return i || (i = new Nt({})), Object(f.isArray)(i) && (i = new Nt({ categories: Object(f.map)(i, function (t) { return Object(f.isObject)(t) ? t.value : t }) })), n._ordinalMeta = i, n._categorySortInfo = [], n._extent = n.getSetting('extent') || [0, i.categories.length - 1], n } return Object(Ct.b)(e, t), e.prototype.parse = function (t) { return typeof t === 'string' ? this._ordinalMeta.getOrdinal(t) : Math.round(t) }, e.prototype.contain = function (t) { return t = this.parse(t), Gt(t, this._extent) && this._ordinalMeta.categories[t] != null }, e.prototype.normalize = function (t) { return t = this.getCategoryIndex(this.parse(t)), Ht(t, this._extent) }, e.prototype.scale = function (t) { return t = this.getCategoryIndex(t), Math.round(Wt(t, this._extent)) }, e.prototype.getTicks = function () { var t = []; var e = this._extent; var n = e[0]; while (n <= e[1])t.push({ value: this.getCategoryIndex(n) }), n++; return t }, e.prototype.getMinorTicks = function (t) {}, e.prototype.setCategorySortInfo = function (t) { this._categorySortInfo = t }, e.prototype.getCategorySortInfo = function () { return this._categorySortInfo }, e.prototype.getCategoryIndex = function (t) { return this._categorySortInfo.length ? this._categorySortInfo[t].beforeSortIndex : t }, e.prototype.getRawIndex = function (t) { return this._categorySortInfo.length ? this._categorySortInfo[t].ordinalNumber : t }, e.prototype.getLabel = function (t) { if (!this.isBlank()) { var e = this.getRawIndex(t.value); var n = this._ordinalMeta.categories[e]; return n == null ? '' : n + '' } }, e.prototype.count = function () { return this._extent[1] - this._extent[0] + 1 }, e.prototype.unionExtentFromData = function (t, e) { this.unionExtent(t.getApproximateExtent(e)) }, e.prototype.isInExtentRange = function (t) { return t = this.getCategoryIndex(t), this._extent[0] <= t && this._extent[1] >= t }, e.prototype.getOrdinalMeta = function () { return this._ordinalMeta }, e.prototype.niceTicks = function () {}, e.prototype.niceExtent = function () {}, e.type = 'ordinal', e }(Lt)); Lt.registerClass(Xt); var Yt = Xt; var Ut = v.round; var Zt = (function (t) { function e () { var e = t !== null && t.apply(this, arguments) || this; return e.type = 'interval', e._interval = 0, e._intervalPrecision = 2, e } return Object(Ct.b)(e, t), e.prototype.parse = function (t) { return t }, e.prototype.contain = function (t) { return Gt(t, this._extent) }, e.prototype.normalize = function (t) { return Ht(t, this._extent) }, e.prototype.scale = function (t) { return Wt(t, this._extent) }, e.prototype.setExtent = function (t, e) { var n = this._extent; isNaN(t) || (n[0] = parseFloat(t)), isNaN(e) || (n[1] = parseFloat(e)) }, e.prototype.unionExtent = function (t) { var e = this._extent; t[0] < e[0] && (e[0] = t[0]), t[1] > e[1] && (e[1] = t[1]), this.setExtent(e[0], e[1]) }, e.prototype.getInterval = function () { return this._interval }, e.prototype.setInterval = function (t) { this._interval = t, this._niceExtent = this._extent.slice(), this._intervalPrecision = Bt(t) }, e.prototype.getTicks = function (t) { var e = this._interval; var n = this._extent; var i = this._niceExtent; var r = this._intervalPrecision; var a = []; if (!e) return a; var o = 1e4; n[0] < i[0] && (t ? a.push({ value: Ut(i[0] - e, r) }) : a.push({ value: n[0] })); var s = i[0]; while (s <= i[1]) { if (a.push({ value: s }), s = Ut(s + e, r), s === a[a.length - 1].value) break; if (a.length > o) return [] } var l = a.length ? a[a.length - 1].value : i[1]; return n[1] > l && (t ? a.push({ value: Ut(l + e, r) }) : a.push({ value: n[1] })), a }, e.prototype.getMinorTicks = function (t) { for (var e = this.getTicks(!0), n = [], i = this.getExtent(), r = 1; r < e.length; r++) { var a = e[r]; var o = e[r - 1]; var s = 0; var l = []; var u = a.value - o.value; var c = u / t; while (s < t - 1) { var h = Ut(o.value + (s + 1) * c); h > i[0] && h < i[1] && l.push(h), s++ }n.push(l) } return n }, e.prototype.getLabel = function (t, e) { if (t == null) return ''; var n = e && e.precision; n == null ? n = v.getPrecisionSafe(t.value) || 0 : n === 'auto' && (n = this._intervalPrecision); var i = Ut(t.value, n, !0); return m.addCommas(i) }, e.prototype.niceTicks = function (t, e, n) { t = t || 5; var i = this._extent; var r = i[1] - i[0]; if (isFinite(r)) { r < 0 && (r = -r, i.reverse()); var a = zt(i, t, e, n); this._intervalPrecision = a.intervalPrecision, this._interval = a.interval, this._niceExtent = a.niceTickExtent } }, e.prototype.niceExtent = function (t) { var e = this._extent; if (e[0] === e[1]) if (e[0] !== 0) { var n = e[0]; t.fixMax || (e[1] += n / 2), e[0] -= n / 2 } else e[1] = 1; var i = e[1] - e[0]; isFinite(i) || (e[0] = 0, e[1] = 1), this.niceTicks(t.splitNumber, t.minInterval, t.maxInterval); var r = this._interval; t.fixMin || (e[0] = Ut(Math.floor(e[0] / r) * r)), t.fixMax || (e[1] = Ut(Math.ceil(e[1] / r) * r)) }, e.type = 'interval', e }(Lt)); Lt.registerClass(Zt); var qt = Zt; var Kt = n('0ee3'); var $t = '__ec_stack_'; var Qt = 0.5; var Jt = typeof Float32Array !== 'undefined' ? Float32Array : Array; function te (t) { return t.get('stack') || $t + t.seriesIndex } function ee (t) { return t.dim + t.index } function ne (t) { var e = []; var n = t.axis; var i = 'axis0'; if (n.type === 'category') { for (var r = n.getBandWidth(), a = 0; a < t.count; a++)e.push(f.defaults({ bandWidth: r, axisKey: i, stackId: $t + a }, t)); var o = oe(e); var s = []; for (a = 0; a < t.count; a++) { var l = o[i][$t + a]; l.offsetCenter = l.offset + l.width / 2, s.push(l) } return s } } function ie (t, e) { var n = []; return e.eachSeriesByType(t, function (t) { ce(t) && !he(t) && n.push(t) }), n } function re (t) { var e = {}; f.each(t, function (t) { var n = t.coordinateSystem; var i = n.getBaseAxis(); if (i.type === 'time' || i.type === 'value') for (var r = t.getData(), a = i.dim + '_' + i.index, o = r.mapDimension(i.dim), s = 0, l = r.count(); s < l; ++s) { var u = r.get(o, s); e[a] ? e[a].push(u) : e[a] = [u] } }); var n = {}; for (var i in e) if (e.hasOwnProperty(i)) { var r = e[i]; if (r) { r.sort(function (t, e) { return t - e }); for (var a = null, o = 1; o < r.length; ++o) { var s = r[o] - r[o - 1]; s > 0 && (a = a === null ? s : Math.min(a, s)) }n[i] = a } } return n } function ae (t) { var e = re(t); var n = []; return f.each(t, function (t) { var i; var r = t.coordinateSystem; var a = r.getBaseAxis(); var o = a.getExtent(); if (a.type === 'category')i = a.getBandWidth(); else if (a.type === 'value' || a.type === 'time') { var s = a.dim + '_' + a.index; var l = e[s]; var u = Math.abs(o[1] - o[0]); var c = a.scale.getExtent(); var h = Math.abs(c[1] - c[0]); i = l ? u / h * l : u } else { var d = t.getData(); i = Math.abs(o[1] - o[0]) / d.count() } var p = Object(v.parsePercent)(t.get('barWidth'), i); var f = Object(v.parsePercent)(t.get('barMaxWidth'), i); var g = Object(v.parsePercent)(t.get('barMinWidth') || 1, i); var y = t.get('barGap'); var m = t.get('barCategoryGap'); n.push({ bandWidth: i, barWidth: p, barMaxWidth: f, barMinWidth: g, barGap: y, barCategoryGap: m, axisKey: ee(a), stackId: te(t) }) }), oe(n) } function oe (t) { var e = {}; f.each(t, function (t, n) { var i = t.axisKey; var r = t.bandWidth; var a = e[i] || { bandWidth: r, remainedWidth: r, autoWidthCount: 0, categoryGap: null, gap: '20%', stacks: {} }; var o = a.stacks; e[i] = a; var s = t.stackId; o[s] || a.autoWidthCount++, o[s] = o[s] || { width: 0, maxWidth: 0 }; var l = t.barWidth; l && !o[s].width && (o[s].width = l, l = Math.min(a.remainedWidth, l), a.remainedWidth -= l); var u = t.barMaxWidth; u && (o[s].maxWidth = u); var c = t.barMinWidth; c && (o[s].minWidth = c); var h = t.barGap; h != null && (a.gap = h); var d = t.barCategoryGap; d != null && (a.categoryGap = d) }); var n = {}; return f.each(e, function (t, e) { n[e] = {}; var i = t.stacks; var r = t.bandWidth; var a = t.categoryGap; if (a == null) { var o = f.keys(i).length; a = Math.max(35 - 4 * o, 15) + '%' } var s = Object(v.parsePercent)(a, r); var l = Object(v.parsePercent)(t.gap, 1); var u = t.remainedWidth; var c = t.autoWidthCount; var h = (u - s) / (c + (c - 1) * l); h = Math.max(h, 0), f.each(i, function (t) { var e = t.maxWidth; var n = t.minWidth; if (t.width) { i = t.width; e && (i = Math.min(i, e)), n && (i = Math.max(i, n)), t.width = i, u -= i + l * i, c-- } else { var i = h; e && e < i && (i = Math.min(e, u)), n && n > i && (i = n), i !== h && (t.width = i, u -= i + l * i, c--) } }), h = (u - s) / (c + (c - 1) * l), h = Math.max(h, 0); var d; var p = 0; f.each(i, function (t, e) { t.width || (t.width = h), d = t, p += t.width * (1 + l) }), d && (p -= d.width * l); var g = -p / 2; f.each(i, function (t, i) { n[e][i] = n[e][i] || { bandWidth: r, offset: g, width: t.width }, g += t.width * (1 + l) }) }), n } function se (t, e, n) { if (t && e) { var i = t[ee(e)]; return i != null && n != null ? i[te(n)] : i } } function le (t, e) { var n = ie(t, e); var i = ae(n); var r = {}; f.each(n, function (t) { var e = t.getData(); var n = t.coordinateSystem; var a = n.getBaseAxis(); var o = te(t); var s = i[ee(a)][o]; var l = s.offset; var u = s.width; var c = n.getOtherAxis(a); var h = t.get('barMinHeight') || 0; r[o] = r[o] || [], e.setLayout({ bandWidth: s.bandWidth, offset: l, size: u }); for (var d = e.mapDimension(c.dim), p = e.mapDimension(a.dim), f = St(e, d), g = c.isHorizontal(), y = de(a, c, f), v = 0, m = e.count(); v < m; v++) { var b = e.get(d, v); var x = e.get(p, v); var _ = b >= 0 ? 'p' : 'n'; var w = y; f && (r[o][x] || (r[o][x] = { p: y, n: y }), w = r[o][x][_]); var O = void 0; var S = void 0; var M = void 0; var I = void 0; if (g) { var T = n.dataToPoint([b, x]); O = w, S = T[1] + l, M = T[0] - y, I = u, Math.abs(M) < h && (M = (M < 0 ? -1 : 1) * h), isNaN(M) || f && (r[o][x][_] += M) } else { T = n.dataToPoint([x, b]); O = T[0] + l, S = w, M = u, I = T[1] - y, Math.abs(I) < h && (I = (I <= 0 ? -1 : 1) * h), isNaN(I) || f && (r[o][x][_] += I) }e.setItemLayout(v, { x: O, y: S, width: M, height: I }) } }) } var ue = { seriesType: 'bar', plan: Object(Kt.a)(), reset: function (t) { if (ce(t) && he(t)) { var e = t.getData(); var n = t.coordinateSystem; var i = n.master.getRect(); var r = n.getBaseAxis(); var a = n.getOtherAxis(r); var o = e.mapDimension(a.dim); var s = e.mapDimension(r.dim); var l = a.isHorizontal(); var u = l ? 0 : 1; var c = se(ae([t]), r, t).width; return c > Qt || (c = Qt), { progress: function (t, e) { var h; var d = t.count; var p = new Jt(2 * d); var f = new Jt(2 * d); var g = new Jt(d); var y = []; var v = []; var m = 0; var b = 0; while ((h = t.next()) != null)v[u] = e.get(o, h), v[1 - u] = e.get(s, h), y = n.dataToPoint(v, null, y), f[m] = l ? i.x + i.width : y[0], p[m++] = y[0], f[m] = l ? y[1] : i.y + i.height, p[m++] = y[1], g[b++] = h; e.setLayout({ largePoints: p, largeDataIndices: g, largeBackgroundPoints: f, barWidth: c, valueAxisStart: de(r, a, !1), backgroundStart: l ? i.x : i.y, valueAxisHorizontal: l }) } } } } }; function ce (t) { return t.coordinateSystem && t.coordinateSystem.type === 'cartesian2d' } function he (t) { return t.pipelineContext && t.pipelineContext.large } function de (t, e, n) { return e.toGlobalCoord(e.dataToCoord(e.type === 'log' ? 1 : 0)) } var pe = n('10e1'); var fe = n('dcca'); var ge = function (t, e, n, i) { while (n < i) { var r = n + i >>> 1; t[r][1] < e ? n = r + 1 : i = r } return n }; var ye = (function (t) { function e (e) { var n = t.call(this, e) || this; return n.type = 'time', n } return Object(Ct.b)(e, t), e.prototype.getLabel = function (t) { var e = this.getSetting('useUTC'); return Object(b.h)(t.value, b.i[Object(b.l)(Object(b.m)(this._minLevelUnit))] || b.i.second, e, this.getSetting('locale')) }, e.prototype.getFormattedLabel = function (t, e, n) { var i = this.getSetting('useUTC'); var r = this.getSetting('locale'); return Object(b.r)(t, e, n, r, i) }, e.prototype.getTicks = function (t) { var e = this._interval; var n = this._extent; var i = []; if (!e) return i; i.push({ value: n[0], level: 0 }); var r = this.getSetting('useUTC'); var a = Me(this._minLevelUnit, this._approxInterval, r, n); return i = i.concat(a), i.push({ value: n[1], level: 0 }), i }, e.prototype.niceExtent = function (t) { var e = this._extent; if (e[0] === e[1] && (e[0] -= b.a, e[1] += b.a), e[1] === -1 / 0 && e[0] === 1 / 0) { var n = new Date(); e[1] = +new Date(n.getFullYear(), n.getMonth(), n.getDate()), e[0] = e[1] - b.a } this.niceTicks(t.splitNumber, t.minInterval, t.maxInterval) }, e.prototype.niceTicks = function (t, e, n) { t = t || 10; var i = this._extent; var r = i[1] - i[0]; this._approxInterval = r / t, e != null && this._approxInterval < e && (this._approxInterval = e), n != null && this._approxInterval > n && (this._approxInterval = n); var a = ve.length; var o = Math.min(ge(ve, this._approxInterval, 0, a), a - 1); this._interval = ve[o][1], this._minLevelUnit = ve[Math.max(o - 1, 0)][0] }, e.prototype.parse = function (t) { return typeof t === 'number' ? t : +v.parseDate(t) }, e.prototype.contain = function (t) { return Gt(this.parse(t), this._extent) }, e.prototype.normalize = function (t) { return Ht(this.parse(t), this._extent) }, e.prototype.scale = function (t) { return Wt(t, this._extent) }, e.type = 'time', e }(qt)); var ve = [['second', b.d], ['minute', b.c], ['hour', b.b], ['quarter-day', 6 * b.b], ['half-day', 12 * b.b], ['day', 1.2 * b.a], ['half-week', 3.5 * b.a], ['week', 7 * b.a], ['month', 31 * b.a], ['quarter', 95 * b.a], ['half-year', b.e / 2], ['year', b.e]]; function me (t, e, n, i) { var r = v.parseDate(e); var a = v.parseDate(n); var o = function (t) { return Object(b.n)(r, t, i) === Object(b.n)(a, t, i) }; var s = function () { return o('year') }; var l = function () { return s() && o('month') }; var u = function () { return l() && o('day') }; var c = function () { return u() && o('hour') }; var h = function () { return c() && o('minute') }; var d = function () { return h() && o('second') }; var p = function () { return d() && o('millisecond') }; switch (t) { case 'year':return s(); case 'month':return l(); case 'day':return u(); case 'hour':return c(); case 'minute':return h(); case 'second':return d(); case 'millisecond':return p() } } function be (t, e) { return t /= b.a, t > 16 ? 16 : t > 7.5 ? 7 : t > 3.5 ? 4 : t > 1.5 ? 2 : 1 } function xe (t) { var e = 30 * b.a; return t /= e, t > 6 ? 6 : t > 3 ? 3 : t > 2 ? 2 : 1 } function _e (t) { return t /= b.b, t > 12 ? 12 : t > 6 ? 6 : t > 3.5 ? 4 : t > 2 ? 2 : 1 } function we (t, e) { return t /= e ? b.c : b.d, t > 30 ? 30 : t > 20 ? 20 : t > 15 ? 15 : t > 10 ? 10 : t > 5 ? 5 : t > 2 ? 2 : 1 } function Oe (t) { return v.nice(t, !0) } function Se (t, e, n) { var i = new Date(t); switch (Object(b.m)(e)) { case 'year':case 'month':i[Object(b.x)(n)](0); case 'day':i[Object(b.g)(n)](1); case 'hour':i[Object(b.p)(n)](0); case 'minute':i[Object(b.v)(n)](0); case 'second':i[Object(b.A)(n)](0), i[Object(b.t)(n)](0) } return i.getTime() } function Me (t, e, n, i) { var r = 1e4; var a = b.B; var o = 0; function s (t, e, n, r, a, o, s) { var l = new Date(e); var u = e; var c = l[r](); while (u < n && u <= i[1])s.push({ value: u }), c += t, l[a](c), u = l.getTime(); s.push({ value: u, notAdd: !0 }) } function l (t, r, a) { var o = []; var l = !r.length; if (!me(Object(b.m)(t), i[0], i[1], n)) { l && (r = [{ value: Se(new Date(i[0]), t, n) }, { value: i[1] }]); for (var u = 0; u < r.length - 1; u++) { var c = r[u].value; var h = r[u + 1].value; if (c !== h) { var d = void 0; var p = void 0; var f = void 0; var g = !1; switch (t) { case 'year':d = Math.max(1, Math.round(e / b.a / 365)), p = Object(b.j)(n), f = Object(b.k)(n); break; case 'half-year':case 'quarter':case 'month':d = xe(e), p = Object(b.w)(n), f = Object(b.x)(n); break; case 'week':case 'half-week':case 'day':d = be(e, 31), p = Object(b.f)(n), f = Object(b.g)(n), g = !0; break; case 'half-day':case 'quarter-day':case 'hour':d = _e(e), p = Object(b.o)(n), f = Object(b.p)(n); break; case 'minute':d = we(e, !0), p = Object(b.u)(n), f = Object(b.v)(n); break; case 'second':d = we(e, !1), p = Object(b.z)(n), f = Object(b.A)(n); break; case 'millisecond':d = Oe(e), p = Object(b.s)(n), f = Object(b.t)(n); break }s(d, c, h, p, f, g, o), t === 'year' && a.length > 1 && u === 0 && a.unshift({ value: a[0].value - d }) } } for (u = 0; u < o.length; u++)a.push(o[u]); return o } } for (var u = [], c = [], h = 0, d = 0, p = 0; p < a.length && o++ < r; ++p) { var g = Object(b.m)(a[p]); if (Object(b.q)(a[p])) { l(a[p], u[u.length - 1] || [], c); var y = a[p + 1] ? Object(b.m)(a[p + 1]) : null; if (g !== y) { if (c.length) { d = h, c.sort(function (t, e) { return t.value - e.value }); for (var v = [], m = 0; m < c.length; ++m) { var x = c[m].value; m !== 0 && c[m - 1].value === x || (v.push(c[m]), x >= i[0] && x <= i[1] && h++) } var _ = (i[1] - i[0]) / e; if (h > 1.5 * _ && d > _ / 1.5) break; if (u.push(v), h > _ || t === a[p]) break }c = [] } } } var w = Object(f.filter)(Object(f.map)(u, function (t) { return Object(f.filter)(t, function (t) { return t.value >= i[0] && t.value <= i[1] && !t.notAdd }) }), function (t) { return t.length > 0 }); var O = []; var S = w.length - 1; for (p = 0; p < w.length; ++p) for (var M = w[p], I = 0; I < M.length; ++I)O.push({ value: M[I].value, level: S - p }); O.sort(function (t, e) { return t.value - e.value }); var T = []; for (p = 0; p < O.length; ++p)p !== 0 && O[p].value === O[p - 1].value || T.push(O[p]); return T }Lt.registerClass(ye); var Ie = ye; var Te = Lt.prototype; var je = qt.prototype; var Ae = v.getPrecisionSafe; var Ce = v.round; var De = Math.floor; var ke = Math.ceil; var Le = Math.pow; var Pe = Math.log; var Re = (function (t) { function e () { var e = t !== null && t.apply(this, arguments) || this; return e.type = 'log', e.base = 10, e._originalScale = new qt(), e._interval = 0, e } return Object(Ct.b)(e, t), e.prototype.getTicks = function (t) { var e = this._originalScale; var n = this._extent; var i = e.getExtent(); var r = je.getTicks.call(this, t); return f.map(r, function (t) { var e = t.value; var r = v.round(Le(this.base, e)); return r = e === n[0] && this._fixMin ? Ee(r, i[0]) : r, r = e === n[1] && this._fixMax ? Ee(r, i[1]) : r, { value: r } }, this) }, e.prototype.setExtent = function (t, e) { var n = this.base; t = Pe(t) / Pe(n), e = Pe(e) / Pe(n), je.setExtent.call(this, t, e) }, e.prototype.getExtent = function () { var t = this.base; var e = Te.getExtent.call(this); e[0] = Le(t, e[0]), e[1] = Le(t, e[1]); var n = this._originalScale; var i = n.getExtent(); return this._fixMin && (e[0] = Ee(e[0], i[0])), this._fixMax && (e[1] = Ee(e[1], i[1])), e }, e.prototype.unionExtent = function (t) { this._originalScale.unionExtent(t); var e = this.base; t[0] = Pe(t[0]) / Pe(e), t[1] = Pe(t[1]) / Pe(e), Te.unionExtent.call(this, t) }, e.prototype.unionExtentFromData = function (t, e) { this.unionExtent(t.getApproximateExtent(e)) }, e.prototype.niceTicks = function (t) { t = t || 10; var e = this._extent; var n = e[1] - e[0]; if (!(n === 1 / 0 || n <= 0)) { var i = v.quantity(n); var r = t / n * i; r <= 0.5 && (i *= 10); while (!isNaN(i) && Math.abs(i) < 1 && Math.abs(i) > 0)i *= 10; var a = [v.round(ke(e[0] / i) * i), v.round(De(e[1] / i) * i)]; this._interval = i, this._niceExtent = a } }, e.prototype.niceExtent = function (t) { je.niceExtent.call(this, t), this._fixMin = t.fixMin, this._fixMax = t.fixMax }, e.prototype.parse = function (t) { return t }, e.prototype.contain = function (t) { return t = Pe(t) / Pe(this.base), Gt(t, this._extent) }, e.prototype.normalize = function (t) { return t = Pe(t) / Pe(this.base), Ht(t, this._extent) }, e.prototype.scale = function (t) { return t = Wt(t, this._extent), Le(this.base, t) }, e.type = 'log', e }(Lt)); var Ne = Re.prototype; function Ee (t, e) { return Ce(t, Ae(e)) }Ne.getMinorTicks = je.getMinorTicks, Ne.getLabel = je.getLabel, Lt.registerClass(Re); var ze = Re; var Be = n('949c'); var Ve = (function () { function t (t, e, n) { this._prepareParams(t, e, n) } return t.prototype._prepareParams = function (t, e, n) { n[1] < n[0] && (n = [NaN, NaN]), this._dataMin = n[0], this._dataMax = n[1]; var i = this._isOrdinal = t.type === 'ordinal'; this._needCrossZero = e.getNeedCrossZero && e.getNeedCrossZero(); var r = this._modelMinRaw = e.get('min', !0); Object(f.isFunction)(r) ? this._modelMinNum = We(t, r({ min: n[0], max: n[1] })) : r !== 'dataMin' && (this._modelMinNum = We(t, r)); var a = this._modelMaxRaw = e.get('max', !0); if (Object(f.isFunction)(a) ? this._modelMaxNum = We(t, a({ min: n[0], max: n[1] })) : a !== 'dataMax' && (this._modelMaxNum = We(t, a)), i) this._axisDataLen = e.getCategories().length; else { var o = e.get('boundaryGap'); var s = Object(f.isArray)(o) ? o : [o || 0, o || 0]; typeof s[0] === 'boolean' || typeof s[1] === 'boolean' ? this._boundaryGapInner = [0, 0] : this._boundaryGapInner = [Object(Be.h)(s[0], 1), Object(Be.h)(s[1], 1)] } }, t.prototype.calculate = function () { var t = this._isOrdinal; var e = this._dataMin; var n = this._dataMax; var i = this._axisDataLen; var r = this._boundaryGapInner; var a = t ? null : n - e || Math.abs(e); var o = this._modelMinRaw === 'dataMin' ? e : this._modelMinNum; var s = this._modelMaxRaw === 'dataMax' ? n : this._modelMaxNum; var l = o != null; var u = s != null; o == null && (o = t ? i ? 0 : NaN : e - r[0] * a), s == null && (s = t ? i ? i - 1 : NaN : n + r[1] * a), (o == null || !isFinite(o)) && (o = NaN), (s == null || !isFinite(s)) && (s = NaN), o > s && (o = NaN, s = NaN); var c = Object(f.eqNaN)(o) || Object(f.eqNaN)(s) || t && !i; this._needCrossZero && (o > 0 && s > 0 && !l && (o = 0), o < 0 && s < 0 && !u && (s = 0)); var h = this._determinedMin; var d = this._determinedMax; return h != null && (o = h, l = !0), d != null && (s = d, u = !0), { min: o, max: s, minFixed: l, maxFixed: u, isBlank: c } }, t.prototype.modifyDataMinMax = function (t, e) { this[Ge[t]] = e }, t.prototype.setDeterminedMinMax = function (t, e) { var n = Fe[t]; this[n] = e }, t.prototype.freeze = function () { this.frozen = !0 }, t }()); var Fe = { min: '_determinedMin', max: '_determinedMax' }; var Ge = { min: '_dataMin', max: '_dataMax' }; function He (t, e, n) { var i = t.rawExtentInfo; return i || (i = new Ve(t, e, n), t.rawExtentInfo = i, i) } function We (t, e) { return e == null ? null : Object(f.eqNaN)(e) ? NaN : t.parse(e) } function Xe (t, e) { var n = t.type; var i = He(t, e, t.getExtent()).calculate(); t.setBlank(i.isBlank); var r = i.min; var a = i.max; var o = e.ecModel; if (o && n === 'time') { var s = ie('bar', o); var l = !1; if (f.each(s, function (t) { l = l || t.getBaseAxis() === e.axis }), l) { var u = ae(s); var c = Ye(r, a, e, u); r = c.min, a = c.max } } return { extent: [r, a], fixMin: i.minFixed, fixMax: i.maxFixed } } function Ye (t, e, n, i) { var r = n.axis.getExtent(); var a = r[1] - r[0]; var o = se(i, n.axis); if (void 0 === o) return { min: t, max: e }; var s = 1 / 0; f.each(o, function (t) { s = Math.min(t.offset, s) }); var l = -1 / 0; f.each(o, function (t) { l = Math.max(t.offset + t.width, l) }), s = Math.abs(s), l = Math.abs(l); var u = s + l; var c = e - t; var h = 1 - (s + l) / a; var d = c / h - c; return e += d * (l / u), t -= d * (s / u), { min: t, max: e } } function Ue (t, e) { var n = Xe(t, e); var i = n.extent; var r = e.get('splitNumber'); t instanceof ze && (t.base = e.get('logBase')); var a = t.type; t.setExtent(i[0], i[1]), t.niceExtent({ splitNumber: r, fixMin: n.fixMin, fixMax: n.fixMax, minInterval: a === 'interval' || a === 'time' ? e.get('minInterval') : null, maxInterval: a === 'interval' || a === 'time' ? e.get('maxInterval') : null }); var o = e.get('interval'); o != null && t.setInterval && t.setInterval(o) } function Ze (t, e) { if (e = e || t.get('type'), e) switch (e) { case 'category':return new Yt({ ordinalMeta: t.getOrdinalMeta ? t.getOrdinalMeta() : t.getCategories(), extent: [1 / 0, -1 / 0] }); case 'time':return new Ie({ locale: t.ecModel.getLocaleModel(), useUTC: t.ecModel.get('useUTC') }); default:return new (Lt.getClass(e) || qt)() } } function qe (t) { var e = t.scale.getExtent(); var n = e[0]; var i = e[1]; return !(n > 0 && i > 0 || n < 0 && i < 0) } function Ke (t) { var e = t.getLabelModel().get('formatter'); var n = t.type === 'category' ? t.scale.getExtent()[0] : null; return t.scale.type === 'time' ? (function (e) { return function (n, i) { return t.scale.getFormattedLabel(n, i, e) } }(e)) : typeof e === 'string' ? (function (e) { return function (n) { var i = t.scale.getLabel(n); var r = e.replace('{value}', i != null ? i : ''); return r } }(e)) : typeof e === 'function' ? (function (e) { return function (i, r) { return n != null && (r = i.value - n), e($e(t, i), r, i.level != null ? { level: i.level } : null) } }(e)) : function (e) { return t.scale.getLabel(e) } } function $e (t, e) { return t.type === 'category' ? t.scale.getLabel(e) : e.value } function Qe (t) { var e = t.model; var n = t.scale; if (e.get(['axisLabel', 'show']) && !n.isBlank()) { var i; var r; var a = n.getExtent(); n instanceof Yt ? r = n.count() : (i = n.getTicks(), r = i.length); var o; var s = t.getLabelModel(); var l = Ke(t); var u = 1; r > 40 && (u = Math.ceil(r / 40)); for (var c = 0; c < r; c += u) { var h = i ? i[c] : { value: a[0] + c }; var d = l(h, c); var p = s.getTextRect(d); var f = Je(p, s.get('rotate') || 0); o ? o.union(f) : o = f } return o } } function Je (t, e) { var n = e * Math.PI / 180; var i = t.width; var r = t.height; var a = i * Math.abs(Math.cos(n)) + Math.abs(r * Math.sin(n)); var o = i * Math.abs(Math.sin(n)) + Math.abs(r * Math.cos(n)); var s = new pe.a(t.x, t.y, a, o); return s } function tn (t) { var e = t.get('interval'); return e == null ? 'auto' : e } function en (t) { return t.type === 'category' && tn(t.getLabelModel()) === 0 } function nn (t, e) { var n = {}; return f.each(t.mapDimensionsAll(e), function (e) { n[Mt(t, e)] = !0 }), f.keys(n) } function rn (t, e, n) { e && f.each(nn(e, n), function (n) { var i = e.getApproximateExtent(n); i[0] < t[0] && (t[0] = i[0]), i[1] > t[1] && (t[1] = i[1]) }) } var an = (function () { function t () {} return t.prototype.getNeedCrossZero = function () { var t = this.option; return !t.scale }, t.prototype.getCoordSysModel = function () {}, t }()); var on = n('d2bc'); var sn = n('74a6'); var ln = n('0079'); var un = n('27b5'); var cn = 1e-8; function hn (t, e) { return Math.abs(t - e) < cn } function dn (t, e, n) { var i = 0; var r = t[0]; if (!r) return !1; for (var a = 1; a < t.length; a++) { var o = t[a]; i += Object(un.a)(r[0], r[1], o[0], o[1], e, n), r = o } var s = t[0]; return hn(r[0], s[0]) && hn(r[1], s[1]) || (i += Object(un.a)(r[0], r[1], s[0], s[1], e, n)), i !== 0 } var pn = (function () { function t (t, e, n) { if (this.name = t, this.geometries = e, n)n = [n[0], n[1]]; else { var i = this.getBoundingRect(); n = [i.x + i.width / 2, i.y + i.height / 2] } this.center = n } return t.prototype.getBoundingRect = function () { var t = this._rect; if (t) return t; for (var e = Number.MAX_VALUE, n = [e, e], i = [-e, -e], r = [], a = [], o = this.geometries, s = 0; s < o.length; s++) if (o[s].type === 'polygon') { var l = o[s].exterior; ln.d(l, r, a), p.l(n, n, r), p.k(i, i, a) } return s === 0 && (n[0] = n[1] = i[0] = i[1] = 0), this._rect = new pe.a(n[0], n[1], i[0] - n[0], i[1] - n[1]) }, t.prototype.contain = function (t) { var e = this.getBoundingRect(); var n = this.geometries; if (!e.contain(t[0], t[1])) return !1; t:for (var i = 0, r = n.length; i < r; i++) if (n[i].type === 'polygon') { var a = n[i].exterior; var o = n[i].interiors; if (dn(a, t[0], t[1])) { for (var s = 0; s < (o ? o.length : 0); s++) if (dn(o[s], t[0], t[1])) continue t; return !0 } } return !1 }, t.prototype.transformTo = function (t, e, n, i) { var r = this.getBoundingRect(); var a = r.width / r.height; n ? i || (i = n / a) : n = a * i; for (var o = new pe.a(t, e, n, i), s = r.calculateTransform(o), l = this.geometries, u = 0; u < l.length; u++) if (l[u].type === 'polygon') { for (var c = l[u].exterior, h = l[u].interiors, d = 0; d < c.length; d++)p.b(c[d], c[d], s); for (var f = 0; f < (h ? h.length : 0); f++) for (d = 0; d < h[f].length; d++)p.b(h[f][d], h[f][d], s) }r = this._rect, r.copy(o), this.center = [r.x + r.width / 2, r.y + r.height / 2] }, t.prototype.cloneShallow = function (e) { e == null && (e = this.name); var n = new t(e, this.geometries, this.center); return n._rect = this._rect, n.transformTo = null, n }, t }()); var fn = pn; function gn (t) { if (!t.UTF8Encoding) return t; var e = t; var n = e.UTF8Scale; n == null && (n = 1024); for (var i = e.features, r = 0; r < i.length; r++) { var a = i[r]; var o = a.geometry; if (o.type === 'Polygon') for (var s = o.coordinates, l = 0; l < s.length; l++)s[l] = yn(s[l], o.encodeOffsets[l], n); else if (o.type === 'MultiPolygon') for (s = o.coordinates, l = 0; l < s.length; l++) for (var u = s[l], c = 0; c < u.length; c++)u[c] = yn(u[c], o.encodeOffsets[l][c], n) } return e.UTF8Encoding = !1, e } function yn (t, e, n) { for (var i = [], r = e[0], a = e[1], o = 0; o < t.length; o += 2) { var s = t.charCodeAt(o) - 64; var l = t.charCodeAt(o + 1) - 64; s = s >> 1 ^ -(1 & s), l = l >> 1 ^ -(1 & l), s += r, l += a, r = s, a = l, i.push([s / n, l / n]) } return i } function vn (t, e) { return t = gn(t), f.map(f.filter(t.features, function (t) { return t.geometry && t.properties && t.geometry.coordinates.length > 0 }), function (t) { var n = t.properties; var i = t.geometry; var r = []; if (i.type === 'Polygon') { var a = i.coordinates; r.push({ type: 'polygon', exterior: a[0], interiors: a.slice(1) }) } if (i.type === 'MultiPolygon') { a = i.coordinates; f.each(a, function (t) { t[0] && r.push({ type: 'polygon', exterior: t[0], interiors: t.slice(1) }) }) } var o = new fn(n[e || 'name'], r, n.cp); return o.properties = n, o }) }n('009c'); var mn = Object(Z.o)(); function bn (t) { return t.type === 'category' ? _n(t) : Sn(t) } function xn (t, e) { return t.type === 'category' ? On(t, e) : { ticks: f.map(t.scale.getTicks(), function (t) { return t.value }) } } function _n (t) { var e = t.getLabelModel(); var n = wn(t, e); return !e.get('show') || t.scale.isBlank() ? { labels: [], labelCategoryInterval: n.labelCategoryInterval } : n } function wn (t, e) { var n; var i; var r = Mn(t, 'labels'); var a = tn(e); var o = In(r, a); return o || (f.isFunction(a) ? n = kn(t, a) : (i = a === 'auto' ? jn(t) : a, n = Dn(t, i)), Tn(r, a, { labels: n, labelCategoryInterval: i })) } function On (t, e) { var n; var i; var r = Mn(t, 'ticks'); var a = tn(e); var o = In(r, a); if (o) return o; if (e.get('show') && !t.scale.isBlank() || (n = []), f.isFunction(a))n = kn(t, a, !0); else if (a === 'auto') { var s = wn(t, t.getLabelModel()); i = s.labelCategoryInterval, n = f.map(s.labels, function (t) { return t.tickValue }) } else i = a, n = Dn(t, i, !0); return Tn(r, a, { ticks: n, tickCategoryInterval: i }) } function Sn (t) { var e = t.scale.getTicks(); var n = Ke(t); return { labels: f.map(e, function (e, i) { return { formattedLabel: n(e, i), rawLabel: t.scale.getLabel(e), tickValue: e.value } }) } } function Mn (t, e) { return mn(t)[e] || (mn(t)[e] = []) } function In (t, e) { for (var n = 0; n < t.length; n++) if (t[n].key === e) return t[n].value } function Tn (t, e, n) { return t.push({ key: e, value: n }), n } function jn (t) { var e = mn(t).autoInterval; return e != null ? e : mn(t).autoInterval = t.calculateCategoryInterval() } function An (t) { var e = Cn(t); var n = Ke(t); var i = (e.axisRotate - e.labelRotate) / 180 * Math.PI; var r = t.scale; var a = r.getExtent(); var o = r.count(); if (a[1] - a[0] < 1) return 0; var s = 1; o > 40 && (s = Math.max(1, Math.floor(o / 40))); for (var l = a[0], u = t.dataToCoord(l + 1) - t.dataToCoord(l), c = Math.abs(u * Math.cos(i)), h = Math.abs(u * Math.sin(i)), d = 0, p = 0; l <= a[1]; l += s) { var f = 0; var g = 0; var y = Be.e(n({ value: l }), e.font, 'center', 'top'); f = 1.3 * y.width, g = 1.3 * y.height, d = Math.max(d, f, 7), p = Math.max(p, g, 7) } var v = d / c; var m = p / h; isNaN(v) && (v = 1 / 0), isNaN(m) && (m = 1 / 0); var b = Math.max(0, Math.floor(Math.min(v, m))); var x = mn(t.model); var _ = t.getExtent(); var w = x.lastAutoInterval; var O = x.lastTickCount; return w != null && O != null && Math.abs(w - b) <= 1 && Math.abs(O - o) <= 1 && w > b && x.axisExtent0 === _[0] && x.axisExtent1 === _[1] ? b = w : (x.lastTickCount = o, x.lastAutoInterval = b, x.axisExtent0 = _[0], x.axisExtent1 = _[1]), b } function Cn (t) { var e = t.getLabelModel(); return { axisRotate: t.getRotate ? t.getRotate() : t.isHorizontal && !t.isHorizontal() ? 90 : 0, labelRotate: e.get('rotate') || 0, font: e.getFont() } } function Dn (t, e, n) { var i = Ke(t); var r = t.scale; var a = r.getExtent(); var o = t.getLabelModel(); var s = []; var l = Math.max((e || 0) + 1, 1); var u = a[0]; var c = r.count(); u !== 0 && l > 1 && c / l > 2 && (u = Math.round(Math.ceil(u / l) * l)); var h = en(t); var d = o.get('showMinLabel') || h; var p = o.get('showMaxLabel') || h; d && u !== a[0] && g(a[0]); for (var f = u; f <= a[1]; f += l)g(f); function g (t) { var e = { value: t }; s.push(n ? t : { formattedLabel: i(e), rawLabel: r.getLabel(e), tickValue: t }) } return p && f - l !== a[1] && g(a[1]), s } function kn (t, e, n) { var i = t.scale; var r = Ke(t); var a = []; return f.each(i.getTicks(), function (t) { var o = i.getLabel(t); var s = t.value; e(t.value, o) && a.push(n ? s : { formattedLabel: r(t), rawLabel: o, tickValue: s }) }), a } var Ln = [0, 1]; var Pn = (function () { function t (t, e, n) { this.onBand = !1, this.inverse = !1, this.dim = t, this.scale = e, this._extent = n || [0, 0] } return t.prototype.contain = function (t) { var e = this._extent; var n = Math.min(e[0], e[1]); var i = Math.max(e[0], e[1]); return t >= n && t <= i }, t.prototype.containData = function (t) { return this.scale.contain(t) }, t.prototype.getExtent = function () { return this._extent.slice() }, t.prototype.getPixelPrecision = function (t) { return Object(v.getPixelPrecision)(t || this.scale.getExtent(), this._extent) }, t.prototype.setExtent = function (t, e) { var n = this._extent; n[0] = t, n[1] = e }, t.prototype.dataToCoord = function (t, e) { var n = this._extent; var i = this.scale; return t = i.normalize(t), this.onBand && i.type === 'ordinal' && (n = n.slice(), Rn(n, i.count())), Object(v.linearMap)(t, Ln, n, e) }, t.prototype.coordToData = function (t, e) { var n = this._extent; var i = this.scale; this.onBand && i.type === 'ordinal' && (n = n.slice(), Rn(n, i.count())); var r = Object(v.linearMap)(t, n, Ln, e); return this.scale.scale(r) }, t.prototype.pointToData = function (t, e) {}, t.prototype.getTicksCoords = function (t) { t = t || {}; var e = t.tickModel || this.getTickModel(); var n = xn(this, e); var i = n.ticks; var r = Object(f.map)(i, function (t) { return { coord: this.dataToCoord(this.scale.type === 'ordinal' ? this.scale.getRawIndex(t) : t), tickValue: t } }, this); var a = e.get('alignWithLabel'); return Nn(this, r, a, t.clamp), r }, t.prototype.getMinorTicksCoords = function () { if (this.scale.type === 'ordinal') return []; var t = this.model.getModel('minorTick'); var e = t.get('splitNumber'); e > 0 && e < 100 || (e = 5); var n = this.scale.getMinorTicks(e); var i = Object(f.map)(n, function (t) { return Object(f.map)(t, function (t) { return { coord: this.dataToCoord(t), tickValue: t } }, this) }, this); return i }, t.prototype.getViewLabels = function () { return bn(this).labels }, t.prototype.getLabelModel = function () { return this.model.getModel('axisLabel') }, t.prototype.getTickModel = function () { return this.model.getModel('axisTick') }, t.prototype.getBandWidth = function () { var t = this._extent; var e = this.scale.getExtent(); var n = e[1] - e[0] + (this.onBand ? 1 : 0); n === 0 && (n = 1); var i = Math.abs(t[1] - t[0]); return Math.abs(i) / n }, t.prototype.calculateCategoryInterval = function () { return An(this) }, t }()); function Rn (t, e) { var n = t[1] - t[0]; var i = e; var r = n / i / 2; t[0] += r, t[1] -= r } function Nn (t, e, n, i) { var r = e.length; if (t.onBand && !n && r) { var a; var o; var s = t.getExtent(); if (r === 1)e[0].coord = s[0], a = e[1] = { coord: s[0] }; else { var l = e[r - 1].tickValue - e[0].tickValue; var u = (e[r - 1].coord - e[0].coord) / l; Object(f.each)(e, function (t) { t.coord -= u / 2 }); var c = t.scale.getExtent(); o = 1 + c[1] - e[r - 1].tickValue, a = { coord: e[r - 1].coord + u * o }, e.push(a) } var h = s[0] > s[1]; d(e[0].coord, s[0]) && (i ? e[0].coord = s[0] : e.shift()), i && d(s[0], e[0].coord) && e.unshift({ coord: s[0] }), d(s[1], a.coord) && (i ? a.coord = s[1] : e.pop()), i && d(a.coord, s[1]) && e.push({ coord: s[1] }) } function d (t, e) { return t = Object(v.round)(t), e = Object(v.round)(e), h ? t > e : t < e } } var En = Pn; var zn = n('0d4d'); var Bn = {}; f.each(['linearMap', 'round', 'asc', 'getPrecision', 'getPrecisionSafe', 'getPixelPrecision', 'getPercentWithPrecision', 'MAX_SAFE_INTEGER', 'remRadian', 'isRadianAroundZero', 'parseDate', 'quantity', 'quantityExponent', 'nice', 'quantile', 'reformIntervals', 'isNumeric', 'numericToNumber'], function (t) { Bn[t] = v[t] }); var Vn = {}; f.each(['addCommas', 'toCamelCase', 'normalizeCssArray', 'encodeHTML', 'formatTpl', 'getTooltipMarker', 'formatTime', 'capitalFirst', 'truncateText', 'getTextRect'], function (t) { Vn[t] = m[t] }); v.parseDate, b.h; var Fn = {}; f.each(['map', 'each', 'filter', 'indexOf', 'inherits', 'reduce', 'filter', 'bind', 'curry', 'isArray', 'isString', 'isObject', 'isFunction', 'extend', 'defaults', 'clone', 'merge'], function (t) { Fn[t] = f[t] }); var Gn = ['extendShape', 'extendPath', 'makePath', 'makeImage', 'mergePath', 'resizePath', 'createIcon', 'updateProps', 'initProps', 'getTransform', 'clipPointsByRect', 'clipRectByRect', 'registerShape', 'getShapeClass', 'Group', 'Image', 'Text', 'Circle', 'Ellipse', 'Sector', 'Ring', 'Polygon', 'Polyline', 'Rect', 'Line', 'BezierCurve', 'Arc', 'IncrementalDisplayable', 'CompoundPath', 'LinearGradient', 'RadialGradient', 'BoundingRect']; var Hn = {}; f.each(Gn, function (t) { Hn[t] = y[t] }); n('c9b5'); var Wn = { value: 'eq', '<': 'lt', '<=': 'lte', '>': 'gt', '>=': 'gte', '=': 'eq', '!=': 'ne', '<>': 'ne' }; var Xn = (function () { function t (t) { var e = this._condVal = Object(f.isString)(t) ? new RegExp(t) : Object(f.isRegExp)(t) ? t : null; if (e == null) { var n = ''; 0, Object(fe.b)(n) } } return t.prototype.evaluate = function (t) { var e = typeof t; return e === 'string' ? this._condVal.test(t) : e === 'number' && this._condVal.test(t + '') }, t }()); var Yn = (function () { function t () {} return t.prototype.evaluate = function () { return this.value }, t }()); var Un = (function () { function t () {} return t.prototype.evaluate = function () { for (var t = this.children, e = 0; e < t.length; e++) if (!t[e].evaluate()) return !1; return !0 }, t }()); var Zn = (function () { function t () {} return t.prototype.evaluate = function () { for (var t = this.children, e = 0; e < t.length; e++) if (t[e].evaluate()) return !0; return !1 }, t }()); var qn = (function () { function t () {} return t.prototype.evaluate = function () { return !this.child.evaluate() }, t }()); var Kn = (function () { function t () {} return t.prototype.evaluate = function () { for (var t = !!this.valueParser, e = this.getValue, n = e(this.valueGetterParam), i = t ? this.valueParser(n) : null, r = 0; r < this.subCondList.length; r++) if (!this.subCondList[r].evaluate(t ? i : n)) return !1; return !0 }, t }()); function $n (t, e) { if (!0 === t || !1 === t) { var n = new Yn(); return n.value = t, n } var i = ''; return ei(t) || Object(fe.b)(i), t.and ? Qn('and', t, e) : t.or ? Qn('or', t, e) : t.not ? Jn(t, e) : ti(t, e) } function Qn (t, e, n) { var i = e[t]; var r = ''; Object(f.isArray)(i) || Object(fe.b)(r), i.length || Object(fe.b)(r); var a = t === 'and' ? new Un() : new Zn(); return a.children = Object(f.map)(i, function (t) { return $n(t, n) }), a.children.length || Object(fe.b)(r), a } function Jn (t, e) { var n = t.not; var i = ''; ei(n) || Object(fe.b)(i); var r = new qn(); return r.child = $n(n, e), r.child || Object(fe.b)(i), r } function ti (t, e) { for (var n = '', i = e.prepareGetValue(t), r = [], a = Object(f.keys)(t), o = t.parser, s = o ? Object(K.c)(o) : null, l = 0; l < a.length; l++) { var u = a[l]; if (u !== 'parser' && !e.valueGetterAttrMap.get(u)) { var c = Object(f.hasOwn)(Wn, u) ? Wn[u] : u; var h = t[u]; var d = s ? s(h) : h; var p = Object(K.b)(c, d) || c === 'reg' && new Xn(d); p || Object(fe.b)(n), r.push(p) } }r.length || Object(fe.b)(n); var g = new Kn(); return g.valueGetterParam = i, g.valueParser = s, g.getValue = e.getValue, g.subCondList = r, g } function ei (t) { return Object(f.isObject)(t) && !Object(f.isArrayLike)(t) } var ni = (function () { function t (t, e) { this._cond = $n(t, e) } return t.prototype.evaluate = function () { return this._cond.evaluate() }, t }()); function ii (t, e) { return new ni(t, e) } var ri = { type: 'echarts:filter', transform: function (t) { for (var e, n = t.upstream, i = ii(t.config, { valueGetterAttrMap: Object(f.createHashMap)({ dimension: !0 }), prepareGetValue: function (t) { var e = ''; var i = t.dimension; Object(f.hasOwn)(t, 'dimension') || Object(fe.b)(e); var r = n.getDimensionInfo(i); return r || Object(fe.b)(e), { dimIdx: r.index } }, getValue: function (t) { return n.retrieveValueFromItem(e, t.dimIdx) } }), r = [], a = 0, o = n.count(); a < o; a++)e = n.getRawDataItem(a), i.evaluate() && r.push(e); return { data: r } } }; var ai = { type: 'echarts:sort', transform: function (t) { var e = t.upstream; var n = t.config; var i = ''; var r = Object(Z.r)(n); r.length || Object(fe.b)(i); var a = []; Object(f.each)(r, function (t) { var n = t.dimension; var r = t.order; var o = t.parser; var s = t.incomparable; if (n == null && Object(fe.b)(i), r !== 'asc' && r !== 'desc' && Object(fe.b)(i), s && s !== 'min' && s !== 'max') { var l = ''; 0, Object(fe.b)(l) } if (r !== 'asc' && r !== 'desc') { var u = ''; 0, Object(fe.b)(u) } var c = e.getDimensionInfo(n); c || Object(fe.b)(i); var h = o ? Object(K.c)(o) : null; o && !h && Object(fe.b)(i), a.push({ dimIdx: c.index, parser: h, comparator: new K.a(r, s) }) }); var o = e.sourceFormat; o !== T.c && o !== T.e && Object(fe.b)(i); for (var s = [], l = 0, u = e.count(); l < u; l++)s.push(e.getRawDataItem(l)); return s.sort(function (t, n) { for (var i = 0; i < a.length; i++) { var r = a[i]; var o = e.retrieveValueFromItem(t, r.dimIdx); var s = e.retrieveValueFromItem(n, r.dimIdx); r.parser && (o = r.parser(o), s = r.parser(s)); var l = r.comparator.evaluate(o, s); if (l !== 0) return l } return 0 }), { data: s } } }; c.h(ri), c.h(ai); var oi = n('673d'); var si = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.hasSymbolVisual = !0, n.legendSymbol = 'line', n } return Object(Ct.b)(e, t), e.prototype.getInitialData = function (t) { return At(this.getSource(), this, { useEncodeDefaulter: !0 }) }, e.type = 'series.line', e.dependencies = ['grid', 'polar'], e.defaultOption = { zlevel: 0, z: 3, coordinateSystem: 'cartesian2d', legendHoverLink: !0, clip: !0, label: { position: 'top' }, endLabel: { show: !1, valueAnimation: !0, distance: 8 }, lineStyle: { width: 2, type: 'solid' }, emphasis: { scale: !0, lineStyle: { width: 'bolder' } }, step: !1, smooth: !1, smoothMonotone: null, symbol: 'emptyCircle', symbolSize: 4, symbolRotate: null, showSymbol: !0, showAllSymbol: 'auto', connectNulls: !1, sampling: 'none', animationEasing: 'linear', progressive: 0, hoverLayerThreshold: 1 / 0 }, e }(oi.a)); oi.a.registerClass(si); var li = n('c713'); function ui (t, e) { var n = t.mapDimensionsAll('defaultedLabel'); var i = n.length; if (i === 1) return Object(I.e)(t, e, n[0]); if (i) { for (var r = [], a = 0; a < n.length; a++)r.push(Object(I.e)(t, e, n[a])); return r.join(' ') } } function ci (t, e) { var n = t.mapDimensionsAll('defaultedLabel'); if (!Object(f.isArray)(e)) return e + ''; for (var i = [], r = 0; r < n.length; r++) { var a = t.getDimensionInfo(n[r]); a && i.push(e[a.index]) } return i.join(' ') } var hi = n('86be'); var di = n('2d84'); var pi = (function (t) { function e (e, n, i, r) { var a = t.call(this) || this; return a.updateData(e, n, i, r), a } return Object(Ct.b)(e, t), e.prototype._createSymbol = function (t, e, n, i, r) { this.removeAll(); var a = Object(sn.a)(t, -1, -1, 2, 2, null, r); a.attr({ z2: 100, culling: !0, scaleX: i[0] / 2, scaleY: i[1] / 2 }), a.drift = fi, this._symbolType = t, this.add(a) }, e.prototype.stopSymbolAnimation = function (t) { this.childAt(0).stopAnimation(null, t) }, e.prototype.getSymbolPath = function () { return this.childAt(0) }, e.prototype.highlight = function () { Object(li.n)(this.childAt(0)) }, e.prototype.downplay = function () { Object(li.w)(this.childAt(0)) }, e.prototype.setZ = function (t, e) { var n = this.childAt(0); n.zlevel = t, n.z = e }, e.prototype.setDraggable = function (t) { var e = this.childAt(0); e.draggable = t, e.cursor = t ? 'move' : e.cursor }, e.prototype.updateData = function (t, n, i, r) { this.silent = !1; var a = t.getItemVisual(n, 'symbol') || 'circle'; var o = t.hostModel; var s = e.getSymbolSize(t, n); var l = a !== this._symbolType; var u = r && r.disableAnimation; if (l) { var c = t.getItemVisual(n, 'symbolKeepAspect'); this._createSymbol(a, t, n, s, c) } else { var h = this.childAt(0); h.silent = !1; var d = { scaleX: s[0] / 2, scaleY: s[1] / 2 }; u ? h.attr(d) : y.updateProps(h, d, o, n) } if (this._updateCommon(t, n, s, i, r), l) { h = this.childAt(0); if (!u) { d = { scaleX: this._sizeX, scaleY: this._sizeY, style: { opacity: h.style.opacity } }; h.scaleX = h.scaleY = 0, h.style.opacity = 0, y.initProps(h, d, o, n) } }u && this.childAt(0).stopAnimation('remove'), this._seriesModel = o }, e.prototype._updateCommon = function (t, e, n, i, r) { var a; var o; var s; var l; var u; var c; var h; var d; var p; var g = this.childAt(0); var y = t.hostModel; if (i && (a = i.emphasisItemStyle, o = i.blurItemStyle, s = i.selectItemStyle, l = i.focus, u = i.blurScope, c = i.symbolOffset, h = i.labelStatesModels, d = i.hoverScale, p = i.cursorStyle), !i || t.hasItemOption) { var m = i && i.itemModel ? i.itemModel : t.getItemModel(e); var b = m.getModel('emphasis'); a = b.getModel('itemStyle').getItemStyle(), s = m.getModel(['select', 'itemStyle']).getItemStyle(), o = m.getModel(['blur', 'itemStyle']).getItemStyle(), l = b.get('focus'), u = b.get('blurScope'), c = m.getShallow('symbolOffset'), h = Object(hi.e)(m), d = b.getShallow('scale'), p = m.getShallow('cursor') } var x = t.getItemVisual(e, 'symbolRotate'); g.attr('rotation', (x || 0) * Math.PI / 180 || 0), c && (g.x = Object(v.parsePercent)(c[0], n[0]), g.y = Object(v.parsePercent)(c[1], n[1])), p && g.attr('cursor', p); var _ = t.getItemVisual(e, 'style'); var w = _.fill; if (g instanceof di.a) { var O = g.style; g.useStyle(Object(f.extend)({ image: O.image, x: O.x, y: O.y, width: O.width, height: O.height }, _)) } else g.__isEmptyBrush ? g.useStyle(Object(f.extend)({}, _)) : g.useStyle(_), g.style.decal = null, g.setColor(w, r && r.symbolInnerColor), g.style.strokeNoScale = !0; var S = t.getItemVisual(e, 'liftZ'); var M = this._z2; S != null ? M == null && (this._z2 = g.z2, g.z2 += S) : M != null && (g.z2 = M, this._z2 = null); var I = r && r.useNameLabel; function T (e) { return I ? t.getName(e) : ui(t, e) }Object(hi.g)(g, h, { labelFetcher: y, labelDataIndex: e, defaultText: T, inheritColor: w, defaultOpacity: _.opacity }), this._sizeX = n[0] / 2, this._sizeY = n[1] / 2; var j = g.ensureState('emphasis'); if (j.style = a, g.ensureState('select').style = s, g.ensureState('blur').style = o, d) { var A = Math.max(1.1, 3 / this._sizeY); j.scaleX = this._sizeX * A, j.scaleY = this._sizeY * A } this.setSymbolScale(1), Object(li.k)(this, l, u) }, e.prototype.setSymbolScale = function (t) { this.scaleX = this.scaleY = t }, e.prototype.fadeOut = function (t, e) { var n = this.childAt(0); var i = this._seriesModel; var r = Object(q.a)(this).dataIndex; var a = e && e.animation; if (this.silent = n.silent = !0, e && e.fadeLabel) { var o = n.getTextContent(); o && y.removeElement(o, { style: { opacity: 0 } }, i, { dataIndex: r, removeOpt: a, cb: function () { n.removeTextContent() } }) } else n.removeTextContent(); y.removeElement(n, { style: { opacity: 0 }, scaleX: 0, scaleY: 0 }, i, { dataIndex: r, cb: t, removeOpt: a }) }, e.getSymbolSize = function (t, e) { var n = t.getItemVisual(e, 'symbolSize'); return n instanceof Array ? n.slice() : [+n, +n] }, e }(y.Group)); function fi (t, e) { this.parent.drift(t, e) } var gi = pi; function yi (t, e, n, i) { return e && !isNaN(e[0]) && !isNaN(e[1]) && !(i.isIgnore && i.isIgnore(n)) && !(i.clipShape && !i.clipShape.contain(e[0], e[1])) && t.getItemVisual(n, 'symbol') !== 'none' } function vi (t) { return t == null || Object(f.isObject)(t) || (t = { isIgnore: t }), t || {} } function mi (t) { var e = t.hostModel; var n = e.getModel('emphasis'); return { emphasisItemStyle: n.getModel('itemStyle').getItemStyle(), blurItemStyle: e.getModel(['blur', 'itemStyle']).getItemStyle(), selectItemStyle: e.getModel(['select', 'itemStyle']).getItemStyle(), focus: n.get('focus'), blurScope: n.get('blurScope'), symbolRotate: e.get('symbolRotate'), symbolOffset: e.get('symbolOffset'), hoverScale: n.get('scale'), labelStatesModels: Object(hi.e)(e), cursorStyle: e.get('cursor') } } var bi = (function () { function t (t) { this.group = new y.Group(), this._SymbolCtor = t || gi } return t.prototype.updateData = function (t, e) { e = vi(e); var n = this.group; var i = t.hostModel; var r = this._data; var a = this._SymbolCtor; var o = e.disableAnimation; var s = mi(t); var l = { disableAnimation: o }; var u = e.getSymbolPoint || function (e) { return t.getItemLayout(e) }; r || n.removeAll(), t.diff(r).add(function (i) { var r = u(i); if (yi(t, r, i, e)) { var o = new a(t, i, s, l); o.setPosition(r), t.setItemGraphicEl(i, o), n.add(o) } }).update(function (c, h) { var d = r.getItemGraphicEl(h); var p = u(c); if (yi(t, p, c, e)) { if (d) { d.updateData(t, c, s, l); var f = { x: p[0], y: p[1] }; o ? d.attr(f) : y.updateProps(d, f, i) } else d = new a(t, c), d.setPosition(p); n.add(d), t.setItemGraphicEl(c, d) } else n.remove(d) }).remove(function (t) { var e = r.getItemGraphicEl(t); e && e.fadeOut(function () { n.remove(e) }) }).execute(), this._getSymbolPoint = u, this._data = t }, t.prototype.isPersistent = function () { return !0 }, t.prototype.updateLayout = function () { var t = this; var e = this._data; e && e.eachItemGraphicEl(function (e, n) { var i = t._getSymbolPoint(n); e.setPosition(i), e.markRedraw() }) }, t.prototype.incrementalPrepareUpdate = function (t) { this._seriesScope = mi(t), this._data = null, this.group.removeAll() }, t.prototype.incrementalUpdate = function (t, e, n) { function i (t) { t.isGroup || (t.incremental = !0, t.ensureState('emphasis').hoverLayer = !0) }n = vi(n); for (var r = t.start; r < t.end; r++) { var a = e.getItemLayout(r); if (yi(e, a, r, n)) { var o = new this._SymbolCtor(e, r, this._seriesScope); o.traverse(i), o.setPosition(a), this.group.add(o), e.setItemGraphicEl(r, o) } } }, t.prototype.remove = function (t) { var e = this.group; var n = this._data; n && t ? n.eachItemGraphicEl(function (t) { t.fadeOut(function () { e.remove(t) }) }) : e.removeAll() }, t }()); var xi = bi; function _i (t, e, n) { var i = t.getBaseAxis(); var r = t.getOtherAxis(i); var a = wi(r, n); var o = i.dim; var s = r.dim; var l = e.mapDimension(s); var u = e.mapDimension(o); var c = s === 'x' || s === 'radius' ? 1 : 0; var h = Object(f.map)(t.dimensions, function (t) { return e.mapDimension(t) }); var d = !1; var p = e.getCalculationInfo('stackResultDimension'); return St(e, h[0]) && (d = !0, h[0] = p), St(e, h[1]) && (d = !0, h[1] = p), { dataDimsForPoint: h, valueStart: a, valueAxisDim: s, baseAxisDim: o, stacked: !!d, valueDim: l, baseDim: u, baseDataOffset: c, stackedOverDimension: e.getCalculationInfo('stackedOverDimension') } } function wi (t, e) { var n = 0; var i = t.scale.getExtent(); return e === 'start' ? n = i[0] : e === 'end' ? n = i[1] : i[0] > 0 ? n = i[0] : i[1] < 0 && (n = i[1]), n } function Oi (t, e, n, i) { var r = NaN; t.stacked && (r = n.get(n.getCalculationInfo('stackedOverDimension'), i)), isNaN(r) && (r = t.valueStart); var a = t.baseDataOffset; var o = []; return o[a] = n.get(t.baseDim, i), o[1 - a] = r, e.dataToPoint(o) } var Si = typeof Float32Array !== 'undefined'; var Mi = Si ? Float32Array : Array; function Ii (t) { return Object(f.isArray)(t) ? Si ? new Float32Array(t) : t : new Mi(t) } function Ti (t, e) { var n = []; return e.diff(t).add(function (t) { n.push({ cmd: '+', idx: t }) }).update(function (t, e) { n.push({ cmd: '=', idx: e, idx1: t }) }).remove(function (t) { n.push({ cmd: '-', idx: t }) }).execute(), n } function ji (t, e, n, i, r, a, o, s) { for (var l = Ti(t, e), u = [], c = [], h = [], d = [], p = [], f = [], g = [], y = _i(r, e, o), v = _i(a, t, s), m = t.getLayout('points') || [], b = e.getLayout('points') || [], x = 0; x < l.length; x++) { var _ = l[x]; var w = !0; var O = void 0; var S = void 0; switch (_.cmd) { case '=':O = 2 * _.idx, S = 2 * _.idx1; var M = m[O]; var I = m[O + 1]; var T = b[S]; var j = b[S + 1]; (isNaN(M) || isNaN(I)) && (M = T, I = j), u.push(M, I), c.push(T, j), h.push(n[O], n[O + 1]), d.push(i[S], i[S + 1]), g.push(e.getRawIndex(_.idx1)); break; case '+':var A = _.idx; var C = y.dataDimsForPoint; var D = r.dataToPoint([e.get(C[0], A), e.get(C[1], A)]); S = 2 * A, u.push(D[0], D[1]), c.push(b[S], b[S + 1]); var k = Oi(y, r, e, A); h.push(k[0], k[1]), d.push(i[S], i[S + 1]), g.push(e.getRawIndex(A)); break; case '-':var L = _.idx; var P = t.getRawIndex(L); var R = v.dataDimsForPoint; if (O = 2 * L, P !== L) { var N = a.dataToPoint([t.get(R[0], L), t.get(R[1], L)]); var E = Oi(v, a, t, L); u.push(m[O], m[O + 1]), c.push(N[0], N[1]), h.push(n[O], n[O + 1]), d.push(E[0], E[1]), g.push(P) } else w = !1 }w && (p.push(_), f.push(f.length)) }f.sort(function (t, e) { return g[t] - g[e] }); var z = u.length; var B = Ii(z); var V = Ii(z); var F = Ii(z); var G = Ii(z); var H = []; for (x = 0; x < f.length; x++) { var W = f[x]; var X = 2 * x; var Y = 2 * W; B[X] = u[Y], B[X + 1] = u[Y + 1], V[X] = c[Y], V[X + 1] = c[Y + 1], F[X] = h[Y], F[X + 1] = h[Y + 1], G[X] = d[Y], G[X + 1] = d[Y + 1], H[x] = p[W] } return { current: B, next: V, stackedOnCurrent: F, stackedOnNext: G, status: H } } var Ai = n('18d3'); var Ci = n('6dc4'); var Di = n('6af1'); var ki = Math.min; var Li = Math.max; function Pi (t, e) { return isNaN(t) || isNaN(e) } function Ri (t, e, n, i, r, a, o, s, l) { for (var u, c, h, d, p, f, g = n, y = 0; y < i; y++) { var v = e[2 * g]; var m = e[2 * g + 1]; if (g >= r || g < 0) break; if (Pi(v, m)) { if (l) { g += a; continue } break } if (g === n)t[a > 0 ? 'moveTo' : 'lineTo'](v, m), h = v, d = m; else { var b = v - u; var x = m - c; if (b * b + x * x < 0.5) { g += a; continue } if (o > 0) { var _ = g + a; var w = e[2 * _]; var O = e[2 * _ + 1]; var S = y + 1; if (l) while (Pi(w, O) && S < i)S++, _ += a, w = e[2 * _], O = e[2 * _ + 1]; var M = 0.5; var I = 0; var T = 0; var j = void 0; var A = void 0; if (S >= i || Pi(w, O))p = v, f = m; else { I = w - u, T = O - c; var C = v - u; var D = w - v; var k = m - c; var L = O - m; var P = void 0; var R = void 0; s === 'x' ? (P = Math.abs(C), R = Math.abs(D), p = v - P * o, f = m, j = v + P * o, A = m) : s === 'y' ? (P = Math.abs(k), R = Math.abs(L), p = v, f = m - P * o, j = v, A = m + P * o) : (P = Math.sqrt(C * C + k * k), R = Math.sqrt(D * D + L * L), M = R / (R + P), p = v - I * o * (1 - M), f = m - T * o * (1 - M), j = v + I * o * M, A = m + T * o * M, j = ki(j, Li(w, v)), A = ki(A, Li(O, m)), j = Li(j, ki(w, v)), A = Li(A, ki(O, m)), I = j - v, T = A - m, p = v - I * P / R, f = m - T * P / R, p = ki(p, Li(u, v)), f = ki(f, Li(c, m)), p = Li(p, ki(u, v)), f = Li(f, ki(c, m)), I = v - p, T = m - f, j = v + I * R / P, A = m + T * R / P) }t.bezierCurveTo(h, d, p, f, v, m), h = j, d = A } else t.lineTo(v, m) }u = v, c = m, g += a } return y } var Ni = (function () { function t () { this.smooth = 0, this.smoothConstraint = !0 } return t }()); var Ei = (function (t) { function e (e) { var n = t.call(this, e) || this; return n.type = 'ec-polyline', n } return Object(Ct.b)(e, t), e.prototype.getDefaultStyle = function () { return { stroke: '#000', fill: null } }, e.prototype.getDefaultShape = function () { return new Ni() }, e.prototype.buildPath = function (t, e) { var n = e.points; var i = 0; var r = n.length / 2; if (e.connectNulls) { for (;r > 0; r--) if (!Pi(n[2 * r - 2], n[2 * r - 1])) break; for (;i < r; i++) if (!Pi(n[2 * i], n[2 * i + 1])) break } while (i < r)i += Ri(t, n, i, r, r, 1, e.smooth, e.smoothMonotone, e.connectNulls) + 1 }, e.prototype.getPointOn = function (t, e) { this.path || (this.createPathProxy(), this.buildPath(this.path, this.shape)); for (var n, i, r = this.path, a = r.data, o = Ci.a.CMD, s = e === 'x', l = [], u = 0; u < a.length;) { var c = a[u++]; var h = void 0; var d = void 0; var p = void 0; var f = void 0; var g = void 0; var y = void 0; var v = void 0; switch (c) { case o.M:n = a[u++], i = a[u++]; break; case o.L:if (h = a[u++], d = a[u++], v = s ? (t - n) / (h - n) : (t - i) / (d - i), v <= 1 && v >= 0) { var m = s ? (d - i) * v + i : (h - n) * v + n; return s ? [t, m] : [m, t] }n = h, i = d; break; case o.C:h = a[u++], d = a[u++], p = a[u++], f = a[u++], g = a[u++], y = a[u++]; var b = s ? Object(Di.f)(n, h, p, g, t, l) : Object(Di.f)(i, d, f, y, t, l); if (b > 0) for (var x = 0; x < b; x++) { var _ = l[x]; if (_ <= 1 && _ >= 0) { m = s ? Object(Di.a)(i, d, f, y, _) : Object(Di.a)(n, h, p, g, _); return s ? [t, m] : [m, t] } }n = g, i = y; break } } }, e }(Ai.b)); var zi = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(Ct.b)(e, t), e }(Ni)); var Bi = (function (t) { function e (e) { var n = t.call(this, e) || this; return n.type = 'ec-polygon', n } return Object(Ct.b)(e, t), e.prototype.getDefaultShape = function () { return new zi() }, e.prototype.buildPath = function (t, e) { var n = e.points; var i = e.stackedOnPoints; var r = 0; var a = n.length / 2; var o = e.smoothMonotone; if (e.connectNulls) { for (;a > 0; a--) if (!Pi(n[2 * a - 2], n[2 * a - 1])) break; for (;r < a; r++) if (!Pi(n[2 * r], n[2 * r + 1])) break } while (r < a) { var s = Ri(t, n, r, a, a, 1, e.smooth, o, e.connectNulls); Ri(t, i, r + s - 1, s, a, -1, e.stackedOnSmooth, o, e.connectNulls), r += s + 1, t.closePath() } }, e }(Ai.b)); var Vi = n('1cb2'); function Fi (t, e, n, i, r) { var a = t.getArea(); var o = a.x; var s = a.y; var l = a.width; var u = a.height; var c = n.get(['lineStyle', 'width']) || 2; o -= c / 2, s -= c / 2, l += c, u += c, o = Math.floor(o), l = Math.round(l); var h = new y.Rect({ shape: { x: o, y: s, width: l, height: u } }); if (e) { var d = t.getBaseAxis(); var p = d.isHorizontal(); var f = d.inverse; p ? (f && (h.shape.x += l), h.shape.width = 0) : (f || (h.shape.y += u), h.shape.height = 0); var g = typeof r === 'function' ? function (t) { r(t, h) } : null; y.initProps(h, { shape: { width: l, height: u, x: o, y: s } }, n, null, i, g) } return h } function Gi (t, e, n) { var i = t.getArea(); var r = Object(v.round)(i.r0, 1); var a = Object(v.round)(i.r, 1); var o = new y.Sector({ shape: { cx: Object(v.round)(t.cx, 1), cy: Object(v.round)(t.cy, 1), r0: r, r: a, startAngle: i.startAngle, endAngle: i.endAngle, clockwise: i.clockwise } }); if (e) { var s = t.getBaseAxis().dim === 'angle'; s ? o.shape.endAngle = i.startAngle : o.shape.r = r, y.initProps(o, { shape: { endAngle: i.endAngle, r: a } }, n) } return o } function Hi (t, e, n, i, r) { return t ? t.type === 'polar' ? Gi(t, e, n) : t.type === 'cartesian2d' ? Fi(t, e, n, i, r) : null : null } function Wi (t, e) { return t.type === e } function Xi (t, e) { if (t.length === e.length) { for (var n = 0; n < t.length; n++) if (t[n] !== e[n]) return; return !0 } } function Yi (t) { for (var e = 1 / 0, n = 1 / 0, i = -1 / 0, r = -1 / 0, a = 0; a < t.length;) { var o = t[a++]; var s = t[a++]; isNaN(o) || (e = Math.min(o, e), i = Math.max(o, i)), isNaN(s) || (n = Math.min(s, n), r = Math.max(s, r)) } return [[e, n], [i, r]] } function Ui (t, e) { var n = Yi(t); var i = n[0]; var r = n[1]; var a = Yi(e); var o = a[0]; var s = a[1]; return Math.max(Math.abs(i[0] - o[0]), Math.abs(i[1] - o[1]), Math.abs(r[0] - s[0]), Math.abs(r[1] - s[1])) } function Zi (t) { return typeof t === 'number' ? t : t ? 0.5 : 0 } function qi (t, e, n) { if (!n.valueDim) return []; for (var i = e.count(), r = Ii(2 * i), a = 0; a < i; a++) { var o = Oi(n, t, e, a); r[2 * a] = o[0], r[2 * a + 1] = o[1] } return r } function Ki (t, e, n) { for (var i = e.getBaseAxis(), r = i.dim === 'x' || i.dim === 'radius' ? 0 : 1, a = [], o = 0, s = [], l = [], u = []; o < t.length - 2; o += 2) switch (u[0] = t[o + 2], u[1] = t[o + 3], l[0] = t[o], l[1] = t[o + 1], a.push(l[0], l[1]), n) { case 'end':s[r] = u[r], s[1 - r] = l[1 - r], a.push(s[0], s[1]); break; case 'middle':var c = (l[r] + u[r]) / 2; var h = []; s[r] = h[r] = c, s[1 - r] = l[1 - r], h[1 - r] = u[1 - r], a.push(s[0], s[1]), a.push(h[0], h[1]); break; default:s[r] = l[r], s[1 - r] = u[1 - r], a.push(s[0], s[1]) } return a.push(t[o++], t[o++]), a } function $i (t, e) { var n = t.getVisual('visualMeta'); if (n && n.length && t.count() && e.type === 'cartesian2d') { for (var i, r, a = n.length - 1; a >= 0; a--) { var o = n[a].dimension; var s = t.dimensions[o]; var l = t.getDimensionInfo(s); if (i = l && l.coordDim, i === 'x' || i === 'y') { r = n[a]; break } } if (r) { var u = e.getAxis(i); var c = f.map(r.stops, function (t) { return { offset: 0, coord: u.toGlobalCoord(u.dataToCoord(t.value)), color: t.color } }); var h = c.length; var d = r.outerColors.slice(); h && c[0].coord > c[h - 1].coord && (c.reverse(), d.reverse()); var p = 10; var g = c[0].coord - p; var v = c[h - 1].coord + p; var m = v - g; if (m < 0.001) return 'transparent'; f.each(c, function (t) { t.offset = (t.coord - g) / m }), c.push({ offset: h ? c[h - 1].offset : 0.5, color: d[1] || 'transparent' }), c.unshift({ offset: h ? c[0].offset : 0.5, color: d[0] || 'transparent' }); var b = new y.LinearGradient(0, 0, 0, 0, c, !0); return b[i] = g, b[i + '2'] = v, b } } } function Qi (t, e, n) { var i = t.get('showAllSymbol'); var r = i === 'auto'; if (!i || r) { var a = n.getAxesByScale('ordinal')[0]; if (a && (!r || !Ji(a, e))) { var o = e.mapDimension(a.dim); var s = {}; return f.each(a.getViewLabels(), function (t) { s[t.tickValue] = 1 }), function (t) { return !s.hasOwnProperty(e.get(o, t)) } } } } function Ji (t, e) { var n = t.getExtent(); var i = Math.abs(n[1] - n[0]) / t.scale.count(); isNaN(i) && (i = 0); for (var r = e.count(), a = Math.max(1, Math.round(r / 5)), o = 0; o < r; o += a) if (1.5 * gi.getSymbolSize(e, o)[t.isHorizontal() ? 1 : 0] > i) return !1; return !0 } function tr (t, e) { return isNaN(t) || isNaN(e) } function er (t) { for (var e = t.length / 2; e > 0; e--) if (!tr(t[2 * e - 2], t[2 * e - 1])) break; return e - 1 } function nr (t, e) { return [t[2 * e], t[2 * e + 1]] } function ir (t, e, n) { for (var i, r, a = t.length / 2, o = n === 'x' ? 0 : 1, s = 0, l = -1, u = 0; u < a; u++) if (r = t[2 * u + o], !isNaN(r) && !isNaN(t[2 * u + 1 - o])) if (u !== 0) { if (i <= e && r >= e || i >= e && r <= e) { l = u; break }s = u, i = r } else i = r; return { range: [s, l], t: (e - i) / (r - i) } } function rr (t, e, n, i) { if (Wi(e, 'cartesian2d')) { var r = i.getModel('endLabel'); var a = r.get('show'); var o = r.get('valueAnimation'); var s = i.getData(); var l = { lastFrameIndex: 0 }; var u = a ? function (n, i) { t._endLabelOnDuring(n, i, s, l, o, r, e) } : null; var c = e.getBaseAxis().isHorizontal(); var h = Fi(e, n, i, function () { var e = t._endLabel; e && n && l.originalX != null && e.attr({ x: l.originalX, y: l.originalY }) }, u); if (!i.get('clip', !0)) { var d = h.shape; var p = Math.max(d.width, d.height); c ? (d.y -= p, d.height += 2 * p) : (d.x -= p, d.width += 2 * p) } return u && u(1, h), h } return Gi(e, n, i) } function ar (t, e) { var n = e.getBaseAxis(); var i = n.isHorizontal(); var r = n.inverse; var a = i ? r ? 'right' : 'left' : 'center'; var o = i ? 'middle' : r ? 'top' : 'bottom'; return { normal: { align: t.get('align') || a, verticalAlign: t.get('verticalAlign') || o, padding: t.get('distance') || 0 } } } var or = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(Ct.b)(e, t), e.prototype.init = function () { var t = new y.Group(); var e = new xi(); this.group.add(e.group), this._symbolDraw = e, this._lineGroup = t }, e.prototype.render = function (t, e, n) { var i = this; var r = t.coordinateSystem; var a = this.group; var o = t.getData(); var s = t.getModel('lineStyle'); var l = t.getModel('areaStyle'); var u = o.getLayout('points') || []; var c = r.type === 'polar'; var h = this._coordSys; var d = this._symbolDraw; var p = this._polyline; var g = this._polygon; var y = this._lineGroup; var v = t.get('animation'); var m = !l.isEmpty(); var b = l.get('origin'); var x = _i(r, o, b); var _ = m && qi(r, o, x); var w = t.get('showSymbol'); var O = w && !c && Qi(t, o, r); var S = this._data; S && S.eachItemGraphicEl(function (t, e) { t.__temp && (a.remove(t), S.setItemGraphicEl(e, null)) }), w || d.remove(), a.add(y); var M; var I = !c && t.get('step'); r && r.getArea && t.get('clip', !0) && (M = r.getArea(), M.width != null ? (M.x -= 0.1, M.y -= 0.1, M.width += 0.2, M.height += 0.2) : M.r0 && (M.r0 -= 0.5, M.r += 0.5)), this._clipShapeForSymbol = M, p && h.type === r.type && I === this._step ? (m && !g ? g = this._newPolygon(u, _) : g && !m && (y.remove(g), g = this._polygon = null), c || this._initOrUpdateEndLabel(t, r), y.setClipPath(rr(this, r, !1, t)), w && d.updateData(o, { isIgnore: O, clipShape: M, disableAnimation: !0, getSymbolPoint: function (t) { return [u[2 * t], u[2 * t + 1]] } }), Xi(this._stackedOnPoints, _) && Xi(this._points, u) || (v ? this._doUpdateAnimation(o, _, r, n, I, b) : (I && (u = Ki(u, r, I), _ && (_ = Ki(_, r, I))), p.setShape({ points: u }), g && g.setShape({ points: u, stackedOnPoints: _ })))) : (w && d.updateData(o, { isIgnore: O, clipShape: M, disableAnimation: !0, getSymbolPoint: function (t) { return [u[2 * t], u[2 * t + 1]] } }), v && this._initSymbolLabelAnimation(o, r, M), I && (u = Ki(u, r, I), _ && (_ = Ki(_, r, I))), p = this._newPolyline(u), m && (g = this._newPolygon(u, _)), c || this._initOrUpdateEndLabel(t, r), y.setClipPath(rr(this, r, !0, t))); var T = $i(o, r) || o.getVisual('style')[o.getVisual('drawType')]; var j = t.get(['emphasis', 'focus']); var A = t.get(['emphasis', 'blurScope']); if (p.useStyle(f.defaults(s.getLineStyle(), { fill: 'none', stroke: T, lineJoin: 'bevel' })), Object(li.D)(p, t, 'lineStyle'), p.style.lineWidth > 0 && t.get(['emphasis', 'lineStyle', 'width']) === 'bolder') { var C = p.getState('emphasis').style; C.lineWidth = p.style.lineWidth + 1 }Object(q.a)(p).seriesIndex = t.seriesIndex, Object(li.k)(p, j, A); var D = Zi(t.get('smooth')); var k = t.get('smoothMonotone'); var L = t.get('connectNulls'); if (p.setShape({ smooth: D, smoothMonotone: k, connectNulls: L }), g) { var P = o.getCalculationInfo('stackedOnSeries'); var R = 0; g.useStyle(f.defaults(l.getAreaStyle(), { fill: T, opacity: 0.7, lineJoin: 'bevel', decal: o.getVisual('style').decal })), P && (R = Zi(P.get('smooth'))), g.setShape({ smooth: D, stackedOnSmooth: R, smoothMonotone: k, connectNulls: L }), Object(li.D)(g, t, 'areaStyle'), Object(q.a)(g).seriesIndex = t.seriesIndex, Object(li.k)(g, j, A) } var N = function (t) { i._changePolyState(t) }; o.eachItemGraphicEl(function (t) { t && (t.onHoverStateChange = N) }), this._polyline.onHoverStateChange = N, this._data = o, this._coordSys = r, this._stackedOnPoints = _, this._points = u, this._step = I, this._valueOrigin = b }, e.prototype.dispose = function () {}, e.prototype.highlight = function (t, e, n, i) { var r = t.getData(); var a = Z.t(r, i); if (this._changePolyState('emphasis'), !(a instanceof Array) && a != null && a >= 0) { var o = r.getLayout('points'); var s = r.getItemGraphicEl(a); if (!s) { var l = o[2 * a]; var u = o[2 * a + 1]; if (isNaN(l) || isNaN(u)) return; if (this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(l, u)) return; s = new gi(r, a), s.x = l, s.y = u, s.setZ(t.get('zlevel'), t.get('z')), s.__temp = !0, r.setItemGraphicEl(a, s), s.stopSymbolAnimation(!0), this.group.add(s) }s.highlight() } else Vi.a.prototype.highlight.call(this, t, e, n, i) }, e.prototype.downplay = function (t, e, n, i) { var r = t.getData(); var a = Z.t(r, i); if (this._changePolyState('normal'), a != null && a >= 0) { var o = r.getItemGraphicEl(a); o && (o.__temp ? (r.setItemGraphicEl(a, null), this.group.remove(o)) : o.downplay()) } else Vi.a.prototype.downplay.call(this, t, e, n, i) }, e.prototype._changePolyState = function (t) { var e = this._polygon; Object(li.C)(this._polyline, t), e && Object(li.C)(e, t) }, e.prototype._newPolyline = function (t) { var e = this._polyline; return e && this._lineGroup.remove(e), e = new Ei({ shape: { points: t }, segmentIgnoreThreshold: 2, z2: 10 }), this._lineGroup.add(e), this._polyline = e, e }, e.prototype._newPolygon = function (t, e) { var n = this._polygon; return n && this._lineGroup.remove(n), n = new Bi({ shape: { points: t, stackedOnPoints: e }, segmentIgnoreThreshold: 2 }), this._lineGroup.add(n), this._polygon = n, n }, e.prototype._initSymbolLabelAnimation = function (t, e, n) { var i; var r; var a = e.getBaseAxis(); var o = a.inverse; e.type === 'cartesian2d' ? (i = a.isHorizontal(), r = !1) : e.type === 'polar' && (i = a.dim === 'angle', r = !0); var s = t.hostModel; var l = s.get('animationDuration'); typeof l === 'function' && (l = l(null)); var u = s.get('animationDelay') || 0; var c = typeof u === 'function' ? u(null) : u; t.eachItemGraphicEl(function (t, a) { var s = t; if (s) { var h = [t.x, t.y]; var d = void 0; var p = void 0; var f = void 0; if (r) { var g = n; var y = e.pointToCoord(h); i ? (d = g.startAngle, p = g.endAngle, f = -y[1] / 180 * Math.PI) : (d = g.r0, p = g.r, f = y[0]) } else { var v = n; i ? (d = v.x, p = v.x + v.width, f = t.x) : (d = v.y + v.height, p = v.y, f = t.y) } var m = p === d ? 0 : (f - d) / (p - d); o && (m = 1 - m); var b = typeof u === 'function' ? u(a) : l * m + c; var x = s.getSymbolPath(); var _ = x.getTextContent(); s.attr({ scaleX: 0, scaleY: 0 }), s.animateTo({ scaleX: 1, scaleY: 1 }, { duration: 200, delay: b }), _ && _.animateFrom({ style: { opacity: 0 } }, { duration: 300, delay: b }), x.disableLabelAnimation = !0 } }) }, e.prototype._initOrUpdateEndLabel = function (t, e) { var n = t.getModel('endLabel'); if (n.get('show')) { var i = t.getData(); var r = this._polyline; var a = this._endLabel; a || (a = this._endLabel = new y.Text({ z2: 200 }), a.ignoreClip = !0, r.setTextContent(this._endLabel), r.disableLabelAnimation = !0); var o = er(i.getLayout('points')); o >= 0 && Object(hi.g)(a, Object(hi.e)(t, 'endLabel'), { labelFetcher: t, labelDataIndex: o, defaultText: function (t, e, n) { return n ? ci(i, n) : ui(i, t) }, enableTextSetter: !0 }, ar(n, e)) } else this._endLabel && (this._polyline.removeTextContent(), this._endLabel = null) }, e.prototype._endLabelOnDuring = function (t, e, n, i, r, a, o) { var s = this._endLabel; var l = this._polyline; if (s) { t < 1 && i.originalX == null && (i.originalX = s.x, i.originalY = s.y); var u = n.getLayout('points'); var c = n.hostModel; var h = c.get('connectNulls'); var d = a.get('precision'); var p = o.getBaseAxis(); var f = p.isHorizontal(); var g = p.inverse; var y = e.shape; var v = g ? f ? y.x : y.y + y.height : f ? y.x + y.width : y.y; var m = f ? 'x' : 'y'; var b = ir(u, v, m); var x = b.range; var _ = x[1] - x[0]; var w = void 0; if (_ >= 1) { if (_ > 1 && !h) { var O = nr(u, x[0]); s.attr({ x: O[0], y: O[1] }), r && (w = c.getRawValue(x[0])) } else { O = l.getPointOn(v, m); O && s.attr({ x: O[0], y: O[1] }); var S = c.getRawValue(x[0]); var M = c.getRawValue(x[1]); r && (w = Z.k(n, d, S, M, b.t)) }i.lastFrameIndex = x[0] } else { var I = t === 1 || i.lastFrameIndex > 0 ? x[0] : 0; O = nr(u, I); r && (w = c.getRawValue(I)), s.attr({ x: O[0], y: O[1] }) }r && Object(hi.f)(s).setLabelText(w) } }, e.prototype._doUpdateAnimation = function (t, e, n, i, r, a) { var o = this._polyline; var s = this._polygon; var l = t.hostModel; var u = ji(this._data, t, this._stackedOnPoints, e, this._coordSys, n, this._valueOrigin, a); var c = u.current; var h = u.stackedOnCurrent; var d = u.next; var p = u.stackedOnNext; if (r && (c = Ki(u.current, n, r), h = Ki(u.stackedOnCurrent, n, r), d = Ki(u.next, n, r), p = Ki(u.stackedOnNext, n, r)), Ui(c, d) > 3e3 || s && Ui(h, p) > 3e3) return o.setShape({ points: d }), void (s && s.setShape({ points: d, stackedOnPoints: p })); o.shape.__points = u.current, o.shape.points = c; var f = { shape: { points: d } }; u.current !== c && (f.shape.__points = u.next), o.stopAnimation(), y.updateProps(o, f, l), s && (s.setShape({ points: c, stackedOnPoints: h }), s.stopAnimation(), y.updateProps(s, { shape: { stackedOnPoints: p } }, l), o.shape.points !== s.shape.points && (s.shape.points = o.shape.points)); for (var g = [], v = u.status, m = 0; m < v.length; m++) { var b = v[m].cmd; if (b === '=') { var x = t.getItemGraphicEl(v[m].idx1); x && g.push({ el: x, ptIdx: m }) } }o.animators && o.animators.length && o.animators[0].during(function () { s && s.dirtyShape(); for (var t = o.shape.__points, e = 0; e < g.length; e++) { var n = g[e].el; var i = 2 * g[e].ptIdx; n.x = t[i], n.y = t[i + 1], n.markRedraw() } }) }, e.prototype.remove = function (t) { var e = this.group; var n = this._data; this._lineGroup.removeAll(), this._symbolDraw.remove(!0), n && n.eachItemGraphicEl(function (t, i) { t.__temp && (e.remove(t), n.setItemGraphicEl(i, null)) }), this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._endLabel = this._data = null }, e.type = 'line', e }(Vi.a)); Vi.a.registerClass(or); Vi.a; function sr (t, e) { return { seriesType: t, plan: Object(Kt.a)(), reset: function (t) { var n = t.getData(); var i = t.coordinateSystem; var r = t.pipelineContext; var a = e || r.large; if (i) { var o = Object(f.map)(i.dimensions, function (t) { return n.mapDimension(t) }).slice(0, 2); var s = o.length; var l = n.getCalculationInfo('stackResultDimension'); St(n, o[0]) && (o[0] = l), St(n, o[1]) && (o[1] = l); var u = n.getDimensionInfo(o[0]); var c = n.getDimensionInfo(o[1]); var h = u && u.index; var d = c && c.index; return s && { progress: function (t, e) { for (var n = t.end - t.start, r = a && Ii(n * s), o = [], l = [], u = t.start, c = 0; u < t.end; u++) { var p = void 0; if (s === 1) { var f = e.getByDimIdx(h, u); p = i.dataToPoint(f, null, l) } else o[0] = e.getByDimIdx(h, u), o[1] = e.getByDimIdx(d, u), p = i.dataToPoint(o, null, l); a ? (r[c++] = p[0], r[c++] = p[1]) : e.setItemLayout(u, p.slice()) }a && e.setLayout('points', r) } } } } } } var lr = { average: function (t) { for (var e = 0, n = 0, i = 0; i < t.length; i++)isNaN(t[i]) || (e += t[i], n++); return n === 0 ? NaN : e / n }, sum: function (t) { for (var e = 0, n = 0; n < t.length; n++)e += t[n] || 0; return e }, max: function (t) { for (var e = -1 / 0, n = 0; n < t.length; n++)t[n] > e && (e = t[n]); return isFinite(e) ? e : NaN }, min: function (t) { for (var e = 1 / 0, n = 0; n < t.length; n++)t[n] < e && (e = t[n]); return isFinite(e) ? e : NaN }, nearest: function (t) { return t[0] } }; var ur = function (t) { return Math.round(t.length / 2) }; function cr (t) { return { seriesType: t, reset: function (t, e, n) { var i = t.getData(); var r = t.get('sampling'); var a = t.coordinateSystem; var o = i.count(); if (o > 10 && a.type === 'cartesian2d' && r) { var s = a.getBaseAxis(); var l = a.getOtherAxis(s); var u = s.getExtent(); var c = n.getDevicePixelRatio(); var h = Math.abs(u[1] - u[0]) * (c || 1); var d = Math.round(o / h); if (d > 1) { r === 'lttb' && t.setData(i.lttbDownSample(i.mapDimension(l.dim), 1 / d)); var p = void 0; typeof r === 'string' ? p = lr[r] : typeof r === 'function' && (p = r), p && t.setData(i.downSample(i.mapDimension(l.dim), 1 / d, p, ur)) } } } } } var hr = n('bb19'); var dr = { show: !0, zlevel: 0, z: 0, inverse: !1, name: '', nameLocation: 'end', nameRotate: null, nameTruncate: { maxWidth: null, ellipsis: '...', placeholder: '.' }, nameTextStyle: {}, nameGap: 15, silent: !1, triggerEvent: !1, tooltip: { show: !1 }, axisPointer: {}, axisLine: { show: !0, onZero: !0, onZeroAxisIndex: null, lineStyle: { color: '#6E7079', width: 1, type: 'solid' }, symbol: ['none', 'none'], symbolSize: [10, 15] }, axisTick: { show: !0, inside: !1, length: 5, lineStyle: { width: 1 } }, axisLabel: { show: !0, inside: !1, rotate: 0, showMinLabel: null, showMaxLabel: null, margin: 8, fontSize: 12 }, splitLine: { show: !0, lineStyle: { color: ['#E0E6F1'], width: 1, type: 'solid' } }, splitArea: { show: !1, areaStyle: { color: ['rgba(250,250,250,0.2)', 'rgba(210,219,238,0.2)'] } } }; var pr = f.merge({ boundaryGap: !0, deduplication: null, splitLine: { show: !1 }, axisTick: { alignWithLabel: !1, interval: 'auto' }, axisLabel: { interval: 'auto' } }, dr); var fr = f.merge({ boundaryGap: [0, 0], axisLine: { show: 'auto' }, axisTick: { show: 'auto' }, splitNumber: 5, minorTick: { show: !1, splitNumber: 5, length: 3, lineStyle: {} }, minorSplitLine: { show: !1, lineStyle: { color: '#F4F7FD', width: 1 } } }, dr); var gr = f.merge({ scale: !0, splitNumber: 6, axisLabel: { showMinLabel: !1, showMaxLabel: !1, rich: { primary: { fontWeight: 'bold' } } }, splitLine: { show: !1 } }, fr); var yr = f.defaults({ scale: !0, logBase: 10 }, fr); var vr = { category: pr, value: fr, time: gr, log: yr }; var mr = { value: 1, category: 1, time: 1, log: 1 }; function br (t, e, n) { f.each(mr, function (i, r) { var a = f.merge(f.merge({}, vr[r], !0), n, !0); var o = (function (e) { function n () { for (var n = [], i = 0; i < arguments.length; i++)n[i] = arguments[i]; var a = e.apply(this, n) || this; return a.type = t + 'Axis.' + r, a } return Object(Ct.b)(n, e), n.prototype.mergeDefaultAndTheme = function (t, e) { var n = Object(on.d)(this); var i = n ? Object(on.f)(t) : {}; var a = e.getTheme(); f.merge(t, a.get(r + 'Axis')), f.merge(t, this.getDefaultOption()), t.type = xr(t), n && Object(on.h)(t, i, n) }, n.prototype.optionUpdated = function () { var t = this.option; t.type === 'category' && (this.__ordinalMeta = Nt.createByAxisModel(this)) }, n.prototype.getCategories = function (t) { var e = this.option; if (e.type === 'category') return t ? e.data : this.__ordinalMeta.categories }, n.prototype.getOrdinalMeta = function () { return this.__ordinalMeta }, n.type = t + 'Axis.' + r, n.defaultOption = a, n }(e)); hr.a.registerClass(o) }), hr.a.registerSubTypeDefaulter(t + 'Axis', xr) } function xr (t) { return t.type || (t.data ? 'category' : 'value') } var _r = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(Ct.b)(e, t), e.prototype.getCoordSysModel = function () { return this.getReferringComponents('grid', Z.b).models[0] }, e.type = 'cartesian2dAxis', e }(hr.a)); f.mixin(_r, an); var wr = { offset: 0, categorySortInfo: [] }; br('x', _r, wr), br('y', _r, wr); var Or = Math.PI; var Sr = (function () { function t (t, e) { this.group = new y.Group(), this.opt = e, this.axisModel = t, Object(f.defaults)(e, { labelOffset: 0, nameDirection: 1, tickDirection: 1, labelDirection: 1, silent: !0, handleAutoShown: function () { return !0 } }); var n = new y.Group({ x: e.position[0], y: e.position[1], rotation: e.rotation }); n.updateTransform(), this._transformGroup = n } return t.prototype.hasBuilder = function (t) { return !!Mr[t] }, t.prototype.add = function (t) { Mr[t](this.opt, this.axisModel, this.group, this._transformGroup) }, t.prototype.getGroup = function () { return this.group }, t.innerTextLayout = function (t, e, n) { var i; var r; var a = Object(v.remRadian)(e - t); return Object(v.isRadianAroundZero)(a) ? (r = n > 0 ? 'top' : 'bottom', i = 'center') : Object(v.isRadianAroundZero)(a - Or) ? (r = n > 0 ? 'bottom' : 'top', i = 'center') : (r = 'middle', i = a > 0 && a < Or ? n > 0 ? 'right' : 'left' : n > 0 ? 'left' : 'right'), { rotation: a, textAlign: i, textVerticalAlign: r } }, t.makeAxisEventDataBase = function (t) { var e = { componentType: t.mainType, componentIndex: t.componentIndex }; return e[t.mainType + 'Index'] = t.componentIndex, e }, t.isLabelSilent = function (t) { var e = t.get('tooltip'); return t.get('silent') || !(t.get('triggerEvent') || e && e.show) }, t }()); var Mr = { axisLine: function (t, e, n, i) { var r = e.get(['axisLine', 'show']); if (r === 'auto' && t.handleAutoShown && (r = t.handleAutoShown('axisLine')), r) { var a = e.axis.getExtent(); var o = i.transform; var s = [a[0], 0]; var l = [a[1], 0]; o && (Object(p.b)(s, s, o), Object(p.b)(l, l, o)); var u = Object(f.extend)({ lineCap: 'round' }, e.getModel(['axisLine', 'lineStyle']).getLineStyle()); var c = new y.Line({ subPixelOptimize: !0, shape: { x1: s[0], y1: s[1], x2: l[0], y2: l[1] }, style: u, strokeContainThreshold: t.strokeContainThreshold || 5, silent: !0, z2: 1 }); c.anid = 'line', n.add(c); var h = e.get(['axisLine', 'symbol']); var d = e.get(['axisLine', 'symbolSize']); var g = e.get(['axisLine', 'symbolOffset']) || 0; if (typeof g === 'number' && (g = [g, g]), h != null) { typeof h === 'string' && (h = [h, h]), typeof d !== 'string' && typeof d !== 'number' || (d = [d, d]); var v = d[0]; var m = d[1]; Object(f.each)([{ rotate: t.rotation + Math.PI / 2, offset: g[0], r: 0 }, { rotate: t.rotation - Math.PI / 2, offset: g[1], r: Math.sqrt((s[0] - l[0]) * (s[0] - l[0]) + (s[1] - l[1]) * (s[1] - l[1])) }], function (e, i) { if (h[i] !== 'none' && h[i] != null) { var r = Object(sn.a)(h[i], -v / 2, -m / 2, v, m, u.stroke, !0); var a = e.r + e.offset; r.attr({ rotation: e.rotate, x: s[0] + a * Math.cos(t.rotation), y: s[1] - a * Math.sin(t.rotation), silent: !0, z2: 11 }), n.add(r) } }) } } }, axisTickLabel: function (t, e, n, i) { var r = kr(n, i, e, t); var a = Pr(n, i, e, t); Tr(e, a, r), Lr(n, i, e, t.tickDirection) }, axisName: function (t, e, n, i) { var r = Object(f.retrieve)(t.axisName, e.get('name')); if (r) { var a; var o; var s = e.get('nameLocation'); var l = t.nameDirection; var u = e.getModel('nameTextStyle'); var c = e.get('nameGap') || 0; var h = e.axis.getExtent(); var d = h[0] > h[1] ? -1 : 1; var p = [s === 'start' ? h[0] - d * c : s === 'end' ? h[1] + d * c : (h[0] + h[1]) / 2, Cr(s) ? t.labelOffset + l * c : 0]; var g = e.get('nameRotate'); g != null && (g = g * Or / 180), Cr(s) ? a = Sr.innerTextLayout(t.rotation, g != null ? g : t.rotation, l) : (a = Ir(t.rotation, s, g || 0, h), o = t.axisNameAvailableWidth, o != null && (o = Math.abs(o / Math.sin(a.rotation)), !isFinite(o) && (o = null))); var v = u.getFont(); var m = e.get('nameTruncate', !0) || {}; var b = m.ellipsis; var x = Object(f.retrieve)(t.nameTruncateMaxWidth, m.maxWidth, o); var _ = e.get('tooltip', !0); var w = e.mainType; var O = { componentType: w, name: r, $vars: ['name'] }; O[w + 'Index'] = e.componentIndex; var S = new y.Text({ x: p[0], y: p[1], rotation: a.rotation, silent: Sr.isLabelSilent(e), style: Object(hi.c)(u, { text: r, font: v, overflow: 'truncate', width: x, ellipsis: b, fill: u.getTextColor() || e.get(['axisLine', 'lineStyle', 'color']), align: u.get('align') || a.textAlign, verticalAlign: u.get('verticalAlign') || a.textVerticalAlign }), z2: 1 }); if (S.tooltip = _ && _.show ? Object(f.extend)({ content: r, formatter: function () { return r }, formatterParams: O }, _) : null, S.__fullText = r, S.anid = 'name', e.get('triggerEvent')) { var M = Sr.makeAxisEventDataBase(e); M.targetType = 'axisName', M.name = r, Object(q.a)(S).eventData = M }i.add(S), S.updateTransform(), n.add(S), S.decomposeTransform() } } }; function Ir (t, e, n, i) { var r; var a; var o = Object(v.remRadian)(n - t); var s = i[0] > i[1]; var l = e === 'start' && !s || e !== 'start' && s; return Object(v.isRadianAroundZero)(o - Or / 2) ? (a = l ? 'bottom' : 'top', r = 'center') : Object(v.isRadianAroundZero)(o - 1.5 * Or) ? (a = l ? 'top' : 'bottom', r = 'center') : (a = 'middle', r = o < 1.5 * Or && o > Or / 2 ? l ? 'left' : 'right' : l ? 'right' : 'left'), { rotation: o, textAlign: r, textVerticalAlign: a } } function Tr (t, e, n) { if (!en(t.axis)) { var i = t.get(['axisLabel', 'showMinLabel']); var r = t.get(['axisLabel', 'showMaxLabel']); e = e || [], n = n || []; var a = e[0]; var o = e[1]; var s = e[e.length - 1]; var l = e[e.length - 2]; var u = n[0]; var c = n[1]; var h = n[n.length - 1]; var d = n[n.length - 2]; !1 === i ? (jr(a), jr(u)) : Ar(a, o) && (i ? (jr(o), jr(c)) : (jr(a), jr(u))), !1 === r ? (jr(s), jr(h)) : Ar(l, s) && (r ? (jr(l), jr(d)) : (jr(s), jr(h))) } } function jr (t) { t && (t.ignore = !0) } function Ar (t, e) { var n = t && t.getBoundingRect().clone(); var i = e && e.getBoundingRect().clone(); if (n && i) { var r = d.d([]); return d.g(r, r, -t.rotation), n.applyTransform(d.f([], r, t.getLocalTransform())), i.applyTransform(d.f([], r, e.getLocalTransform())), n.intersect(i) } } function Cr (t) { return t === 'middle' || t === 'center' } function Dr (t, e, n, i, r) { for (var a = [], o = [], s = [], l = 0; l < t.length; l++) { var u = t[l].coord; o[0] = u, o[1] = 0, s[0] = u, s[1] = n, e && (Object(p.b)(o, o, e), Object(p.b)(s, s, e)); var c = new y.Line({ subPixelOptimize: !0, shape: { x1: o[0], y1: o[1], x2: s[0], y2: s[1] }, style: i, z2: 2, autoBatch: !0, silent: !0 }); c.anid = r + '_' + t[l].tickValue, a.push(c) } return a } function kr (t, e, n, i) { var r = n.axis; var a = n.getModel('axisTick'); var o = a.get('show'); if (o === 'auto' && i.handleAutoShown && (o = i.handleAutoShown('axisTick')), o && !r.scale.isBlank()) { for (var s = a.getModel('lineStyle'), l = i.tickDirection * a.get('length'), u = r.getTicksCoords(), c = Dr(u, e.transform, l, Object(f.defaults)(s.getLineStyle(), { stroke: n.get(['axisLine', 'lineStyle', 'color']) }), 'ticks'), h = 0; h < c.length; h++)t.add(c[h]); return c } } function Lr (t, e, n, i) { var r = n.axis; var a = n.getModel('minorTick'); if (a.get('show') && !r.scale.isBlank()) { var o = r.getMinorTicksCoords(); if (o.length) for (var s = a.getModel('lineStyle'), l = i * a.get('length'), u = Object(f.defaults)(s.getLineStyle(), Object(f.defaults)(n.getModel('axisTick').getLineStyle(), { stroke: n.get(['axisLine', 'lineStyle', 'color']) })), c = 0; c < o.length; c++) for (var h = Dr(o[c], e.transform, l, u, 'minorticks_' + c), d = 0; d < h.length; d++)t.add(h[d]) } } function Pr (t, e, n, i) { var r = n.axis; var a = Object(f.retrieve)(i.axisLabelShow, n.get(['axisLabel', 'show'])); if (a && !r.scale.isBlank()) { var o = n.getModel('axisLabel'); var s = o.get('margin'); var l = r.getViewLabels(); var u = (Object(f.retrieve)(i.labelRotate, o.get('rotate')) || 0) * Or / 180; var c = Sr.innerTextLayout(i.rotation, u, i.labelDirection); var h = n.getCategories && n.getCategories(!0); var d = []; var p = Sr.isLabelSilent(n); var g = n.get('triggerEvent'); return Object(f.each)(l, function (a, l) { var u = r.scale.type === 'ordinal' ? r.scale.getRawIndex(a.tickValue) : a.tickValue; var v = a.formattedLabel; var m = a.rawLabel; var b = o; if (h && h[u]) { var x = h[u]; Object(f.isObject)(x) && x.textStyle && (b = new _.a(x.textStyle, o, n.ecModel)) } var w = b.getTextColor() || n.get(['axisLine', 'lineStyle', 'color']); var O = r.dataToCoord(u); var S = new y.Text({ x: O, y: i.labelOffset + i.labelDirection * s, rotation: c.rotation, silent: p, z2: 10, style: Object(hi.c)(b, { text: v, align: b.getShallow('align', !0) || c.textAlign, verticalAlign: b.getShallow('verticalAlign', !0) || b.getShallow('baseline', !0) || c.textVerticalAlign, fill: typeof w === 'function' ? w(r.type === 'category' ? m : r.type === 'value' ? u + '' : u, l) : w }) }); if (S.anid = 'label_' + u, g) { var M = Sr.makeAxisEventDataBase(n); M.targetType = 'axisLabel', M.value = m, Object(q.a)(S).eventData = M }e.add(S), S.updateTransform(), d.push(S), t.add(S), S.decomposeTransform() }), d } } var Rr = Sr; function Nr (t, e) { var n = { axesInfo: {}, seriesInvolved: !1, coordSysAxesInfo: {}, coordSysMap: {} }; return Er(n, t, e), n.seriesInvolved && Br(n, t), n } function Er (t, e, n) { var i = e.getComponent('tooltip'); var r = e.getComponent('axisPointer'); var a = r.get('link', !0) || []; var o = []; Object(f.each)(n.getCoordinateSystems(), function (n) { if (n.axisPointerEnabled) { var s = Yr(n.model); var l = t.coordSysAxesInfo[s] = {}; t.coordSysMap[s] = n; var u = n.model; var c = u.getModel('tooltip', i); if (Object(f.each)(n.getAxes(), Object(f.curry)(g, !1, null)), n.getTooltipAxes && i && c.get('show')) { var h = c.get('trigger') === 'axis'; var d = c.get(['axisPointer', 'type']) === 'cross'; var p = n.getTooltipAxes(c.get(['axisPointer', 'axis'])); (h || d) && Object(f.each)(p.baseAxes, Object(f.curry)(g, !d || 'cross', h)), d && Object(f.each)(p.otherAxes, Object(f.curry)(g, 'cross', !1)) } } function g (i, s, u) { var h = u.model.getModel('axisPointer', r); var d = h.get('show'); if (d && (d !== 'auto' || i || Xr(h))) { s == null && (s = h.get('triggerTooltip')), h = i ? zr(u, c, r, e, i, s) : h; var p = h.get('snap'); var f = Yr(u.model); var g = s || p || u.type === 'category'; var y = t.axesInfo[f] = { key: f, axis: u, coordSys: n, axisPointerModel: h, triggerTooltip: s, involveSeries: g, snap: p, useHandle: Xr(h), seriesModels: [], linkGroup: null }; l[f] = y, t.seriesInvolved = t.seriesInvolved || g; var v = Vr(a, u); if (v != null) { var m = o[v] || (o[v] = { axesInfo: {} }); m.axesInfo[f] = y, m.mapper = a[v].mapper, y.linkGroup = m } } } }) } function zr (t, e, n, i, r, a) { var o = e.getModel('axisPointer'); var s = ['type', 'snap', 'lineStyle', 'shadowStyle', 'label', 'animation', 'animationDurationUpdate', 'animationEasingUpdate', 'z']; var l = {}; Object(f.each)(s, function (t) { l[t] = Object(f.clone)(o.get(t)) }), l.snap = t.type !== 'category' && !!a, o.get('type') === 'cross' && (l.type = 'line'); var u = l.label || (l.label = {}); if (u.show == null && (u.show = !1), r === 'cross') { var c = o.get(['label', 'show']); if (u.show = c == null || c, !a) { var h = l.lineStyle = o.get('crossStyle'); h && Object(f.defaults)(u, h.textStyle) } } return t.model.getModel('axisPointer', new _.a(l, n, i)) } function Br (t, e) { e.eachSeries(function (e) { var n = e.coordinateSystem; var i = e.get(['tooltip', 'trigger'], !0); var r = e.get(['tooltip', 'show'], !0); n && i !== 'none' && !1 !== i && i !== 'item' && !1 !== r && !1 !== e.get(['axisPointer', 'show'], !0) && Object(f.each)(t.coordSysAxesInfo[Yr(n.model)], function (t) { var i = t.axis; n.getAxis(i.dim) === i && (t.seriesModels.push(e), t.seriesDataCount == null && (t.seriesDataCount = 0), t.seriesDataCount += e.getData().count()) }) }) } function Vr (t, e) { for (var n = e.model, i = e.dim, r = 0; r < t.length; r++) { var a = t[r] || {}; if (Fr(a[i + 'AxisId'], n.id) || Fr(a[i + 'AxisIndex'], n.componentIndex) || Fr(a[i + 'AxisName'], n.name)) return r } } function Fr (t, e) { return t === 'all' || Object(f.isArray)(t) && Object(f.indexOf)(t, e) >= 0 || t === e } function Gr (t) { var e = Hr(t); if (e) { var n = e.axisPointerModel; var i = e.axis.scale; var r = n.option; var a = n.get('status'); var o = n.get('value'); o != null && (o = i.parse(o)); var s = Xr(n); a == null && (r.status = s ? 'show' : 'hide'); var l = i.getExtent().slice(); l[0] > l[1] && l.reverse(), (o == null || o > l[1]) && (o = l[1]), o < l[0] && (o = l[0]), r.value = o, s && (r.status = e.axis.scale.isBlank() ? 'hide' : 'show') } } function Hr (t) { var e = (t.ecModel.getComponent('axisPointer') || {}).coordSysAxesInfo; return e && e.axesInfo[Yr(t)] } function Wr (t) { var e = Hr(t); return e && e.axisPointerModel } function Xr (t) { return !!t.get(['handle', 'show']) } function Yr (t) { return t.type + '||' + t.id } var Ur = n('a46b'); var Zr = {}; var qr = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.render = function (e, n, i, r) { this.axisPointerClass && Gr(e), t.prototype.render.apply(this, arguments), this._doUpdateAxisPointerClass(e, i, !0) }, e.prototype.updateAxisPointer = function (t, e, n, i) { this._doUpdateAxisPointerClass(t, n, !1) }, e.prototype.remove = function (t, e) { var n = this._axisPointer; n && n.remove(e) }, e.prototype.dispose = function (e, n) { this._disposeAxisPointer(n), t.prototype.dispose.apply(this, arguments) }, e.prototype._doUpdateAxisPointerClass = function (t, n, i) { var r = e.getAxisPointerClass(this.axisPointerClass); if (r) { var a = Wr(t); a ? (this._axisPointer || (this._axisPointer = new r())).render(t, a, n, i) : this._disposeAxisPointer(n) } }, e.prototype._disposeAxisPointer = function (t) { this._axisPointer && this._axisPointer.dispose(t), this._axisPointer = null }, e.registerAxisPointerClass = function (t, e) { Zr[t] = e }, e.getAxisPointerClass = function (t) { return t && Zr[t] }, e.type = 'axis', e }(Ur.a)); var Kr = qr; function $r (t, e, n) { n = n || {}; var i = t.coordinateSystem; var r = e.axis; var a = {}; var o = r.getAxesOnZeroOf()[0]; var s = r.position; var l = o ? 'onZero' : s; var u = r.dim; var c = i.getRect(); var h = [c.x, c.x + c.width, c.y, c.y + c.height]; var d = { left: 0, right: 1, top: 0, bottom: 1, onZero: 2 }; var p = e.get('offset') || 0; var g = u === 'x' ? [h[2] - p, h[3] + p] : [h[0] - p, h[1] + p]; if (o) { var y = o.toGlobalCoord(o.dataToCoord(0)); g[d.onZero] = Math.max(Math.min(y, g[1]), g[0]) }a.position = [u === 'y' ? g[d[l]] : h[0], u === 'x' ? g[d[l]] : h[3]], a.rotation = Math.PI / 2 * (u === 'x' ? 0 : 1); var v = { top: -1, bottom: 1, left: -1, right: 1 }; a.labelDirection = a.tickDirection = a.nameDirection = v[s], a.labelOffset = o ? g[d[s]] - g[d.onZero] : 0, e.get(['axisTick', 'inside']) && (a.tickDirection = -a.tickDirection), f.retrieve(n.labelInside, e.get(['axisLabel', 'inside'])) && (a.labelDirection = -a.labelDirection); var m = e.get(['axisLabel', 'rotate']); return a.labelRotate = l === 'top' ? -m : m, a.z2 = 1, a } function Qr (t) { return t.get('coordinateSystem') === 'cartesian2d' } function Jr (t) { var e = { xAxisModel: null, yAxisModel: null }; return f.each(e, function (n, i) { var r = i.replace(/Model$/, ''); var a = t.getReferringComponents(r, Z.b).models[0]; e[i] = a }), e } var ta = Object(Z.o)(); function ea (t, e, n, i) { var r = n.axis; if (!r.scale.isBlank()) { var a = n.getModel('splitArea'); var o = a.getModel('areaStyle'); var s = o.get('color'); var l = i.coordinateSystem.getRect(); var u = r.getTicksCoords({ tickModel: a, clamp: !0 }); if (u.length) { var c = s.length; var h = ta(t).splitAreaColors; var d = f.createHashMap(); var p = 0; if (h) for (var g = 0; g < u.length; g++) { var v = h.get(u[g].tickValue); if (v != null) { p = (v + (c - 1) * g) % c; break } } var m = r.toGlobalCoord(u[0].coord); var b = o.getAreaStyle(); s = f.isArray(s) ? s : [s]; for (g = 1; g < u.length; g++) { var x = r.toGlobalCoord(u[g].coord); var _ = void 0; var w = void 0; var O = void 0; var S = void 0; r.isHorizontal() ? (_ = m, w = l.y, O = x - _, S = l.height, m = _ + O) : (_ = l.x, w = m, O = l.width, S = x - w, m = w + S); var M = u[g - 1].tickValue; M != null && d.set(M, p), e.add(new y.Rect({ anid: M != null ? 'area_' + M : null, shape: { x: _, y: w, width: O, height: S }, style: f.defaults({ fill: s[p] }, b), autoBatch: !0, silent: !0 })), p = (p + 1) % c }ta(t).splitAreaColors = d } } } function na (t) { ta(t).splitAreaColors = null } var ia = ['axisLine', 'axisTickLabel', 'axisName']; var ra = ['splitArea', 'splitLine', 'minorSplitLine']; var aa = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.axisPointerClass = 'CartesianAxisPointer', n } return Object(Ct.b)(e, t), e.prototype.render = function (e, n, i, r) { this.group.removeAll(); var a = this._axisGroup; if (this._axisGroup = new y.Group(), this.group.add(this._axisGroup), e.get('show')) { var o = e.getCoordSysModel(); var s = $r(o, e); var l = new Rr(e, f.extend({ handleAutoShown: function (t) { for (var n = o.coordinateSystem.getCartesians(), i = 0; i < n.length; i++) { var r = n[i].getOtherAxis(e.axis).type; if (r === 'value' || r === 'log') return !0 } return !1 } }, s)); f.each(ia, l.add, l), this._axisGroup.add(l.getGroup()), f.each(ra, function (t) { e.get([t, 'show']) && oa[t](this, this._axisGroup, e, o) }, this), y.groupTransition(a, this._axisGroup, e), t.prototype.render.call(this, e, n, i, r) } }, e.prototype.remove = function () { na(this) }, e.type = 'cartesianAxis', e }(Kr)); var oa = { splitLine: function (t, e, n, i) { var r = n.axis; if (!r.scale.isBlank()) { var a = n.getModel('splitLine'); var o = a.getModel('lineStyle'); var s = o.get('color'); s = f.isArray(s) ? s : [s]; for (var l = i.coordinateSystem.getRect(), u = r.isHorizontal(), c = 0, h = r.getTicksCoords({ tickModel: a }), d = [], p = [], g = o.getLineStyle(), v = 0; v < h.length; v++) { var m = r.toGlobalCoord(h[v].coord); u ? (d[0] = m, d[1] = l.y, p[0] = m, p[1] = l.y + l.height) : (d[0] = l.x, d[1] = m, p[0] = l.x + l.width, p[1] = m); var b = c++ % s.length; var x = h[v].tickValue; e.add(new y.Line({ anid: x != null ? 'line_' + h[v].tickValue : null, subPixelOptimize: !0, autoBatch: !0, shape: { x1: d[0], y1: d[1], x2: p[0], y2: p[1] }, style: f.defaults({ stroke: s[b] }, g), silent: !0 })) } } }, minorSplitLine: function (t, e, n, i) { var r = n.axis; var a = n.getModel('minorSplitLine'); var o = a.getModel('lineStyle'); var s = i.coordinateSystem.getRect(); var l = r.isHorizontal(); var u = r.getMinorTicksCoords(); if (u.length) for (var c = [], h = [], d = o.getLineStyle(), p = 0; p < u.length; p++) for (var f = 0; f < u[p].length; f++) { var g = r.toGlobalCoord(u[p][f].coord); l ? (c[0] = g, c[1] = s.y, h[0] = g, h[1] = s.y + s.height) : (c[0] = s.x, c[1] = g, h[0] = s.x + s.width, h[1] = g), e.add(new y.Line({ anid: 'minor_line_' + u[p][f].tickValue, subPixelOptimize: !0, autoBatch: !0, shape: { x1: c[0], y1: c[1], x2: h[0], y2: h[1] }, style: d, silent: !0 })) } }, splitArea: function (t, e, n, i) { ea(t, e, n, i) } }; var sa = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.type = 'xAxis', e }(aa)); var la = (function (t) { function e () { var e = t !== null && t.apply(this, arguments) || this; return e.type = sa.type, e } return Object(Ct.b)(e, t), e.type = 'yAxis', e }(aa)); Ur.a.registerClass(sa), Ur.a.registerClass(la); function ua (t, e, n) { t.eachSeries(function (t) { if (Qr(t)) { var i = Jr(t); var r = i.xAxisModel; var a = i.yAxisModel; var o = r.axis; var s = a.axis; var l = o.scale.rawExtentInfo; var u = s.scale.rawExtentInfo; var c = t.getData(); l && l.frozen || u && u.frozen || (n.push({ seriesModel: t, xAxisModel: r, yAxisModel: a }), rn(da(e, r).condExtent, c, o.dim), rn(da(e, a).condExtent, c, s.dim)) } }) } function ca (t, e) { Object(f.each)(e, function (e) { var n = e.xAxisModel; var i = e.yAxisModel; var r = n.axis; var a = i.axis; var o = da(t, n); var s = da(t, i); o.rawExtentInfo = He(r.scale, n, o.condExtent), s.rawExtentInfo = He(a.scale, i, s.condExtent), o.rawExtentResult = o.rawExtentInfo.calculate(), s.rawExtentResult = s.rawExtentInfo.calculate(); var l; var u; var c = e.seriesModel.getData(); var h = {}; var d = {}; function p (t, e) { var n = e.condExtent; var i = e.rawExtentResult; t.type === 'category' && (n[0] < i.min || i.max < n[1]) && Object(f.each)(nn(c, t.dim), function (e) { Object(f.hasOwn)(h, e) || (h[e] = !0, l = t) }) } function g (t, e) { var n = e.rawExtentResult; t.type === 'category' || n.minFixed && n.maxFixed || Object(f.each)(nn(c, t.dim), function (t) { Object(f.hasOwn)(h, t) || Object(f.hasOwn)(d, t) || (d[t] = !0, u = e) }) }p(r, o), p(a, s), g(r, o), g(a, s); var y = Object(f.keys)(h); var v = Object(f.keys)(d); var m = Object(f.map)(v, function () { return pa() }); var b = y.length; var x = v.length; if (b && x) { var _ = b === 1 ? y[0] : null; var w = x === 1 ? v[0] : null; var O = c.count(); if (_ && w) for (var S = 0; S < O; S++) { var M = c.get(_, S); l.scale.isInExtentRange(M) && fa(m[0], c.get(w, S)) } else for (S = 0; S < O; S++) for (var I = 0; I < b; I++) { M = c.get(y[I], S); if (l.scale.isInExtentRange(M)) { for (var T = 0; T < x; T++)fa(m[T], c.get(v[T], S)); break } }Object(f.each)(m, function (t, e) { var n = v[e]; c.setApproximateExtent(t, n); var i = u.tarExtent = u.tarExtent || pa(); fa(i, t[0]), fa(i, t[1]) }) } }) } function ha (t) { t.each(function (t) { var e = t.tarExtent; if (e) { var n = t.rawExtentResult; var i = t.rawExtentInfo; !n.minFixed && e[0] > n.min && i.modifyDataMinMax('min', e[0]), !n.maxFixed && e[1] < n.max && i.modifyDataMinMax('max', e[1]) } }) } function da (t, e) { return t.get(e.uid) || t.set(e.uid, { condExtent: pa() }) } function pa () { return [1 / 0, -1 / 0] } function fa (t, e) { e < t[0] && (t[0] = e), e > t[1] && (t[1] = e) }c.g(c.a.PROCESSOR.FILTER + 10, { getTargetSeries: function (t) { var e = Object(f.createHashMap)(); return t.eachSeries(function (t) { Qr(t) && e.set(t.uid, t) }), e }, overallReset: function (t, e) { var n = []; var i = Object(f.createHashMap)(); ua(t, i, n), ca(i, n), ha(i) } }); var ga = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(Ct.b)(e, t), e.type = 'grid', e.dependencies = ['xAxis', 'yAxis'], e.layoutMode = 'box', e.defaultOption = { show: !1, zlevel: 0, z: 0, left: '10%', top: 60, right: '10%', bottom: 70, containLabel: !1, backgroundColor: 'rgba(0,0,0,0)', borderWidth: 1, borderColor: '#ccc' }, e }(hr.a)); var ya = ga; var va = (function (t) { function e () { var e = t !== null && t.apply(this, arguments) || this; return e.type = 'grid', e } return Object(Ct.b)(e, t), e.prototype.render = function (t, e) { this.group.removeAll(), t.get('show') && this.group.add(new y.Rect({ shape: t.coordinateSystem.getRect(), style: f.defaults({ fill: t.get('backgroundColor') }, t.getItemStyle()), silent: !0, z2: -1 })) }, e.type = 'grid', e }(Ur.a)); Ur.a.registerClass(va), hr.a.registerClass(ya), c.f(function (t) { t.xAxis && t.yAxis && !t.grid && (t.grid = {}) }), c.e(sr('line', !0)), c.g(c.a.PROCESSOR.STATISTIC, cr('line')); var ma = (function () { function t (t) { this.type = 'cartesian', this._dimList = [], this._axes = {}, this.name = t || '' } return t.prototype.getAxis = function (t) { return this._axes[t] }, t.prototype.getAxes = function () { return f.map(this._dimList, function (t) { return this._axes[t] }, this) }, t.prototype.getAxesByScale = function (t) { return t = t.toLowerCase(), f.filter(this.getAxes(), function (e) { return e.scale.type === t }) }, t.prototype.addAxis = function (t) { var e = t.dim; this._axes[e] = t, this._dimList.push(e) }, t }()); var ba = ma; var xa = ['x', 'y']; function _a (t) { return t.type === 'interval' || t.type === 'time' } var wa = (function (t) { function e () { var e = t !== null && t.apply(this, arguments) || this; return e.type = 'cartesian2d', e.dimensions = xa, e } return Object(Ct.b)(e, t), e.prototype.calcAffineTransform = function () { this._transform = this._invTransform = null; var t = this.getAxis('x').scale; var e = this.getAxis('y').scale; if (_a(t) && _a(e)) { var n = t.getExtent(); var i = e.getExtent(); var r = this.dataToPoint([n[0], i[0]]); var a = this.dataToPoint([n[1], i[1]]); var o = n[1] - n[0]; var s = i[1] - i[0]; if (o && s) { var l = (a[0] - r[0]) / o; var u = (a[1] - r[1]) / s; var c = r[0] - n[0] * l; var h = r[1] - i[0] * u; var p = this._transform = [l, 0, 0, u, c, h]; this._invTransform = Object(d.e)([], p) } } }, e.prototype.getBaseAxis = function () { return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAxis('x') }, e.prototype.containPoint = function (t) { var e = this.getAxis('x'); var n = this.getAxis('y'); return e.contain(e.toLocalCoord(t[0])) && n.contain(n.toLocalCoord(t[1])) }, e.prototype.containData = function (t) { return this.getAxis('x').containData(t[0]) && this.getAxis('y').containData(t[1]) }, e.prototype.dataToPoint = function (t, e, n) { n = n || []; var i = t[0]; var r = t[1]; if (this._transform && i != null && isFinite(i) && r != null && isFinite(r)) return Object(p.b)(n, t, this._transform); var a = this.getAxis('x'); var o = this.getAxis('y'); return n[0] = a.toGlobalCoord(a.dataToCoord(i)), n[1] = o.toGlobalCoord(o.dataToCoord(r)), n }, e.prototype.clampData = function (t, e) { var n = this.getAxis('x').scale; var i = this.getAxis('y').scale; var r = n.getExtent(); var a = i.getExtent(); var o = n.parse(t[0]); var s = i.parse(t[1]); return e = e || [], e[0] = Math.min(Math.max(Math.min(r[0], r[1]), o), Math.max(r[0], r[1])), e[1] = Math.min(Math.max(Math.min(a[0], a[1]), s), Math.max(a[0], a[1])), e }, e.prototype.pointToData = function (t, e) { if (e = e || [], this._invTransform) return Object(p.b)(e, t, this._invTransform); var n = this.getAxis('x'); var i = this.getAxis('y'); return e[0] = n.coordToData(n.toLocalCoord(t[0])), e[1] = i.coordToData(i.toLocalCoord(t[1])), e }, e.prototype.getOtherAxis = function (t) { return this.getAxis(t.dim === 'x' ? 'y' : 'x') }, e.prototype.getArea = function () { var t = this.getAxis('x').getGlobalExtent(); var e = this.getAxis('y').getGlobalExtent(); var n = Math.min(t[0], t[1]); var i = Math.min(e[0], e[1]); var r = Math.max(t[0], t[1]) - n; var a = Math.max(e[0], e[1]) - i; return new pe.a(n, i, r, a) }, e }(ba)); var Oa = wa; var Sa = (function (t) { function e (e, n, i, r, a) { var o = t.call(this, e, n, i) || this; return o.index = 0, o.type = r || 'value', o.position = a || 'bottom', o } return Object(Ct.b)(e, t), e.prototype.isHorizontal = function () { var t = this.position; return t === 'top' || t === 'bottom' }, e.prototype.getGlobalExtent = function (t) { var e = this.getExtent(); return e[0] = this.toGlobalCoord(e[0]), e[1] = this.toGlobalCoord(e[1]), t && e[0] > e[1] && e.reverse(), e }, e.prototype.pointToData = function (t, e) { return this.coordToData(this.toLocalCoord(t[this.dim === 'x' ? 0 : 1]), e) }, e.prototype.setCategorySortInfo = function (t) { if (this.type !== 'category') return !1; this.model.option.categorySortInfo = t, this.scale.setCategorySortInfo(t) }, e }(En)); var Ma = Sa; var Ia = (function () { function t (t, e, n) { this.type = 'grid', this._coordsMap = {}, this._coordsList = [], this._axesMap = {}, this._axesList = [], this.axisPointerEnabled = !0, this.dimensions = xa, this._initCartesian(t, e, n), this.model = t } return t.prototype.getRect = function () { return this._rect }, t.prototype.update = function (t, e) { var n = this._axesMap; this._updateScale(t, this.model), Object(f.each)(n.x, function (t) { Ue(t.scale, t.model) }), Object(f.each)(n.y, function (t) { Ue(t.scale, t.model) }); var i = {}; Object(f.each)(n.x, function (t) { ja(n, 'y', t, i) }), Object(f.each)(n.y, function (t) { ja(n, 'x', t, i) }), this.resize(this.model, e) }, t.prototype.resize = function (t, e, n) { var i = t.getBoxLayoutParams(); var r = !n && t.get('containLabel'); var a = Object(on.g)(i, { width: e.getWidth(), height: e.getHeight() }); this._rect = a; var o = this._axesList; function s () { Object(f.each)(o, function (t) { var e = t.isHorizontal(); var n = e ? [0, a.width] : [0, a.height]; var i = t.inverse ? 1 : 0; t.setExtent(n[i], n[1 - i]), Ca(t, e ? a.x : a.y) }) }s(), r && (Object(f.each)(o, function (t) { if (!t.model.get(['axisLabel', 'inside'])) { var e = Qe(t); if (e) { var n = t.isHorizontal() ? 'height' : 'width'; var i = t.model.get(['axisLabel', 'margin']); a[n] -= e[n] + i, t.position === 'top' ? a.y += e.height + i : t.position === 'left' && (a.x += e.width + i) } } }), s()), Object(f.each)(this._coordsList, function (t) { t.calcAffineTransform() }) }, t.prototype.getAxis = function (t, e) { var n = this._axesMap[t]; if (n != null) return n[e || 0] }, t.prototype.getAxes = function () { return this._axesList.slice() }, t.prototype.getCartesian = function (t, e) { if (t != null && e != null) { var n = 'x' + t + 'y' + e; return this._coordsMap[n] }Object(f.isObject)(t) && (e = t.yAxisIndex, t = t.xAxisIndex); for (var i = 0, r = this._coordsList; i < r.length; i++) if (r[i].getAxis('x').index === t || r[i].getAxis('y').index === e) return r[i] }, t.prototype.getCartesians = function () { return this._coordsList.slice() }, t.prototype.convertToPixel = function (t, e, n) { var i = this._findConvertTarget(e); return i.cartesian ? i.cartesian.dataToPoint(n) : i.axis ? i.axis.toGlobalCoord(i.axis.dataToCoord(n)) : null }, t.prototype.convertFromPixel = function (t, e, n) { var i = this._findConvertTarget(e); return i.cartesian ? i.cartesian.pointToData(n) : i.axis ? i.axis.coordToData(i.axis.toLocalCoord(n)) : null }, t.prototype._findConvertTarget = function (t) { var e; var n; var i = t.seriesModel; var r = t.xAxisModel || i && i.getReferringComponents('xAxis', Z.b).models[0]; var a = t.yAxisModel || i && i.getReferringComponents('yAxis', Z.b).models[0]; var o = t.gridModel; var s = this._coordsList; if (i)e = i.coordinateSystem, Object(f.indexOf)(s, e) < 0 && (e = null); else if (r && a)e = this.getCartesian(r.componentIndex, a.componentIndex); else if (r)n = this.getAxis('x', r.componentIndex); else if (a)n = this.getAxis('y', a.componentIndex); else if (o) { var l = o.coordinateSystem; l === this && (e = this._coordsList[0]) } return { cartesian: e, axis: n } }, t.prototype.containPoint = function (t) { var e = this._coordsList[0]; if (e) return e.containPoint(t) }, t.prototype._initCartesian = function (t, e, n) { var i = this; var r = this; var a = { left: !1, right: !1, top: !1, bottom: !1 }; var o = { x: {}, y: {} }; var s = { x: 0, y: 0 }; if (e.eachComponent('xAxis', l('x'), this), e.eachComponent('yAxis', l('y'), this), !s.x || !s.y) return this._axesMap = {}, void (this._axesList = []); function l (e) { return function (n, i) { if (Ta(n, t)) { var l = n.get('position'); e === 'x' ? l !== 'top' && l !== 'bottom' && (l = a.bottom ? 'top' : 'bottom') : l !== 'left' && l !== 'right' && (l = a.left ? 'right' : 'left'), a[l] = !0; var u = new Ma(e, Ze(n), [0, 0], n.get('type'), l); var c = u.type === 'category'; u.onBand = c && n.get('boundaryGap'), u.inverse = n.get('inverse'), n.axis = u, u.model = n, u.grid = r, u.index = i, r._axesList.push(u), o[e][i] = u, s[e]++ } } } this._axesMap = o, Object(f.each)(o.x, function (e, n) { Object(f.each)(o.y, function (r, a) { var o = 'x' + n + 'y' + a; var s = new Oa(o); s.master = i, s.model = t, i._coordsMap[o] = s, i._coordsList.push(s), s.addAxis(e), s.addAxis(r) }) }) }, t.prototype._updateScale = function (t, e) { function n (t, e) { Object(f.each)(nn(t, e.dim), function (n) { e.scale.unionExtentFromData(t, n) }) }Object(f.each)(this._axesList, function (t) { if (t.scale.setExtent(1 / 0, -1 / 0), t.type === 'category') { var e = t.model.get('categorySortInfo'); t.scale.setCategorySortInfo(e) } }), t.eachSeries(function (t) { if (Qr(t)) { var i = Jr(t); var r = i.xAxisModel; var a = i.yAxisModel; if (!Ta(r, e) || !Ta(a, e)) return; var o = this.getCartesian(r.componentIndex, a.componentIndex); var s = t.getData(); var l = o.getAxis('x'); var u = o.getAxis('y'); s.type === 'list' && (n(s, l), n(s, u)) } }, this) }, t.prototype.getTooltipAxes = function (t) { var e = []; var n = []; return Object(f.each)(this.getCartesians(), function (i) { var r = t != null && t !== 'auto' ? i.getAxis(t) : i.getBaseAxis(); var a = i.getOtherAxis(r); Object(f.indexOf)(e, r) < 0 && e.push(r), Object(f.indexOf)(n, a) < 0 && n.push(a) }), { baseAxes: e, otherAxes: n } }, t.create = function (e, n) { var i = []; return e.eachComponent('grid', function (r, a) { var o = new t(r, e, n); o.name = 'grid_' + a, o.resize(r, n, !0), r.coordinateSystem = o, i.push(o) }), e.eachSeries(function (t) { if (Qr(t)) { var e = Jr(t); var n = e.xAxisModel; var i = e.yAxisModel; var r = n.getCoordSysModel(); 0; var a = r.coordinateSystem; t.coordinateSystem = a.getCartesian(n.componentIndex, i.componentIndex) } }), i }, t.dimensions = xa, t }()); function Ta (t, e) { return t.getCoordSysModel() === e } function ja (t, e, n, i) { n.getAxesOnZeroOf = function () { return r ? [r] : [] }; var r; var a = t[e]; var o = n.model; var s = o.get(['axisLine', 'onZero']); var l = o.get(['axisLine', 'onZeroAxisIndex']); if (s) { if (l != null)Aa(a[l]) && (r = a[l]); else for (var u in a) if (a.hasOwnProperty(u) && Aa(a[u]) && !i[c(a[u])]) { r = a[u]; break }r && (i[c(r)] = !0) } function c (t) { return t.dim + '_' + t.index } } function Aa (t) { return t && t.type !== 'category' && t.type !== 'time' && qe(t) } function Ca (t, e) { var n = t.getExtent(); var i = n[0] + n[1]; t.toGlobalCoord = t.dim === 'x' ? function (t) { return t + e } : function (t) { return i - t + e }, t.toLocalCoord = t.dim === 'x' ? function (t) { return t - e } : function (t) { return i - t + e } }mt.a.register('cartesian2d', Ia); var Da = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.getInitialData = function (t, e) { return At(this.getSource(), this, { useEncodeDefaulter: !0 }) }, e.prototype.getMarkerPosition = function (t) { var e = this.coordinateSystem; if (e) { var n = e.dataToPoint(e.clampData(t)); var i = this.getData(); var r = i.getLayout('offset'); var a = i.getLayout('size'); var o = e.getBaseAxis().isHorizontal() ? 0 : 1; return n[o] += r + a / 2, n } return [NaN, NaN] }, e.type = 'series.__base_bar__', e.defaultOption = { zlevel: 0, z: 2, coordinateSystem: 'cartesian2d', legendHoverLink: !0, barMinHeight: 0, barMinAngle: 0, large: !1, largeThreshold: 400, progressive: 3e3, progressiveChunkMode: 'mod' }, e }(oi.a)); oi.a.registerClass(Da); var ka = Da; var La = n('b7b6'); var Pa = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.getProgressive = function () { return !!this.get('large') && this.get('progressive') }, e.prototype.getProgressiveThreshold = function () { var t = this.get('progressiveThreshold'); var e = this.get('largeThreshold'); return e > t && (t = e), t }, e.prototype.brushSelector = function (t, e, n) { return n.rect(e.getItemLayout(t)) }, e.type = 'series.bar', e.dependencies = ['grid', 'polar'], e.defaultOption = Object(La.d)(ka.defaultOption, { clip: !0, roundCap: !1, showBackground: !1, backgroundStyle: { color: 'rgba(180, 180, 180, 0.2)', borderColor: null, borderWidth: 0, borderType: 'solid', borderRadius: 0, shadowBlur: 0, shadowColor: null, shadowOffsetX: 0, shadowOffsetY: 0, opacity: 1 }, select: { itemStyle: { borderColor: '#212121' } }, realtimeSort: !1 }), e }(ka)); oi.a.registerClass(Pa); var Ra = n('d11b'); var Na = (function () { function t () { this.cx = 0, this.cy = 0, this.r0 = 0, this.r = 0, this.startAngle = 0, this.endAngle = 2 * Math.PI, this.clockwise = !0 } return t }()); var Ea = (function (t) { function e (e) { var n = t.call(this, e) || this; return n.type = 'sausage', n } return Object(Ct.b)(e, t), e.prototype.getDefaultShape = function () { return new Na() }, e.prototype.buildPath = function (t, e) { var n = e.cx; var i = e.cy; var r = Math.max(e.r0 || 0, 0); var a = Math.max(e.r, 0); var o = 0.5 * (a - r); var s = r + o; var l = e.startAngle; var u = e.endAngle; var c = e.clockwise; var h = Math.cos(l); var d = Math.sin(l); var p = Math.cos(u); var f = Math.sin(u); var g = c ? u - l < 2 * Math.PI : l - u < 2 * Math.PI; g && (t.moveTo(h * r + n, d * r + i), t.arc(h * s + n, d * s + i, o, -Math.PI + l, l, !c)), t.arc(n, i, a, l, u, !c), t.moveTo(p * a + n, f * a + i), t.arc(p * s + n, f * s + i, o, u - 2 * Math.PI, u - Math.PI, !c), r !== 0 && (t.arc(n, i, r, u, l, c), t.moveTo(h * r + n, f * r + i)), t.closePath() }, e }(y.Path)); var za = Ea; var Ba = ['itemStyle', 'borderWidth']; var Va = ['itemStyle', 'borderRadius']; var Fa = [0, 0]; var Ga = Math.max; var Ha = Math.min; function Wa (t, e) { var n = t.getArea && t.getArea(); if (Wi(t, 'cartesian2d')) { var i = t.getBaseAxis(); if (i.type !== 'category' || !i.onBand) { var r = e.getLayout('bandWidth'); i.isHorizontal() ? (n.x -= r, n.width += 2 * r) : (n.y -= r, n.height += 2 * r) } } return n } var Xa = (function (t) { function e () { var n = t.call(this) || this; return n.type = e.type, n._isFirstFrame = !0, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n, i) { this._model = t, this.removeOnRenderedListener(n), this._updateDrawMode(t); var r = t.get('coordinateSystem'); (r === 'cartesian2d' || r === 'polar') && (this._isLargeDraw ? this._renderLarge(t, e, n) : this._renderNormal(t, e, n, i)) }, e.prototype.incrementalPrepareRender = function (t) { this._clear(), this._updateDrawMode(t), this._updateLargeClip(t) }, e.prototype.incrementalRender = function (t, e) { this._incrementalRenderLarge(t, e) }, e.prototype._updateDrawMode = function (t) { var e = t.pipelineContext.large; this._isLargeDraw != null && e === this._isLargeDraw || (this._isLargeDraw = e, this._clear()) }, e.prototype._renderNormal = function (t, e, n, i) { var r; var a = this; var o = this.group; var s = t.getData(); var l = this._data; var u = t.coordinateSystem; var c = u.getBaseAxis(); u.type === 'cartesian2d' ? r = c.isHorizontal() : u.type === 'polar' && (r = c.dim === 'angle'); var h = t.isAnimationEnabled() ? t : null; var d = c.model; var p = t.get('realtimeSort'); if (p && s.count()) { if (this._isFirstFrame) return this._initSort(s, r, c, n), void (this._isFirstFrame = !1); this._onRendered = function () { var t = function (t) { var e = s.getItemGraphicEl(t); if (e) { var n = e.shape; return (r ? n.y + n.height : n.x + n.width) || 0 } return 0 }; a._updateSort(s, t, c, n) }, n.getZr().on('rendered', this._onRendered) } var f = t.get('clip', !0) || p; var g = Wa(u, s); o.removeClipPath(); var v = t.get('roundCap', !0); var m = t.get('showBackground', !0); var b = t.getModel('backgroundStyle'); var x = b.get('borderRadius') || 0; var _ = []; var w = this._backgroundEls; var O = i && i.isInitSort; var S = i && i.type === 'changeAxisOrder'; function M (t) { var e = qa[u.type](s, t); var n = so(u, r, e); return n.useStyle(b.getItemStyle()), u.type === 'cartesian2d' && n.setShape('r', x), _[t] = n, n }s.diff(l).add(function (e) { var n = s.getItemModel(e); var i = qa[u.type](s, e, n); if (m && M(e), s.hasValue(e)) { var a = !1; f && (a = Ya[u.type](g, i)); var l = Ua[u.type](t, s, e, i, r, h, c.model, !1, v); $a(l, s, e, n, i, t, r, u.type === 'polar'), O ? l.attr({ shape: i }) : p ? Za(t, d, h, l, i, e, r, !1, !1) : Object(y.initProps)(l, { shape: i }, t, e), s.setItemGraphicEl(e, l), o.add(l), l.ignore = a } }).update(function (e, n) { var i = s.getItemModel(e); var a = qa[u.type](s, e, i); if (m) { var I = void 0; w.length === 0 ? I = M(n) : (I = w[n], I.useStyle(b.getItemStyle()), u.type === 'cartesian2d' && I.setShape('r', x), _[e] = I); var T = qa[u.type](s, e); var j = oo(r, T, u); Object(y.updateProps)(I, { shape: j }, h, e) } var A = l.getItemGraphicEl(n); if (!s.hasValue(e)) return o.remove(A), void (A = null); var C = !1; f && (C = Ya[u.type](g, a), C && o.remove(A)), A || (A = Ua[u.type](t, s, e, a, r, h, c.model, !!A, v)), S || $a(A, s, e, i, a, t, r, u.type === 'polar'), O ? A.attr({ shape: a }) : p ? Za(t, d, h, A, a, e, r, !0, S) : Object(y.updateProps)(A, { shape: a }, t, e, null), s.setItemGraphicEl(e, A), A.ignore = C, o.add(A) }).remove(function (e) { var n = l.getItemGraphicEl(e); n && Object(y.removeElementWithFadeOut)(n, t, e) }).execute(); var I = this._backgroundGroup || (this._backgroundGroup = new Ra.a()); I.removeAll(); for (var T = 0; T < _.length; ++T)I.add(_[T]); o.add(I), this._backgroundEls = _, this._data = s }, e.prototype._renderLarge = function (t, e, n) { this._clear(), eo(t, this.group), this._updateLargeClip(t) }, e.prototype._incrementalRenderLarge = function (t, e) { this._removeBackground(), eo(e, this.group, !0) }, e.prototype._updateLargeClip = function (t) { var e = t.get('clip', !0) ? Hi(t.coordinateSystem, !1, t) : null; e ? this.group.setClipPath(e) : this.group.removeClipPath() }, e.prototype._dataSort = function (t, e) { var n = []; t.each(function (t) { n.push({ mappedValue: e(t), ordinalNumber: t, beforeSortIndex: null }) }), n.sort(function (t, e) { return e.mappedValue - t.mappedValue }); for (var i = 0; i < n.length; ++i)n[n[i].ordinalNumber].beforeSortIndex = i; return Object(f.map)(n, function (t) { return { ordinalNumber: t.ordinalNumber, beforeSortIndex: t.beforeSortIndex } }) }, e.prototype._isDataOrderChanged = function (t, e, n) { var i = n ? n.length : 0; if (i !== t.count()) return !0; for (var r = Number.MAX_VALUE, a = 0; a < n.length; ++a) { var o = e(n[a].ordinalNumber); if (o > r) return !0; r = o } return !1 }, e.prototype._updateSort = function (t, e, n, i) { var r = n.scale.getCategorySortInfo(); var a = this._isDataOrderChanged(t, e, r); if (a) for (var o = this._dataSort(t, e), s = n.scale.getExtent(), l = s[0]; l < s[1]; ++l) if (!r[l] || r[l].ordinalNumber !== o[l].ordinalNumber) { this.removeOnRenderedListener(i); var u = { type: 'changeAxisOrder', componentType: n.dim + 'Axis', axisId: n.index, sortInfo: o }; i.dispatchAction(u); break } }, e.prototype._initSort = function (t, e, n, i) { var r = { type: 'changeAxisOrder', componentType: n.dim + 'Axis', isInitSort: !0, axisId: n.index, sortInfo: this._dataSort(t, function (n) { return parseFloat(t.get(e ? 'y' : 'x', n)) || 0 }) }; i.dispatchAction(r) }, e.prototype.remove = function (t, e) { this._clear(this._model), this.removeOnRenderedListener(e) }, e.prototype.dispose = function (t, e) { this.removeOnRenderedListener(e) }, e.prototype.removeOnRenderedListener = function (t) { this._onRendered && (t.getZr().off('rendered', this._onRendered), this._onRendered = null) }, e.prototype._clear = function (t) { var e = this.group; var n = this._data; t && t.isAnimationEnabled() && n && !this._isLargeDraw ? (this._removeBackground(), this._backgroundEls = [], n.eachItemGraphicEl(function (e) { Object(y.removeElementWithFadeOut)(e, t, Object(q.a)(e).dataIndex) })) : e.removeAll(), this._data = null, this._isFirstFrame = !0 }, e.prototype._removeBackground = function () { this.group.remove(this._backgroundGroup), this._backgroundGroup = null }, e.type = 'bar', e }(Vi.a)); var Ya = { cartesian2d: function (t, e) { var n = e.width < 0 ? -1 : 1; var i = e.height < 0 ? -1 : 1; n < 0 && (e.x += e.width, e.width = -e.width), i < 0 && (e.y += e.height, e.height = -e.height); var r = Ga(e.x, t.x); var a = Ha(e.x + e.width, t.x + t.width); var o = Ga(e.y, t.y); var s = Ha(e.y + e.height, t.y + t.height); e.x = r, e.y = o, e.width = a - r, e.height = s - o; var l = e.width < 0 || e.height < 0; return n < 0 && (e.x += e.width, e.width = -e.width), i < 0 && (e.y += e.height, e.height = -e.height), l }, polar: function (t, e) { var n = e.r0 <= e.r ? 1 : -1; if (n < 0) { var i = e.r; e.r = e.r0, e.r0 = i } var r = Ha(e.r, t.r); var a = Ga(e.r0, t.r0); e.r = r, e.r0 = a; var o = r - a < 0; if (n < 0) { i = e.r; e.r = e.r0, e.r0 = i } return o } }; var Ua = { cartesian2d: function (t, e, n, i, r, a, o, s, l) { var u = new y.Rect({ shape: Object(f.extend)({}, i), z2: 1 }); if (u.__dataIndex = n, u.name = 'item', a) { var c = u.shape; var h = r ? 'height' : 'width'; c[h] = 0 } return u }, polar: function (t, e, n, i, r, a, o, s, l) { var u = i.startAngle < i.endAngle; var c = !r && l ? za : y.Sector; var h = new c({ shape: Object(f.defaults)({ clockwise: u }, i), z2: 1 }); if (h.name = 'item', a) { var d = h.shape; var p = r ? 'r' : 'endAngle'; var g = {}; d[p] = r ? 0 : i.startAngle, g[p] = i[p], (s ? y.updateProps : y.initProps)(h, { shape: g }, a) } return h } }; function Za (t, e, n, i, r, a, o, s, l) { if (n || e) { var u = void 0; var c = void 0; o ? (c = { x: r.x, width: r.width }, u = { y: r.y, height: r.height }) : (c = { y: r.y, height: r.height }, u = { x: r.x, width: r.width }), l || (s ? y.updateProps : y.initProps)(i, { shape: u }, t, a, null), (s ? y.updateProps : y.initProps)(i, { shape: c }, e, a) } } var qa = { cartesian2d: function (t, e, n) { var i = t.getItemLayout(e); var r = n ? Qa(n, i) : 0; var a = i.width > 0 ? 1 : -1; var o = i.height > 0 ? 1 : -1; return { x: i.x + a * r / 2, y: i.y + o * r / 2, width: i.width - a * r, height: i.height - o * r } }, polar: function (t, e, n) { var i = t.getItemLayout(e); return { cx: i.cx, cy: i.cy, r0: i.r0, r: i.r, startAngle: i.startAngle, endAngle: i.endAngle } } }; function Ka (t) { return t.startAngle != null && t.endAngle != null && t.startAngle === t.endAngle } function $a (t, e, n, i, r, a, o, s) { var l = e.getItemVisual(n, 'style'); s || t.setShape('r', i.get(Va) || 0), t.useStyle(l); var u = i.getShallow('cursor'); if (u && t.attr('cursor', u), !s) { var c = o ? r.height > 0 ? 'bottom' : 'top' : r.width > 0 ? 'left' : 'right'; var h = Object(hi.e)(i); Object(hi.g)(t, h, { labelFetcher: a, labelDataIndex: n, defaultText: ui(a.getData(), n), inheritColor: l.fill, defaultOpacity: l.opacity, defaultOutsidePosition: c }); var d = t.getTextContent(); Object(hi.h)(d, h, a.getRawValue(n), function (t) { return ci(e, t) }) } var p = i.getModel(['emphasis']); Object(li.k)(t, p.get('focus'), p.get('blurScope')), Object(li.D)(t, i), Ka(r) && (t.style.fill = 'none', t.style.stroke = 'none', Object(f.each)(t.states, function (t) { t.style && (t.style.fill = t.style.stroke = 'none') })) } function Qa (t, e) { var n = t.get(Ba) || 0; var i = isNaN(e.width) ? Number.MAX_VALUE : Math.abs(e.width); var r = isNaN(e.height) ? Number.MAX_VALUE : Math.abs(e.height); return Math.min(n, i, r) } var Ja = (function () { function t () {} return t }()); var to = (function (t) { function e (e) { var n = t.call(this, e) || this; return n.type = 'largeBar', n } return Object(Ct.b)(e, t), e.prototype.getDefaultShape = function () { return new Ja() }, e.prototype.buildPath = function (t, e) { for (var n = e.points, i = this.__startPoint, r = this.__baseDimIdx, a = 0; a < n.length; a += 2)i[r] = n[a + r], t.moveTo(i[0], i[1]), t.lineTo(n[a], n[a + 1]) }, e }(Ai.b)); function eo (t, e, n) { var i = t.getData(); var r = []; var a = i.getLayout('valueAxisHorizontal') ? 1 : 0; r[1 - a] = i.getLayout('valueAxisStart'); var o = i.getLayout('largeDataIndices'); var s = i.getLayout('barWidth'); var l = t.getModel('backgroundStyle'); var u = t.get('showBackground', !0); if (u) { var c = i.getLayout('largeBackgroundPoints'); var h = []; h[1 - a] = i.getLayout('backgroundStart'); var d = new to({ shape: { points: c }, incremental: !!n, silent: !0, z2: 0 }); d.__startPoint = h, d.__baseDimIdx = a, d.__largeDataIndices = o, d.__barWidth = s, ao(d, l, i), e.add(d) } var p = new to({ shape: { points: i.getLayout('largePoints') }, incremental: !!n }); p.__startPoint = r, p.__baseDimIdx = a, p.__largeDataIndices = o, p.__barWidth = s, e.add(p), ro(p, t, i), Object(q.a)(p).seriesIndex = t.seriesIndex, t.get('silent') || (p.on('mousedown', no), p.on('mousemove', no)) } var no = Object(x.c)(function (t) { var e = this; var n = io(e, t.offsetX, t.offsetY); Object(q.a)(e).dataIndex = n >= 0 ? n : null }, 30, !1); function io (t, e, n) { var i = t.__baseDimIdx; var r = 1 - i; var a = t.shape.points; var o = t.__largeDataIndices; var s = Math.abs(t.__barWidth / 2); var l = t.__startPoint[r]; Fa[0] = e, Fa[1] = n; for (var u = Fa[i], c = Fa[1 - i], h = u - s, d = u + s, p = 0, f = a.length / 2; p < f; p++) { var g = 2 * p; var y = a[g + i]; var v = a[g + r]; if (y >= h && y <= d && (l <= v ? c >= l && c <= v : c >= v && c <= l)) return o[p] } return -1 } function ro (t, e, n) { var i = n.getVisual('style'); t.useStyle(Object(f.extend)({}, i)), t.style.fill = null, t.style.stroke = i.fill, t.style.lineWidth = n.getLayout('barWidth') } function ao (t, e, n) { var i = e.get('borderColor') || e.get('color'); var r = e.getItemStyle(); t.useStyle(r), t.style.fill = null, t.style.stroke = i, t.style.lineWidth = n.getLayout('barWidth') } function oo (t, e, n) { if (Wi(n, 'cartesian2d')) { var i = e; var r = n.getArea(); return { x: t ? i.x : r.x, y: t ? r.y : i.y, width: t ? i.width : r.width, height: t ? r.height : i.height } }r = n.getArea(); var a = e; return { cx: r.cx, cy: r.cy, r0: t ? r.r0 : a.r0, r: t ? r.r : a.r, startAngle: t ? a.startAngle : 0, endAngle: t ? a.endAngle : 2 * Math.PI } } function so (t, e, n) { var i = t.type === 'polar' ? y.Sector : y.Rect; return new i({ shape: oo(e, n, t), silent: !0, z2: 0 }) }Vi.a.registerClass(Xa); function lo (t, e, n) { e = Object(f.isArray)(e) && { coordDimensions: e } || Object(f.extend)({}, e); var i = t.getSource(); var r = vt(i, e); var a = new ht(r, t); return a.initData(i, n), a }c.c({ type: 'changeAxisOrder', event: 'changeAxisOrder', update: 'update' }, function (t, e) { var n = t.componentType || 'series'; e.eachComponent({ mainType: n, query: t }, function (e) { t.sortInfo && e.axis.setCategorySortInfo(t.sortInfo) }) }), c.e(c.a.VISUAL.LAYOUT, f.curry(le, 'bar')), c.e(c.a.VISUAL.PROGRESSIVE_LAYOUT, ue), c.i({ seriesType: 'bar', reset: function (t) { t.getData().setVisual('legendSymbol', 'roundRect') } }), c.g(c.a.PROCESSOR.STATISTIC, cr('bar')); var uo = (function () { function t (t, e) { this._getDataWithEncodedVisual = t, this._getRawData = e } return t.prototype.getAllNames = function () { var t = this._getRawData(); return t.mapArray(t.getName) }, t.prototype.containName = function (t) { var e = this._getRawData(); return e.indexOfName(t) >= 0 }, t.prototype.indexOfName = function (t) { var e = this._getDataWithEncodedVisual(); return e.indexOfName(t) }, t.prototype.getItemVisual = function (t, e) { var n = this._getDataWithEncodedVisual(); return n.getItemVisual(t, e) }, t }()); var co = uo; var ho = (function (t) { function e () { var e = t !== null && t.apply(this, arguments) || this; return e.useColorPaletteOnData = !0, e } return Object(Ct.b)(e, t), e.prototype.init = function (e) { t.prototype.init.apply(this, arguments), this.legendVisualProvider = new co(f.bind(this.getData, this), f.bind(this.getRawData, this)), this._defaultLabelLine(e) }, e.prototype.mergeOption = function () { t.prototype.mergeOption.apply(this, arguments) }, e.prototype.getInitialData = function () { return lo(this, { coordDimensions: ['value'], encodeDefaulter: f.curry(dt.e, this) }) }, e.prototype.getDataParams = function (e) { var n = this.getData(); var i = t.prototype.getDataParams.call(this, e); var r = []; return n.each(n.mapDimension('value'), function (t) { r.push(t) }), i.percent = Object(v.getPercentWithPrecision)(r, e, n.hostModel.get('percentPrecision')), i.$vars.push('percent'), i }, e.prototype._defaultLabelLine = function (t) { Z.f(t, 'labelLine', ['show']); var e = t.labelLine; var n = t.emphasis.labelLine; e.show = e.show && t.label.show, n.show = n.show && t.emphasis.label.show }, e.type = 'series.pie', e.defaultOption = { zlevel: 0, z: 2, legendHoverLink: !0, center: ['50%', '50%'], radius: [0, '75%'], clockwise: !0, startAngle: 90, minAngle: 0, minShowLabelAngle: 0, selectedOffset: 10, percentPrecision: 2, stillShowZeroSum: !0, left: 0, top: 0, right: 0, bottom: 0, width: null, height: null, label: { rotate: 0, show: !0, overflow: 'truncate', position: 'outer', alignTo: 'none', edgeDistance: '25%', bleedMargin: 10, distanceToLabelLine: 5 }, labelLine: { show: !0, length: 15, length2: 15, smooth: !1, minTurnAngle: 90, maxSurfaceAngle: 90, lineStyle: { width: 1, type: 'solid' } }, itemStyle: { borderWidth: 1 }, labelLayout: { hideOverlap: !0 }, emphasis: { scale: !0, scaleSize: 5 }, avoidLabelOverlap: !0, animationType: 'expansion', animationDuration: 1e3, animationTypeUpdate: 'transition', animationEasingUpdate: 'cubicInOut', animationDurationUpdate: 500, animationEasing: 'cubicInOut' }, e }(oi.a)); oi.a.registerClass(ho); var po = n('d581'); var fo = n('7421'); var go = Math.PI / 180; function yo (t, e, n, i, r, a, o, s, l, u) { if (!(t.length < 2)) { for (var c = t.length, h = 0; h < c; h++) if (t[h].position === 'outer' && t[h].labelAlignTo === 'labelLine') { var d = t[h].label.x - u; t[h].linePoints[1][0] += d, t[h].label.x = u }Object(fo.d)(t, l, l + o) && f(t) } function p (t) { for (var a = t.rB, o = a * a, s = 0; s < t.list.length; s++) { var l = t.list[s]; var u = Math.abs(l.label.y - n); var c = i + l.len; var h = c * c; var d = Math.sqrt((1 - Math.abs(u * u / o)) * h); l.label.x = e + (d + l.len2) * r } } function f (t) { for (var a = { list: [], maxY: 0 }, o = { list: [], maxY: 0 }, s = 0; s < t.length; s++) if (t[s].labelAlignTo === 'none') { var l = t[s]; var u = l.label.y > n ? o : a; var c = Math.abs(l.label.y - n); if (c > u.maxY) { var h = l.label.x - e - l.len2 * r; var d = i + l.len; var f = h < d ? Math.sqrt(c * c / (1 - h * h / d / d)) : d; u.rB = f, u.maxY = c }u.list.push(l) }p(a), p(o) } } function vo (t, e, n, i, r, a, o, s) { for (var l = [], u = [], c = Number.MAX_VALUE, h = -Number.MAX_VALUE, d = 0; d < t.length; d++) { var p = t[d].label; mo(t[d]) || (p.x < e ? (c = Math.min(c, p.x), l.push(t[d])) : (h = Math.max(h, p.x), u.push(t[d]))) }yo(u, e, n, i, 1, r, a, o, s, h), yo(l, e, n, i, -1, r, a, o, s, c); for (d = 0; d < t.length; d++) { var f = t[d]; p = f.label; if (!mo(f)) { var g = f.linePoints; if (g) { var y = f.labelAlignTo === 'edge'; var v = f.rect.width; var m = void 0; m = y ? p.x < e ? g[2][0] - f.labelDistance - o - f.edgeDistance : o + r - f.edgeDistance - g[2][0] - f.labelDistance : p.x < e ? p.x - o - f.bleedMargin : o + r - p.x - f.bleedMargin, m < f.rect.width && (f.label.style.width = m, f.labelAlignTo === 'edge' && (v = m)); var b = g[1][0] - g[2][0]; y ? p.x < e ? g[2][0] = o + f.edgeDistance + v + f.labelDistance : g[2][0] = o + r - f.edgeDistance - v - f.labelDistance : (p.x < e ? g[2][0] = p.x + f.labelDistance : g[2][0] = p.x - f.labelDistance, g[1][0] = g[2][0] + b), g[1][1] = g[2][1] = p.y } } } } function mo (t) { return t.position === 'center' } function bo (t) { var e; var n; var i = t.getData(); var r = []; var a = !1; var o = (t.get('minShowLabelAngle') || 0) * go; var s = i.getLayout('viewRect'); var l = i.getLayout('r'); var u = s.width; var c = s.x; var h = s.y; var d = s.height; function p (t) { t.ignore = !0 } function g (t) { if (!t.ignore) return !0; for (var e in t.states) if (!1 === t.states[e].ignore) return !0; return !1 }i.each(function (t) { var s = i.getItemGraphicEl(t); var h = s.shape; var d = s.getTextContent(); var m = s.getTextGuideLine(); var b = i.getItemModel(t); var x = b.getModel('label'); var _ = x.get('position') || b.get(['emphasis', 'label', 'position']); var w = x.get('distanceToLabelLine'); var O = x.get('alignTo'); var S = Object(v.parsePercent)(x.get('edgeDistance'), u); var M = x.get('bleedMargin'); var I = b.getModel('labelLine'); var T = I.get('length'); T = Object(v.parsePercent)(T, u); var j = I.get('length2'); if (j = Object(v.parsePercent)(j, u), Math.abs(h.endAngle - h.startAngle) < o) return Object(f.each)(d.states, p), void (d.ignore = !0); if (g(d)) { var A; var C; var D; var k; var L = (h.startAngle + h.endAngle) / 2; var P = Math.cos(L); var R = Math.sin(L); e = h.cx, n = h.cy; var N; var E = _ === 'inside' || _ === 'inner'; if (_ === 'center')A = h.cx, C = h.cy, k = 'center'; else { var z = (E ? (h.r + h.r0) / 2 * P : h.r * P) + e; var B = (E ? (h.r + h.r0) / 2 * R : h.r * R) + n; if (A = z + 3 * P, C = B + 3 * R, !E) { var V = z + P * (T + l - h.r); var F = B + R * (T + l - h.r); var G = V + (P < 0 ? -1 : 1) * j; var H = F; A = O === 'edge' ? P < 0 ? c + S : c + u - S : G + (P < 0 ? -w : w), C = H, D = [[z, B], [V, F], [G, H]] }k = E ? 'center' : O === 'edge' ? P > 0 ? 'right' : 'left' : P > 0 ? 'left' : 'right' } var W = x.get('rotate'); if (N = typeof W === 'number' ? W * (Math.PI / 180) : W ? P < 0 ? -L + Math.PI : -L : 0, a = !!N, d.x = A, d.y = C, d.rotation = N, d.setStyle({ verticalAlign: 'middle' }), E) { d.setStyle({ align: k }); var X = d.states.select; X && (X.x += d.x, X.y += d.y) } else { var Y = d.getBoundingRect().clone(); Y.applyTransform(d.getComputedTransform()); var U = (d.style.margin || 0) + 2.1; Y.y -= U / 2, Y.height += U, r.push({ label: d, labelLine: m, position: _, len: T, len2: j, minTurnAngle: I.get('minTurnAngle'), maxSurfaceAngle: I.get('maxSurfaceAngle'), surfaceNormal: new y.Point(P, R), linePoints: D, textAlign: k, labelDistance: w, labelAlignTo: O, edgeDistance: S, bleedMargin: M, rect: Y }) }s.setTextConfig({ inside: E }) } }), !a && t.get('avoidLabelOverlap') && vo(r, e, n, l, u, d, c, h); for (var m = 0; m < r.length; m++) { var b = r[m]; var x = b.label; var _ = b.labelLine; var w = isNaN(x.x) || isNaN(x.y); if (x) { x.setStyle({ align: b.textAlign }), w && (Object(f.each)(x.states, p), x.ignore = !0); var O = x.states.select; O && (O.x += x.x, O.y += x.y) } if (_) { var S = b.linePoints; w || !S ? (Object(f.each)(_.states, p), _.ignore = !0) : (Object(po.c)(S, b.minTurnAngle), Object(po.b)(S, b.surfaceNormal, b.maxSurfaceAngle), _.setShape({ points: S }), x.__hostTarget.textGuideLineConfig = { anchor: new y.Point(S[0][0], S[0][1]) }) } } } function xo (t, e) { var n = t.get('borderRadius'); return n == null ? null : (Object(f.isArray)(n) || (n = [n, n]), { innerCornerRadius: Object(Be.h)(n[0], e.r0), cornerRadius: Object(Be.h)(n[1], e.r) }) } var _o = (function (t) { function e (e, n, i) { var r = t.call(this) || this; r.z2 = 2; var a = new y.Polyline(); var o = new y.Text(); return r.setTextGuideLine(a), r.setTextContent(o), r.updateData(e, n, i, !0), r } return Object(Ct.b)(e, t), e.prototype.updateData = function (t, e, n, i) { var r = this; var a = t.hostModel; var o = t.getItemModel(e); var s = o.getModel('emphasis'); var l = t.getItemLayout(e); var u = Object(f.extend)(xo(o.getModel('itemStyle'), l) || {}, l); if (i) { r.setShape(u); var c = a.getShallow('animationType'); c === 'scale' ? (r.shape.r = l.r0, y.initProps(r, { shape: { r: l.r } }, a, e)) : n != null ? (r.setShape({ startAngle: n, endAngle: n }), y.initProps(r, { shape: { startAngle: l.startAngle, endAngle: l.endAngle } }, a, e)) : (r.shape.endAngle = l.startAngle, y.updateProps(r, { shape: { endAngle: l.endAngle } }, a, e)) } else y.updateProps(r, { shape: u }, a, e); r.useStyle(t.getItemVisual(e, 'style')), Object(li.D)(r, o); var h = (l.startAngle + l.endAngle) / 2; var d = a.get('selectedOffset'); var p = Math.cos(h) * d; var g = Math.sin(h) * d; var v = o.getShallow('cursor'); v && r.attr('cursor', v), this._updateLabel(a, t, e), r.ensureState('emphasis').shape = Object(Ct.a)({ r: l.r + (s.get('scale') && s.get('scaleSize') || 0) }, xo(s.getModel('itemStyle'), l)), Object(f.extend)(r.ensureState('select'), { x: p, y: g, shape: xo(o.getModel(['select', 'itemStyle']), l) }), Object(f.extend)(r.ensureState('blur'), { shape: xo(o.getModel(['blur', 'itemStyle']), l) }); var m = r.getTextGuideLine(); var b = r.getTextContent(); Object(f.extend)(m.ensureState('select'), { x: p, y: g }), Object(f.extend)(b.ensureState('select'), { x: p, y: g }), Object(li.k)(this, s.get('focus'), s.get('blurScope')) }, e.prototype._updateLabel = function (t, e, n) { var i = this; var r = e.getItemModel(n); var a = r.getModel('labelLine'); var o = e.getItemVisual(n, 'style'); var s = o && o.fill; var l = o && o.opacity; Object(hi.g)(i, Object(hi.e)(r), { labelFetcher: e.hostModel, labelDataIndex: n, inheritColor: s, defaultOpacity: l, defaultText: t.getFormattedLabel(n, 'normal') || e.getName(n) }); var u = i.getTextContent(); i.setTextConfig({ position: null, rotation: null }), u.attr({ z2: 10 }), Object(po.d)(this, Object(po.a)(r), { stroke: s, opacity: Object(f.retrieve3)(a.get(['lineStyle', 'opacity']), l, 1) }) }, e }(y.Sector)); var wo = (function (t) { function e () { var e = t !== null && t.apply(this, arguments) || this; return e.ignoreLabelLineUpdate = !0, e } return Object(Ct.b)(e, t), e.prototype.init = function () { var t = new y.Group(); this._sectorGroup = t }, e.prototype.render = function (t, e, n, i) { var r; var a = t.getData(); var o = this._data; var s = this.group; if (!o && a.count() > 0) { for (var l = a.getItemLayout(0), u = 1; isNaN(l && l.startAngle) && u < a.count(); ++u)l = a.getItemLayout(u); l && (r = l.startAngle) }a.diff(o).add(function (t) { var e = new _o(a, t, r); a.setItemGraphicEl(t, e), s.add(e) }).update(function (t, e) { var n = o.getItemGraphicEl(e); n.updateData(a, t, r), n.off('click'), s.add(n), a.setItemGraphicEl(t, n) }).remove(function (e) { var n = o.getItemGraphicEl(e); y.removeElementWithFadeOut(n, t, e) }).execute(), bo(t), t.get('animationTypeUpdate') !== 'expansion' && (this._data = a) }, e.prototype.dispose = function () {}, e.prototype.containPoint = function (t, e) { var n = e.getData(); var i = n.getItemLayout(0); if (i) { var r = t[0] - i.cx; var a = t[1] - i.cy; var o = Math.sqrt(r * r + a * a); return o <= i.r && o >= i.r0 } }, e.type = 'pie', e }(Vi.a)); Vi.a.registerClass(wo); var Oo = n('2e4d'); var So = 2 * Math.PI; var Mo = Math.PI / 180; function Io (t, e) { return on.g(t.getBoxLayoutParams(), { width: e.getWidth(), height: e.getHeight() }) } function To (t, e, n) { e.eachSeriesByType(t, function (t) { var e = t.getData(); var i = e.mapDimension('value'); var r = Io(t, n); var a = t.get('center'); var o = t.get('radius'); f.isArray(o) || (o = [0, o]), f.isArray(a) || (a = [a, a]); var s = Object(v.parsePercent)(r.width, n.getWidth()); var l = Object(v.parsePercent)(r.height, n.getHeight()); var u = Math.min(s, l); var c = Object(v.parsePercent)(a[0], s) + r.x; var h = Object(v.parsePercent)(a[1], l) + r.y; var d = Object(v.parsePercent)(o[0], u / 2); var p = Object(v.parsePercent)(o[1], u / 2); var g = -t.get('startAngle') * Mo; var y = t.get('minAngle') * Mo; var m = 0; e.each(i, function (t) { !isNaN(t) && m++ }); var b = e.getSum(i); var x = Math.PI / (b || m) * 2; var _ = t.get('clockwise'); var w = t.get('roseType'); var O = t.get('stillShowZeroSum'); var S = e.getDataExtent(i); S[0] = 0; var M = So; var I = 0; var T = g; var j = _ ? 1 : -1; if (e.setLayout({ viewRect: r, r: p }), e.each(i, function (t, n) { var i; if (isNaN(t))e.setItemLayout(n, { angle: NaN, startAngle: NaN, endAngle: NaN, clockwise: _, cx: c, cy: h, r0: d, r: w ? NaN : p }); else { i = w !== 'area' ? b === 0 && O ? x : t * x : So / m, i < y ? (i = y, M -= y) : I += t; var r = T + j * i; e.setItemLayout(n, { angle: i, startAngle: T, endAngle: r, clockwise: _, cx: c, cy: h, r0: d, r: w ? Object(v.linearMap)(t, S, [d, p]) : p }), T = r } }), M < So && m) if (M <= 0.001) { var A = So / m; e.each(i, function (t, n) { if (!isNaN(t)) { var i = e.getItemLayout(n); i.angle = A, i.startAngle = g + j * n * A, i.endAngle = g + j * (n + 1) * A } }) } else x = M / I, T = g, e.each(i, function (t, n) { if (!isNaN(t)) { var i = e.getItemLayout(n); var r = i.angle === y ? y : t * x; i.startAngle = T, i.endAngle = T + j * r, T += j * r } }) }) } function jo (t) { return { seriesType: t, reset: function (t, e) { var n = e.findComponents({ mainType: 'legend' }); if (n && n.length) { var i = t.getData(); i.filterSelf(function (t) { for (var e = i.getName(t), r = 0; r < n.length; r++) if (!n[r].isSelected(e)) return !1; return !0 }) } } } }Object(Oo.a)('pie', c.c), c.e(f.curry(To, 'pie')), c.g(jo('pie')); var Ao = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.hasSymbolVisual = !0, n } return Object(Ct.b)(e, t), e.prototype.getInitialData = function (t, e) { return At(this.getSource(), this, { useEncodeDefaulter: !0 }) }, e.prototype.getProgressive = function () { var t = this.option.progressive; return t == null ? this.option.large ? 5e3 : this.get('progressive') : t }, e.prototype.getProgressiveThreshold = function () { var t = this.option.progressiveThreshold; return t == null ? this.option.large ? 1e4 : this.get('progressiveThreshold') : t }, e.prototype.brushSelector = function (t, e, n) { return n.point(e.getItemLayout(t)) }, e.type = 'series.scatter', e.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar'], e.defaultOption = { coordinateSystem: 'cartesian2d', zlevel: 0, z: 2, legendHoverLink: !0, symbolSize: 10, large: !1, largeThreshold: 2e3, itemStyle: { opacity: 0.8 }, emphasis: { scale: !0 }, clip: !0, select: { itemStyle: { borderColor: '#212121' } } }, e }(oi.a)); oi.a.registerClass(Ao); var Co = n('e580'); var Do = 4; var ko = (function () { function t () {} return t }()); var Lo = (function (t) { function e (e) { return t.call(this, e) || this } return Object(Ct.b)(e, t), e.prototype.getDefaultShape = function () { return new ko() }, e.prototype.buildPath = function (t, e) { var n = e.points; var i = e.size; var r = this.symbolProxy; var a = r.shape; var o = t.getContext ? t.getContext() : t; var s = o && i[0] < Do; if (s) this._ctx = o; else { this._ctx = null; for (var l = 0; l < n.length;) { var u = n[l++]; var c = n[l++]; isNaN(u) || isNaN(c) || (this.softClipShape && !this.softClipShape.contain(u, c) || (a.x = u - i[0] / 2, a.y = c - i[1] / 2, a.width = i[0], a.height = i[1], r.buildPath(t, a, !0))) } } }, e.prototype.afterBrush = function () { var t = this.shape; var e = t.points; var n = t.size; var i = this._ctx; if (i) for (var r = 0; r < e.length;) { var a = e[r++]; var o = e[r++]; isNaN(a) || isNaN(o) || (this.softClipShape && !this.softClipShape.contain(a, o) || i.fillRect(a - n[0] / 2, o - n[1] / 2, n[0], n[1])) } }, e.prototype.findDataIndex = function (t, e) { for (var n = this.shape, i = n.points, r = n.size, a = Math.max(r[0], 4), o = Math.max(r[1], 4), s = i.length / 2 - 1; s >= 0; s--) { var l = 2 * s; var u = i[l] - a / 2; var c = i[l + 1] - o / 2; if (t >= u && e >= c && t <= u + a && e <= c + o) return s } return -1 }, e }(y.Path)); var Po = (function () { function t () { this.group = new y.Group() } return t.prototype.isPersistent = function () { return !this._incremental }, t.prototype.updateData = function (t, e) { this.group.removeAll(); var n = new Lo({ rectHover: !0, cursor: 'default' }); n.setShape({ points: t.getLayout('points') }), this._setCommon(n, t, !1, e), this.group.add(n), this._incremental = null }, t.prototype.updateLayout = function (t) { if (!this._incremental) { var e = t.getLayout('points'); this.group.eachChild(function (t) { if (t.startIndex != null) { var n = 2 * (t.endIndex - t.startIndex); var i = 4 * t.startIndex * 2; e = new Float32Array(e.buffer, i, n) }t.setShape('points', e) }) } }, t.prototype.incrementalPrepareUpdate = function (t) { this.group.removeAll(), this._clearIncremental(), t.count() > 2e6 ? (this._incremental || (this._incremental = new Co.a({ silent: !0 })), this.group.add(this._incremental)) : this._incremental = null }, t.prototype.incrementalUpdate = function (t, e, n) { var i; this._incremental ? (i = new Lo(), this._incremental.addDisplayable(i, !0)) : (i = new Lo({ rectHover: !0, cursor: 'default', startIndex: t.start, endIndex: t.end }), i.incremental = !0, this.group.add(i)), i.setShape({ points: e.getLayout('points') }), this._setCommon(i, e, !!this._incremental, n) }, t.prototype._setCommon = function (t, e, n, i) { var r = e.hostModel; i = i || {}; var a = e.getVisual('symbolSize'); t.setShape('size', a instanceof Array ? a : [a, a]), t.softClipShape = i.clipShape || null, t.symbolProxy = Object(sn.a)(e.getVisual('symbol'), 0, 0, 0, 0), t.setColor = t.symbolProxy.setColor; var o = t.shape.size[0] < Do; t.useStyle(r.getModel('itemStyle').getItemStyle(o ? ['color', 'shadowBlur', 'shadowColor'] : ['color'])); var s = e.getVisual('style'); var l = s && s.fill; if (l && t.setColor(l), !n) { var u = Object(q.a)(t); u.seriesIndex = r.seriesIndex, t.on('mousemove', function (e) { u.dataIndex = null; var n = t.findDataIndex(e.offsetX, e.offsetY); n >= 0 && (u.dataIndex = n + (t.startIndex || 0)) }) } }, t.prototype.remove = function () { this._clearIncremental(), this._incremental = null, this.group.removeAll() }, t.prototype._clearIncremental = function () { var t = this._incremental; t && t.clearDisplaybles() }, t }()); var Ro = Po; var No = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n) { var i = t.getData(); var r = this._updateSymbolDraw(i, t); r.updateData(i, { clipShape: this._getClipShape(t) }), this._finished = !0 }, e.prototype.incrementalPrepareRender = function (t, e, n) { var i = t.getData(); var r = this._updateSymbolDraw(i, t); r.incrementalPrepareUpdate(i), this._finished = !1 }, e.prototype.incrementalRender = function (t, e, n) { this._symbolDraw.incrementalUpdate(t, e.getData(), { clipShape: this._getClipShape(e) }), this._finished = t.end === e.getData().count() }, e.prototype.updateTransform = function (t, e, n) { var i = t.getData(); if (this.group.dirty(), !this._finished || i.count() > 1e4 || !this._symbolDraw.isPersistent()) return { update: !0 }; var r = sr('').reset(t, e, n); r.progress && r.progress({ start: 0, end: i.count(), count: i.count() }, i), this._symbolDraw.updateLayout(i) }, e.prototype._getClipShape = function (t) { var e = t.coordinateSystem; var n = e && e.getArea && e.getArea(); return t.get('clip', !0) ? n : null }, e.prototype._updateSymbolDraw = function (t, e) { var n = this._symbolDraw; var i = e.pipelineContext; var r = i.large; return n && r === this._isLargeDraw || (n && n.remove(), n = this._symbolDraw = r ? new Ro() : new xi(), this._isLargeDraw = r, this.group.removeAll()), this.group.add(n.group), n }, e.prototype.remove = function (t, e) { this._symbolDraw && this._symbolDraw.remove(!0), this._symbolDraw = null }, e.prototype.dispose = function () {}, e.type = 'scatter', e }(Vi.a)); Vi.a.registerClass(No); c.e(sr('scatter')); var Eo = (function (t) { function e (e, n, i) { var r = t.call(this, e, n, i) || this; return r.type = 'value', r.angle = 0, r.name = '', r } return Object(Ct.b)(e, t), e }(En)); var zo = Eo; var Bo = (function () { function t (t, e, n) { this.dimensions = [], this._model = t, this._indicatorAxes = f.map(t.getIndicatorModels(), function (t, e) { var n = 'indicator_' + e; var i = new zo(n, new qt()); return i.name = t.get('name'), i.model = t, t.axis = i, this.dimensions.push(n), i }, this), this.resize(t, n) } return t.prototype.getIndicatorAxes = function () { return this._indicatorAxes }, t.prototype.dataToPoint = function (t, e) { var n = this._indicatorAxes[e]; return this.coordToPoint(n.dataToCoord(t), e) }, t.prototype.coordToPoint = function (t, e) { var n = this._indicatorAxes[e]; var i = n.angle; var r = this.cx + t * Math.cos(i); var a = this.cy - t * Math.sin(i); return [r, a] }, t.prototype.pointToData = function (t) { var e = t[0] - this.cx; var n = t[1] - this.cy; var i = Math.sqrt(e * e + n * n); e /= i, n /= i; for (var r, a = Math.atan2(-n, e), o = 1 / 0, s = -1, l = 0; l < this._indicatorAxes.length; l++) { var u = this._indicatorAxes[l]; var c = Math.abs(a - u.angle); c < o && (r = u, s = l, o = c) } return [s, +(r && r.coordToData(i))] }, t.prototype.resize = function (t, e) { var n = t.get('center'); var i = e.getWidth(); var r = e.getHeight(); var a = Math.min(i, r) / 2; this.cx = v.parsePercent(n[0], i), this.cy = v.parsePercent(n[1], r), this.startAngle = t.get('startAngle') * Math.PI / 180; var o = t.get('radius'); typeof o !== 'string' && typeof o !== 'number' || (o = [0, o]), this.r0 = v.parsePercent(o[0], a), this.r = v.parsePercent(o[1], a), f.each(this._indicatorAxes, function (t, e) { t.setExtent(this.r0, this.r); var n = this.startAngle + e * Math.PI * 2 / this._indicatorAxes.length; n = Math.atan2(Math.sin(n), Math.cos(n)), t.angle = n }, this) }, t.prototype.update = function (t, e) { var n = this._indicatorAxes; var i = this._model; f.each(n, function (t) { t.scale.setExtent(1 / 0, -1 / 0) }), t.eachSeriesByType('radar', function (e, r) { if (e.get('coordinateSystem') === 'radar' && t.getComponent('radar', e.get('radarIndex')) === i) { var a = e.getData(); f.each(n, function (t) { t.scale.unionExtentFromData(a, a.mapDimension(t.dim)) }) } }, this); var r = i.get('splitNumber'); function a (t) { var e = Math.pow(10, Math.floor(Math.log(t) / Math.LN10)); var n = t / e; return n === 2 ? n = 5 : n *= 2, n * e }f.each(n, function (t, e) { var n = Xe(t.scale, t.model).extent; Ue(t.scale, t.model); var i = t.model; var o = t.scale; var s = We(o, i.get('min', !0)); var l = We(o, i.get('max', !0)); var u = o.getInterval(); if (s != null && l != null)o.setExtent(+s, +l), o.setInterval((l - s) / r); else if (s != null) { var c = void 0; do { c = s + u * r, o.setExtent(+s, c), o.setInterval(u), u = a(u) } while (c < n[1] && isFinite(c) && isFinite(n[1])) } else if (l != null) { var h = void 0; do { h = l - u * r, o.setExtent(h, +l), o.setInterval(u), u = a(u) } while (h > n[0] && isFinite(h) && isFinite(n[0])) } else { var d = o.getTicks().length - 1; d > r && (u = a(u)); c = Math.ceil(n[1] / u) * u, h = v.round(c - u * r); o.setExtent(h, c), o.setInterval(u) } }) }, t.prototype.convertToPixel = function (t, e, n) { return null }, t.prototype.convertFromPixel = function (t, e, n) { return null }, t.prototype.containPoint = function (t) { return !1 }, t.create = function (e, n) { var i = []; return e.eachComponent('radar', function (r) { var a = new t(r, e, n); i.push(a), r.coordinateSystem = a }), e.eachSeriesByType('radar', function (t) { t.get('coordinateSystem') === 'radar' && (t.coordinateSystem = i[t.get('radarIndex') || 0]) }), i }, t.dimensions = [], t }()); mt.a.register('radar', Bo); var Vo = vr.value; function Fo (t, e) { return f.defaults({ show: e }, t) } var Go = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.optionUpdated = function () { var t = this.get('boundaryGap'); var e = this.get('splitNumber'); var n = this.get('scale'); var i = this.get('axisLine'); var r = this.get('axisTick'); var a = this.get('axisLabel'); var o = this.get('axisName'); var s = this.get(['axisName', 'show']); var l = this.get(['axisName', 'formatter']); var u = this.get('axisNameGap'); var c = this.get('triggerEvent'); var h = f.map(this.get('indicator') || [], function (h) { h.max != null && h.max > 0 && !h.min ? h.min = 0 : h.min != null && h.min < 0 && !h.max && (h.max = 0); var d = o; h.color != null && (d = f.defaults({ color: h.color }, o)); var p = f.merge(f.clone(h), { boundaryGap: t, splitNumber: e, scale: n, axisLine: i, axisTick: r, axisLabel: a, name: h.text, nameLocation: 'end', nameGap: u, nameTextStyle: d, triggerEvent: c }, !1); if (s || (p.name = ''), typeof l === 'string') { var g = p.name; p.name = l.replace('{value}', g != null ? g : '') } else typeof l === 'function' && (p.name = l(p.name, p)); var y = new _.a(p, null, this.ecModel); return f.mixin(y, an.prototype), y.mainType = 'radar', y.componentIndex = this.componentIndex, y }, this); this._indicatorModels = h }, e.prototype.getIndicatorModels = function () { return this._indicatorModels }, e.type = 'radar', e.defaultOption = { zlevel: 0, z: 0, center: ['50%', '50%'], radius: '75%', startAngle: 90, axisName: { show: !0 }, boundaryGap: [0, 0], splitNumber: 5, axisNameGap: 15, scale: !1, shape: 'polygon', axisLine: f.merge({ lineStyle: { color: '#bbb' } }, Vo.axisLine), axisLabel: Fo(Vo.axisLabel, !1), axisTick: Fo(Vo.axisTick, !1), splitLine: Fo(Vo.splitLine, !0), splitArea: Fo(Vo.splitArea, !0), indicator: [] }, e }(hr.a)); hr.a.registerClass(Go); var Ho = ['axisLine', 'axisTickLabel', 'axisName']; var Wo = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n) { var i = this.group; i.removeAll(), this._buildAxes(t), this._buildSplitLineAndArea(t) }, e.prototype._buildAxes = function (t) { var e = t.coordinateSystem; var n = e.getIndicatorAxes(); var i = f.map(n, function (t) { var n = new Rr(t.model, { position: [e.cx, e.cy], rotation: t.angle, labelDirection: -1, tickDirection: -1, nameDirection: 1 }); return n }); f.each(i, function (t) { f.each(Ho, t.add, t), this.group.add(t.getGroup()) }, this) }, e.prototype._buildSplitLineAndArea = function (t) { var e = t.coordinateSystem; var n = e.getIndicatorAxes(); if (n.length) { var i = t.get('shape'); var r = t.getModel('splitLine'); var a = t.getModel('splitArea'); var o = r.getModel('lineStyle'); var s = a.getModel('areaStyle'); var l = r.get('show'); var u = a.get('show'); var c = o.get('color'); var h = s.get('color'); var d = f.isArray(c) ? c : [c]; var p = f.isArray(h) ? h : [h]; var g = []; var v = []; if (i === 'circle') for (var m = n[0].getTicksCoords(), b = e.cx, x = e.cy, _ = 0; _ < m.length; _++) { if (l) { var w = C(g, d, _); g[w].push(new y.Circle({ shape: { cx: b, cy: x, r: m[_].coord } })) } if (u && _ < m.length - 1) { w = C(v, p, _); v[w].push(new y.Ring({ shape: { cx: b, cy: x, r0: m[_].coord, r: m[_ + 1].coord } })) } } else { var O; var S = f.map(n, function (t, n) { var i = t.getTicksCoords(); return O = O == null ? i.length - 1 : Math.min(i.length - 1, O), f.map(i, function (t) { return e.coordToPoint(t.coord, n) }) }); var M = []; for (_ = 0; _ <= O; _++) { for (var I = [], T = 0; T < n.length; T++)I.push(S[T][_]); if (I[0] && I.push(I[0].slice()), l) { w = C(g, d, _); g[w].push(new y.Polyline({ shape: { points: I } })) } if (u && M) { w = C(v, p, _ - 1); v[w].push(new y.Polygon({ shape: { points: I.concat(M) } })) }M = I.slice().reverse() } } var j = o.getLineStyle(); var A = s.getAreaStyle(); f.each(v, function (t, e) { this.group.add(y.mergePath(t, { style: f.defaults({ stroke: 'none', fill: p[e % p.length] }, A), silent: !0 })) }, this), f.each(g, function (t, e) { this.group.add(y.mergePath(t, { style: f.defaults({ fill: 'none', stroke: d[e % d.length] }, j), silent: !0 })) }, this) } function C (t, e, n) { var i = n % e.length; return t[i] = t[i] || [], i } }, e.type = 'radar', e }(Ur.a)); Ur.a.registerClass(Wo); var Xo = n('ad61'); var Yo = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.useColorPaletteOnData = !0, n.hasSymbolVisual = !0, n } return Object(Ct.b)(e, t), e.prototype.init = function (e) { t.prototype.init.apply(this, arguments), this.legendVisualProvider = new co(f.bind(this.getData, this), f.bind(this.getRawData, this)) }, e.prototype.getInitialData = function (t, e) { return lo(this, { generateCoord: 'indicator_', generateCoordCount: 1 / 0 }) }, e.prototype.formatTooltip = function (t, e, n) { var i = this.getData(); var r = this.coordinateSystem; var a = r.getIndicatorAxes(); var o = this.getData().getName(t); var s = o === '' ? this.name : o; var l = Object(Xo.e)(this, t); return Object(Xo.c)('section', { header: s, sortBlocks: !0, blocks: f.map(a, function (e) { var n = i.get(i.mapDimension(e.dim), t); return Object(Xo.c)('nameValue', { markerType: 'subItem', markerColor: l, name: e.name, value: n, sortParam: n }) }) }) }, e.prototype.getTooltipPosition = function (t) { if (t != null) for (var e = this.getData(), n = this.coordinateSystem, i = e.getValues(f.map(n.dimensions, function (t) { return e.mapDimension(t) }), t), r = 0, a = i.length; r < a; r++) if (!isNaN(i[r])) { var o = n.getIndicatorAxes(); return n.coordToPoint(o[r].dataToCoord(i[r]), r) } }, e.type = 'series.radar', e.dependencies = ['radar'], e.defaultOption = { zlevel: 0, z: 2, coordinateSystem: 'radar', legendHoverLink: !0, radarIndex: 0, lineStyle: { width: 2, type: 'solid' }, label: { position: 'top' }, symbol: 'emptyCircle', symbolSize: 4 }, e }(oi.a)); oi.a.registerClass(Yo); function Uo (t) { return f.isArray(t) || (t = [+t, +t]), t } var Zo = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n) { var i = t.coordinateSystem; var r = this.group; var a = t.getData(); var o = this._data; function s (t, e) { var n = t.getItemVisual(e, 'symbol') || 'circle'; if (n !== 'none') { var i = Uo(t.getItemVisual(e, 'symbolSize')); var r = sn.a(n, -1, -1, 2, 2); var a = t.getItemVisual(e, 'symbolRotate') || 0; return r.attr({ style: { strokeNoScale: !0 }, z2: 100, scaleX: i[0] / 2, scaleY: i[1] / 2, rotation: a * Math.PI / 180 || 0 }), r } } function l (e, n, i, r, a, o) { i.removeAll(); for (var l = 0; l < n.length - 1; l++) { var u = s(r, a); u && (u.__dimIdx = l, e[l] ? (u.setPosition(e[l]), y[o ? 'initProps' : 'updateProps'](u, { x: n[l][0], y: n[l][1] }, t, a)) : u.setPosition(n[l]), i.add(u)) } } function u (t) { return f.map(t, function (t) { return [i.cx, i.cy] }) }a.diff(o).add(function (e) { var n = a.getItemLayout(e); if (n) { var i = new y.Polygon(); var r = new y.Polyline(); var o = { shape: { points: n } }; i.shape.points = u(n), r.shape.points = u(n), y.initProps(i, o, t, e), y.initProps(r, o, t, e); var s = new y.Group(); var c = new y.Group(); s.add(r), s.add(i), s.add(c), l(r.shape.points, n, c, a, e, !0), a.setItemGraphicEl(e, s) } }).update(function (e, n) { var i = o.getItemGraphicEl(n); var r = i.childAt(0); var s = i.childAt(1); var u = i.childAt(2); var c = { shape: { points: a.getItemLayout(e) } }; c.shape.points && (l(r.shape.points, c.shape.points, u, a, e, !1), y.updateProps(r, c, t), y.updateProps(s, c, t), a.setItemGraphicEl(e, i)) }).remove(function (t) { r.remove(o.getItemGraphicEl(t)) }).execute(), a.eachItemGraphicEl(function (t, e) { var n = a.getItemModel(e); var i = t.childAt(0); var o = t.childAt(1); var s = t.childAt(2); var l = a.getItemVisual(e, 'style'); var u = l.fill; r.add(t), i.useStyle(f.defaults(n.getModel('lineStyle').getLineStyle(), { fill: 'none', stroke: u })), Object(li.D)(i, n, 'lineStyle'), Object(li.D)(o, n, 'areaStyle'); var c = n.getModel('areaStyle'); var h = c.isEmpty() && c.parentModel.isEmpty(); o.ignore = h, f.each(['emphasis', 'select', 'blur'], function (t) { var e = n.getModel([t, 'areaStyle']); var i = e.isEmpty() && e.parentModel.isEmpty(); o.ensureState(t).ignore = i && h }), o.useStyle(f.defaults(c.getAreaStyle(), { fill: u, opacity: 0.7, decal: l.decal })); var d = n.getModel('emphasis'); var p = d.getModel('itemStyle').getItemStyle(); s.eachChild(function (t) { if (t instanceof di.a) { var i = t.style; t.useStyle(f.extend({ image: i.image, x: i.x, y: i.y, width: i.width, height: i.height }, l)) } else t.useStyle(l), t.setColor(u); var r = t.ensureState('emphasis'); r.style = f.clone(p); var o = a.get(a.dimensions[t.__dimIdx], e); (o == null || isNaN(o)) && (o = ''), Object(hi.g)(t, Object(hi.e)(n), { labelFetcher: a.hostModel, labelDataIndex: e, labelDimIndex: t.__dimIdx, defaultText: o, inheritColor: u, defaultOpacity: l.opacity }) }), Object(li.k)(t, d.get('focus'), d.get('blurScope')) }), this._data = a }, e.prototype.remove = function () { this.group.removeAll(), this._data = null }, e.type = 'radar', e }(Vi.a)); function qo (t) { t.eachSeriesByType('radar', function (t) { var e = t.getData(); var n = []; var i = t.coordinateSystem; if (i) { var r = i.getIndicatorAxes(); f.each(r, function (t, a) { e.each(e.mapDimension(r[a].dim), function (t, e) { n[e] = n[e] || []; var r = i.dataToPoint(t, a); n[e][a] = Ko(r) ? r : $o(i) }) }), e.each(function (t) { var r = f.find(n[t], function (t) { return Ko(t) }) || $o(i); n[t].push(r.slice()), e.setItemLayout(t, n[t]) }) } }) } function Ko (t) { return !isNaN(t[0]) && !isNaN(t[1]) } function $o (t) { return [t.cx, t.cy] } function Qo (t) { var e = t.polar; if (e) { f.isArray(e) || (e = [e]); var n = []; f.each(e, function (e, i) { e.indicator ? (e.type && !e.shape && (e.shape = e.type), t.radar = t.radar || [], f.isArray(t.radar) || (t.radar = [t.radar]), t.radar.push(e)) : n.push(e) }), t.polar = n }f.each(t.series, function (t) { t && t.type === 'radar' && t.polarIndex && (t.radarIndex = t.polarIndex) }) }Vi.a.registerClass(Zo), c.e(qo), c.g(jo('radar')), c.f(Qo); for (var Jo = n('fd35'), ts = [126, 25], es = [[[0, 3.5], [7, 11.2], [15, 11.9], [30, 7], [42, 0.7], [52, 0.7], [56, 7.7], [59, 0.7], [64, 0.7], [64, 0], [5, 0], [0, 3.5]], [[13, 16.1], [19, 14.7], [16, 21.7], [11, 23.1], [13, 16.1]], [[12, 32.2], [14, 38.5], [15, 38.5], [13, 32.2], [12, 32.2]], [[16, 47.6], [12, 53.2], [13, 53.2], [18, 47.6], [16, 47.6]], [[6, 64.4], [8, 70], [9, 70], [8, 64.4], [6, 64.4]], [[23, 82.6], [29, 79.8], [30, 79.8], [25, 82.6], [23, 82.6]], [[37, 70.7], [43, 62.3], [44, 62.3], [39, 70.7], [37, 70.7]], [[48, 51.1], [51, 45.5], [53, 45.5], [50, 51.1], [48, 51.1]], [[51, 35], [51, 28.7], [53, 28.7], [53, 35], [51, 35]], [[52, 22.4], [55, 17.5], [56, 17.5], [53, 22.4], [52, 22.4]], [[58, 12.6], [62, 7], [63, 7], [60, 12.6], [58, 12.6]], [[0, 3.5], [0, 93.1], [64, 93.1], [64, 0], [63, 0], [63, 92.4], [1, 92.4], [1, 3.5], [0, 3.5]]], ns = 0; ns < es.length; ns++) for (var is = 0; is < es[ns].length; is++)es[ns][is][0] /= 10.5, es[ns][is][1] /= -14, es[ns][is][0] += ts[0], es[ns][is][1] += ts[1]; function rs (t, e) { t === 'china' && e.push(new fn('南海诸岛', f.map(es, function (t) { return { type: 'polygon', exterior: t } }), ts)) } var as = { 南海诸岛: [32, 80], 广东: [0, -10], 香港: [10, 5], 澳门: [-10, 10], 天津: [5, 5] }; function os (t, e) { if (t === 'china') { var n = as[e.name]; if (n) { var i = e.center; i[0] += n[0] / 10.5, i[1] += -n[1] / 14 } } } var ss = { Russia: [100, 60], 'United States': [-99, 38], 'United States of America': [-99, 38] }; function ls (t, e) { if (t === 'world') { var n = ss[e.name]; if (n) { var i = e.center; i[0] = n[0], i[1] = n[1] } } } var us = [[[123.45165252685547, 25.73527164402261], [123.49731445312499, 25.73527164402261], [123.49731445312499, 25.750734064600884], [123.45165252685547, 25.750734064600884], [123.45165252685547, 25.73527164402261]]]; function cs (t, e) { t === 'china' && e.name === '台湾' && e.geometries.push({ type: 'polygon', exterior: us[0] }) } var hs = Object(Z.o)(); var ds = { load: function (t, e, n) { var i = hs(e).parsed; if (i) return i; var r; var a = e.specialAreas || {}; var o = e.geoJSON; try { r = o ? vn(o, n) : [] } catch (s) { throw new Error('Invalid geoJson format\n' + s.message) } return rs(t, r), Object(f.each)(r, function (e) { var n = e.name; os(t, e), ls(t, e), cs(t, e); var i = a[n]; i && e.transformTo(i.left, i.top, i.width, i.height) }), hs(e).parsed = { regions: r, boundingRect: ps(r) } } }; function ps (t) { for (var e, n = 0; n < t.length; n++) { var i = t[n].getBoundingRect(); e = e || i.clone(), e.union(i) } return e } var fs = n('2740'); var gs = n('1b19'); var ys = Object(Z.o)(); var vs = { load: function (t, e) { var n = ys(e).originRoot; if (n) return { root: n, boundingRect: ys(e).boundingRect }; var i = ms(e); return ys(e).originRoot = i.root, ys(e).boundingRect = i.boundingRect, i }, makeGraphic: function (t, e, n) { var i = ys(e); var r = i.rootMap || (i.rootMap = Object(f.createHashMap)()); var a = r.get(n); if (a) return a; var o = i.originRoot; var s = i.boundingRect; return i.originRootHostKey ? a = ms(e, s).root : (i.originRootHostKey = n, a = o), r.set(n, a) }, removeGraphic: function (t, e, n) { var i = ys(e); var r = i.rootMap; r && r.removeKey(n), n === i.originRootHostKey && (i.originRootHostKey = null) } }; function ms (t, e) { var n; var i; var r = t.svgXML; try { n = r && Object(fs.b)(r, { ignoreViewBox: !0, ignoreRootClip: !0 }) || {}, i = n.root, Object(f.assert)(i != null) } catch (c) { throw new Error('Invalid svg format\n' + c.message) } var a = n.width; var o = n.height; var s = n.viewBoxRect; if (e || (e = a == null || o == null ? i.getBoundingRect() : new pe.a(0, 0, 0, 0), a != null && (e.width = a), o != null && (e.height = o)), s) { var l = Object(fs.a)(s, e.width, e.height); var u = i; i = new Ra.a(), i.add(u), u.scaleX = u.scaleY = l.scale, u.x = l.x, u.y = l.y } return i.setClipPath(new gs.a({ shape: e.plain() })), { root: i, boundingRect: e } } var bs = { geoJSON: ds, svg: vs }; var xs = { load: function (t, e, n) { var i; var r = []; var a = Object(f.createHashMap)(); var o = Object(f.createHashMap)(); var s = _s(t); return Object(f.each)(s, function (s) { var l = bs[s.type].load(t, s, n); Object(f.each)(l.regions, function (t) { var n = t.name; e && e.hasOwnProperty(n) && (t = t.cloneShallow(n = e[n])), r.push(t), a.set(n, t), o.set(n, t.center) }); var u = l.boundingRect; u && (i ? i.union(u) : i = u.clone()) }), { regions: r, regionsMap: a, nameCoordMap: o, boundingRect: i || new pe.a(0, 0, 0, 0) } }, makeGraphic: function (t, e) { var n = _s(t); var i = []; return Object(f.each)(n, function (n) { var r = bs[n.type].makeGraphic; r && i.push(r(t, n, e)) }), i }, removeGraphic: function (t, e) { var n = _s(t); Object(f.each)(n, function (n) { var i = bs[n.type].makeGraphic; i && i(t, n, e) }) } }; function _s (t) { var e = Jo.a.retrieveMap(t) || []; return e } var ws = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.needsDrawMap = !1, n.seriesGroup = [], n.getTooltipPosition = function (t) { if (t != null) { var e = this.getData().getName(t); var n = this.coordinateSystem; var i = n.getRegion(e); return i && n.dataToPoint(i.center) } }, n } return Object(Ct.b)(e, t), e.prototype.getInitialData = function (t) { for (var e = lo(this, { coordDimensions: ['value'], encodeDefaulter: f.curry(dt.e, this) }), n = f.createHashMap(), i = [], r = 0, a = e.count(); r < a; r++) { var o = e.getName(r); n.set(o, !0) } var s = xs.load(this.getMapType(), this.option.nameMap, this.option.nameProperty); return f.each(s.regions, function (t) { var e = t.name; n.get(e) || i.push(e) }), e.appendValues([], i), e }, e.prototype.getHostGeoModel = function () { var t = this.option.geoIndex; return t != null ? this.ecModel.getComponent('geo', t) : null }, e.prototype.getMapType = function () { return (this.getHostGeoModel() || this).option.map }, e.prototype.getRawValue = function (t) { var e = this.getData(); return e.get(e.mapDimension('value'), t) }, e.prototype.getRegionModel = function (t) { var e = this.getData(); return e.getItemModel(e.indexOfName(t)) }, e.prototype.formatTooltip = function (t, e, n) { for (var i = this.getData(), r = this.getRawValue(t), a = i.getName(t), o = this.seriesGroup, s = [], l = 0; l < o.length; l++) { var u = o[l].originalData.indexOfName(a); var c = i.mapDimension('value'); isNaN(o[l].originalData.get(c, u)) || s.push(o[l].name) } return Object(Xo.c)('section', { header: s.join(', '), noHeader: !s.length, blocks: [Object(Xo.c)('nameValue', { name: a, value: r })] }) }, e.prototype.setZoom = function (t) { this.option.zoom = t }, e.prototype.setCenter = function (t) { this.option.center = t }, e.type = 'series.map', e.dependencies = ['geo'], e.layoutMode = 'box', e.defaultOption = { zlevel: 0, z: 2, coordinateSystem: 'geo', map: '', left: 'center', top: 'center', aspectScale: 0.75, showLegendSymbol: !0, boundingCoords: null, center: null, zoom: 1, scaleLimit: null, selectedMode: !0, label: { show: !1, color: '#000' }, itemStyle: { borderWidth: 0.5, borderColor: '#444', areaColor: '#eee' }, emphasis: { label: { show: !0, color: 'rgb(100,0,0)' }, itemStyle: { areaColor: 'rgba(255,215,0,0.8)' } }, select: { label: { show: !0, color: 'rgb(100,0,0)' }, itemStyle: { color: 'rgba(255,215,0,0.8)' } }, nameProperty: 'name' }, e }(oi.a)); oi.a.registerClass(ws); var Os = n('5395'); var Ss = n('ede8'); var Ms = '\0_ec_interaction_mutex'; function Is (t, e, n) { var i = As(t); i[e] = n } function Ts (t, e, n) { var i = As(t); var r = i[e]; r === n && (i[e] = null) } function js (t, e) { return !!As(t)[e] } function As (t) { return t[Ms] || (t[Ms] = {}) }c.c({ type: 'takeGlobalCursor', event: 'globalCursorTaken', update: 'update' }, function () {}); var Cs = (function (t) { function e (e) { var n = t.call(this) || this; n._zr = e; var i = Object(f.bind)(n._mousedownHandler, n); var r = Object(f.bind)(n._mousemoveHandler, n); var a = Object(f.bind)(n._mouseupHandler, n); var o = Object(f.bind)(n._mousewheelHandler, n); var s = Object(f.bind)(n._pinchHandler, n); return n.enable = function (t, n) { this.disable(), this._opt = Object(f.defaults)(Object(f.clone)(n) || {}, { zoomOnMouseWheel: !0, moveOnMouseMove: !0, moveOnMouseWheel: !1, preventDefaultMouseMove: !0 }), t == null && (t = !0), !0 !== t && t !== 'move' && t !== 'pan' || (e.on('mousedown', i), e.on('mousemove', r), e.on('mouseup', a)), !0 !== t && t !== 'scale' && t !== 'zoom' || (e.on('mousewheel', o), e.on('pinch', s)) }, n.disable = function () { e.off('mousedown', i), e.off('mousemove', r), e.off('mouseup', a), e.off('mousewheel', o), e.off('pinch', s) }, n } return Object(Ct.b)(e, t), e.prototype.isDragging = function () { return this._dragging }, e.prototype.isPinching = function () { return this._pinching }, e.prototype.setPointerChecker = function (t) { this.pointerChecker = t }, e.prototype.dispose = function () { this.disable() }, e.prototype._mousedownHandler = function (t) { if (!(Ss.d(t) || t.target && t.target.draggable)) { var e = t.offsetX; var n = t.offsetY; this.pointerChecker && this.pointerChecker(t, e, n) && (this._x = e, this._y = n, this._dragging = !0) } }, e.prototype._mousemoveHandler = function (t) { if (this._dragging && Ls('moveOnMouseMove', t, this._opt) && t.gestureEvent !== 'pinch' && !js(this._zr, 'globalPan')) { var e = t.offsetX; var n = t.offsetY; var i = this._x; var r = this._y; var a = e - i; var o = n - r; this._x = e, this._y = n, this._opt.preventDefaultMouseMove && Ss.g(t.event), ks(this, 'pan', 'moveOnMouseMove', t, { dx: a, dy: o, oldX: i, oldY: r, newX: e, newY: n, isAvailableBehavior: null }) } }, e.prototype._mouseupHandler = function (t) { Ss.d(t) || (this._dragging = !1) }, e.prototype._mousewheelHandler = function (t) { var e = Ls('zoomOnMouseWheel', t, this._opt); var n = Ls('moveOnMouseWheel', t, this._opt); var i = t.wheelDelta; var r = Math.abs(i); var a = t.offsetX; var o = t.offsetY; if (i !== 0 && (e || n)) { if (e) { var s = r > 3 ? 1.4 : r > 1 ? 1.2 : 1.1; var l = i > 0 ? s : 1 / s; Ds(this, 'zoom', 'zoomOnMouseWheel', t, { scale: l, originX: a, originY: o, isAvailableBehavior: null }) } if (n) { var u = Math.abs(i); var c = (i > 0 ? 1 : -1) * (u > 3 ? 0.4 : u > 1 ? 0.15 : 0.05); Ds(this, 'scrollMove', 'moveOnMouseWheel', t, { scrollDelta: c, originX: a, originY: o, isAvailableBehavior: null }) } } }, e.prototype._pinchHandler = function (t) { if (!js(this._zr, 'globalPan')) { var e = t.pinchScale > 1 ? 1.1 : 1 / 1.1; Ds(this, 'zoom', null, t, { scale: e, originX: t.pinchX, originY: t.pinchY, isAvailableBehavior: null }) } }, e }(Os.a)); function Ds (t, e, n, i, r) { t.pointerChecker && t.pointerChecker(i, r.originX, r.originY) && (Ss.g(i.event), ks(t, e, n, i, r)) } function ks (t, e, n, i, r) { r.isAvailableBehavior = Object(f.bind)(Ls, null, n, i), t.trigger(e, r) } function Ls (t, e, n) { var i = n[t]; return !t || i && (!Object(f.isString)(i) || e.event[i + 'Key']) } var Ps = Cs; function Rs (t, e, n) { var i = t.target; i.x += e, i.y += n, i.dirty() } function Ns (t, e, n, i) { var r = t.target; var a = t.zoomLimit; var o = t.zoom = t.zoom || 1; if (o *= e, a) { var s = a.min || 0; var l = a.max || 1 / 0; o = Math.max(Math.min(l, o), s) } var u = o / t.zoom; t.zoom = o, r.x -= (n - r.x) * (u - 1), r.y -= (i - r.y) * (u - 1), r.scaleX *= u, r.scaleY *= u, r.dirty() } var Es = { axisPointer: 1, tooltip: 1, brush: 1 }; function zs (t, e, n) { var i = e.getComponentByElement(t.topTarget); var r = i && i.coordinateSystem; return i && i !== n && !Es.hasOwnProperty(i.mainType) && r && r.model !== n } var Bs = n('e2fd'); var Vs = n('41bb'); function Fs (t) { var e = t.getItemStyle(); var n = t.get('areaColor'); return n != null && (e.fill = n), e } var Gs = (function () { function t (t) { var e = new y.Group(); this.uid = Object(La.c)('ec_map_draw'), this._controller = new Ps(t.getZr()), this._controllerHost = { target: e }, this.group = e, e.add(this._regionsGroup = new y.Group()), e.add(this._backgroundGroup = new y.Group()) } return t.prototype.draw = function (t, e, n, i, r) { var a = t.mainType === 'geo'; var o = t.getData && t.getData(); a && e.eachComponent({ mainType: 'series', subType: 'map' }, function (e) { o || e.getHostGeoModel() !== t || (o = e.getData()) }); var s = t.coordinateSystem; this._updateBackground(s); var l; var u; var c = this._regionsGroup; var h = this.group; var d = s.getTransformInfo(); var p = !c.childAt(0) || r; if (p)h.transform = d.roamTransform, h.decomposeTransform(), h.dirty(); else { var g = new Bs.a(); g.transform = d.roamTransform, g.decomposeTransform(); var v = { scaleX: g.scaleX, scaleY: g.scaleY, x: g.x, y: g.y }; l = g.scaleX, u = g.scaleY, y.updateProps(h, v, t) }c.removeAll(); var m = f.createHashMap(); var b = o && o.getVisual('visualMeta') && o.getVisual('visualMeta').length > 0; f.each(s.regions, function (e) { var i = m.get(e.name) || m.set(e.name, new y.Group()); var r = new y.CompoundPath({ segmentIgnoreThreshold: 1, shape: { paths: [] } }); i.add(r); var s; var g = t.getRegionModel(e.name) || t; var v = g.getModel('itemStyle'); var x = g.getModel('emphasis'); var _ = x.getModel('itemStyle'); var w = g.getModel(['blur', 'itemStyle']); var O = g.getModel(['select', 'itemStyle']); var S = Fs(v); var M = Fs(_); var I = Fs(w); var T = Fs(O); if (o) { s = o.indexOfName(e.name); var j = o.getItemVisual(s, 'style'); var A = o.getItemVisual(s, 'decal'); b && j.fill && (S.fill = j.fill), A && (S.decal = Object(Vs.a)(A, n)) } var C = d.rawScaleX; var D = d.rawScaleY; var k = d.rawX; var L = d.rawY; var P = function (t) { return [t[0] * C + k, t[1] * D + L] }; f.each(e.geometries, function (t) { if (t.type === 'polygon') { for (var e = [], n = 0; n < t.exterior.length; ++n)e.push(P(t.exterior[n])); r.shape.paths.push(new y.Polygon({ segmentIgnoreThreshold: 1, shape: { points: e } })); for (n = 0; n < (t.interiors ? t.interiors.length : 0); ++n) { for (var i = t.interiors[n], a = [], o = 0; o < i.length; ++o)a.push(P(i[o])); r.shape.paths.push(new y.Polygon({ segmentIgnoreThreshold: 1, shape: { points: a } })) } } }), r.setStyle(S), r.style.strokeNoScale = !0, r.culling = !0, r.ensureState('emphasis').style = M, r.ensureState('blur').style = I, r.ensureState('select').style = T; for (var R = !1, N = 0; N < li.a.length; N++) { var E = li.a[N]; if (g.get(E === 'normal' ? ['label', 'show'] : [E, 'label', 'show'])) { R = !0; break } } var z = o && isNaN(o.get(o.mapDimension('value'), s)); var B = o && o.getItemLayout(s); if (a || z && R || B && B.showLabel) { var V = a ? e.name : s; var F = void 0; (!o || s >= 0) && (F = t); var G = P(e.center); var H = new y.Text({ x: G[0], y: G[1], scaleX: 1 / h.scaleX, scaleY: 1 / h.scaleY, z2: 10, silent: !0 }); Object(hi.g)(H, Object(hi.e)(g), { labelFetcher: F, labelDataIndex: V, defaultText: e.name }, { normal: { align: 'center', verticalAlign: 'middle' } }), r.setTextContent(H), r.setTextConfig({ local: !0 }), r.disableLabelAnimation = !0, p || y.updateProps(H, { scaleX: 1 / l, scaleY: 1 / u }, t) } if (o)o.setItemGraphicEl(s, i); else { var W = t.getRegionModel(e.name); Object(q.a)(r).eventData = { componentType: 'geo', componentIndex: t.componentIndex, geoIndex: t.componentIndex, name: e.name, region: W && W.option || {} } } var X = i.__regions || (i.__regions = []); X.push(e), i.highDownSilentOnTouch = !!t.get('selectedMode'), Object(li.k)(i, x.get('focus'), x.get('blurScope')), c.add(i) }), this._updateController(t, e, n), this._updateMapSelectHandler(t, c, n, i) }, t.prototype.remove = function () { this._regionsGroup.removeAll(), this._backgroundGroup.removeAll(), this._controller.dispose(), this._mapName && xs.removeGraphic(this._mapName, this.uid), this._mapName = null, this._controllerHost = null }, t.prototype._updateBackground = function (t) { var e = t.map; this._mapName !== e && f.each(xs.makeGraphic(e, this.uid), function (t) { this._backgroundGroup.add(t) }, this), this._mapName = e }, t.prototype._updateController = function (t, e, n) { var i = t.coordinateSystem; var r = this._controller; var a = this._controllerHost; a.zoomLimit = t.get('scaleLimit'), a.zoom = i.getZoom(), r.enable(t.get('roam') || !1); var o = t.mainType; function s () { var e = { type: 'geoRoam', componentType: o }; return e[o + 'Id'] = t.id, e }r.off('pan').on('pan', function (t) { this._mouseDownFlag = !1, Rs(a, t.dx, t.dy), n.dispatchAction(f.extend(s(), { dx: t.dx, dy: t.dy })) }, this), r.off('zoom').on('zoom', function (t) { this._mouseDownFlag = !1, Ns(a, t.scale, t.originX, t.originY), n.dispatchAction(f.extend(s(), { zoom: t.scale, originX: t.originX, originY: t.originY })); var e = this.group; this._regionsGroup.traverse(function (t) { var n = t.getTextContent(); n && (n.scaleX = 1 / e.scaleX, n.scaleY = 1 / e.scaleY, n.markRedraw()) }) }, this), r.setPointerChecker(function (e, r, a) { return i.getViewRectAfterRoam().contain(r, a) && !zs(e, n, t) }) }, t.prototype._updateMapSelectHandler = function (t, e, n, i) { var r = this; e.off('mousedown'), t.get('selectedMode') && (e.on('mousedown', function () { r._mouseDownFlag = !0 }), e.on('click', function (t) { r._mouseDownFlag && (r._mouseDownFlag = !1) })) }, t }()); var Hs = Gs; var Ws = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n, i) { if (!i || i.type !== 'mapToggleSelect' || i.from !== this.uid) { var r = this.group; if (r.removeAll(), !t.getHostGeoModel()) { if (i && i.type === 'geoRoam' && i.componentType === 'series' && i.seriesId === t.id) { a = this._mapDraw; a && r.add(a.group) } else if (t.needsDrawMap) { var a = this._mapDraw || new Hs(n); r.add(a.group), a.draw(t, e, n, this, i), this._mapDraw = a } else this._mapDraw && this._mapDraw.remove(), this._mapDraw = null; t.get('showLegendSymbol') && e.getComponent('legend') && this._renderSymbols(t, e, n) } } }, e.prototype.remove = function () { this._mapDraw && this._mapDraw.remove(), this._mapDraw = null, this.group.removeAll() }, e.prototype.dispose = function () { this._mapDraw && this._mapDraw.remove(), this._mapDraw = null }, e.prototype._renderSymbols = function (t, e, n) { var i = t.originalData; var r = this.group; i.each(i.mapDimension('value'), function (e, n) { if (!isNaN(e)) { var a = i.getItemLayout(n); if (a && a.point) { var o = a.point; var s = a.offset; var l = new y.Circle({ style: { fill: t.getData().getVisual('style').fill }, shape: { cx: o[0] + 9 * s, cy: o[1], r: 3 }, silent: !0, z2: 8 + (s ? 0 : li.j + 1) }); if (!s) { var u = t.mainSeries.getData(); var c = i.getName(n); var h = u.indexOfName(c); var d = i.getItemModel(n); var p = d.getModel('label'); var f = u.getItemGraphicEl(h); Object(hi.g)(l, Object(hi.e)(d), { labelFetcher: { getFormattedLabel: function (e, n) { return t.getFormattedLabel(h, n) } } }), l.disableLabelAnimation = !0, p.get('position') || l.setTextConfig({ position: 'bottom' }), f.onHoverStateChange = function (t) { l.useState(t) } }r.add(l) } } }) }, e.type = 'map', e }(Vi.a)); Vi.a.registerClass(Ws); function Xs (t, e, n) { var i = t.getZoom(); var r = t.getCenter(); var a = e.zoom; var o = t.dataToPoint(r); if (e.dx != null && e.dy != null && (o[0] -= e.dx, o[1] -= e.dy, t.setCenter(t.pointToData(o))), a != null) { if (n) { var s = n.min || 0; var l = n.max || 1 / 0; a = Math.max(Math.min(i * a, l), s) / i }t.scaleX *= a, t.scaleY *= a; var u = (e.originX - t.x) * (a - 1); var c = (e.originY - t.y) * (a - 1); t.x -= u, t.y -= c, t.updateTransform(), t.setCenter(t.pointToData(o)), t.setZoom(a * i) } return { center: t.getCenter(), zoom: t.getZoom() } }c.c({ type: 'geoRoam', event: 'geoRoam', update: 'updateTransform' }, function (t, e) { var n = t.componentType || 'series'; e.eachComponent({ mainType: n, query: t }, function (e) { var i = e.coordinateSystem; if (i.type === 'geo') { var r = Xs(i, t, e.get('scaleLimit')); e.setCenter && e.setCenter(r.center), e.setZoom && e.setZoom(r.zoom), n === 'series' && f.each(e.seriesGroup, function (t) { t.setCenter(r.center), t.setZoom(r.zoom) }) } }) }); var Ys = p.b; var Us = (function (t) { function e (e) { var n = t.call(this) || this; return n.type = 'view', n.dimensions = ['x', 'y'], n._roamTransformable = new Bs.a(), n._rawTransformable = new Bs.a(), n.name = e, n } return Object(Ct.b)(e, t), e.prototype.setBoundingRect = function (t, e, n, i) { return this._rect = new pe.a(t, e, n, i), this._rect }, e.prototype.getBoundingRect = function () { return this._rect }, e.prototype.setViewRect = function (t, e, n, i) { this.transformTo(t, e, n, i), this._viewRect = new pe.a(t, e, n, i) }, e.prototype.transformTo = function (t, e, n, i) { var r = this.getBoundingRect(); var a = this._rawTransformable; a.transform = r.calculateTransform(new pe.a(t, e, n, i)), a.decomposeTransform(), this._updateTransform() }, e.prototype.setCenter = function (t) { t && (this._center = t, this._updateCenterAndZoom()) }, e.prototype.setZoom = function (t) { t = t || 1; var e = this.zoomLimit; e && (e.max != null && (t = Math.min(e.max, t)), e.min != null && (t = Math.max(e.min, t))), this._zoom = t, this._updateCenterAndZoom() }, e.prototype.getDefaultCenter = function () { var t = this.getBoundingRect(); var e = t.x + t.width / 2; var n = t.y + t.height / 2; return [e, n] }, e.prototype.getCenter = function () { return this._center || this.getDefaultCenter() }, e.prototype.getZoom = function () { return this._zoom || 1 }, e.prototype.getRoamTransform = function () { return this._roamTransformable.getLocalTransform() }, e.prototype._updateCenterAndZoom = function () { var t = this._rawTransformable.getLocalTransform(); var e = this._roamTransformable; var n = this.getDefaultCenter(); var i = this.getCenter(); var r = this.getZoom(); i = p.b([], i, t), n = p.b([], n, t), e.originX = i[0], e.originY = i[1], e.x = n[0] - i[0], e.y = n[1] - i[1], e.scaleX = e.scaleY = r, this._updateTransform() }, e.prototype._updateTransform = function () { var t = this._roamTransformable; var e = this._rawTransformable; e.parent = t, t.updateTransform(), e.updateTransform(), d.b(this.transform || (this.transform = []), e.transform || d.c()), this._rawTransform = e.getLocalTransform(), this.invTransform = this.invTransform || [], d.e(this.invTransform, this.transform), this.decomposeTransform() }, e.prototype.getTransformInfo = function () { var t = this._roamTransformable.transform; var e = this._rawTransformable; return { roamTransform: t ? f.slice(t) : d.c(), rawScaleX: e.scaleX, rawScaleY: e.scaleY, rawX: e.x, rawY: e.y } }, e.prototype.getViewRect = function () { return this._viewRect }, e.prototype.getViewRectAfterRoam = function () { var t = this.getBoundingRect().clone(); return t.applyTransform(this.transform), t }, e.prototype.dataToPoint = function (t, e, n) { var i = e ? this._rawTransform : this.transform; return n = n || [], i ? Ys(n, t, i) : p.d(n, t) }, e.prototype.pointToData = function (t) { var e = this.invTransform; return e ? Ys([], t, e) : [t[0], t[1]] }, e.prototype.convertToPixel = function (t, e, n) { var i = Zs(e); return i === this ? i.dataToPoint(n) : null }, e.prototype.convertFromPixel = function (t, e, n) { var i = Zs(e); return i === this ? i.pointToData(n) : null }, e.prototype.containPoint = function (t) { return this.getViewRectAfterRoam().contain(t[0], t[1]) }, e.dimensions = ['x', 'y'], e }(Bs.a)); function Zs (t) { var e = t.seriesModel; return e ? e.coordinateSystem : null } var qs = Us; var Ks = (function (t) { function e (e, n, i, r) { var a = t.call(this, e) || this; a.dimensions = ['lng', 'lat'], a.type = 'geo', a.map = n; var o = xs.load(n, i); return a._nameCoordMap = o.nameCoordMap, a._regionsMap = o.regionsMap, a._invertLongitute = r == null || r, a.regions = o.regions, a._rect = o.boundingRect, a } return Object(Ct.b)(e, t), e.prototype.containCoord = function (t) { for (var e = this.regions, n = 0; n < e.length; n++) if (e[n].contain(t)) return !0; return !1 }, e.prototype.transformTo = function (t, e, n, i) { var r = this.getBoundingRect(); var a = this._invertLongitute; r = r.clone(), a && (r.y = -r.y - r.height); var o = this._rawTransformable; o.transform = r.calculateTransform(new pe.a(t, e, n, i)), o.decomposeTransform(), a && (o.scaleY = -o.scaleY), o.updateTransform(), this._updateTransform() }, e.prototype.getRegion = function (t) { return this._regionsMap.get(t) }, e.prototype.getRegionByCoord = function (t) { for (var e = this.regions, n = 0; n < e.length; n++) if (e[n].contain(t)) return e[n] }, e.prototype.addGeoCoord = function (t, e) { this._nameCoordMap.set(t, e) }, e.prototype.getGeoCoord = function (t) { return this._nameCoordMap.get(t) }, e.prototype.getBoundingRect = function () { return this._rect }, e.prototype.dataToPoint = function (t, e, n) { if (typeof t === 'string' && (t = this.getGeoCoord(t)), t) return qs.prototype.dataToPoint.call(this, t, e, n) }, e.prototype.convertToPixel = function (t, e, n) { var i = $s(e); return i === this ? i.dataToPoint(n) : null }, e.prototype.convertFromPixel = function (t, e, n) { var i = $s(e); return i === this ? i.pointToData(n) : null }, e }(qs)); function $s (t) { var e = t.geoModel; var n = t.seriesModel; return e ? e.coordinateSystem : n ? n.coordinateSystem || (n.getReferringComponents('geo', Z.b).models[0] || {}).coordinateSystem : null }f.mixin(Ks, qs); var Qs = Ks; function Js (t, e) { var n = t.get('boundingCoords'); if (n != null) { var i = n[0]; var r = n[1]; isNaN(i[0]) || isNaN(i[1]) || isNaN(r[0]) || isNaN(r[1]) || this.setBoundingRect(i[0], i[1], r[0] - i[0], r[1] - i[1]) } var a; var o; var s; var l = this.getBoundingRect(); var u = t.get('layoutCenter'); var c = t.get('layoutSize'); var h = e.getWidth(); var d = e.getHeight(); var p = l.width / l.height * this.aspectScale; var f = !1; if (u && c && (a = [v.parsePercent(u[0], h), v.parsePercent(u[1], d)], o = v.parsePercent(c, Math.min(h, d)), isNaN(a[0]) || isNaN(a[1]) || isNaN(o) || (f = !0)), f)s = {}, p > 1 ? (s.width = o, s.height = o / p) : (s.height = o, s.width = o * p), s.y = a[1] - s.height / 2, s.x = a[0] - s.width / 2; else { var g = t.getBoxLayoutParams(); g.aspect = p, s = on.g(g, { width: h, height: d }) } this.setViewRect(s.x, s.y, s.width, s.height), this.setCenter(t.get('center')), this.setZoom(t.get('zoom')) } function tl (t, e) { f.each(e.get('geoCoord'), function (e, n) { t.addGeoCoord(n, e) }) } var el = (function () { function t () { this.dimensions = Qs.prototype.dimensions } return t.prototype.create = function (t, e) { var n = []; t.eachComponent('geo', function (t, i) { var r = t.get('map'); var a = t.get('aspectScale'); var o = !0; var s = Jo.a.retrieveMap(r); s && s[0] && s[0].type === 'svg' ? (a == null && (a = 1), o = !1) : a == null && (a = 0.75); var l = new Qs(r + i, r, t.get('nameMap'), o); l.aspectScale = a, l.zoomLimit = t.get('scaleLimit'), n.push(l), t.coordinateSystem = l, l.model = t, l.resize = Js, l.resize(t, e) }), t.eachSeries(function (t) { var e = t.get('coordinateSystem'); if (e === 'geo') { var i = t.get('geoIndex') || 0; t.coordinateSystem = n[i] } }); var i = {}; return t.eachSeriesByType('map', function (t) { if (!t.getHostGeoModel()) { var e = t.getMapType(); i[e] = i[e] || [], i[e].push(t) } }), f.each(i, function (t, i) { var r = f.map(t, function (t) { return t.get('nameMap') }); var a = new Qs(i, i, f.mergeAll(r)); a.zoomLimit = f.retrieve.apply(null, f.map(t, function (t) { return t.get('scaleLimit') })), n.push(a), a.resize = Js, a.aspectScale = t[0].get('aspectScale'), a.resize(t[0], e), f.each(t, function (t) { t.coordinateSystem = a, tl(a, t) }) }), n }, t.prototype.getFilledRegions = function (t, e, n) { for (var i = (t || []).slice(), r = f.createHashMap(), a = 0; a < i.length; a++)r.set(i[a].name, i[a]); var o = xs.load(e, n); return f.each(o.regions, function (t) { var e = t.name; !r.get(e) && i.push({ name: e }) }), i }, t }()); var nl = new el(); c.d('geo', nl); var il = nl; function rl (t) { var e = {}; t.eachSeriesByType('map', function (n) { var i = n.getMapType(); if (!n.getHostGeoModel() && !e[i]) { var r = {}; f.each(n.seriesGroup, function (e) { var n = e.coordinateSystem; var i = e.originalData; e.get('showLegendSymbol') && t.getComponent('legend') && i.each(i.mapDimension('value'), function (t, e) { var a = i.getName(e); var o = n.getRegion(a); if (o && !isNaN(t)) { var s = r[a] || 0; var l = n.dataToPoint(o.center); r[a] = s + 1, i.setItemLayout(e, { point: l, offset: s }) } }) }); var a = n.getData(); a.each(function (t) { var e = a.getName(t); var n = a.getItemLayout(t) || {}; n.showLabel = !r[e], a.setItemLayout(t, n) }), e[i] = !0 } }) } function al (t, e) { var n = {}; return f.each(t, function (t) { t.each(t.mapDimension('value'), function (e, i) { var r = 'ec-' + t.getName(i); n[r] = n[r] || [], isNaN(e) || n[r].push(e) }) }), t[0].map(t[0].mapDimension('value'), function (i, r) { for (var a, o = 'ec-' + t[0].getName(r), s = 0, l = 1 / 0, u = -1 / 0, c = n[o].length, h = 0; h < c; h++)l = Math.min(l, n[o][h]), u = Math.max(u, n[o][h]), s += n[o][h]; return a = e === 'min' ? l : e === 'max' ? u : e === 'average' ? s / c : s, c === 0 ? NaN : a }) } function ol (t) { var e = {}; t.eachSeriesByType('map', function (t) { var n = t.getHostGeoModel(); var i = n ? 'o' + n.id : 'i' + t.getMapType(); (e[i] = e[i] || []).push(t) }), f.each(e, function (t, e) { for (var n = al(f.map(t, function (t) { return t.getData() }), t[0].get('mapValueCalculation')), i = 0; i < t.length; i++)t[i].originalData = t[i].getData(); for (i = 0; i < t.length; i++)t[i].seriesGroup = t, t[i].needsDrawMap = i === 0 && !t[i].getHostGeoModel(), t[i].setData(n.cloneShallow()), t[i].mainSeries = t[0] }) }c.e(rl), c.g(c.a.PROCESSOR.STATISTIC, ol), Object(Oo.a)('map', c.c); var sl = Object(Z.o)(); function ll (t) { var e = t.mainData; var n = t.datas; n || (n = { main: e }, t.datasAttr = { main: 'data' }), t.datas = t.mainData = null, gl(e, n, t), Object(f.each)(n, function (n) { Object(f.each)(e.TRANSFERABLE_METHODS, function (e) { n.wrapMethod(e, Object(f.curry)(ul, t)) }) }), e.wrapMethod('cloneShallow', Object(f.curry)(hl, t)), Object(f.each)(e.CHANGABLE_METHODS, function (n) { e.wrapMethod(n, Object(f.curry)(cl, t)) }), Object(f.assert)(n[e.dataType] === e) } function ul (t, e) { if (fl(this)) { var n = Object(f.extend)({}, sl(this).datas); n[this.dataType] = e, gl(e, n, t) } else yl(e, this.dataType, sl(this).mainData, t); return e } function cl (t, e) { return t.struct && t.struct.update(), e } function hl (t, e) { return Object(f.each)(sl(e).datas, function (n, i) { n !== e && yl(n.cloneShallow(), i, e, t) }), e } function dl (t) { var e = sl(this).mainData; return t == null || e == null ? e : sl(e).datas[t] } function pl () { var t = sl(this).mainData; return t == null ? [{ data: t }] : Object(f.map)(Object(f.keys)(sl(t).datas), function (e) { return { type: e, data: sl(t).datas[e] } }) } function fl (t) { return sl(t).mainData === t } function gl (t, e, n) { sl(t).datas = {}, Object(f.each)(e, function (e, i) { yl(e, i, t, n) }) } function yl (t, e, n, i) { sl(n).datas[e] = t, sl(t).mainData = n, t.dataType = e, i.struct && (t[i.structAttr] = i.struct, i.struct[i.datasAttr[e]] = t), t.getLinkedData = dl, t.getLinkedDataAll = pl } var vl = ll; var ml = (function () { function t (t, e) { this.depth = 0, this.height = 0, this.dataIndex = -1, this.children = [], this.viewChildren = [], this.isExpand = !1, this.name = t || '', this.hostTree = e } return t.prototype.isRemoved = function () { return this.dataIndex < 0 }, t.prototype.eachNode = function (t, e, n) { typeof t === 'function' && (n = e, e = t, t = null), t = t || {}, f.isString(t) && (t = { order: t }); var i; var r = t.order || 'preorder'; var a = this[t.attr || 'children']; r === 'preorder' && (i = e.call(n, this)); for (var o = 0; !i && o < a.length; o++)a[o].eachNode(t, e, n); r === 'postorder' && e.call(n, this) }, t.prototype.updateDepthAndHeight = function (t) { var e = 0; this.depth = t; for (var n = 0; n < this.children.length; n++) { var i = this.children[n]; i.updateDepthAndHeight(t + 1), i.height > e && (e = i.height) } this.height = e + 1 }, t.prototype.getNodeById = function (t) { if (this.getId() === t) return this; for (var e = 0, n = this.children, i = n.length; e < i; e++) { var r = n[e].getNodeById(t); if (r) return r } }, t.prototype.contains = function (t) { if (t === this) return !0; for (var e = 0, n = this.children, i = n.length; e < i; e++) { var r = n[e].contains(t); if (r) return r } }, t.prototype.getAncestors = function (t) { var e = []; var n = t ? this : this.parentNode; while (n)e.push(n), n = n.parentNode; return e.reverse(), e }, t.prototype.getAncestorsIndices = function () { var t = []; var e = this; while (e)t.push(e.dataIndex), e = e.parentNode; return t.reverse(), t }, t.prototype.getDescendantIndices = function () { var t = []; return this.eachNode(function (e) { t.push(e.dataIndex) }), t }, t.prototype.getValue = function (t) { var e = this.hostTree.data; return e.get(e.getDimension(t || 'value'), this.dataIndex) }, t.prototype.setLayout = function (t, e) { this.dataIndex >= 0 && this.hostTree.data.setItemLayout(this.dataIndex, t, e) }, t.prototype.getLayout = function () { return this.hostTree.data.getItemLayout(this.dataIndex) }, t.prototype.getModel = function (t) { if (!(this.dataIndex < 0)) { var e = this.hostTree; var n = e.data.getItemModel(this.dataIndex); return n.getModel(t) } }, t.prototype.getLevelModel = function () { return (this.hostTree.levelModels || [])[this.depth] }, t.prototype.setVisual = function (t, e) { this.dataIndex >= 0 && this.hostTree.data.setItemVisual(this.dataIndex, t, e) }, t.prototype.getVisual = function (t) { return this.hostTree.data.getItemVisual(this.dataIndex, t) }, t.prototype.getRawIndex = function () { return this.hostTree.data.getRawIndex(this.dataIndex) }, t.prototype.getId = function () { return this.hostTree.data.getId(this.dataIndex) }, t.prototype.isAncestorOf = function (t) { var e = t.parentNode; while (e) { if (e === this) return !0; e = e.parentNode } return !1 }, t.prototype.isDescendantOf = function (t) { return t !== this && t.isAncestorOf(this) }, t }()); var bl = (function () { function t (t) { this.type = 'tree', this._nodes = [], this.hostModel = t } return t.prototype.eachNode = function (t, e, n) { this.root.eachNode(t, e, n) }, t.prototype.getNodeByDataIndex = function (t) { var e = this.data.getRawIndex(t); return this._nodes[e] }, t.prototype.getNodeById = function (t) { return this.root.getNodeById(t) }, t.prototype.update = function () { for (var t = this.data, e = this._nodes, n = 0, i = e.length; n < i; n++)e[n].dataIndex = -1; for (n = 0, i = t.count(); n < i; n++)e[t.getRawIndex(n)].dataIndex = n }, t.prototype.clearLayouts = function () { this.data.clearItemLayouts() }, t.createTree = function (e, n, i) { var r = new t(n); var a = []; var o = 1; function s (t, e) { var n = t.value; o = Math.max(o, f.isArray(n) ? n.length : 1), a.push(t); var i = new ml(Object(Z.e)(t.name, ''), r); e ? xl(i, e) : r.root = i, r._nodes.push(i); var l = t.children; if (l) for (var u = 0; u < l.length; u++)s(l[u], i) }s(e), r.root.updateDepthAndHeight(0); var l = vt(a, { coordDimensions: ['value'], dimensionsCount: o }); var u = new ht(l, n); return u.initData(a), i && i(u), vl({ mainData: u, struct: r, structAttr: 'tree' }), r.update(), r }, t }()); function xl (t, e) { var n = e.children; t.parentNode !== e && (n.push(t), t.parentNode = e) } var _l = bl; var wl = (function (t) { function e () { var e = t !== null && t.apply(this, arguments) || this; return e.hasSymbolVisual = !0, e.ignoreStyleOnData = !0, e } return Object(Ct.b)(e, t), e.prototype.getInitialData = function (t) { var e = { name: t.name, children: t.data }; var n = t.leaves || {}; var i = new _.a(n, this, this.ecModel); var r = _l.createTree(e, this, a); function a (t) { t.wrapMethod('getItemModel', function (t, e) { var n = r.getNodeByDataIndex(e); return n.children.length && n.isExpand || (t.parentModel = i), t }) } var o = 0; r.eachNode('preorder', function (t) { t.depth > o && (o = t.depth) }); var s = t.expandAndCollapse; var l = s && t.initialTreeDepth >= 0 ? t.initialTreeDepth : o; return r.root.eachNode('preorder', function (t) { var e = t.hostTree.data.getRawDataItem(t.dataIndex); t.isExpand = e && e.collapsed != null ? !e.collapsed : t.depth <= l }), r.data }, e.prototype.getOrient = function () { var t = this.get('orient'); return t === 'horizontal' ? t = 'LR' : t === 'vertical' && (t = 'TB'), t }, e.prototype.setZoom = function (t) { this.option.zoom = t }, e.prototype.setCenter = function (t) { this.option.center = t }, e.prototype.formatTooltip = function (t, e, n) { var i = this.getData().tree; var r = i.root.children[0]; var a = i.getNodeByDataIndex(t); var o = a.getValue(); var s = a.name; while (a && a !== r)s = a.parentNode.name + '.' + s, a = a.parentNode; return Object(Xo.c)('nameValue', { name: s, value: o, noValue: isNaN(o) || o == null }) }, e.type = 'series.tree', e.layoutMode = 'box', e.defaultOption = { zlevel: 0, z: 2, coordinateSystem: 'view', left: '12%', top: '12%', right: '12%', bottom: '12%', layout: 'orthogonal', edgeShape: 'curve', edgeForkPosition: '50%', roam: !1, nodeScaleRatio: 0.4, center: null, zoom: 1, orient: 'LR', symbol: 'emptyCircle', symbolSize: 7, expandAndCollapse: !0, initialTreeDepth: 2, lineStyle: { color: '#ccc', width: 1.5, curveness: 0.5 }, itemStyle: { color: 'lightsteelblue', borderColor: '#c23531', borderWidth: 1.5 }, label: { show: !0 }, animationEasing: 'linear', animationDuration: 700, animationDurationUpdate: 500 }, e }(oi.a)); oi.a.registerClass(wl); function Ol (t) { var e = t; e.hierNode = { defaultAncestor: null, ancestor: e, prelim: 0, modifier: 0, change: 0, shift: 0, i: 0, thread: null }; var n; var i; var r = [e]; while (n = r.pop()) if (i = n.children, n.isExpand && i.length) for (var a = i.length, o = a - 1; o >= 0; o--) { var s = i[o]; s.hierNode = { defaultAncestor: null, ancestor: s, prelim: 0, modifier: 0, change: 0, shift: 0, i: o, thread: null }, r.push(s) } } function Sl (t, e) { var n = t.isExpand ? t.children : []; var i = t.parentNode.children; var r = t.hierNode.i ? i[t.hierNode.i - 1] : null; if (n.length) { Al(t); var a = (n[0].hierNode.prelim + n[n.length - 1].hierNode.prelim) / 2; r ? (t.hierNode.prelim = r.hierNode.prelim + e(t, r), t.hierNode.modifier = t.hierNode.prelim - a) : t.hierNode.prelim = a } else r && (t.hierNode.prelim = r.hierNode.prelim + e(t, r)); t.parentNode.hierNode.defaultAncestor = Cl(t, r, t.parentNode.hierNode.defaultAncestor || i[0], e) } function Ml (t) { var e = t.hierNode.prelim + t.parentNode.hierNode.modifier; t.setLayout({ x: e }, !0), t.hierNode.modifier += t.parentNode.hierNode.modifier } function Il (t) { return arguments.length ? t : Rl } function Tl (t, e) { return t -= Math.PI / 2, { x: e * Math.cos(t), y: e * Math.sin(t) } } function jl (t, e) { return on.g(t.getBoxLayoutParams(), { width: e.getWidth(), height: e.getHeight() }) } function Al (t) { var e = t.children; var n = e.length; var i = 0; var r = 0; while (--n >= 0) { var a = e[n]; a.hierNode.prelim += i, a.hierNode.modifier += i, r += a.hierNode.change, i += a.hierNode.shift + r } } function Cl (t, e, n, i) { if (e) { var r = t; var a = t; var o = a.parentNode.children[0]; var s = e; var l = r.hierNode.modifier; var u = a.hierNode.modifier; var c = o.hierNode.modifier; var h = s.hierNode.modifier; while (s = Dl(s), a = kl(a), s && a) { r = Dl(r), o = kl(o), r.hierNode.ancestor = t; var d = s.hierNode.prelim + h - a.hierNode.prelim - u + i(s, a); d > 0 && (Pl(Ll(s, t, n), t, d), u += d, l += d), h += s.hierNode.modifier, u += a.hierNode.modifier, l += r.hierNode.modifier, c += o.hierNode.modifier }s && !Dl(r) && (r.hierNode.thread = s, r.hierNode.modifier += h - l), a && !kl(o) && (o.hierNode.thread = a, o.hierNode.modifier += u - c, n = t) } return n } function Dl (t) { var e = t.children; return e.length && t.isExpand ? e[e.length - 1] : t.hierNode.thread } function kl (t) { var e = t.children; return e.length && t.isExpand ? e[0] : t.hierNode.thread } function Ll (t, e, n) { return t.hierNode.ancestor.parentNode === e.parentNode ? t.hierNode.ancestor : n } function Pl (t, e, n) { var i = n / (e.hierNode.i - t.hierNode.i); e.hierNode.change -= i, e.hierNode.shift += n, e.hierNode.modifier += n, e.hierNode.prelim += n, t.hierNode.change += i } function Rl (t, e) { return t.parentNode === e.parentNode ? 1 : 2 } var Nl = (function () { function t () { this.parentPoint = [], this.childPoints = [] } return t }()); var El = (function (t) { function e (e) { return t.call(this, e) || this } return Object(Ct.b)(e, t), e.prototype.getDefaultStyle = function () { return { stroke: '#000', fill: null } }, e.prototype.getDefaultShape = function () { return new Nl() }, e.prototype.buildPath = function (t, e) { var n = e.childPoints; var i = n.length; var r = e.parentPoint; var a = n[0]; var o = n[i - 1]; if (i === 1) return t.moveTo(r[0], r[1]), void t.lineTo(a[0], a[1]); var s = e.orient; var l = s === 'TB' || s === 'BT' ? 0 : 1; var u = 1 - l; var c = Object(v.parsePercent)(e.forkPosition, 1); var h = []; h[l] = r[l], h[u] = r[u] + (o[u] - r[u]) * c, t.moveTo(r[0], r[1]), t.lineTo(h[0], h[1]), t.moveTo(a[0], a[1]), h[l] = a[l], t.lineTo(h[0], h[1]), h[l] = o[l], t.lineTo(h[0], h[1]), t.lineTo(o[0], o[1]); for (var d = 1; d < i - 1; d++) { var p = n[d]; t.moveTo(p[0], p[1]), h[l] = p[l], t.lineTo(h[0], h[1]) } }, e }(Ai.b)); var zl = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n._mainGroup = new y.Group(), n } return Object(Ct.b)(e, t), e.prototype.init = function (t, e) { this._controller = new Ps(e.getZr()), this._controllerHost = { target: this.group }, this.group.add(this._mainGroup) }, e.prototype.render = function (t, e, n) { var i = t.getData(); var r = t.layoutInfo; var a = this._mainGroup; var o = t.get('layout'); o === 'radial' ? (a.x = r.x + r.width / 2, a.y = r.y + r.height / 2) : (a.x = r.x, a.y = r.y), this._updateViewCoordSys(t), this._updateController(t, e, n); var s = this._data; i.diff(s).add(function (e) { Bl(i, e) && Vl(i, e, null, a, t) }).update(function (e, n) { var r = s.getItemGraphicEl(n); Bl(i, e) ? Vl(i, e, r, a, t) : r && Gl(s, n, r, a, t) }).remove(function (e) { var n = s.getItemGraphicEl(e); n && Gl(s, e, n, a, t) }).execute(), this._nodeScaleRatio = t.get('nodeScaleRatio'), this._updateNodeAndLinkScale(t), !0 === t.get('expandAndCollapse') && i.eachItemGraphicEl(function (e, i) { e.off('click').on('click', function () { n.dispatchAction({ type: 'treeExpandAndCollapse', seriesId: t.id, dataIndex: i }) }) }), this._data = i }, e.prototype._updateViewCoordSys = function (t) { var e = t.getData(); var n = []; e.each(function (t) { var i = e.getItemLayout(t); !i || isNaN(i.x) || isNaN(i.y) || n.push([+i.x, +i.y]) }); var i = []; var r = []; ln.d(n, i, r); var a = this._min; var o = this._max; r[0] - i[0] === 0 && (i[0] = a ? a[0] : i[0] - 1, r[0] = o ? o[0] : r[0] + 1), r[1] - i[1] === 0 && (i[1] = a ? a[1] : i[1] - 1, r[1] = o ? o[1] : r[1] + 1); var s = t.coordinateSystem = new qs(); s.zoomLimit = t.get('scaleLimit'), s.setBoundingRect(i[0], i[1], r[0] - i[0], r[1] - i[1]), s.setCenter(t.get('center')), s.setZoom(t.get('zoom')), this.group.attr({ x: s.x, y: s.y, scaleX: s.scaleX, scaleY: s.scaleY }), this._min = i, this._max = r }, e.prototype._updateController = function (t, e, n) { var i = this; var r = this._controller; var a = this._controllerHost; var o = this.group; r.setPointerChecker(function (e, i, r) { var a = o.getBoundingRect(); return a.applyTransform(o.transform), a.contain(i, r) && !zs(e, n, t) }), r.enable(t.get('roam')), a.zoomLimit = t.get('scaleLimit'), a.zoom = t.coordinateSystem.getZoom(), r.off('pan').off('zoom').on('pan', function (e) { Rs(a, e.dx, e.dy), n.dispatchAction({ seriesId: t.id, type: 'treeRoam', dx: e.dx, dy: e.dy }) }).on('zoom', function (e) { Ns(a, e.scale, e.originX, e.originY), n.dispatchAction({ seriesId: t.id, type: 'treeRoam', zoom: e.scale, originX: e.originX, originY: e.originY }), i._updateNodeAndLinkScale(t), n.updateLabelLayout() }) }, e.prototype._updateNodeAndLinkScale = function (t) { var e = t.getData(); var n = this._getNodeGlobalScale(t); e.eachItemGraphicEl(function (t, e) { t.setSymbolScale(n) }) }, e.prototype._getNodeGlobalScale = function (t) { var e = t.coordinateSystem; if (e.type !== 'view') return 1; var n = this._nodeScaleRatio; var i = e.scaleX || 1; var r = e.getZoom(); var a = (r - 1) * n + 1; return a / i }, e.prototype.dispose = function () { this._controller && this._controller.dispose(), this._controllerHost = null }, e.prototype.remove = function () { this._mainGroup.removeAll(), this._data = null }, e.type = 'tree', e }(Vi.a)); function Bl (t, e) { var n = t.getItemLayout(e); return n && !isNaN(n.x) && !isNaN(n.y) } function Vl (t, e, n, i, r) { var a = !n; var o = t.tree.getNodeByDataIndex(e); var s = o.getModel(); var l = o.getVisual('style').fill; var u = !1 === o.isExpand && o.children.length !== 0 ? l : '#fff'; var c = t.tree.root; var h = o.parentNode === c ? o : o.parentNode || o; var d = t.getItemGraphicEl(h.dataIndex); var p = h.getLayout(); var f = d ? { x: d.__oldX, y: d.__oldY, rawX: d.__radialOldRawX, rawY: d.__radialOldRawY } : p; var g = o.getLayout(); a ? (n = new gi(t, e, null, { symbolInnerColor: u, useNameLabel: !0 }), n.x = f.x, n.y = f.y) : n.updateData(t, e, null, { symbolInnerColor: u, useNameLabel: !0 }), n.__radialOldRawX = n.__radialRawX, n.__radialOldRawY = n.__radialRawY, n.__radialRawX = g.rawX, n.__radialRawY = g.rawY, i.add(n), t.setItemGraphicEl(e, n), n.__oldX = n.x, n.__oldY = n.y, y.updateProps(n, { x: g.x, y: g.y }, r); var v = n.getSymbolPath(); if (r.get('layout') === 'radial') { var m = c.children[0]; var b = m.getLayout(); var x = m.children.length; var _ = void 0; var w = void 0; if (g.x === b.x && !0 === o.isExpand) { var O = { x: (m.children[0].getLayout().x + m.children[x - 1].getLayout().x) / 2, y: (m.children[0].getLayout().y + m.children[x - 1].getLayout().y) / 2 }; _ = Math.atan2(O.y - b.y, O.x - b.x), _ < 0 && (_ = 2 * Math.PI + _), w = O.x < b.x, w && (_ -= Math.PI) } else _ = Math.atan2(g.y - b.y, g.x - b.x), _ < 0 && (_ = 2 * Math.PI + _), o.children.length === 0 || o.children.length !== 0 && !1 === o.isExpand ? (w = g.x < b.x, w && (_ -= Math.PI)) : (w = g.x > b.x, w || (_ -= Math.PI)); var S = w ? 'left' : 'right'; var M = s.getModel('label'); var I = M.get('rotate'); var T = I * (Math.PI / 180); var j = v.getTextContent(); j && (v.setTextConfig({ position: M.get('position') || S, rotation: I == null ? -_ : T, origin: 'center' }), j.setStyle('verticalAlign', 'middle')) } var A = s.get(['emphasis', 'focus']); var C = A === 'ancestor' ? o.getAncestorsIndices() : A === 'descendant' ? o.getDescendantIndices() : null; C && (Object(q.a)(n).focus = C), Fl(r, o, c, n, f, p, g, i), n.__edge && (n.onHoverStateChange = function (e) { if (e !== 'blur') { var i = o.parentNode && t.getItemGraphicEl(o.parentNode.dataIndex); i && i.hoverState === li.d || Object(li.C)(n.__edge, e) } }) } function Fl (t, e, n, i, r, a, o, s) { var l = e.getModel(); var u = t.get('edgeShape'); var c = t.get('layout'); var h = t.getOrient(); var d = t.get(['lineStyle', 'curveness']); var p = t.get('edgeForkPosition'); var g = l.getModel('lineStyle').getLineStyle(); var v = i.__edge; if (u === 'curve')e.parentNode && e.parentNode !== n && (v || (v = i.__edge = new y.BezierCurve({ shape: Hl(c, h, d, r, r) })), y.updateProps(v, { shape: Hl(c, h, d, a, o) }, t)); else if (u === 'polyline') if (c === 'orthogonal') { if (e !== n && e.children && e.children.length !== 0 && !0 === e.isExpand) { for (var m = e.children, b = [], x = 0; x < m.length; x++) { var _ = m[x].getLayout(); b.push([_.x, _.y]) }v || (v = i.__edge = new El({ shape: { parentPoint: [o.x, o.y], childPoints: [[o.x, o.y]], orient: h, forkPosition: p } })), y.updateProps(v, { shape: { parentPoint: [o.x, o.y], childPoints: b } }, t) } } else 0; v && (v.useStyle(f.defaults({ strokeNoScale: !0, fill: null }, g)), Object(li.D)(v, l, 'lineStyle'), Object(li.B)(v), s.add(v)) } function Gl (t, e, n, i, r) { var a; var o = t.tree.getNodeByDataIndex(e); var s = t.tree.root; var l = o.parentNode === s ? o : o.parentNode || o; while (a = l.getLayout(), a == null)l = l.parentNode === s ? l : l.parentNode || l; var u = { duration: r.get('animationDurationUpdate'), easing: r.get('animationEasingUpdate') }; y.removeElement(n, { x: a.x + 1, y: a.y + 1 }, r, { cb: function () { i.remove(n), t.setItemGraphicEl(e, null) }, removeOpt: u }), n.fadeOut(null, { fadeLabel: !0, animation: u }); var c = t.getItemGraphicEl(l.dataIndex); var h = c.__edge; var d = n.__edge || (!1 === l.isExpand || l.children.length === 1 ? h : void 0); var p = r.get('edgeShape'); var f = r.get('layout'); var g = r.get('orient'); var v = r.get(['lineStyle', 'curveness']); d && (p === 'curve' ? y.removeElement(d, { shape: Hl(f, g, v, a, a), style: { opacity: 0 } }, r, { cb: function () { i.remove(d) }, removeOpt: u }) : p === 'polyline' && r.get('layout') === 'orthogonal' && y.removeElement(d, { shape: { parentPoint: [a.x, a.y], childPoints: [[a.x, a.y]] }, style: { opacity: 0 } }, r, { cb: function () { i.remove(d) }, removeOpt: u })) } function Hl (t, e, n, i, r) { var a, o, s, l, u, c, h, d; if (t === 'radial') { u = i.rawX, h = i.rawY, c = r.rawX, d = r.rawY; var p = Tl(u, h); var f = Tl(u, h + (d - h) * n); var g = Tl(c, d + (h - d) * n); var y = Tl(c, d); return { x1: p.x || 0, y1: p.y || 0, x2: y.x || 0, y2: y.y || 0, cpx1: f.x || 0, cpy1: f.y || 0, cpx2: g.x || 0, cpy2: g.y || 0 } } return u = i.x, h = i.y, c = r.x, d = r.y, e !== 'LR' && e !== 'RL' || (a = u + (c - u) * n, o = h, s = c + (u - c) * n, l = d), e !== 'TB' && e !== 'BT' || (a = u, o = h + (d - h) * n, s = c, l = d + (h - d) * n), { x1: u, y1: h, x2: c, y2: d, cpx1: a, cpy1: o, cpx2: s, cpy2: l } }Vi.a.registerClass(zl); function Wl (t, e, n) { var i; var r = [t]; var a = []; while (i = r.pop()) if (a.push(i), i.isExpand) { var o = i.children; if (o.length) for (var s = 0; s < o.length; s++)r.push(o[s]) } while (i = a.pop())e(i, n) } function Xl (t, e) { var n; var i = [t]; while (n = i.pop()) if (e(n), n.isExpand) { var r = n.children; if (r.length) for (var a = r.length - 1; a >= 0; a--)i.push(r[a]) } } function Yl (t, e) { t.eachSeriesByType('tree', function (t) { Ul(t, e) }) } function Ul (t, e) { var n = jl(t, e); t.layoutInfo = n; var i = t.get('layout'); var r = 0; var a = 0; var o = null; i === 'radial' ? (r = 2 * Math.PI, a = Math.min(n.height, n.width) / 2, o = Il(function (t, e) { return (t.parentNode === e.parentNode ? 1 : 2) / t.depth })) : (r = n.width, a = n.height, o = Il()); var s = t.getData().tree.root; var l = s.children[0]; if (l) { Ol(s), Wl(l, Sl, o), s.hierNode.modifier = -l.hierNode.prelim, Xl(l, Ml); var u = l; var c = l; var h = l; Xl(l, function (t) { var e = t.getLayout().x; e < u.getLayout().x && (u = t), e > c.getLayout().x && (c = t), t.depth > h.depth && (h = t) }); var d = u === c ? 1 : o(u, c) / 2; var p = d - u.getLayout().x; var f = 0; var g = 0; var y = 0; var v = 0; if (i === 'radial')f = r / (c.getLayout().x + d + p), g = a / (h.depth - 1 || 1), Xl(l, function (t) { y = (t.getLayout().x + p) * f, v = (t.depth - 1) * g; var e = Tl(y, v); t.setLayout({ x: e.x, y: e.y, rawX: y, rawY: v }, !0) }); else { var m = t.getOrient(); m === 'RL' || m === 'LR' ? (g = a / (c.getLayout().x + d + p), f = r / (h.depth - 1 || 1), Xl(l, function (t) { v = (t.getLayout().x + p) * g, y = m === 'LR' ? (t.depth - 1) * f : r - (t.depth - 1) * f, t.setLayout({ x: y, y: v }, !0) })) : m !== 'TB' && m !== 'BT' || (f = r / (c.getLayout().x + d + p), g = a / (h.depth - 1 || 1), Xl(l, function (t) { y = (t.getLayout().x + p) * f, v = m === 'TB' ? (t.depth - 1) * g : a - (t.depth - 1) * g, t.setLayout({ x: y, y: v }, !0) })) } } } function Zl (t) { t.eachSeriesByType('tree', function (t) { var e = t.getData(); var n = e.tree; n.eachNode(function (t) { var n = t.getModel(); var i = n.getModel('itemStyle').getItemStyle(); var r = e.ensureUniqueItemVisual(t.dataIndex, 'style'); Object(f.extend)(r, i) }) }) } function ql (t, e, n) { if (t && f.indexOf(e, t.type) >= 0) { var i = n.getData().tree.root; var r = t.targetNode; if (typeof r === 'string' && (r = i.getNodeById(r)), r && i.contains(r)) return { node: r }; var a = t.targetNodeId; if (a != null && (r = i.getNodeById(a))) return { node: r } } } function Kl (t) { var e = []; while (t)t = t.parentNode, t && e.push(t); return e.reverse() } function $l (t, e) { var n = Kl(t); return f.indexOf(n, e) >= 0 } function Ql (t, e) { var n = []; while (t) { var i = t.dataIndex; n.push({ name: t.name, dataIndex: i, value: e.getRawValue(i) }), t = t.parentNode } return n.reverse(), n }c.c({ type: 'treeExpandAndCollapse', event: 'treeExpandAndCollapse', update: 'update' }, function (t, e) { e.eachComponent({ mainType: 'series', subType: 'tree', query: t }, function (e) { var n = t.dataIndex; var i = e.getData().tree; var r = i.getNodeByDataIndex(n); r.isExpand = !r.isExpand }) }), c.c({ type: 'treeRoam', event: 'treeRoam', update: 'none' }, function (t, e) { e.eachComponent({ mainType: 'series', subType: 'tree', query: t }, function (e) { var n = e.coordinateSystem; var i = Xs(n, t); e.setCenter && e.setCenter(i.center), e.setZoom && e.setZoom(i.zoom) }) }), c.e(Yl), c.i(Zl); var Jl = n('61e4'); function tu (t) { var e = t.getData(); var n = e.tree; var i = {}; n.eachNode(function (e) { var n = e; while (n && n.depth > 1)n = n.parentNode; var r = Object(Jl.b)(t.ecModel, n.name || n.dataIndex + '', i); e.setVisual('decal', r) }) } var eu = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.preventUsingHoverLayer = !0, n } return Object(Ct.b)(e, t), e.prototype.getInitialData = function (t, e) { var n = { name: t.name, children: t.data }; nu(n); var i = t.levels || []; var r = this.designatedVisualItemStyle = {}; var a = new _.a({ itemStyle: r }, this, e); i = t.levels = iu(i, e); var o = f.map(i || [], function (t) { return new _.a(t, a, e) }, this); var s = _l.createTree(n, this, l); function l (t) { t.wrapMethod('getItemModel', function (t, e) { var n = s.getNodeByDataIndex(e); var i = o[n.depth]; return t.parentModel = i || a, t }) } return s.data }, e.prototype.optionUpdated = function () { this.resetViewRoot() }, e.prototype.formatTooltip = function (t, e, n) { var i = this.getData(); var r = this.getRawValue(t); var a = i.getName(t); return Object(Xo.c)('nameValue', { name: a, value: r }) }, e.prototype.getDataParams = function (e) { var n = t.prototype.getDataParams.apply(this, arguments); var i = this.getData().tree.getNodeByDataIndex(e); return n.treePathInfo = Ql(i, this), n }, e.prototype.setLayoutInfo = function (t) { this.layoutInfo = this.layoutInfo || {}, f.extend(this.layoutInfo, t) }, e.prototype.mapIdToIndex = function (t) { var e = this._idIndexMap; e || (e = this._idIndexMap = f.createHashMap(), this._idIndexMapCount = 0); var n = e.get(t); return n == null && e.set(t, n = this._idIndexMapCount++), n }, e.prototype.getViewRoot = function () { return this._viewRoot }, e.prototype.resetViewRoot = function (t) { t ? this._viewRoot = t : t = this._viewRoot; var e = this.getRawData().tree.root; t && (t === e || e.contains(t)) || (this._viewRoot = e) }, e.prototype.enableAriaDecal = function () { tu(this) }, e.type = 'series.treemap', e.layoutMode = 'box', e.defaultOption = { progressive: 0, left: 'center', top: 'middle', width: '80%', height: '80%', sort: !0, clipWindow: 'origin', squareRatio: 0.5 * (1 + Math.sqrt(5)), leafDepth: null, drillDownIcon: '▶', zoomToNodeRatio: 0.1024, roam: !0, nodeClick: 'zoomToNode', animation: !0, animationDurationUpdate: 900, animationEasing: 'quinticInOut', breadcrumb: { show: !0, height: 22, left: 'center', top: 'bottom', emptyItemWidth: 25, itemStyle: { color: 'rgba(0,0,0,0.7)', textStyle: { color: '#fff' } } }, label: { show: !0, distance: 0, padding: 5, position: 'inside', color: '#fff', overflow: 'truncate' }, upperLabel: { show: !1, position: [0, '50%'], height: 20, overflow: 'truncate', verticalAlign: 'middle' }, itemStyle: { color: null, colorAlpha: null, colorSaturation: null, borderWidth: 0, gapWidth: 0, borderColor: '#fff', borderColorSaturation: null }, emphasis: { upperLabel: { show: !0, position: [0, '50%'], ellipsis: !0, verticalAlign: 'middle' } }, visualDimension: 0, visualMin: null, visualMax: null, color: [], colorAlpha: null, colorSaturation: null, colorMappingBy: 'index', visibleMin: 10, childrenVisibleMin: null, levels: [] }, e }(oi.a)); function nu (t) { var e = 0; f.each(t.children, function (t) { nu(t); var n = t.value; f.isArray(n) && (n = n[0]), e += n }); var n = t.value; f.isArray(n) && (n = n[0]), (n == null || isNaN(n)) && (n = e), n < 0 && (n = 0), f.isArray(t.value) ? t.value[0] = n : t.value = n } function iu (t, e) { var n = Object(Z.r)(e.get('color')); var i = Object(Z.r)(e.get('decals')); if (n) { var r, a; t = t || [], f.each(t, function (t) { var e = new _.a(t); var n = e.get('color'); var i = e.get('decal'); (e.get(['itemStyle', 'color']) || n && n !== 'none') && (r = !0), (e.get(['itemStyle', 'decal']) || i && i !== 'none') && (a = !0) }); var o = t[0] || (t[0] = {}); return r || (o.color = n.slice()), !a && i && (o.decal = i.slice()), t } }oi.a.registerClass(eu); var ru = 8; var au = 8; var ou = 5; var su = (function () { function t (t) { this.group = new y.Group(), t.add(this.group) } return t.prototype.render = function (t, e, n, i) { var r = t.getModel('breadcrumb'); var a = this.group; if (a.removeAll(), r.get('show') && n) { var o = r.getModel('itemStyle'); var s = o.getModel('textStyle'); var l = { pos: { left: r.get('left'), right: r.get('right'), top: r.get('top'), bottom: r.get('bottom') }, box: { width: e.getWidth(), height: e.getHeight() }, emptyItemWidth: r.get('emptyItemWidth'), totalWidth: 0, renderList: [] }; this._prepare(n, l, s), this._renderContent(t, l, o, s, i), on.i(a, l.pos, l.box) } }, t.prototype._prepare = function (t, e, n) { for (var i = t; i; i = i.parentNode) { var r = Object(Z.e)(i.getModel().get('name'), ''); var a = n.getTextRect(r); var o = Math.max(a.width + 2 * ru, e.emptyItemWidth); e.totalWidth += o + au, e.renderList.push({ node: i, text: r, width: o }) } }, t.prototype._renderContent = function (t, e, n, i, r) { for (var a = 0, o = e.emptyItemWidth, s = t.get(['breadcrumb', 'height']), l = on.e(e.pos, e.box), u = e.totalWidth, c = e.renderList, h = c.length - 1; h >= 0; h--) { var d = c[h]; var p = d.node; var g = d.width; var v = d.text; u > l.width && (u -= g - o, g = o, v = null); var m = new y.Polygon({ shape: { points: lu(a, 0, g, s, h === c.length - 1, h === 0) }, style: Object(f.defaults)(n.getItemStyle(), { lineJoin: 'bevel' }), textContent: new y.Text({ style: { text: v, fill: i.getTextColor(), font: i.getFont() } }), textConfig: { position: 'inside' }, z: 10, onclick: Object(f.curry)(r, p) }); m.disableLabelAnimation = !0, this.group.add(m), uu(m, t, p), a += g + au } }, t.prototype.remove = function () { this.group.removeAll() }, t }()); function lu (t, e, n, i, r, a) { var o = [[r ? t : t - ou, e], [t + n, e], [t + n, e + i], [r ? t : t - ou, e + i]]; return !a && o.splice(2, 0, [t + n + ou, e + i / 2]), !r && o.push([t, e + i / 2]), o } function uu (t, e, n) { Object(q.a)(t).eventData = { componentType: 'series', componentSubType: 'treemap', componentIndex: e.componentIndex, seriesIndex: e.componentIndex, seriesName: e.name, seriesType: 'treemap', selfType: 'breadcrumb', nodeData: { dataIndex: n && n.dataIndex, name: n && n.name }, treePathInfo: n && Ql(n, e) } } var cu = su; var hu = (function () { function t () { this._storage = [], this._elExistsMap = {} } return t.prototype.add = function (t, e, n, i, r) { return !this._elExistsMap[t.id] && (this._elExistsMap[t.id] = !0, this._storage.push({ el: t, target: e, duration: n, delay: i, easing: r }), !0) }, t.prototype.finished = function (t) { return this._finishedCallback = t, this }, t.prototype.start = function () { for (var t = this, e = this._storage.length, n = function () { e--, e <= 0 && (t._storage.length = 0, t._elExistsMap = {}, t._finishedCallback && t._finishedCallback()) }, i = 0, r = this._storage.length; i < r; i++) { var a = this._storage[i]; a.el.animateTo(a.target, { duration: a.duration, delay: a.delay, easing: a.easing, setToFinal: !0, done: n, aborted: n }) } return this }, t }()); function du () { return new hu() } var pu = n('27bd'); var fu = n('1ded'); var gu = y.Group; var yu = y.Rect; var vu = 3; var mu = 'label'; var bu = 'upperLabel'; var xu = 10; var _u = 1; var wu = 2; var Ou = Object(pu.a)([['fill', 'color'], ['stroke', 'strokeColor'], ['lineWidth', 'strokeWidth'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]); var Su = function (t) { var e = Ou(t); return e.stroke = e.fill = e.lineWidth = null, e }; var Mu = Object(Z.o)(); var Iu = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n._state = 'ready', n._storage = Tu(), n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n, i) { var r = e.findComponents({ mainType: 'series', subType: 'treemap', query: i }); if (!(Object(f.indexOf)(r, t) < 0)) { this.seriesModel = t, this.api = n, this.ecModel = e; var a = ['treemapZoomToNode', 'treemapRootToNode']; var o = ql(i, a, t); var s = i && i.type; var l = t.layoutInfo; var u = !this._oldTree; var c = this._storage; var h = s === 'treemapRootToNode' && o && c ? { rootNodeGroup: c.nodeGroup[o.node.getRawIndex()], direction: i.direction } : null; var d = this._giveContainerGroup(l); var p = this._doRender(d, t, h); u || s && s !== 'treemapZoomToNode' && s !== 'treemapRootToNode' ? p.renderFinally() : this._doAnimation(d, p, t, h), this._resetController(n), this._renderBreadcrumb(t, n, o) } }, e.prototype._giveContainerGroup = function (t) { var e = this._containerGroup; return e || (e = this._containerGroup = new gu(), this._initEvents(e), this.group.add(e)), e.x = t.x, e.y = t.y, e }, e.prototype._doRender = function (t, e, n) { var i = e.getData().tree; var r = this._oldTree; var a = Tu(); var o = Tu(); var s = this._storage; var l = []; function u (t, i, r, u) { return ju(e, o, s, n, a, l, t, i, r, u) }h(i.root ? [i.root] : [], r && r.root ? [r.root] : [], t, i === r || !r, 0); var c = d(s); return this._oldTree = i, this._storage = o, { lastsForAnimation: a, willDeleteEls: c, renderFinally: p }; function h (t, e, n, i, r) { function a (t) { return t.getId() } function o (a, o) { var s = a != null ? t[a] : null; var l = o != null ? e[o] : null; var c = u(s, l, n, r); c && h(s && s.viewChildren || [], l && l.viewChildren || [], c, i, r + 1) }i ? (e = t, Object(f.each)(t, function (t, e) { !t.isRemoved() && o(e, e) })) : new M(e, t, a, a).add(o).update(o).remove(Object(f.curry)(o, null)).execute() } function d (t) { var e = Tu(); return t && Object(f.each)(t, function (t, n) { var i = e[n]; Object(f.each)(t, function (t) { t && (i.push(t), Mu(t).willDelete = !0) }) }), e } function p () { Object(f.each)(c, function (t) { Object(f.each)(t, function (t) { t.parent && t.parent.remove(t) }) }), Object(f.each)(l, function (t) { t.invisible = !0, t.dirty() }) } }, e.prototype._doAnimation = function (t, e, n, i) { if (n.get('animation')) { var r = n.get('animationDurationUpdate'); var a = n.get('animationEasing'); var o = (Object(f.isFunction)(r) ? 0 : r) || 0; var s = (Object(f.isFunction)(a) ? null : a) || 'cubicOut'; var l = du(); Object(f.each)(e.willDeleteEls, function (t, e) { Object(f.each)(t, function (t, n) { if (!t.invisible) { var r; var a = t.parent; var u = Mu(a); if (i && i.direction === 'drillDown')r = a === i.rootNodeGroup ? { shape: { x: 0, y: 0, width: u.nodeWidth, height: u.nodeHeight }, style: { opacity: 0 } } : { style: { opacity: 0 } }; else { var c = 0; var h = 0; u.willDelete || (c = u.nodeWidth / 2, h = u.nodeHeight / 2), r = e === 'nodeGroup' ? { x: c, y: h, style: { opacity: 0 } } : { shape: { x: c, y: h, width: 0, height: 0 }, style: { opacity: 0 } } }r && l.add(t, r, o, 0, s) } }) }), Object(f.each)(this._storage, function (t, n) { Object(f.each)(t, function (t, i) { var r = e.lastsForAnimation[n][i]; var a = {}; r && (t instanceof y.Group ? r.oldX != null && (a.x = t.x, a.y = t.y, t.x = r.oldX, t.y = r.oldY) : (r.oldShape && (a.shape = Object(f.extend)({}, t.shape), t.setShape(r.oldShape)), r.fadein ? (t.setStyle('opacity', 0), a.style = { opacity: 1 }) : t.style.opacity !== 1 && (a.style = { opacity: 1 })), l.add(t, a, o, 0, s)) }) }, this), this._state = 'animating', l.finished(Object(f.bind)(function () { this._state = 'ready', e.renderFinally() }, this)).start() } }, e.prototype._resetController = function (t) { var e = this._controller; e || (e = this._controller = new Ps(t.getZr()), e.enable(this.seriesModel.get('roam')), e.on('pan', Object(f.bind)(this._onPan, this)), e.on('zoom', Object(f.bind)(this._onZoom, this))); var n = new pe.a(0, 0, t.getWidth(), t.getHeight()); e.setPointerChecker(function (t, e, i) { return n.contain(e, i) }) }, e.prototype._clearController = function () { var t = this._controller; t && (t.dispose(), t = null) }, e.prototype._onPan = function (t) { if (this._state !== 'animating' && (Math.abs(t.dx) > vu || Math.abs(t.dy) > vu)) { var e = this.seriesModel.getData().tree.root; if (!e) return; var n = e.getLayout(); if (!n) return; this.api.dispatchAction({ type: 'treemapMove', from: this.uid, seriesId: this.seriesModel.id, rootRect: { x: n.x + t.dx, y: n.y + t.dy, width: n.width, height: n.height } }) } }, e.prototype._onZoom = function (t) { var e = t.originX; var n = t.originY; if (this._state !== 'animating') { var i = this.seriesModel.getData().tree.root; if (!i) return; var r = i.getLayout(); if (!r) return; var a = new pe.a(r.x, r.y, r.width, r.height); var o = this.seriesModel.layoutInfo; e -= o.x, n -= o.y; var s = d.c(); d.i(s, s, [-e, -n]), d.h(s, s, [t.scale, t.scale]), d.i(s, s, [e, n]), a.applyTransform(s), this.api.dispatchAction({ type: 'treemapRender', from: this.uid, seriesId: this.seriesModel.id, rootRect: { x: a.x, y: a.y, width: a.width, height: a.height } }) } }, e.prototype._initEvents = function (t) { var e = this; t.on('click', function (t) { if (e._state === 'ready') { var n = e.seriesModel.get('nodeClick', !0); if (n) { var i = e.findTarget(t.offsetX, t.offsetY); if (i) { var r = i.node; if (r.getLayout().isLeafRoot)e._rootToNode(i); else if (n === 'zoomToNode')e._zoomToNode(i); else if (n === 'link') { var a = r.hostTree.data.getItemModel(r.dataIndex); var o = a.get('link', !0); var s = a.get('target', !0) || 'blank'; o && Object(m.windowOpen)(o, s) } } } } }, this) }, e.prototype._renderBreadcrumb = function (t, e, n) { var i = this; n || (n = t.get('leafDepth', !0) != null ? { node: t.getViewRoot() } : this.findTarget(e.getWidth() / 2, e.getHeight() / 2), n || (n = { node: t.getData().tree.root })), (this._breadcrumb || (this._breadcrumb = new cu(this.group))).render(t, e, n.node, function (e) { i._state !== 'animating' && ($l(t.getViewRoot(), e) ? i._rootToNode({ node: e }) : i._zoomToNode({ node: e })) }) }, e.prototype.remove = function () { this._clearController(), this._containerGroup && this._containerGroup.removeAll(), this._storage = Tu(), this._state = 'ready', this._breadcrumb && this._breadcrumb.remove() }, e.prototype.dispose = function () { this._clearController() }, e.prototype._zoomToNode = function (t) { this.api.dispatchAction({ type: 'treemapZoomToNode', from: this.uid, seriesId: this.seriesModel.id, targetNode: t.node }) }, e.prototype._rootToNode = function (t) { this.api.dispatchAction({ type: 'treemapRootToNode', from: this.uid, seriesId: this.seriesModel.id, targetNode: t.node }) }, e.prototype.findTarget = function (t, e) { var n; var i = this.seriesModel.getViewRoot(); return i.eachNode({ attr: 'viewChildren', order: 'preorder' }, function (i) { var r = this._storage.background[i.getRawIndex()]; if (r) { var a = r.transformCoordToLocal(t, e); var o = r.shape; if (!(o.x <= a[0] && a[0] <= o.x + o.width && o.y <= a[1] && a[1] <= o.y + o.height)) return !1; n = { node: i, offsetX: a[0], offsetY: a[1] } } }, this), n }, e.type = 'treemap', e }(Vi.a)); function Tu () { return { nodeGroup: [], background: [], content: [] } } function ju (t, e, n, i, r, a, o, s, l, u) { if (o) { var c = o.getLayout(); var h = t.getData(); var d = o.getModel(); if (h.setItemGraphicEl(o.dataIndex, null), c && c.isInView) { var p = c.width; var g = c.height; var v = c.borderWidth; var m = c.invisible; var b = o.getRawIndex(); var x = s && s.getRawIndex(); var _ = o.viewChildren; var w = c.upperHeight; var O = _ && _.length; var S = d.getModel('itemStyle'); var M = d.getModel(['emphasis', 'itemStyle']); var I = d.getModel(['blur', 'itemStyle']); var T = d.getModel(['select', 'itemStyle']); var j = S.get('borderRadius') || 0; var A = V('nodeGroup', gu); if (A) { if (l.add(A), A.x = c.x || 0, A.y = c.y || 0, A.markRedraw(), Mu(A).nodeWidth = p, Mu(A).nodeHeight = g, c.isAboveViewRoot) return A; var C = V('background', yu, u, _u); C && R(A, C, O && c.upperLabelHeight); var D = d.get(['emphasis', 'focus']); var k = d.get(['emphasis', 'blurScope']); var L = D === 'ancestor' ? o.getAncestorsIndices() : D === 'descendant' ? o.getDescendantIndices() : null; if (O)Object(li.s)(A) && Object(li.A)(A, !1), C && (Object(li.A)(C, !0), h.setItemGraphicEl(o.dataIndex, C), Object(li.l)(C, L || D, k)); else { var P = V('content', yu, u, wu); P && N(A, P), C && Object(li.s)(C) && Object(li.A)(C, !1), Object(li.A)(A, !0), h.setItemGraphicEl(o.dataIndex, A), Object(li.l)(A, L || D, k) } return A } } } function R (e, n, i) { var r = Object(q.a)(n); if (r.dataIndex = o.dataIndex, r.seriesIndex = t.seriesIndex, n.setShape({ x: 0, y: 0, width: p, height: g, r: j }), m)E(n); else { n.invisible = !1; var a = o.getVisual('style'); var s = a.stroke; var l = Su(S); l.fill = s; var u = Ou(M); u.fill = M.get('borderColor'); var c = Ou(I); c.fill = I.get('borderColor'); var h = Ou(T); if (h.fill = T.get('borderColor'), i) { var d = p - 2 * v; z(n, s, d, w, a.opacity, { x: v, y: 0, width: d, height: w }) } else n.removeTextContent(); n.setStyle(l), n.ensureState('emphasis').style = u, n.ensureState('blur').style = c, n.ensureState('select').style = h, Object(li.B)(n) }e.add(n) } function N (e, n) { var i = Object(q.a)(n); i.dataIndex = o.dataIndex, i.seriesIndex = t.seriesIndex; var r = Math.max(p - 2 * v, 0); var a = Math.max(g - 2 * v, 0); if (n.culling = !0, n.setShape({ x: v, y: v, width: r, height: a, r: j }), m)E(n); else { n.invisible = !1; var s = o.getVisual('style'); var l = s.fill; var u = Su(S); u.fill = l, u.decal = s.decal; var c = Ou(M); var h = Ou(I); var d = Ou(T); z(n, l, r, s.opacity, a), n.setStyle(u), n.ensureState('emphasis').style = c, n.ensureState('blur').style = h, n.ensureState('select').style = d, Object(li.B)(n) }e.add(n) } function E (t) { !t.invisible && a.push(t) } function z (e, n, i, r, a, s) { var l = d.getModel(s ? bu : mu); var u = Object(f.retrieve)(t.getFormattedLabel(o.dataIndex, 'normal', null, null, l.get('formatter')), Object(Z.e)(d.get('name'), null)); if (!s && c.isLeafRoot) { var h = t.get('drillDownIcon', !0); u = h ? h + ' ' + u : u } var p = l.getShallow('show'); Object(hi.g)(e, Object(hi.e)(d, s ? bu : mu), { defaultText: p ? u : null, inheritColor: n, defaultOpacity: i, labelFetcher: t, labelDataIndex: o.dataIndex }); var g = e.getTextContent(); var y = g.style; var v = Object(f.normalizeCssArray)(y.padding || 0); s && (e.setTextConfig({ layoutRect: s }), g.disableLabelLayout = !0), g.beforeUpdate = function () { var t = Math.max((s ? s.width : e.shape.width) - v[1] - v[3], 0); var n = Math.max((s ? s.height : e.shape.height) - v[0] - v[2], 0); y.width === t && y.height === n || g.setStyle({ width: t, height: n }) }, y.truncateMinChar = 2, y.lineOverflow = 'truncate', B(y, s, c); var m = g.getState('emphasis'); B(m ? m.style : null, s, c) } function B (e, n, i) { var r = e ? e.text : null; if (!n && i.isLeafRoot && r != null) { var a = t.get('drillDownIcon', !0); e.text = a ? a + ' ' + r : r } } function V (t, i, a, o) { var s = x != null && n[t][x]; var l = r[t]; return s ? (n[t][x] = null, F(l, s)) : m || (s = new i(), s instanceof fu.c && (s.z = Au(a, o)), G(l, s)), e[t][b] = s } function F (t, e) { var n = t[b] = {}; e instanceof gu ? (n.oldX = e.x, n.oldY = e.y) : n.oldShape = Object(f.extend)({}, e.shape) } function G (t, e) { var n = t[b] = {}; var a = o.parentNode; var s = e instanceof y.Group; if (a && (!i || i.direction === 'drillDown')) { var l = 0; var u = 0; var c = r.background[a.getRawIndex()]; !i && c && c.oldShape && (l = c.oldShape.width, u = c.oldShape.height), s ? (n.oldX = 0, n.oldY = u) : n.oldShape = { x: l, y: u, width: 0, height: 0 } }n.fadein = !s } } function Au (t, e) { var n = t * xu + e; return (n - 1) / n }Vi.a.registerClass(Iu); for (var Cu = function () {}, Du = ['treemapZoomToNode', 'treemapRender', 'treemapMove'], ku = 0; ku < Du.length; ku++)c.c({ type: Du[ku], update: 'updateView' }, Cu); c.c({ type: 'treemapRootToNode', update: 'updateView' }, function (t, e) { function n (e, n) { var i = ['treemapZoomToNode', 'treemapRootToNode']; var r = ql(t, i, e); if (r) { var a = e.getViewRoot(); a && (t.direction = $l(a, r.node) ? 'rollUp' : 'drillDown'), e.resetViewRoot(r.node) } }e.eachComponent({ mainType: 'series', subType: 'treemap', query: t }, n) }); var Lu = f.each; var Pu = f.isObject; var Ru = -1; var Nu = (function () { function t (e) { var n = e.mappingMethod; var i = e.type; var r = this.option = f.clone(e); this.type = i, this.mappingMethod = n, this._normalizeData = Zu[n]; var a = t.visualHandlers[i]; this.applyVisual = a.applyVisual, this.getColorMapper = a.getColorMapper, this._normalizedToVisual = a._normalizedToVisual[n], n === 'piecewise' ? (Bu(r), Eu(r)) : n === 'category' ? r.categories ? zu(r) : Bu(r, !0) : (f.assert(n !== 'linear' || r.dataExtent), Bu(r)) } return t.prototype.mapValueToVisual = function (t) { var e = this._normalizeData(t); return this._normalizedToVisual(e, t) }, t.prototype.getNormalizer = function () { return f.bind(this._normalizeData, this) }, t.listVisualTypes = function () { return f.keys(t.visualHandlers) }, t.isValidType = function (e) { return t.visualHandlers.hasOwnProperty(e) }, t.eachVisual = function (t, e, n) { f.isObject(t) ? f.each(t, e, n) : e.call(n, t) }, t.mapVisual = function (e, n, i) { var r; var a = f.isArray(e) ? [] : f.isObject(e) ? {} : (r = !0, null); return t.eachVisual(e, function (t, e) { var o = n.call(i, t, e); r ? a = o : a[e] = o }), a }, t.retrieveVisuals = function (e) { var n; var i = {}; return e && Lu(t.visualHandlers, function (t, r) { e.hasOwnProperty(r) && (i[r] = e[r], n = !0) }), n ? i : null }, t.prepareVisualTypes = function (t) { if (f.isArray(t))t = t.slice(); else { if (!Pu(t)) return []; var e = []; Lu(t, function (t, n) { e.push(n) }), t = e } return t.sort(function (t, e) { return e === 'color' && t !== 'color' && t.indexOf('color') === 0 ? 1 : -1 }), t }, t.dependsOn = function (t, e) { return e === 'color' ? !(!t || t.indexOf(e) !== 0) : t === e }, t.findPieceIndex = function (t, e, n) { for (var i, r = 1 / 0, a = 0, o = e.length; a < o; a++) { var s = e[a].value; if (s != null) { if (s === t || typeof s === 'string' && s === t + '') return a; n && h(s, a) } } for (a = 0, o = e.length; a < o; a++) { var l = e[a]; var u = l.interval; var c = l.close; if (u) { if (u[0] === -1 / 0) { if (qu(c[1], t, u[1])) return a } else if (u[1] === 1 / 0) { if (qu(c[0], u[0], t)) return a } else if (qu(c[0], u[0], t) && qu(c[1], t, u[1])) return a; n && h(u[0], a), n && h(u[1], a) } } if (n) return t === 1 / 0 ? e.length - 1 : t === -1 / 0 ? 0 : i; function h (e, n) { var a = Math.abs(e - t); a < r && (r = a, i = n) } }, t.visualHandlers = { color: { applyVisual: Gu('color'), getColorMapper: function () { var t = this.option; return f.bind(t.mappingMethod === 'category' ? function (t, e) { return !e && (t = this._normalizeData(t)), Hu.call(this, t) } : function (e, n, i) { var r = !!i; return !n && (e = this._normalizeData(e)), i = g.a(e, t.parsedVisual, i), r ? i : g.g(i, 'rgba') }, this) }, _normalizedToVisual: { linear: function (t) { return g.g(g.a(t, this.option.parsedVisual), 'rgba') }, category: Hu, piecewise: function (t, e) { var n = Yu.call(this, e); return n == null && (n = g.g(g.a(t, this.option.parsedVisual), 'rgba')), n }, fixed: Wu } }, colorHue: Vu(function (t, e) { return g.e(t, e) }), colorSaturation: Vu(function (t, e) { return g.e(t, null, e) }), colorLightness: Vu(function (t, e) { return g.e(t, null, null, e) }), colorAlpha: Vu(function (t, e) { return g.d(t, e) }), decal: { applyVisual: Gu('decal'), _normalizedToVisual: { linear: null, category: Hu, piecewise: null, fixed: null } }, opacity: { applyVisual: Gu('opacity'), _normalizedToVisual: Xu([0, 1]) }, liftZ: { applyVisual: Gu('liftZ'), _normalizedToVisual: { linear: Wu, category: Wu, piecewise: Wu, fixed: Wu } }, symbol: { applyVisual: function (t, e, n) { var i = this.mapValueToVisual(t); n('symbol', i) }, _normalizedToVisual: { linear: Fu, category: Hu, piecewise: function (t, e) { var n = Yu.call(this, e); return n == null && (n = Fu.call(this, t)), n }, fixed: Wu } }, symbolSize: { applyVisual: Gu('symbolSize'), _normalizedToVisual: Xu([0, 1]) } }, t }()); function Eu (t) { var e = t.pieceList; t.hasSpecialVisual = !1, f.each(e, function (e, n) { e.originIndex = n, e.visual != null && (t.hasSpecialVisual = !0) }) } function zu (t) { var e = t.categories; var n = t.categoryMap = {}; var i = t.visual; if (Lu(e, function (t, e) { n[t] = e }), !f.isArray(i)) { var r = []; f.isObject(i) ? Lu(i, function (t, e) { var i = n[e]; r[i != null ? i : Ru] = t }) : r[Ru] = i, i = Uu(t, r) } for (var a = e.length - 1; a >= 0; a--)i[a] == null && (delete n[e[a]], e.pop()) } function Bu (t, e) { var n = t.visual; var i = []; f.isObject(n) ? Lu(n, function (t) { i.push(t) }) : n != null && i.push(n); var r = { color: 1, symbol: 1 }; e || i.length !== 1 || r.hasOwnProperty(t.type) || (i[1] = i[0]), Uu(t, i) } function Vu (t) { return { applyVisual: function (e, n, i) { var r = this.mapValueToVisual(e); i('color', t(n('color'), r)) }, _normalizedToVisual: Xu([0, 1]) } } function Fu (t) { var e = this.option.visual; return e[Math.round(Object(v.linearMap)(t, [0, 1], [0, e.length - 1], !0))] || {} } function Gu (t) { return function (e, n, i) { i(t, this.mapValueToVisual(e)) } } function Hu (t) { var e = this.option.visual; return e[this.option.loop && t !== Ru ? t % e.length : t] } function Wu () { return this.option.visual[0] } function Xu (t) { return { linear: function (e) { return Object(v.linearMap)(e, t, this.option.visual, !0) }, category: Hu, piecewise: function (e, n) { var i = Yu.call(this, n); return i == null && (i = Object(v.linearMap)(e, t, this.option.visual, !0)), i }, fixed: Wu } } function Yu (t) { var e = this.option; var n = e.pieceList; if (e.hasSpecialVisual) { var i = Nu.findPieceIndex(t, n); var r = n[i]; if (r && r.visual) return r.visual[this.type] } } function Uu (t, e) { return t.visual = e, t.type === 'color' && (t.parsedVisual = f.map(e, function (t) { return g.f(t) })), e } var Zu = { linear: function (t) { return Object(v.linearMap)(t, this.option.dataExtent, [0, 1], !0) }, piecewise: function (t) { var e = this.option.pieceList; var n = Nu.findPieceIndex(t, e, !0); if (n != null) return Object(v.linearMap)(n, [0, e.length - 1], [0, 1], !0) }, category: function (t) { var e = this.option.categories ? this.option.categoryMap[t] : t; return e == null ? Ru : e }, fixed: f.noop }; function qu (t, e, n) { return t ? e <= n : e < n } var Ku = Nu; var $u = 'itemStyle'; var Qu = Object(Z.o)(); var Ju = { seriesType: 'treemap', reset: function (t) { var e = t.getData().tree; var n = e.root; n.isRemoved() || tc(n, {}, t.getViewRoot().getAncestors(), t) } }; function tc (t, e, n, i) { var r = t.getModel(); var a = t.getLayout(); var o = t.hostTree.data; if (a && !a.invisible && a.isInView) { var s; var l = r.getModel($u); var u = ec(l, e, i); var c = o.ensureUniqueItemVisual(t.dataIndex, 'style'); var h = l.get('borderColor'); var d = l.get('borderColorSaturation'); d != null && (s = nc(u), h = ic(d, s)), c.stroke = h; var p = t.viewChildren; if (p && p.length) { var g = ac(t, r, a, l, u, p); Object(f.each)(p, function (t, e) { if (t.depth >= n.length || t === n[t.depth]) { var a = sc(r, u, t, e, g, i); tc(t, a, n, i) } }) } else s = nc(u), c.fill = s } } function ec (t, e, n) { var i = Object(f.extend)({}, e); var r = n.designatedVisualItemStyle; return Object(f.each)(['color', 'colorAlpha', 'colorSaturation'], function (n) { r[n] = e[n]; var a = t.get(n); r[n] = null, a != null && (i[n] = a) }), i } function nc (t) { var e = rc(t, 'color'); if (e) { var n = rc(t, 'colorAlpha'); var i = rc(t, 'colorSaturation'); return i && (e = Object(g.e)(e, null, null, i)), n && (e = Object(g.d)(e, n)), e } } function ic (t, e) { return e != null ? Object(g.e)(e, null, null, t) : null } function rc (t, e) { var n = t[e]; if (n != null && n !== 'none') return n } function ac (t, e, n, i, r, a) { if (a && a.length) { var o = oc(e, 'color') || r.color != null && r.color !== 'none' && (oc(e, 'colorAlpha') || oc(e, 'colorSaturation')); if (o) { var s = e.get('visualMin'); var l = e.get('visualMax'); var u = n.dataExtent.slice(); s != null && s < u[0] && (u[0] = s), l != null && l > u[1] && (u[1] = l); var c = e.get('colorMappingBy'); var h = { type: o.name, dataExtent: u, visual: o.range }; h.type !== 'color' || c !== 'index' && c !== 'id' ? h.mappingMethod = 'linear' : (h.mappingMethod = 'category', h.loop = !0); var d = new Ku(h); return Qu(d).drColorMappingBy = c, d } } } function oc (t, e) { var n = t.get(e); return Object(f.isArray)(n) && n.length ? { name: e, range: n } : null } function sc (t, e, n, i, r, a) { var o = Object(f.extend)({}, e); if (r) { var s = r.type; var l = s === 'color' && Qu(r).drColorMappingBy; var u = l === 'index' ? i : l === 'id' ? a.mapIdToIndex(n.getId()) : n.getValue(t.get('visualDimension')); o[s] = r.mapValueToVisual(u) } return o } var lc = Math.max; var uc = Math.min; var cc = f.retrieve; var hc = f.each; var dc = ['itemStyle', 'borderWidth']; var pc = ['itemStyle', 'gapWidth']; var fc = ['upperLabel', 'show']; var gc = ['upperLabel', 'height']; var yc = { seriesType: 'treemap', reset: function (t, e, n, i) { var r = n.getWidth(); var a = n.getHeight(); var o = t.option; var s = on.g(t.getBoxLayoutParams(), { width: n.getWidth(), height: n.getHeight() }); var l = o.size || []; var u = Object(v.parsePercent)(cc(s.width, l[0]), r); var c = Object(v.parsePercent)(cc(s.height, l[1]), a); var h = i && i.type; var d = ['treemapZoomToNode', 'treemapRootToNode']; var p = ql(i, d, t); var g = h === 'treemapRender' || h === 'treemapMove' ? i.rootRect : null; var y = t.getViewRoot(); var m = Kl(y); if (h !== 'treemapMove') { var b = h === 'treemapZoomToNode' ? Sc(t, p, y, u, c) : g ? [g.width, g.height] : [u, c]; var x = o.sort; x && x !== 'asc' && x !== 'desc' && (x = 'desc'); var _ = { squareRatio: o.squareRatio, sort: x, leafDepth: o.leafDepth }; y.hostTree.clearLayouts(); var w = { x: 0, y: 0, width: b[0], height: b[1], area: b[0] * b[1] }; y.setLayout(w), vc(y, _, !1, 0), w = y.getLayout(), hc(m, function (t, e) { var n = (m[e + 1] || y).getValue(); t.setLayout(f.extend({ dataExtent: [n, n], borderWidth: 0, upperHeight: 0 }, w)) }) } var O = t.getData().tree.root; O.setLayout(Mc(s, g, p), !0), t.setLayoutInfo(s), Ic(O, new pe.a(-s.x, -s.y, r, a), m, y, 0) } }; function vc (t, e, n, i) { var r, a; if (!t.isRemoved()) { var o = t.getLayout(); r = o.width, a = o.height; var s = t.getModel(); var l = s.get(dc); var u = s.get(pc) / 2; var c = Tc(s); var h = Math.max(l, c); var d = l - u; var p = h - u; t.setLayout({ borderWidth: l, upperHeight: h, upperLabelHeight: c }, !0), r = lc(r - 2 * d, 0), a = lc(a - d - p, 0); var f = r * a; var g = mc(t, s, f, e, n, i); if (g.length) { var y = { x: d, y: p, width: r, height: a }; var v = uc(r, a); var m = 1 / 0; var b = []; b.area = 0; for (var x = 0, _ = g.length; x < _;) { var w = g[x]; b.push(w), b.area += w.getLayout().area; var O = wc(b, v, e.squareRatio); O <= m ? (x++, m = O) : (b.area -= b.pop().getLayout().area, Oc(b, v, y, u, !1), v = uc(y.width, y.height), b.length = b.area = 0, m = 1 / 0) } if (b.length && Oc(b, v, y, u, !0), !n) { var S = s.get('childrenVisibleMin'); S != null && f < S && (n = !0) } for (x = 0, _ = g.length; x < _; x++)vc(g[x], e, n, i + 1) } } } function mc (t, e, n, i, r, a) { var o = t.children || []; var s = i.sort; s !== 'asc' && s !== 'desc' && (s = null); var l = i.leafDepth != null && i.leafDepth <= a; if (r && !l) return t.viewChildren = []; o = f.filter(o, function (t) { return !t.isRemoved() }), xc(o, s); var u = _c(e, o, s); if (u.sum === 0) return t.viewChildren = []; if (u.sum = bc(e, n, u.sum, s, o), u.sum === 0) return t.viewChildren = []; for (var c = 0, h = o.length; c < h; c++) { var d = o[c].getValue() / u.sum * n; o[c].setLayout({ area: d }) } return l && (o.length && t.setLayout({ isLeafRoot: !0 }, !0), o.length = 0), t.viewChildren = o, t.setLayout({ dataExtent: u.dataExtent }, !0), o } function bc (t, e, n, i, r) { if (!i) return n; for (var a = t.get('visibleMin'), o = r.length, s = o, l = o - 1; l >= 0; l--) { var u = r[i === 'asc' ? o - l - 1 : l].getValue(); u / n * e < a && (s = l, n -= u) } return i === 'asc' ? r.splice(0, o - s) : r.splice(s, o - s), n } function xc (t, e) { return e && t.sort(function (t, n) { var i = e === 'asc' ? t.getValue() - n.getValue() : n.getValue() - t.getValue(); return i === 0 ? e === 'asc' ? t.dataIndex - n.dataIndex : n.dataIndex - t.dataIndex : i }), t } function _c (t, e, n) { for (var i = 0, r = 0, a = e.length; r < a; r++)i += e[r].getValue(); var o; var s = t.get('visualDimension'); return e && e.length ? s === 'value' && n ? (o = [e[e.length - 1].getValue(), e[0].getValue()], n === 'asc' && o.reverse()) : (o = [1 / 0, -1 / 0], hc(e, function (t) { var e = t.getValue(s); e < o[0] && (o[0] = e), e > o[1] && (o[1] = e) })) : o = [NaN, NaN], { sum: i, dataExtent: o } } function wc (t, e, n) { for (var i = 0, r = 1 / 0, a = 0, o = void 0, s = t.length; a < s; a++)o = t[a].getLayout().area, o && (o < r && (r = o), o > i && (i = o)); var l = t.area * t.area; var u = e * e * n; return l ? lc(u * i / l, l / (u * r)) : 1 / 0 } function Oc (t, e, n, i, r) { var a = e === n.width ? 0 : 1; var o = 1 - a; var s = ['x', 'y']; var l = ['width', 'height']; var u = n[s[a]]; var c = e ? t.area / e : 0; (r || c > n[l[o]]) && (c = n[l[o]]); for (var h = 0, d = t.length; h < d; h++) { var p = t[h]; var f = {}; var g = c ? p.getLayout().area / c : 0; var y = f[l[o]] = lc(c - 2 * i, 0); var v = n[s[a]] + n[l[a]] - u; var m = h === d - 1 || v < g ? v : g; var b = f[l[a]] = lc(m - 2 * i, 0); f[s[o]] = n[s[o]] + uc(i, y / 2), f[s[a]] = u + uc(i, b / 2), u += m, p.setLayout(f, !0) }n[s[o]] += c, n[l[o]] -= c } function Sc (t, e, n, i, r) { var a; var o = (e || {}).node; var s = [i, r]; if (!o || o === n) return s; var l = i * r; var u = l * t.option.zoomToNodeRatio; while (a = o.parentNode) { for (var c = 0, h = a.children, d = 0, p = h.length; d < p; d++)c += h[d].getValue(); var f = o.getValue(); if (f === 0) return s; u *= c / f; var g = a.getModel(); var y = g.get(dc); var m = Math.max(y, Tc(g)); u += 4 * y * y + (3 * y + m) * Math.pow(u, 0.5), u > v.MAX_SAFE_INTEGER && (u = v.MAX_SAFE_INTEGER), o = a }u < l && (u = l); var b = Math.pow(u / l, 0.5); return [i * b, r * b] } function Mc (t, e, n) { if (e) return { x: e.x, y: e.y }; var i = { x: 0, y: 0 }; if (!n) return i; var r = n.node; var a = r.getLayout(); if (!a) return i; var o = [a.width / 2, a.height / 2]; var s = r; while (s) { var l = s.getLayout(); o[0] += l.x, o[1] += l.y, s = s.parentNode } return { x: t.width / 2 - o[0], y: t.height / 2 - o[1] } } function Ic (t, e, n, i, r) { var a = t.getLayout(); var o = n[r]; var s = o && o === t; if (!(o && !s || r === n.length && t !== i)) { t.setLayout({ isInView: !0, invisible: !s && !e.intersect(a), isAboveViewRoot: s }, !0); var l = new pe.a(e.x - a.x, e.y - a.y, e.width, e.height); hc(t.viewChildren || [], function (t) { Ic(t, l, n, i, r + 1) }) } } function Tc (t) { return t.get(fc) ? t.get(gc) : 0 } function jc (t) { return '_EC_' + t }c.i(Ju), c.e(yc); var Ac = (function () { function t (t) { this.type = 'graph', this.nodes = [], this.edges = [], this._nodesMap = {}, this._edgesMap = {}, this._directed = t || !1 } return t.prototype.isDirected = function () { return this._directed }, t.prototype.addNode = function (t, e) { t = t == null ? '' + e : '' + t; var n = this._nodesMap; if (!n[jc(t)]) { var i = new Cc(t, e); return i.hostGraph = this, this.nodes.push(i), n[jc(t)] = i, i } }, t.prototype.getNodeByIndex = function (t) { var e = this.data.getRawIndex(t); return this.nodes[e] }, t.prototype.getNodeById = function (t) { return this._nodesMap[jc(t)] }, t.prototype.addEdge = function (t, e, n) { var i = this._nodesMap; var r = this._edgesMap; if (typeof t === 'number' && (t = this.nodes[t]), typeof e === 'number' && (e = this.nodes[e]), t instanceof Cc || (t = i[jc(t)]), e instanceof Cc || (e = i[jc(e)]), t && e) { var a = t.id + '-' + e.id; var o = new Dc(t, e, n); return o.hostGraph = this, this._directed && (t.outEdges.push(o), e.inEdges.push(o)), t.edges.push(o), t !== e && e.edges.push(o), this.edges.push(o), r[a] = o, o } }, t.prototype.getEdgeByIndex = function (t) { var e = this.edgeData.getRawIndex(t); return this.edges[e] }, t.prototype.getEdge = function (t, e) { t instanceof Cc && (t = t.id), e instanceof Cc && (e = e.id); var n = this._edgesMap; return this._directed ? n[t + '-' + e] : n[t + '-' + e] || n[e + '-' + t] }, t.prototype.eachNode = function (t, e) { for (var n = this.nodes, i = n.length, r = 0; r < i; r++)n[r].dataIndex >= 0 && t.call(e, n[r], r) }, t.prototype.eachEdge = function (t, e) { for (var n = this.edges, i = n.length, r = 0; r < i; r++)n[r].dataIndex >= 0 && n[r].node1.dataIndex >= 0 && n[r].node2.dataIndex >= 0 && t.call(e, n[r], r) }, t.prototype.breadthFirstTraverse = function (t, e, n, i) { if (e instanceof Cc || (e = this._nodesMap[jc(e)]), e) { for (var r = n === 'out' ? 'outEdges' : n === 'in' ? 'inEdges' : 'edges', a = 0; a < this.nodes.length; a++) this.nodes[a].__visited = !1; if (!t.call(i, e, null)) { var o = [e]; while (o.length) { var s = o.shift(); var l = s[r]; for (a = 0; a < l.length; a++) { var u = l[a]; var c = u.node1 === s ? u.node2 : u.node1; if (!c.__visited) { if (t.call(i, c, s)) return; o.push(c), c.__visited = !0 } } } } } }, t.prototype.update = function () { for (var t = this.data, e = this.edgeData, n = this.nodes, i = this.edges, r = 0, a = n.length; r < a; r++)n[r].dataIndex = -1; for (r = 0, a = t.count(); r < a; r++)n[t.getRawIndex(r)].dataIndex = r; e.filterSelf(function (t) { var n = i[e.getRawIndex(t)]; return n.node1.dataIndex >= 0 && n.node2.dataIndex >= 0 }); for (r = 0, a = i.length; r < a; r++)i[r].dataIndex = -1; for (r = 0, a = e.count(); r < a; r++)i[e.getRawIndex(r)].dataIndex = r }, t.prototype.clone = function () { for (var e = new t(this._directed), n = this.nodes, i = this.edges, r = 0; r < n.length; r++)e.addNode(n[r].id, n[r].dataIndex); for (r = 0; r < i.length; r++) { var a = i[r]; e.addEdge(a.node1.id, a.node2.id, a.dataIndex) } return e }, t }()); var Cc = (function () { function t (t, e) { this.inEdges = [], this.outEdges = [], this.edges = [], this.dataIndex = -1, this.id = t == null ? '' : t, this.dataIndex = e == null ? -1 : e } return t.prototype.degree = function () { return this.edges.length }, t.prototype.inDegree = function () { return this.inEdges.length }, t.prototype.outDegree = function () { return this.outEdges.length }, t.prototype.getModel = function (t) { if (!(this.dataIndex < 0)) { var e = this.hostGraph; var n = e.data.getItemModel(this.dataIndex); return n.getModel(t) } }, t.prototype.getAdjacentDataIndices = function () { for (var t = { edge: [], node: [] }, e = 0; e < this.edges.length; e++) { var n = this.edges[e]; n.dataIndex < 0 || (t.edge.push(n.dataIndex), t.node.push(n.node1.dataIndex, n.node2.dataIndex)) } return t }, t }()); var Dc = (function () { function t (t, e, n) { this.dataIndex = -1, this.node1 = t, this.node2 = e, this.dataIndex = n == null ? -1 : n } return t.prototype.getModel = function (t) { if (!(this.dataIndex < 0)) { var e = this.hostGraph; var n = e.edgeData.getItemModel(this.dataIndex); return n.getModel(t) } }, t.prototype.getAdjacentDataIndices = function () { return { edge: [this.dataIndex], node: [this.node1.dataIndex, this.node2.dataIndex] } }, t }()); function kc (t, e) { return { getValue: function (n) { var i = this[t][e]; return i.get(i.getDimension(n || 'value'), this.dataIndex) }, setVisual: function (n, i) { this.dataIndex >= 0 && this[t][e].setItemVisual(this.dataIndex, n, i) }, getVisual: function (n) { return this[t][e].getItemVisual(this.dataIndex, n) }, setLayout: function (n, i) { this.dataIndex >= 0 && this[t][e].setItemLayout(this.dataIndex, n, i) }, getLayout: function () { return this[t][e].getItemLayout(this.dataIndex) }, getGraphicEl: function () { return this[t][e].getItemGraphicEl(this.dataIndex) }, getRawIndex: function () { return this[t][e].getRawIndex(this.dataIndex) } } }f.mixin(Cc, kc('hostGraph', 'data')), f.mixin(Dc, kc('hostGraph', 'edgeData')); var Lc = Ac; function Pc (t, e, n, i, r) { for (var a = new Lc(i), o = 0; o < t.length; o++)a.addNode(f.retrieve(t[o].id, t[o].name, o), o); var s = []; var l = []; var u = 0; for (o = 0; o < e.length; o++) { var c = e[o]; var h = c.source; var d = c.target; a.addEdge(h, d, u) && (l.push(c), s.push(f.retrieve(Object(Z.e)(c.id, null), h + ' > ' + d)), u++) } var p; var g = n.get('coordinateSystem'); if (g === 'cartesian2d' || g === 'polar')p = At(t, n); else { var y = mt.a.get(g); var v = y && y.dimensions || []; f.indexOf(v, 'value') < 0 && v.concat(['value']); var m = vt(t, { coordDimensions: v }); p = new ht(m, n), p.initData(t) } var b = new ht(['value'], n); return b.initData(l, s), r && r(p, b), vl({ mainData: p, struct: a, structAttr: 'graph', datas: { node: p, edge: b }, datasAttr: { node: 'data', edge: 'edgeData' } }), a.update(), a } var Rc = n('6fc4'); var Nc = '--\x3e'; var Ec = function (t) { return t.get('autoCurveness') || null }; var zc = function (t, e) { var n = Ec(t); var i = 20; var r = []; if (typeof n === 'number')i = n; else if (f.isArray(n)) return void (t.__curvenessList = n); e > i && (i = e); var a = i % 2 ? i + 2 : i + 3; r = []; for (var o = 0; o < a; o++)r.push((o % 2 ? o + 1 : o) / 10 * (o % 2 ? -1 : 1)); t.__curvenessList = r }; var Bc = function (t, e, n) { var i = [t.id, t.dataIndex].join('.'); var r = [e.id, e.dataIndex].join('.'); return [n.uid, i, r].join(Nc) }; var Vc = function (t) { var e = t.split(Nc); return [e[0], e[2], e[1]].join(Nc) }; var Fc = function (t, e) { var n = Bc(t.node1, t.node2, e); return e.__edgeMap[n] }; var Gc = function (t, e) { var n = Hc(Bc(t.node1, t.node2, e), e); var i = Hc(Bc(t.node2, t.node1, e), e); return n + i }; var Hc = function (t, e) { var n = e.__edgeMap; return n[t] ? n[t].length : 0 }; function Wc (t) { Ec(t) && (t.__curvenessList = [], t.__edgeMap = {}, zc(t)) } function Xc (t, e, n, i) { if (Ec(n)) { var r = Bc(t, e, n); var a = n.__edgeMap; var o = a[Vc(r)]; a[r] && !o ? a[r].isForward = !0 : o && a[r] && (o.isForward = !0, a[r].isForward = !1), a[r] = a[r] || [], a[r].push(i) } } function Yc (t, e, n, i) { var r = Ec(e); var a = f.isArray(r); if (!r) return null; var o = Fc(t, e); if (!o) return null; for (var s = -1, l = 0; l < o.length; l++) if (o[l] === n) { s = l; break } var u = Gc(t, e); zc(e, u), t.lineStyle = t.lineStyle || {}; var c = Bc(t.node1, t.node2, e); var h = e.__curvenessList; var d = a || u % 2 ? 0 : 1; if (o.isForward) return h[d + s]; var p = Vc(c); var g = Hc(p, e); var y = h[s + g + d]; return i ? a ? r && r[0] === 0 ? (g + d) % 2 ? y : -y : ((g % 2 ? 0 : 1) + d) % 2 ? y : -y : (g + d) % 2 ? y : -y : h[s + g + d] } var Uc = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.hasSymbolVisual = !0, n } return Object(Ct.b)(e, t), e.prototype.init = function (e) { t.prototype.init.apply(this, arguments); var n = this; function i () { return n._categoriesData } this.legendVisualProvider = new co(i, i), this.fillDataTextStyle(e.edges || e.links), this._updateCategoriesData() }, e.prototype.mergeOption = function (e) { t.prototype.mergeOption.apply(this, arguments), this.fillDataTextStyle(e.edges || e.links), this._updateCategoriesData() }, e.prototype.mergeDefaultAndTheme = function (e) { t.prototype.mergeDefaultAndTheme.apply(this, arguments), Object(Z.f)(e, 'edgeLabel', ['show']) }, e.prototype.getInitialData = function (t, e) { var n = t.edges || t.links || []; var i = t.data || t.nodes || []; var r = this; if (i && n) { Wc(this); var a = Pc(i, n, this, !0, o); return f.each(a.edges, function (t) { Xc(t.node1, t.node2, this, t.dataIndex) }, this), a.data } function o (t, e) { t.wrapMethod('getItemModel', function (t) { var e = r._categoriesModels; var n = t.getShallow('category'); var i = e[n]; return i && (i.parentModel = t.parentModel, t.parentModel = i), t }); var n = _.a.prototype.getModel; function i (t, e) { var i = n.call(this, t, e); return i.resolveParentPath = a, i } function a (t) { if (t && (t[0] === 'label' || t[1] === 'label')) { var e = t.slice(); return t[0] === 'label' ? e[0] = 'edgeLabel' : t[1] === 'label' && (e[1] = 'edgeLabel'), e } return t }e.wrapMethod('getItemModel', function (t) { return t.resolveParentPath = a, t.getModel = i, t }) } }, e.prototype.getGraph = function () { return this.getData().graph }, e.prototype.getEdgeData = function () { return this.getGraph().edgeData }, e.prototype.getCategoriesData = function () { return this._categoriesData }, e.prototype.formatTooltip = function (t, e, n) { if (n === 'edge') { var i = this.getData(); var r = this.getDataParams(t, n); var a = i.graph.getEdgeByIndex(t); var o = i.getName(a.node1.dataIndex); var s = i.getName(a.node2.dataIndex); var l = []; return o != null && l.push(o), s != null && l.push(s), Object(Xo.c)('nameValue', { name: l.join(' > '), value: r.value, noValue: r.value == null }) } var u = Object(Rc.a)({ series: this, dataIndex: t, multipleSeries: e }); return u }, e.prototype._updateCategoriesData = function () { var t = f.map(this.option.categories || [], function (t) { return t.value != null ? t : f.extend({ value: 0 }, t) }); var e = new ht(['value'], this); e.initData(t), this._categoriesData = e, this._categoriesModels = e.mapArray(function (t) { return e.getItemModel(t) }) }, e.prototype.setZoom = function (t) { this.option.zoom = t }, e.prototype.setCenter = function (t) { this.option.center = t }, e.prototype.isAnimationEnabled = function () { return t.prototype.isAnimationEnabled.call(this) && !(this.get('layout') === 'force' && this.get(['force', 'layoutAnimation'])) }, e.type = 'series.graph', e.defaultOption = { zlevel: 0, z: 2, coordinateSystem: 'view', legendHoverLink: !0, layout: null, focusNodeAdjacency: !1, circular: { rotateLabel: !1 }, force: { initLayout: null, repulsion: [0, 50], gravity: 0.1, friction: 0.6, edgeLength: 30, layoutAnimation: !0 }, left: 'center', top: 'center', symbol: 'circle', symbolSize: 10, edgeSymbol: ['none', 'none'], edgeSymbolSize: 10, edgeLabel: { position: 'middle', distance: 5 }, draggable: !1, roam: !1, center: null, zoom: 1, nodeScaleRatio: 0.6, label: { show: !1, formatter: '{b}' }, itemStyle: {}, lineStyle: { color: '#aaa', width: 1, opacity: 0.5 }, emphasis: { scale: !0, label: { show: !0 } }, select: { itemStyle: { borderColor: '#212121' } } }, e }(oi.a)); oi.a.registerClass(Uc); var Zc = y.Line.prototype; var qc = y.BezierCurve.prototype; var Kc = (function () { function t () { this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.percent = 1 } return t }()); (function (t) { function e () { return t !== null && t.apply(this, arguments) || this }Object(Ct.b)(e, t) })(Kc); function $c (t) { return isNaN(+t.cpx1) || isNaN(+t.cpy1) } var Qc = (function (t) { function e (e) { var n = t.call(this, e) || this; return n.type = 'ec-line', n } return Object(Ct.b)(e, t), e.prototype.getDefaultStyle = function () { return { stroke: '#000', fill: null } }, e.prototype.getDefaultShape = function () { return new Kc() }, e.prototype.buildPath = function (t, e) { $c(e) ? Zc.buildPath.call(this, t, e) : qc.buildPath.call(this, t, e) }, e.prototype.pointAt = function (t) { return $c(this.shape) ? Zc.pointAt.call(this, t) : qc.pointAt.call(this, t) }, e.prototype.tangentAt = function (t) { var e = this.shape; var n = $c(e) ? [e.x2 - e.x1, e.y2 - e.y1] : qc.tangentAt.call(this, t); return p.m(n, n) }, e }(y.Path)); var Jc = Qc; var th = ['fromSymbol', 'toSymbol']; function eh (t) { return '_' + t + 'Type' } function nh (t, e, n) { var i = e.getItemVisual(n, t); if (i && i !== 'none') { var r = e.getItemVisual(n, t + 'Size'); var a = e.getItemVisual(n, t + 'Rotate'); var o = f.isArray(r) ? r : [r, r]; var s = sn.a(i, -o[0] / 2, -o[1] / 2, o[0], o[1]); return s.__specifiedRotation = a == null || isNaN(a) ? void 0 : +a * Math.PI / 180 || 0, s.name = t, s } } function ih (t) { var e = new Jc({ name: 'line', subPixelOptimize: !0 }); return rh(e.shape, t), e } function rh (t, e) { t.x1 = e[0][0], t.y1 = e[0][1], t.x2 = e[1][0], t.y2 = e[1][1], t.percent = 1; var n = e[2]; n ? (t.cpx1 = n[0], t.cpy1 = n[1]) : (t.cpx1 = NaN, t.cpy1 = NaN) } var ah = (function (t) { function e (e, n, i) { var r = t.call(this) || this; return r._createLine(e, n, i), r } return Object(Ct.b)(e, t), e.prototype._createLine = function (t, e, n) { var i = t.hostModel; var r = t.getItemLayout(e); var a = ih(r); a.shape.percent = 0, y.initProps(a, { shape: { percent: 1 } }, i, e), this.add(a), f.each(th, function (n) { var i = nh(n, t, e); this.add(i), this[eh(n)] = t.getItemVisual(e, n) }, this), this._updateCommonStl(t, e, n) }, e.prototype.updateData = function (t, e, n) { var i = t.hostModel; var r = this.childOfName('line'); var a = t.getItemLayout(e); var o = { shape: {} }; rh(o.shape, a), y.updateProps(r, o, i, e), f.each(th, function (n) { var i = t.getItemVisual(e, n); var r = eh(n); if (this[r] !== i) { this.remove(this.childOfName(n)); var a = nh(n, t, e); this.add(a) } this[r] = i }, this), this._updateCommonStl(t, e, n) }, e.prototype.getLinePath = function () { return this.childAt(0) }, e.prototype._updateCommonStl = function (t, e, n) { var i = t.hostModel; var r = this.childOfName('line'); var a = n && n.emphasisLineStyle; var o = n && n.blurLineStyle; var s = n && n.selectLineStyle; var l = n && n.labelStatesModels; if (!n || t.hasItemOption) { var u = t.getItemModel(e); a = u.getModel(['emphasis', 'lineStyle']).getLineStyle(), o = u.getModel(['blur', 'lineStyle']).getLineStyle(), s = u.getModel(['select', 'lineStyle']).getLineStyle(), l = Object(hi.e)(u) } var c = t.getItemVisual(e, 'style'); var h = c.stroke; r.useStyle(c), r.style.fill = null, r.style.strokeNoScale = !0, r.ensureState('emphasis').style = a, r.ensureState('blur').style = o, r.ensureState('select').style = s, f.each(th, function (t) { var e = this.childOfName(t); if (e) { e.setColor(h), e.style.opacity = c.opacity; for (var n = 0; n < li.g.length; n++) { var i = li.g[n]; var a = r.getState(i); if (a) { var o = a.style || {}; var s = e.ensureState(i); var l = s.style || (s.style = {}); o.stroke != null && (l[e.__isEmptyBrush ? 'stroke' : 'fill'] = o.stroke), o.opacity != null && (l.opacity = o.opacity) } }e.markRedraw() } }, this); var d = i.getRawValue(e); Object(hi.g)(this, l, { labelDataIndex: e, labelFetcher: { getFormattedLabel: function (e, n) { return i.getFormattedLabel(e, n, t.dataType) } }, inheritColor: h || '#000', defaultOpacity: c.opacity, defaultText: (d == null ? t.getName(e) : isFinite(d) ? Object(v.round)(d) : d) + '' }); var p = this.getTextContent(); if (p) { var g = l.normal; p.__align = p.style.align, p.__verticalAlign = p.style.verticalAlign, p.__position = g.get('position') || 'middle'; var y = g.get('distance'); f.isArray(y) || (y = [y, y]), p.__labelDistance = y } this.setTextConfig({ position: null, local: !0, inside: !1 }), Object(li.k)(this) }, e.prototype.highlight = function () { Object(li.n)(this) }, e.prototype.downplay = function () { Object(li.w)(this) }, e.prototype.updateLayout = function (t, e) { this.setLinePoints(t.getItemLayout(e)) }, e.prototype.setLinePoints = function (t) { var e = this.childOfName('line'); rh(e.shape, t), e.dirty() }, e.prototype.beforeUpdate = function () { var t = this; var e = t.childOfName('fromSymbol'); var n = t.childOfName('toSymbol'); var i = t.getTextContent(); if (e || n || i && !i.ignore) { var r = 1; var a = this.parent; while (a)a.scaleX && (r /= a.scaleX), a = a.parent; var o = t.childOfName('line'); if (this.__dirty || o.__dirty) { var s = o.shape.percent; var l = o.pointAt(0); var u = o.pointAt(s); var c = p.q([], u, l); if (p.m(c, c), e && (e.setPosition(l), S(e, 0), e.scaleX = e.scaleY = r * s, e.markRedraw()), n && (n.setPosition(u), S(n, 1), n.scaleX = n.scaleY = r * s, n.markRedraw()), i && !i.ignore) { i.x = i.y = 0, i.originX = i.originY = 0; var h = void 0; var d = void 0; var f = i.__labelDistance; var g = f[0] * r; var y = f[1] * r; var v = s / 2; var m = o.tangentAt(v); var b = [m[1], -m[0]]; var x = o.pointAt(v); b[1] > 0 && (b[0] = -b[0], b[1] = -b[1]); var _ = m[0] < 0 ? -1 : 1; if (i.__position !== 'start' && i.__position !== 'end') { var w = -Math.atan2(m[1], m[0]); u[0] < l[0] && (w = Math.PI + w), i.rotation = w } var O = void 0; switch (i.__position) { case 'insideStartTop':case 'insideMiddleTop':case 'insideEndTop':case 'middle':O = -y, d = 'bottom'; break; case 'insideStartBottom':case 'insideMiddleBottom':case 'insideEndBottom':O = y, d = 'top'; break; default:O = 0, d = 'middle' } switch (i.__position) { case 'end':i.x = c[0] * g + u[0], i.y = c[1] * y + u[1], h = c[0] > 0.8 ? 'left' : c[0] < -0.8 ? 'right' : 'center', d = c[1] > 0.8 ? 'top' : c[1] < -0.8 ? 'bottom' : 'middle'; break; case 'start':i.x = -c[0] * g + l[0], i.y = -c[1] * y + l[1], h = c[0] > 0.8 ? 'right' : c[0] < -0.8 ? 'left' : 'center', d = c[1] > 0.8 ? 'bottom' : c[1] < -0.8 ? 'top' : 'middle'; break; case 'insideStartTop':case 'insideStart':case 'insideStartBottom':i.x = g * _ + l[0], i.y = l[1] + O, h = m[0] < 0 ? 'right' : 'left', i.originX = -g * _, i.originY = -O; break; case 'insideMiddleTop':case 'insideMiddle':case 'insideMiddleBottom':case 'middle':i.x = x[0], i.y = x[1] + O, h = 'center', i.originY = -O; break; case 'insideEndTop':case 'insideEnd':case 'insideEndBottom':i.x = -g * _ + u[0], i.y = u[1] + O, h = m[0] >= 0 ? 'right' : 'left', i.originX = g * _, i.originY = -O; break }i.scaleX = i.scaleY = r, i.setStyle({ verticalAlign: i.__verticalAlign || d, align: i.__align || h }) } } } function S (t, e) { var n = t.__specifiedRotation; if (n == null) { var i = o.tangentAt(e); t.attr('rotation', (e === 1 ? -1 : 1) * Math.PI / 2 - Math.atan2(i[1], i[0])) } else t.attr('rotation', n) } }, e }(y.Group)); var oh = ah; var sh = (function () { function t (t) { this.group = new y.Group(), this._LineCtor = t || oh } return t.prototype.isPersistent = function () { return !0 }, t.prototype.updateData = function (t) { var e = this; var n = this; var i = n.group; var r = n._lineData; n._lineData = t, r || i.removeAll(); var a = uh(t); t.diff(r).add(function (n) { e._doAdd(t, n, a) }).update(function (n, i) { e._doUpdate(r, t, i, n, a) }).remove(function (t) { i.remove(r.getItemGraphicEl(t)) }).execute() }, t.prototype.updateLayout = function () { var t = this._lineData; t && t.eachItemGraphicEl(function (e, n) { e.updateLayout(t, n) }, this) }, t.prototype.incrementalPrepareUpdate = function (t) { this._seriesScope = uh(t), this._lineData = null, this.group.removeAll() }, t.prototype.incrementalUpdate = function (t, e) { function n (t) { t.isGroup || lh(t) || (t.incremental = !0, t.ensureState('emphasis').hoverLayer = !0) } for (var i = t.start; i < t.end; i++) { var r = e.getItemLayout(i); if (hh(r)) { var a = new this._LineCtor(e, i, this._seriesScope); a.traverse(n), this.group.add(a), e.setItemGraphicEl(i, a) } } }, t.prototype.remove = function () { this.group.removeAll() }, t.prototype._doAdd = function (t, e, n) { var i = t.getItemLayout(e); if (hh(i)) { var r = new this._LineCtor(t, e, n); t.setItemGraphicEl(e, r), this.group.add(r) } }, t.prototype._doUpdate = function (t, e, n, i, r) { var a = t.getItemGraphicEl(n); hh(e.getItemLayout(i)) ? (a ? a.updateData(e, i, r) : a = new this._LineCtor(e, i, r), e.setItemGraphicEl(i, a), this.group.add(a)) : this.group.remove(a) }, t }()); function lh (t) { return t.animators && t.animators.length > 0 } function uh (t) { var e = t.hostModel; return { lineStyle: e.getModel('lineStyle').getLineStyle(), emphasisLineStyle: e.getModel(['emphasis', 'lineStyle']).getLineStyle(), blurLineStyle: e.getModel(['blur', 'lineStyle']).getLineStyle(), selectLineStyle: e.getModel(['select', 'lineStyle']).getLineStyle(), labelStatesModels: Object(hi.e)(e) } } function ch (t) { return isNaN(t[0]) || isNaN(t[1]) } function hh (t) { return !ch(t[0]) && !ch(t[1]) } var dh = sh; function ph (t) { var e = t.coordinateSystem; if (e.type !== 'view') return 1; var n = t.option.nodeScaleRatio; var i = e.scaleX; var r = e.getZoom(); var a = (r - 1) * n + 1; return a / i } function fh (t) { var e = t.getVisual('symbolSize'); return e instanceof Array && (e = (e[0] + e[1]) / 2), +e } var gh = []; var yh = []; var vh = []; var mh = Di.h; var bh = p.g; var xh = Math.abs; function _h (t, e, n) { for (var i, r = t[0], a = t[1], o = t[2], s = 1 / 0, l = n * n, u = 0.1, c = 0.1; c <= 0.9; c += 0.1) { gh[0] = mh(r[0], a[0], o[0], c), gh[1] = mh(r[1], a[1], o[1], c); var h = xh(bh(gh, e) - l); h < s && (s = h, i = c) } for (var d = 0; d < 32; d++) { var p = i + u; yh[0] = mh(r[0], a[0], o[0], i), yh[1] = mh(r[1], a[1], o[1], i), vh[0] = mh(r[0], a[0], o[0], p), vh[1] = mh(r[1], a[1], o[1], p); h = bh(yh, e) - l; if (xh(h) < 0.01) break; var f = bh(vh, e) - l; u /= 2, h < 0 ? f >= 0 ? i += u : i -= u : f >= 0 ? i -= u : i += u } return i } function wh (t, e) { var n = []; var i = Di.n; var r = [[], [], []]; var a = [[], []]; var o = []; e /= 2, t.eachEdge(function (t, s) { var l = t.getLayout(); var u = t.getVisual('fromSymbol'); var c = t.getVisual('toSymbol'); l.__original || (l.__original = [p.c(l[0]), p.c(l[1])], l[2] && l.__original.push(p.c(l[2]))); var h = l.__original; if (l[2] != null) { if (p.d(r[0], h[0]), p.d(r[1], h[2]), p.d(r[2], h[1]), u && u !== 'none') { var d = fh(t.node1); var f = _h(r, h[0], d * e); i(r[0][0], r[1][0], r[2][0], f, n), r[0][0] = n[3], r[1][0] = n[4], i(r[0][1], r[1][1], r[2][1], f, n), r[0][1] = n[3], r[1][1] = n[4] } if (c && c !== 'none') { d = fh(t.node2), f = _h(r, h[1], d * e); i(r[0][0], r[1][0], r[2][0], f, n), r[1][0] = n[1], r[2][0] = n[2], i(r[0][1], r[1][1], r[2][1], f, n), r[1][1] = n[1], r[2][1] = n[2] }p.d(l[0], r[0]), p.d(l[1], r[2]), p.d(l[2], r[1]) } else { if (p.d(a[0], h[0]), p.d(a[1], h[1]), p.q(o, a[1], a[0]), p.m(o, o), u && u !== 'none') { d = fh(t.node1); p.o(a[0], a[0], o, d * e) } if (c && c !== 'none') { d = fh(t.node2); p.o(a[1], a[1], o, -d * e) }p.d(l[0], a[0]), p.d(l[1], a[1]) } }) } function Oh (t) { return t.type === 'view' } var Sh = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.init = function (t, e) { var n = new xi(); var i = new dh(); var r = this.group; this._controller = new Ps(e.getZr()), this._controllerHost = { target: r }, r.add(n.group), r.add(i.group), this._symbolDraw = n, this._lineDraw = i, this._firstRender = !0 }, e.prototype.render = function (t, e, n) { var i = this; var r = t.coordinateSystem; this._model = t; var a = this._symbolDraw; var o = this._lineDraw; var s = this.group; if (Oh(r)) { var l = { x: r.x, y: r.y, scaleX: r.scaleX, scaleY: r.scaleY }; this._firstRender ? s.attr(l) : y.updateProps(s, l, t) }wh(t.getGraph(), ph(t)); var u = t.getData(); a.updateData(u); var c = t.getEdgeData(); o.updateData(c), this._updateNodeAndLinkScale(), this._updateController(t, e, n), clearTimeout(this._layoutTimeout); var h = t.forceLayout; var d = t.get(['force', 'layoutAnimation']); h && this._startForceLayoutIteration(h, d), u.graph.eachNode(function (t) { var e = t.dataIndex; var n = t.getGraphicEl(); var r = t.getModel(); n.off('drag').off('dragend'); var a = r.get('draggable'); a && n.on('drag', function () { h && (h.warmUp(), !i._layouting && i._startForceLayoutIteration(h, d), h.setFixed(e), u.setItemLayout(e, [n.x, n.y])) }).on('dragend', function () { h && h.setUnfixed(e) }), n.setDraggable(a && !!h); var o = r.get(['emphasis', 'focus']); o === 'adjacency' && (Object(q.a)(n).focus = t.getAdjacentDataIndices()) }), u.graph.eachEdge(function (t) { var e = t.getGraphicEl(); var n = t.getModel().get(['emphasis', 'focus']); n === 'adjacency' && (Object(q.a)(e).focus = { edge: [t.dataIndex], node: [t.node1.dataIndex, t.node2.dataIndex] }) }); var p = t.get('layout') === 'circular' && t.get(['circular', 'rotateLabel']); var g = u.getLayout('cx'); var v = u.getLayout('cy'); u.eachItemGraphicEl(function (t, e) { var n = u.getItemModel(e); var i = n.get(['label', 'rotate']) || 0; var r = t.getSymbolPath(); if (p) { var a = u.getItemLayout(e); var o = Math.atan2(a[1] - v, a[0] - g); o < 0 && (o = 2 * Math.PI + o); var s = a[0] < g; s && (o -= Math.PI); var l = s ? 'left' : 'right'; r.setTextConfig({ rotation: -o, position: l, origin: 'center' }); var c = r.ensureState('emphasis'); f.extend(c.textConfig || (c.textConfig = {}), { position: l }) } else r.setTextConfig({ rotation: i *= Math.PI / 180 }) }), this._firstRender = !1 }, e.prototype.dispose = function () { this._controller && this._controller.dispose(), this._controllerHost = null }, e.prototype._startForceLayoutIteration = function (t, e) { var n = this; (function i () { t.step(function (t) { n.updateLayout(n._model), (n._layouting = !t) && (e ? n._layoutTimeout = setTimeout(i, 16) : i()) }) })() }, e.prototype._updateController = function (t, e, n) { var i = this; var r = this._controller; var a = this._controllerHost; var o = this.group; r.setPointerChecker(function (e, i, r) { var a = o.getBoundingRect(); return a.applyTransform(o.transform), a.contain(i, r) && !zs(e, n, t) }), Oh(t.coordinateSystem) ? (r.enable(t.get('roam')), a.zoomLimit = t.get('scaleLimit'), a.zoom = t.coordinateSystem.getZoom(), r.off('pan').off('zoom').on('pan', function (e) { Rs(a, e.dx, e.dy), n.dispatchAction({ seriesId: t.id, type: 'graphRoam', dx: e.dx, dy: e.dy }) }).on('zoom', function (e) { Ns(a, e.scale, e.originX, e.originY), n.dispatchAction({ seriesId: t.id, type: 'graphRoam', zoom: e.scale, originX: e.originX, originY: e.originY }), i._updateNodeAndLinkScale(), wh(t.getGraph(), ph(t)), i._lineDraw.updateLayout(), n.updateLabelLayout() })) : r.disable() }, e.prototype._updateNodeAndLinkScale = function () { var t = this._model; var e = t.getData(); var n = ph(t); e.eachItemGraphicEl(function (t, e) { t.setSymbolScale(n) }) }, e.prototype.updateLayout = function (t) { wh(t.getGraph(), ph(t)), this._symbolDraw.updateLayout(), this._lineDraw.updateLayout() }, e.prototype.remove = function (t, e) { this._symbolDraw && this._symbolDraw.remove(), this._lineDraw && this._lineDraw.remove() }, e.type = 'graph', e }(Vi.a)); Vi.a.registerClass(Sh); c.c({ type: 'focusNodeAdjacency', event: 'focusNodeAdjacency', update: 'series:focusNodeAdjacency' }, function () {}), c.c({ type: 'unfocusNodeAdjacency', event: 'unfocusNodeAdjacency', update: 'series:unfocusNodeAdjacency' }, function () {}); var Mh = { type: 'graphRoam', event: 'graphRoam', update: 'none' }; function Ih (t) { var e = t.findComponents({ mainType: 'legend' }); e && e.length && t.eachSeriesByType('graph', function (t) { var n = t.getCategoriesData(); var i = t.getGraph(); var r = i.data; var a = n.mapArray(n.getName); r.filterSelf(function (t) { var n = r.getItemModel(t); var i = n.getShallow('category'); if (i != null) { typeof i === 'number' && (i = a[i]); for (var o = 0; o < e.length; o++) if (!e[o].isSelected(i)) return !1 } return !0 }) }) } function Th (t) { var e = {}; t.eachSeriesByType('graph', function (t) { var n = t.getCategoriesData(); var i = t.getData(); var r = {}; n.each(function (i) { var a = n.getName(i); r['ec-' + a] = i; var o = n.getItemModel(i); var s = o.getModel('itemStyle').getItemStyle(); s.fill || (s.fill = t.getColorFromPalette(a, e)), n.setItemVisual(i, 'style', s); for (var l = ['symbol', 'symbolSize', 'symbolKeepAspect'], u = 0; u < l.length; u++) { var c = o.getShallow(l[u], !0); c != null && n.setItemVisual(i, l[u], c) } }), n.count() && i.each(function (t) { var e = i.getItemModel(t); var a = e.getShallow('category'); if (a != null) { typeof a === 'string' && (a = r['ec-' + a]); var o = n.getItemVisual(a, 'style'); var s = i.ensureUniqueItemVisual(t, 'style'); Object(f.extend)(s, o); for (var l = ['symbol', 'symbolSize', 'symbolKeepAspect'], u = 0; u < l.length; u++)i.setItemVisual(t, l[u], n.getItemVisual(a, l[u])) } }) }) } function jh (t) { return t instanceof Array || (t = [t, t]), t } function Ah (t) { t.eachSeriesByType('graph', function (t) { var e = t.getGraph(); var n = t.getEdgeData(); var i = jh(t.get('edgeSymbol')); var r = jh(t.get('edgeSymbolSize')); n.setVisual('fromSymbol', i && i[0]), n.setVisual('toSymbol', i && i[1]), n.setVisual('fromSymbolSize', r && r[0]), n.setVisual('toSymbolSize', r && r[1]), n.setVisual('style', t.getModel('lineStyle').getLineStyle()), n.each(function (t) { var i = n.getItemModel(t); var r = e.getEdgeByIndex(t); var a = jh(i.getShallow('symbol', !0)); var o = jh(i.getShallow('symbolSize', !0)); var s = i.getModel('lineStyle').getLineStyle(); var l = n.ensureUniqueItemVisual(t, 'style'); switch (Object(f.extend)(l, s), l.stroke) { case 'source':var u = r.node1.getVisual('style'); l.stroke = u && u.fill; break; case 'target':u = r.node2.getVisual('style'); l.stroke = u && u.fill; break }a[0] && r.setVisual('fromSymbol', a[0]), a[1] && r.setVisual('toSymbol', a[1]), o[0] && r.setVisual('fromSymbolSize', o[0]), o[1] && r.setVisual('toSymbolSize', o[1]) }) }) } function Ch (t) { var e = t.coordinateSystem; if (!e || e.type === 'view') { var n = t.getGraph(); n.eachNode(function (t) { var e = t.getModel(); t.setLayout([+e.get('x'), +e.get('y')]) }), Dh(n, t) } } function Dh (t, e) { t.eachEdge(function (t, n) { var i = f.retrieve3(t.getModel().get(['lineStyle', 'curveness']), -Yc(t, e, n, !0), 0); var r = p.c(t.node1.getLayout()); var a = p.c(t.node2.getLayout()); var o = [r, a]; +i && o.push([(r[0] + a[0]) / 2 - (r[1] - a[1]) * i, (r[1] + a[1]) / 2 - (a[0] - r[0]) * i]), t.setLayout(o) }) } function kh (t, e) { t.eachSeriesByType('graph', function (t) { var e = t.get('layout'); var n = t.coordinateSystem; if (n && n.type !== 'view') { var i = t.getData(); var r = []; Object(f.each)(n.dimensions, function (t) { r = r.concat(i.mapDimensionsAll(t)) }); for (var a = 0; a < i.count(); a++) { for (var o = [], s = !1, l = 0; l < r.length; l++) { var u = i.get(r[l], a); isNaN(u) || (s = !0), o.push(u) }s ? i.setItemLayout(a, n.dataToPoint(o)) : i.setItemLayout(a, [NaN, NaN]) }Dh(i.graph, t) } else e && e !== 'none' || Ch(t) }) }c.c(Mh, function (t, e) { e.eachComponent({ mainType: 'series', query: t }, function (e) { var n = e.coordinateSystem; var i = Xs(n, t); e.setCenter && e.setCenter(i.center), e.setZoom && e.setZoom(i.zoom) }) }); var Lh = Math.PI; var Ph = []; function Rh (t, e) { var n = t.coordinateSystem; if (!n || n.type === 'view') { var i = n.getBoundingRect(); var r = t.getData(); var a = r.graph; var o = i.width / 2 + i.x; var s = i.height / 2 + i.y; var l = Math.min(i.width, i.height) / 2; var u = r.count(); r.setLayout({ cx: o, cy: s }), u && (Nh[e](t, a, r, l, o, s, u), a.eachEdge(function (e, n) { var i; var r = f.retrieve3(e.getModel().get(['lineStyle', 'curveness']), Yc(e, t, n), 0); var a = p.c(e.node1.getLayout()); var l = p.c(e.node2.getLayout()); var u = (a[0] + l[0]) / 2; var c = (a[1] + l[1]) / 2; +r && (r *= 3, i = [o * r + u * (1 - r), s * r + c * (1 - r)]), e.setLayout([a, l, i]) })) } } var Nh = { value: function (t, e, n, i, r, a, o) { var s = 0; var l = n.getSum('value'); var u = 2 * Math.PI / (l || o); e.eachNode(function (t) { var e = t.getValue('value'); var n = u * (l ? e : 1) / 2; s += n, t.setLayout([i * Math.cos(s) + r, i * Math.sin(s) + a]), s += n }) }, symbolSize: function (t, e, n, i, r, a, o) { var s = 0; Ph.length = o; var l = ph(t); e.eachNode(function (t) { var e = fh(t); isNaN(e) && (e = 2), e < 0 && (e = 0), e *= l; var n = Math.asin(e / 2 / i); isNaN(n) && (n = Lh / 2), Ph[t.dataIndex] = n, s += 2 * n }); var u = (2 * Lh - s) / o / 2; var c = 0; e.eachNode(function (t) { var e = u + Ph[t.dataIndex]; c += e, t.setLayout([i * Math.cos(c) + r, i * Math.sin(c) + a]), c += e }) } }; function Eh (t) { t.eachSeriesByType('graph', function (t) { t.get('layout') === 'circular' && Rh(t, 'symbolSize') }) } var zh = p.o; function Bh (t, e, n) { for (var i = t, r = e, a = n.rect, o = a.width, s = a.height, l = [a.x + o / 2, a.y + s / 2], u = n.gravity == null ? 0.1 : n.gravity, c = 0; c < i.length; c++) { var h = i[c]; h.p || (h.p = p.e(o * (Math.random() - 0.5) + l[0], s * (Math.random() - 0.5) + l[1])), h.pp = p.c(h.p), h.edges = null } var d; var f; var g = n.friction == null ? 0.6 : n.friction; var y = g; return { warmUp: function () { y = 0.8 * g }, setFixed: function (t) { i[t].fixed = !0 }, setUnfixed: function (t) { i[t].fixed = !1 }, beforeStep: function (t) { d = t }, afterStep: function (t) { f = t }, step: function (t) { d && d(i, r); for (var e = [], n = i.length, a = 0; a < r.length; a++) { var o = r[a]; if (!o.ignoreForceLayout) { var s = o.n1; var c = o.n2; p.q(e, c.p, s.p); var h = p.i(e) - o.d; var g = c.w / (s.w + c.w); isNaN(g) && (g = 0), p.m(e, e), !s.fixed && zh(s.p, s.p, e, g * h * y), !c.fixed && zh(c.p, c.p, e, -(1 - g) * h * y) } } for (a = 0; a < n; a++) { var v = i[a]; v.fixed || (p.q(e, l, v.p), zh(v.p, v.p, e, u * y)) } for (a = 0; a < n; a++) { s = i[a]; for (var m = a + 1; m < n; m++) { c = i[m]; p.q(e, c.p, s.p); h = p.i(e); h === 0 && (p.p(e, Math.random() - 0.5, Math.random() - 0.5), h = 1); var b = (s.rep + c.rep) / h / h; !s.fixed && zh(s.pp, s.pp, e, b), !c.fixed && zh(c.pp, c.pp, e, -b) } } var x = []; for (a = 0; a < n; a++) { v = i[a]; v.fixed || (p.q(x, v.p, v.pp), zh(v.p, v.p, x, y), p.d(v.pp, v.p)) }y *= 0.992; var _ = y < 0.01; f && f(i, r, _), t && t(_) } } } function Vh (t) { t.eachSeriesByType('graph', function (t) { var e = t.coordinateSystem; if (!e || e.type === 'view') if (t.get('layout') === 'force') { var n = t.preservedPoints || {}; var i = t.getGraph(); var r = i.data; var a = i.edgeData; var o = t.getModel('force'); var s = o.get('initLayout'); t.preservedPoints ? r.each(function (t) { var e = r.getId(t); r.setItemLayout(t, n[e] || [NaN, NaN]) }) : s && s !== 'none' ? s === 'circular' && Rh(t, 'value') : Ch(t); var l = r.getDataExtent('value'); var u = a.getDataExtent('value'); var c = o.get('repulsion'); var h = o.get('edgeLength'); var d = f.isArray(c) ? c : [c, c]; var g = f.isArray(h) ? h : [h, h]; g = [g[1], g[0]]; var y = r.mapArray('value', function (t, e) { var n = r.getItemLayout(e); var i = Object(v.linearMap)(t, l, d); return isNaN(i) && (i = (d[0] + d[1]) / 2), { w: i, rep: i, fixed: r.getItemModel(e).get('fixed'), p: !n || isNaN(n[0]) || isNaN(n[1]) ? null : n } }); var m = a.mapArray('value', function (e, n) { var r = i.getEdgeByIndex(n); var a = Object(v.linearMap)(e, u, g); isNaN(a) && (a = (g[0] + g[1]) / 2); var o = r.getModel(); var s = f.retrieve3(r.getModel().get(['lineStyle', 'curveness']), -Yc(r, t, n, !0), 0); return { n1: y[r.node1.dataIndex], n2: y[r.node2.dataIndex], d: a, curveness: s, ignoreForceLayout: o.get('ignoreForceLayout') } }); var b = e.getBoundingRect(); var x = Bh(y, m, { rect: b, gravity: o.get('gravity'), friction: o.get('friction') }); x.beforeStep(function (t, e) { for (var n = 0, r = t.length; n < r; n++)t[n].fixed && p.d(t[n].p, i.getNodeByIndex(n).getLayout()) }), x.afterStep(function (t, e, a) { for (var o = 0, s = t.length; o < s; o++)t[o].fixed || i.getNodeByIndex(o).setLayout(t[o].p), n[r.getId(o)] = t[o].p; for (o = 0, s = e.length; o < s; o++) { var l = e[o]; var u = i.getEdgeByIndex(o); var c = l.n1.p; var h = l.n2.p; var d = u.getLayout(); d = d ? d.slice() : [], d[0] = d[0] || [], d[1] = d[1] || [], p.d(d[0], c), p.d(d[1], h), +l.curveness && (d[2] = [(c[0] + h[0]) / 2 - (c[1] - h[1]) * l.curveness, (c[1] + h[1]) / 2 - (h[0] - c[0]) * l.curveness]), u.setLayout(d) } }), t.forceLayout = x, t.preservedPoints = n, x.step() } else t.forceLayout = null }) } function Fh (t, e, n) { var i = Object(f.extend)(t.getBoxLayoutParams(), { aspect: n }); return Object(on.g)(i, { width: e.getWidth(), height: e.getHeight() }) } function Gh (t, e) { var n = []; return t.eachSeriesByType('graph', function (t) { var i = t.get('coordinateSystem'); if (!i || i === 'view') { var r = t.getData(); var a = r.mapArray(function (t) { var e = r.getItemModel(t); return [+e.get('x'), +e.get('y')] }); var o = []; var s = []; ln.d(a, o, s), s[0] - o[0] === 0 && (s[0] += 1, o[0] -= 1), s[1] - o[1] === 0 && (s[1] += 1, o[1] -= 1); var l = (s[0] - o[0]) / (s[1] - o[1]); var u = Fh(t, e, l); isNaN(l) && (o = [u.x, u.y], s = [u.x + u.width, u.y + u.height]); var c = s[0] - o[0]; var h = s[1] - o[1]; var d = u.width; var p = u.height; var f = t.coordinateSystem = new qs(); f.zoomLimit = t.get('scaleLimit'), f.setBoundingRect(o[0], o[1], c, h), f.setViewRect(u.x, u.y, d, p), f.setCenter(t.get('center')), f.setZoom(t.get('zoom')), n.push(f) } }), n }c.g(Ih), c.i(Th), c.i(Ah), c.e(kh), c.e(c.a.VISUAL.POST_CHART_LAYOUT, Eh), c.e(Vh), c.d('graphView', { dimensions: qs.dimensions, create: Gh }); var Hh = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.visualStyleAccessPath = 'itemStyle', n.useColorPaletteOnData = !0, n } return Object(Ct.b)(e, t), e.prototype.getInitialData = function (t, e) { return lo(this, ['value']) }, e.type = 'series.gauge', e.defaultOption = { zlevel: 0, z: 2, center: ['50%', '50%'], legendHoverLink: !0, radius: '75%', startAngle: 225, endAngle: -45, clockwise: !0, min: 0, max: 100, splitNumber: 10, axisLine: { show: !0, roundCap: !1, lineStyle: { color: [[1, '#E6EBF8']], width: 10 } }, progress: { show: !1, overlap: !0, width: 10, roundCap: !1, clip: !0 }, splitLine: { show: !0, length: 10, distance: 10, lineStyle: { color: '#63677A', width: 3, type: 'solid' } }, axisTick: { show: !0, splitNumber: 5, length: 6, distance: 10, lineStyle: { color: '#63677A', width: 1, type: 'solid' } }, axisLabel: { show: !0, distance: 15, color: '#464646', fontSize: 12 }, pointer: { icon: null, offsetCenter: [0, 0], show: !0, length: '60%', width: 6, keepAspect: !1 }, anchor: { show: !1, showAbove: !1, size: 6, icon: 'circle', offsetCenter: [0, 0], keepAspect: !1, itemStyle: { color: '#fff', borderWidth: 0, borderColor: '#5470c6' } }, title: { show: !0, offsetCenter: [0, '20%'], color: '#464646', fontSize: 16, valueAnimation: !1 }, detail: { show: !0, backgroundColor: 'rgba(0,0,0,0)', borderWidth: 0, borderColor: '#ccc', width: 100, height: null, padding: [5, 10], offsetCenter: [0, '40%'], color: '#464646', fontSize: 30, fontWeight: 'bold', lineHeight: 30, valueAnimation: !1 } }, e }(oi.a)); oi.a.registerClass(Hh); var Wh = (function () { function t () { this.angle = 0, this.width = 10, this.r = 10, this.x = 0, this.y = 0 } return t }()); var Xh = (function (t) { function e (e) { var n = t.call(this, e) || this; return n.type = 'pointer', n } return Object(Ct.b)(e, t), e.prototype.getDefaultShape = function () { return new Wh() }, e.prototype.buildPath = function (t, e) { var n = Math.cos; var i = Math.sin; var r = e.r; var a = e.width; var o = e.angle; var s = e.x - n(o) * a * (a >= r / 3 ? 1 : 2); var l = e.y - i(o) * a * (a >= r / 3 ? 1 : 2); o = e.angle - Math.PI / 2, t.moveTo(s, l), t.lineTo(e.x + n(o) * a, e.y + i(o) * a), t.lineTo(e.x + n(e.angle) * r, e.y + i(e.angle) * r), t.lineTo(e.x - n(o) * a, e.y - i(o) * a), t.lineTo(s, l) }, e }(Ai.b)); var Yh = Xh; function Uh (t, e) { var n = t.get('center'); var i = e.getWidth(); var r = e.getHeight(); var a = Math.min(i, r); var o = Object(v.parsePercent)(n[0], e.getWidth()); var s = Object(v.parsePercent)(n[1], e.getHeight()); var l = Object(v.parsePercent)(t.get('radius'), a / 2); return { cx: o, cy: s, r: l } } function Zh (t, e) { var n = t == null ? '' : t + ''; return e && (typeof e === 'string' ? n = e.replace('{value}', n) : typeof e === 'function' && (n = e(t))), n } var qh = 2 * Math.PI; var Kh = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n) { this.group.removeAll(); var i = t.get(['axisLine', 'lineStyle', 'color']); var r = Uh(t, n); this._renderMain(t, e, n, i, r), this._data = t.getData() }, e.prototype.dispose = function () {}, e.prototype._renderMain = function (t, e, n, i, r) { for (var a = this.group, o = t.get('clockwise'), s = -t.get('startAngle') / 180 * Math.PI, l = -t.get('endAngle') / 180 * Math.PI, u = t.getModel('axisLine'), c = u.get('roundCap'), h = c ? za : y.Sector, d = u.get('show'), p = u.getModel('lineStyle'), f = p.get('width'), g = (l - s) % qh || l === s ? (l - s) % qh : qh, v = s, m = 0; d && m < i.length; m++) { var b = Math.min(Math.max(i[m][0], 0), 1); l = s + g * b; var x = new h({ shape: { startAngle: v, endAngle: l, cx: r.cx, cy: r.cy, clockwise: o, r0: r.r - f, r: r.r }, silent: !0 }); x.setStyle({ fill: i[m][1] }), x.setStyle(p.getLineStyle(['color', 'width'])), a.add(x), v = l } var _ = function (t) { if (t <= 0) return i[0][1]; var e; for (e = 0; e < i.length; e++) if (i[e][0] >= t && (e === 0 ? 0 : i[e - 1][0]) < t) return i[e][1]; return i[e - 1][1] }; if (!o) { var w = s; s = l, l = w } this._renderTicks(t, e, n, _, r, s, l, o, f), this._renderTitleAndDetail(t, e, n, _, r), this._renderAnchor(t, r), this._renderPointer(t, e, n, _, r, s, l, o, f) }, e.prototype._renderTicks = function (t, e, n, i, r, a, o, s, l) { for (var u, c, h = this.group, d = r.cx, p = r.cy, f = r.r, g = +t.get('min'), m = +t.get('max'), b = t.getModel('splitLine'), x = t.getModel('axisTick'), _ = t.getModel('axisLabel'), w = t.get('splitNumber'), O = x.get('splitNumber'), S = Object(v.parsePercent)(b.get('length'), f), M = Object(v.parsePercent)(x.get('length'), f), I = a, T = (o - a) / w, j = T / O, A = b.getModel('lineStyle').getLineStyle(), C = x.getModel('lineStyle').getLineStyle(), D = b.get('distance'), k = 0; k <= w; k++) { if (u = Math.cos(I), c = Math.sin(I), b.get('show')) { var L = D ? D + l : l; var P = new y.Line({ shape: { x1: u * (f - L) + d, y1: c * (f - L) + p, x2: u * (f - S - L) + d, y2: c * (f - S - L) + p }, style: A, silent: !0 }); A.stroke === 'auto' && P.setStyle({ stroke: i(k / w) }), h.add(P) } if (_.get('show')) { L = _.get('distance') + D; var R = Zh(Object(v.round)(k / w * (m - g) + g), _.get('formatter')); var N = i(k / w); h.add(new y.Text({ style: Object(hi.c)(_, { text: R, x: u * (f - S - L) + d, y: c * (f - S - L) + p, verticalAlign: c < -0.8 ? 'top' : c > 0.8 ? 'bottom' : 'middle', align: u < -0.4 ? 'left' : u > 0.4 ? 'right' : 'center' }, { inheritColor: N }), silent: !0 })) } if (x.get('show') && k !== w) { L = x.get('distance'); L = L ? L + l : l; for (var E = 0; E <= O; E++) { u = Math.cos(I), c = Math.sin(I); var z = new y.Line({ shape: { x1: u * (f - L) + d, y1: c * (f - L) + p, x2: u * (f - M - L) + d, y2: c * (f - M - L) + p }, silent: !0, style: C }); C.stroke === 'auto' && z.setStyle({ stroke: i((k + E / O) / w) }), h.add(z), I += j }I -= j } else I += T } }, e.prototype._renderPointer = function (t, e, n, i, r, a, o, s, l) { var u = this.group; var c = this._data; var h = this._progressEls; var d = []; var p = t.get(['pointer', 'show']); var f = t.getModel('progress'); var g = f.get('show'); var m = t.getData(); var b = m.mapDimension('value'); var x = +t.get('min'); var _ = +t.get('max'); var w = [x, _]; var O = [a, o]; function S (e, n) { var i; var a = m.getItemModel(e); var o = a.getModel('pointer'); var s = Object(v.parsePercent)(o.get('width'), r.r); var l = Object(v.parsePercent)(o.get('length'), r.r); var u = t.get(['pointer', 'icon']); var c = o.get('offsetCenter'); var h = o.get('keepAspect'); return i = u ? Object(sn.a)(u, Object(v.parsePercent)(c[0], r.r) - s / 2, Object(v.parsePercent)(c[1], r.r) - l, s, l, null, h) : new Yh({ shape: { angle: -Math.PI / 2, width: Object(v.parsePercent)(o.get('width'), r.r), r: Object(v.parsePercent)(o.get('length'), r.r) } }), i.rotation = -(n + Math.PI / 2), i.x = r.cx, i.y = r.cy, i } function M (t, e) { var n = f.get('roundCap'); var i = n ? za : y.Sector; var o = f.get('overlap'); var u = o ? f.get('width') : l / m.count(); var c = o ? r.r - u : r.r - (t + 1) * u; var h = o ? r.r : r.r - t * u; var d = new i({ shape: { startAngle: a, endAngle: e, cx: r.cx, cy: r.cy, clockwise: s, r0: c, r: h } }); return o && (d.z2 = _ - m.get(b, t) % _), d }(g || p) && (m.diff(c).add(function (e) { if (p) { var n = S(e, a); y.initProps(n, { rotation: -(Object(v.linearMap)(m.get(b, e), w, O, !0) + Math.PI / 2) }, t), u.add(n), m.setItemGraphicEl(e, n) } if (g) { var i = M(e, a); var r = f.get('clip'); y.initProps(i, { shape: { endAngle: Object(v.linearMap)(m.get(b, e), w, O, r) } }, t), u.add(i), d[e] = i } }).update(function (e, n) { if (p) { var i = c.getItemGraphicEl(n); var r = i ? i.rotation : a; var o = S(e, r); o.rotation = r, y.updateProps(o, { rotation: -(Object(v.linearMap)(m.get(b, e), w, O, !0) + Math.PI / 2) }, t), u.add(o), m.setItemGraphicEl(e, o) } if (g) { var s = h[n]; var l = s ? s.shape.endAngle : a; var x = M(e, l); var _ = f.get('clip'); y.updateProps(x, { shape: { endAngle: Object(v.linearMap)(m.get(b, e), w, O, _) } }, t), u.add(x), d[e] = x } }).execute(), m.each(function (t) { var e = m.getItemModel(t); var n = e.getModel('emphasis'); if (p) { var r = m.getItemGraphicEl(t); r.useStyle(m.getItemVisual(t, 'style')), r.setStyle(e.getModel(['pointer', 'itemStyle']).getItemStyle()), r.style.fill === 'auto' && r.setStyle('fill', i(Object(v.linearMap)(m.get(b, t), w, [0, 1], !0))), r.z2EmphasisLift = 0, Object(li.D)(r, e), Object(li.k)(r, n.get('focus'), n.get('blurScope')) } if (g) { var a = d[t]; a.useStyle(m.getItemVisual(t, 'style')), a.setStyle(e.getModel(['progress', 'itemStyle']).getItemStyle()), a.z2EmphasisLift = 0, Object(li.D)(a, e), Object(li.k)(a, n.get('focus'), n.get('blurScope')) } }), this._progressEls = d) }, e.prototype._renderAnchor = function (t, e) { var n = t.getModel('anchor'); var i = n.get('show'); if (i) { var r = n.get('size'); var a = n.get('icon'); var o = n.get('offsetCenter'); var s = n.get('keepAspect'); var l = Object(sn.a)(a, e.cx - r / 2 + Object(v.parsePercent)(o[0], e.r), e.cy - r / 2 + Object(v.parsePercent)(o[1], e.r), r, r, null, s); l.z2 = n.get('showAbove') ? 1 : 0, l.setStyle(n.getModel('itemStyle').getItemStyle()), this.group.add(l) } }, e.prototype._renderTitleAndDetail = function (t, e, n, i, r) { var a = this; var o = t.getData(); var s = o.mapDimension('value'); var l = +t.get('min'); var u = +t.get('max'); var c = new y.Group(); var h = []; var d = []; var p = t.isAnimationEnabled(); o.diff(this._data).add(function (t) { h[t] = new y.Text({ silent: !0 }), d[t] = new y.Text({ silent: !0 }) }).update(function (t, e) { h[t] = a._titleEls[e], d[t] = a._detailEls[e] }).execute(), o.each(function (e) { var n = o.getItemModel(e); var a = o.get(s, e); var f = new y.Group(); var g = i(Object(v.linearMap)(a, [l, u], [0, 1], !0)); var m = n.getModel('title'); if (m.get('show')) { var b = m.get('offsetCenter'); var x = r.cx + Object(v.parsePercent)(b[0], r.r); var _ = r.cy + Object(v.parsePercent)(b[1], r.r); var w = h[e]; w.attr({ style: Object(hi.c)(m, { x: x, y: _, text: o.getName(e), align: 'center', verticalAlign: 'middle' }, { inheritColor: g }) }), Object(hi.h)(w, { normal: m }, t.getRawValue(e), function () { return o.getName(e) }), p && Object(hi.a)(w, e, o, t), f.add(w) } var O = n.getModel('detail'); if (O.get('show')) { var S = O.get('offsetCenter'); var M = r.cx + Object(v.parsePercent)(S[0], r.r); var I = r.cy + Object(v.parsePercent)(S[1], r.r); var T = Object(v.parsePercent)(O.get('width'), r.r); var j = Object(v.parsePercent)(O.get('height'), r.r); var A = t.get(['progress', 'show']) ? o.getItemVisual(e, 'style').fill : g; var C = (w = d[e], O.get('formatter')); w.attr({ style: Object(hi.c)(O, { x: M, y: I, text: Zh(a, C), width: isNaN(T) ? null : T, height: isNaN(j) ? null : j, align: 'center', verticalAlign: 'middle' }, { inheritColor: A }) }), Object(hi.h)(w, { normal: O }, t.getRawValue(e), function (t) { return Zh(t, C) }), p && Object(hi.a)(w, e, o, t), f.add(w) }c.add(f) }), this.group.add(c), this._titleEls = h, this._detailEls = d }, e.type = 'gauge', e }(Vi.a)); Vi.a.registerClass(Kh); var $h = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.useColorPaletteOnData = !0, n } return Object(Ct.b)(e, t), e.prototype.init = function (e) { t.prototype.init.apply(this, arguments), this.legendVisualProvider = new co(f.bind(this.getData, this), f.bind(this.getRawData, this)), this._defaultLabelLine(e) }, e.prototype.getInitialData = function (t, e) { return lo(this, { coordDimensions: ['value'], encodeDefaulter: f.curry(dt.e, this) }) }, e.prototype._defaultLabelLine = function (t) { Object(Z.f)(t, 'labelLine', ['show']); var e = t.labelLine; var n = t.emphasis.labelLine; e.show = e.show && t.label.show, n.show = n.show && t.emphasis.label.show }, e.prototype.getDataParams = function (e) { var n = this.getData(); var i = t.prototype.getDataParams.call(this, e); var r = n.mapDimension('value'); var a = n.getSum(r); return i.percent = a ? +(n.get(r, e) / a * 100).toFixed(2) : 0, i.$vars.push('percent'), i }, e.type = 'series.funnel', e.defaultOption = { zlevel: 0, z: 2, legendHoverLink: !0, left: 80, top: 60, right: 80, bottom: 60, minSize: '0%', maxSize: '100%', sort: 'descending', orient: 'vertical', gap: 0, funnelAlign: 'center', label: { show: !0, position: 'outer' }, labelLine: { show: !0, length: 20, lineStyle: { width: 1 } }, itemStyle: { borderColor: '#fff', borderWidth: 1 }, emphasis: { label: { show: !0 } }, select: { itemStyle: { borderColor: '#212121' } } }, e }(oi.a)); hr.a.registerClass($h); var Qh = ['itemStyle', 'opacity']; var Jh = (function (t) { function e (e, n) { var i = t.call(this) || this; var r = i; var a = new y.Polyline(); var o = new y.Text(); return r.setTextContent(o), i.setTextGuideLine(a), i.updateData(e, n, !0), i } return Object(Ct.b)(e, t), e.prototype.updateData = function (t, e, n) { var i = this; var r = t.hostModel; var a = t.getItemModel(e); var o = t.getItemLayout(e); var s = a.getModel('emphasis'); var l = a.get(Qh); l = l == null ? 1 : l, i.useStyle(t.getItemVisual(e, 'style')), i.style.lineJoin = 'round', n ? (i.setShape({ points: o.points }), i.style.opacity = 0, y.initProps(i, { style: { opacity: l } }, r, e)) : y.updateProps(i, { style: { opacity: l }, shape: { points: o.points } }, r, e), Object(li.D)(i, a), this._updateLabel(t, e), Object(li.k)(this, s.get('focus'), s.get('blurScope')) }, e.prototype._updateLabel = function (t, e) { var n = this; var i = this.getTextGuideLine(); var r = n.getTextContent(); var a = t.hostModel; var o = t.getItemModel(e); var s = t.getItemLayout(e); var l = s.label; var u = t.getItemVisual(e, 'style'); var c = u.fill; Object(hi.g)(r, Object(hi.e)(o), { labelFetcher: t.hostModel, labelDataIndex: e, defaultOpacity: u.opacity, defaultText: t.getName(e) }, { normal: { align: l.textAlign, verticalAlign: l.verticalAlign } }), n.setTextConfig({ local: !0, inside: !!l.inside, insideStroke: c, outsideFill: c }); var h = l.linePoints; i.setShape({ points: h }), n.textGuideLineConfig = { anchor: h ? new y.Point(h[0][0], h[0][1]) : null }, y.updateProps(r, { style: { x: l.x, y: l.y } }, a, e), r.attr({ rotation: l.rotation, originX: l.x, originY: l.y, z2: 10 }), Object(po.d)(n, Object(po.a)(o), { stroke: c }) }, e }(y.Polygon)); var td = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.ignoreLabelLineUpdate = !0, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n) { var i = t.getData(); var r = this._data; var a = this.group; i.diff(r).add(function (t) { var e = new Jh(i, t); i.setItemGraphicEl(t, e), a.add(e) }).update(function (t, e) { var n = r.getItemGraphicEl(e); n.updateData(i, t), a.add(n), i.setItemGraphicEl(t, n) }).remove(function (e) { var n = r.getItemGraphicEl(e); y.removeElementWithFadeOut(n, t, e) }).execute(), this._data = i }, e.prototype.remove = function () { this.group.removeAll(), this._data = null }, e.prototype.dispose = function () {}, e.type = 'funnel', e }(Vi.a)); Vi.a.registerClass(td); function ed (t, e) { return on.g(t.getBoxLayoutParams(), { width: e.getWidth(), height: e.getHeight() }) } function nd (t, e) { for (var n = t.mapDimension('value'), i = t.mapArray(n, function (t) { return t }), r = [], a = e === 'ascending', o = 0, s = t.count(); o < s; o++)r[o] = o; return typeof e === 'function' ? r.sort(e) : e !== 'none' && r.sort(function (t, e) { return a ? i[t] - i[e] : i[e] - i[t] }), r } function id (t) { var e = t.hostModel; var n = e.get('orient'); t.each(function (e) { var i; var r; var a; var o; var s = t.getItemModel(e); var l = s.getModel('label'); var u = l.get('position'); var c = s.getModel('labelLine'); var h = t.getItemLayout(e); var d = h.points; var p = u === 'inner' || u === 'inside' || u === 'center' || u === 'insideLeft' || u === 'insideRight'; if (p)u === 'insideLeft' ? (r = (d[0][0] + d[3][0]) / 2 + 5, a = (d[0][1] + d[3][1]) / 2, i = 'left') : u === 'insideRight' ? (r = (d[1][0] + d[2][0]) / 2 - 5, a = (d[1][1] + d[2][1]) / 2, i = 'right') : (r = (d[0][0] + d[1][0] + d[2][0] + d[3][0]) / 4, a = (d[0][1] + d[1][1] + d[2][1] + d[3][1]) / 4, i = 'center'), o = [[r, a], [r, a]]; else { var f = void 0; var g = void 0; var y = void 0; var v = void 0; var m = c.get('length'); 0, u === 'left' ? (f = (d[3][0] + d[0][0]) / 2, g = (d[3][1] + d[0][1]) / 2, y = f - m, r = y - 5, i = 'right') : u === 'right' ? (f = (d[1][0] + d[2][0]) / 2, g = (d[1][1] + d[2][1]) / 2, y = f + m, r = y + 5, i = 'left') : u === 'top' ? (f = (d[3][0] + d[0][0]) / 2, g = (d[3][1] + d[0][1]) / 2, v = g - m, a = v - 5, i = 'center') : u === 'bottom' ? (f = (d[1][0] + d[2][0]) / 2, g = (d[1][1] + d[2][1]) / 2, v = g + m, a = v + 5, i = 'center') : u === 'rightTop' ? (f = n === 'horizontal' ? d[3][0] : d[1][0], g = n === 'horizontal' ? d[3][1] : d[1][1], n === 'horizontal' ? (v = g - m, a = v - 5, i = 'center') : (y = f + m, r = y + 5, i = 'top')) : u === 'rightBottom' ? (f = d[2][0], g = d[2][1], n === 'horizontal' ? (v = g + m, a = v + 5, i = 'center') : (y = f + m, r = y + 5, i = 'bottom')) : u === 'leftTop' ? (f = d[0][0], g = n === 'horizontal' ? d[0][1] : d[1][1], n === 'horizontal' ? (v = g - m, a = v - 5, i = 'center') : (y = f - m, r = y - 5, i = 'right')) : u === 'leftBottom' ? (f = n === 'horizontal' ? d[1][0] : d[3][0], g = n === 'horizontal' ? d[1][1] : d[2][1], n === 'horizontal' ? (v = g + m, a = v + 5, i = 'center') : (y = f - m, r = y - 5, i = 'right')) : (f = (d[1][0] + d[2][0]) / 2, g = (d[1][1] + d[2][1]) / 2, n === 'horizontal' ? (v = g + m, a = v + 5, i = 'center') : (y = f + m, r = y + 5, i = 'left')), n === 'horizontal' ? (y = f, r = y) : (v = g, a = v), o = [[f, g], [y, v]] }h.label = { linePoints: o, x: r, y: a, verticalAlign: 'middle', textAlign: i, inside: p } }) } function rd (t, e) { t.eachSeriesByType('funnel', function (t) { var n = t.getData(); var i = n.mapDimension('value'); var r = t.get('sort'); var a = ed(t, e); var o = t.get('orient'); var s = a.width; var l = a.height; var u = nd(n, r); var c = a.x; var h = a.y; var d = o === 'horizontal' ? [Object(v.parsePercent)(t.get('minSize'), l), Object(v.parsePercent)(t.get('maxSize'), l)] : [Object(v.parsePercent)(t.get('minSize'), s), Object(v.parsePercent)(t.get('maxSize'), s)]; var p = n.getDataExtent(i); var f = t.get('min'); var g = t.get('max'); f == null && (f = Math.min(p[0], 0)), g == null && (g = p[1]); var y = t.get('funnelAlign'); var m = t.get('gap'); var b = o === 'horizontal' ? s : l; var x = (b - m * (n.count() - 1)) / n.count(); var _ = function (t, e) { if (o === 'horizontal') { var r = n.get(i, t) || 0; var a = Object(v.linearMap)(r, [f, g], d, !0); var u = void 0; switch (y) { case 'top':u = h; break; case 'center':u = h + (l - a) / 2; break; case 'bottom':u = h + (l - a); break } return [[e, u], [e, u + a]] } var p; var m = n.get(i, t) || 0; var b = Object(v.linearMap)(m, [f, g], d, !0); switch (y) { case 'left':p = c; break; case 'center':p = c + (s - b) / 2; break; case 'right':p = c + s - b; break } return [[p, e], [p + b, e]] }; r === 'ascending' && (x = -x, m = -m, o === 'horizontal' ? c += s : h += l, u = u.reverse()); for (var w = 0; w < u.length; w++) { var O = u[w]; var S = u[w + 1]; var M = n.getItemModel(O); if (o === 'horizontal') { var I = M.get(['itemStyle', 'width']); I == null ? I = x : (I = Object(v.parsePercent)(I, s), r === 'ascending' && (I = -I)); var T = _(O, c); var j = _(S, c + I); c += I + m, n.setItemLayout(O, { points: T.concat(j.slice().reverse()) }) } else { var A = M.get(['itemStyle', 'height']); A == null ? A = x : (A = Object(v.parsePercent)(A, l), r === 'ascending' && (A = -A)); T = _(O, h), j = _(S, h + A); h += A + m, n.setItemLayout(O, { points: T.concat(j.slice().reverse()) }) } }id(n) }) } function ad (t) { od(t), sd(t) } function od (t) { if (!t.parallel) { var e = !1; f.each(t.series, function (t) { t && t.type === 'parallel' && (e = !0) }), e && (t.parallel = [{}]) } } function sd (t) { var e = Z.r(t.parallelAxis); f.each(e, function (e) { if (f.isObject(e)) { var n = e.parallelIndex || 0; var i = Z.r(t.parallel)[n]; i && i.parallelAxisDefault && f.merge(e, i.parallelAxisDefault, !1) } }) }c.e(rd), c.g(jo('funnel')); var ld = (function (t) { function e (e, n, i, r, a) { var o = t.call(this, e, n, i) || this; return o.type = r || 'value', o.axisIndex = a, o } return Object(Ct.b)(e, t), e.prototype.isHorizontal = function () { return this.coordinateSystem.getModel().get('layout') !== 'horizontal' }, e }(En)); var ud = ld; function cd (t, e, n, i, r, a) { t = t || 0; var o = n[1] - n[0]; if (r != null && (r = dd(r, [0, o])), a != null && (a = Math.max(a, r != null ? r : 0)), i === 'all') { var s = Math.abs(e[1] - e[0]); s = dd(s, [0, o]), r = a = dd(s, [r, a]), i = 0 }e[0] = dd(e[0], n), e[1] = dd(e[1], n); var l = hd(e, i); e[i] += t; var u; var c = r || 0; var h = n.slice(); return l.sign < 0 ? h[0] += c : h[1] -= c, e[i] = dd(e[i], h), u = hd(e, i), r != null && (u.sign !== l.sign || u.span < r) && (e[1 - i] = e[i] + l.sign * r), u = hd(e, i), a != null && u.span > a && (e[1 - i] = e[i] + u.sign * a), e } function hd (t, e) { var n = t[e] - t[1 - e]; return { span: Math.abs(n), sign: n > 0 ? -1 : n < 0 ? 1 : e ? -1 : 1 } } function dd (t, e) { return Math.min(e[1] != null ? e[1] : 1 / 0, Math.max(e[0] != null ? e[0] : -1 / 0, t)) } var pd = f.each; var fd = Math.min; var gd = Math.max; var yd = Math.floor; var vd = Math.ceil; var md = v.round; var bd = Math.PI; var xd = (function () { function t (t, e, n) { this.type = 'parallel', this._axesMap = f.createHashMap(), this._axesLayout = {}, this.dimensions = t.dimensions, this._model = t, this._init(t, e, n) } return t.prototype._init = function (t, e, n) { var i = t.dimensions; var r = t.parallelAxisIndex; pd(i, function (t, n) { var i = r[n]; var a = e.getComponent('parallelAxis', i); var o = this._axesMap.set(t, new ud(t, Ze(a), [0, 0], a.get('type'), i)); var s = o.type === 'category'; o.onBand = s && a.get('boundaryGap'), o.inverse = a.get('inverse'), a.axis = o, o.model = a, o.coordinateSystem = a.coordinateSystem = this }, this) }, t.prototype.update = function (t, e) { this._updateAxesFromSeries(this._model, t) }, t.prototype.containPoint = function (t) { var e = this._makeLayoutInfo(); var n = e.axisBase; var i = e.layoutBase; var r = e.pixelDimIndex; var a = t[1 - r]; var o = t[r]; return a >= n && a <= n + e.axisLength && o >= i && o <= i + e.layoutLength }, t.prototype.getModel = function () { return this._model }, t.prototype._updateAxesFromSeries = function (t, e) { e.eachSeries(function (n) { if (t.contains(n, e)) { var i = n.getData(); pd(this.dimensions, function (t) { var e = this._axesMap.get(t); e.scale.unionExtentFromData(i, i.mapDimension(t)), Ue(e.scale, e.model) }, this) } }, this) }, t.prototype.resize = function (t, e) { this._rect = on.g(t.getBoxLayoutParams(), { width: e.getWidth(), height: e.getHeight() }), this._layoutAxes() }, t.prototype.getRect = function () { return this._rect }, t.prototype._makeLayoutInfo = function () { var t; var e = this._model; var n = this._rect; var i = ['x', 'y']; var r = ['width', 'height']; var a = e.get('layout'); var o = a === 'horizontal' ? 0 : 1; var s = n[r[o]]; var l = [0, s]; var u = this.dimensions.length; var c = _d(e.get('axisExpandWidth'), l); var h = _d(e.get('axisExpandCount') || 0, [0, u]); var d = e.get('axisExpandable') && u > 3 && u > h && h > 1 && c > 0 && s > 0; var p = e.get('axisExpandWindow'); if (p)t = _d(p[1] - p[0], l), p[1] = p[0] + t; else { t = _d(c * (h - 1), l); var f = e.get('axisExpandCenter') || yd(u / 2); p = [c * f - t / 2], p[1] = p[0] + t } var g = (s - t) / (u - h); g < 3 && (g = 0); var y = [yd(md(p[0] / c, 1)) + 1, vd(md(p[1] / c, 1)) - 1]; var v = g / c * p[0]; return { layout: a, pixelDimIndex: o, layoutBase: n[i[o]], layoutLength: s, axisBase: n[i[1 - o]], axisLength: n[r[1 - o]], axisExpandable: d, axisExpandWidth: c, axisCollapseWidth: g, axisExpandWindow: p, axisCount: u, winInnerIndices: y, axisExpandWindow0Pos: v } }, t.prototype._layoutAxes = function () { var t = this._rect; var e = this._axesMap; var n = this.dimensions; var i = this._makeLayoutInfo(); var r = i.layout; e.each(function (t) { var e = [0, i.axisLength]; var n = t.inverse ? 1 : 0; t.setExtent(e[n], e[1 - n]) }), pd(n, function (e, n) { var a = (i.axisExpandable ? Od : wd)(n, i); var o = { horizontal: { x: a.position, y: i.axisLength }, vertical: { x: 0, y: a.position } }; var s = { horizontal: bd / 2, vertical: 0 }; var l = [o[r].x + t.x, o[r].y + t.y]; var u = s[r]; var c = d.c(); d.g(c, c, u), d.i(c, c, l), this._axesLayout[e] = { position: l, rotation: u, transform: c, axisNameAvailableWidth: a.axisNameAvailableWidth, axisLabelShow: a.axisLabelShow, nameTruncateMaxWidth: a.nameTruncateMaxWidth, tickDirection: 1, labelDirection: 1 } }, this) }, t.prototype.getAxis = function (t) { return this._axesMap.get(t) }, t.prototype.dataToPoint = function (t, e) { return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t), e) }, t.prototype.eachActiveState = function (t, e, n, i) { n == null && (n = 0), i == null && (i = t.count()); var r = this._axesMap; var a = this.dimensions; var o = []; var s = []; f.each(a, function (e) { o.push(t.mapDimension(e)), s.push(r.get(e).model) }); for (var l = this.hasAxisBrushed(), u = n; u < i; u++) { var c = void 0; if (l) { c = 'active'; for (var h = t.getValues(o, u), d = 0, p = a.length; d < p; d++) { var g = s[d].getActiveState(h[d]); if (g === 'inactive') { c = 'inactive'; break } } } else c = 'normal'; e(c, u) } }, t.prototype.hasAxisBrushed = function () { for (var t = this.dimensions, e = this._axesMap, n = !1, i = 0, r = t.length; i < r; i++)e.get(t[i]).model.getActiveState() !== 'normal' && (n = !0); return n }, t.prototype.axisCoordToPoint = function (t, e) { var n = this._axesLayout[e]; return y.applyTransform([t, 0], n.transform) }, t.prototype.getAxisLayout = function (t) { return f.clone(this._axesLayout[t]) }, t.prototype.getSlidedAxisExpandWindow = function (t) { var e = this._makeLayoutInfo(); var n = e.pixelDimIndex; var i = e.axisExpandWindow.slice(); var r = i[1] - i[0]; var a = [0, e.axisExpandWidth * (e.axisCount - 1)]; if (!this.containPoint(t)) return { behavior: 'none', axisExpandWindow: i }; var o; var s = t[n] - e.layoutBase - e.axisExpandWindow0Pos; var l = 'slide'; var u = e.axisCollapseWidth; var c = this._model.get('axisExpandSlideTriggerArea'); var h = c[0] != null; if (u)h && u && s < r * c[0] ? (l = 'jump', o = s - r * c[2]) : h && u && s > r * (1 - c[0]) ? (l = 'jump', o = s - r * (1 - c[2])) : (o = s - r * c[1]) >= 0 && (o = s - r * (1 - c[1])) <= 0 && (o = 0), o *= e.axisExpandWidth / u, o ? cd(o, i, a, 'all') : l = 'none'; else { var d = i[1] - i[0]; var p = a[1] * s / d; i = [gd(0, p - d / 2)], i[1] = fd(a[1], i[0] + d), i[0] = i[1] - d } return { axisExpandWindow: i, behavior: l } }, t }()); function _d (t, e) { return fd(gd(t, e[0]), e[1]) } function wd (t, e) { var n = e.layoutLength / (e.axisCount - 1); return { position: n * t, axisNameAvailableWidth: n, axisLabelShow: !0 } } function Od (t, e) { var n; var i; var r = e.layoutLength; var a = e.axisExpandWidth; var o = e.axisCount; var s = e.axisCollapseWidth; var l = e.winInnerIndices; var u = s; var c = !1; return t < l[0] ? (n = t * s, i = s) : t <= l[1] ? (n = e.axisExpandWindow0Pos + t * a - e.axisExpandWindow[0], u = a, c = !0) : (n = r - (o - 1 - t) * s, i = s), { position: n, axisNameAvailableWidth: u, axisLabelShow: c, nameTruncateMaxWidth: i } } var Sd = xd; function Md (t, e) { var n = []; return t.eachComponent('parallel', function (i, r) { var a = new Sd(i, t, e); a.name = 'parallel_' + r, a.resize(i, e), i.coordinateSystem = a, a.model = i, n.push(a) }), t.eachSeries(function (t) { if (t.get('coordinateSystem') === 'parallel') { var e = t.getReferringComponents('parallel', Z.b).models[0]; t.coordinateSystem = e.coordinateSystem } }), n }mt.a.register('parallel', { create: Md }); var Id = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.activeIntervals = [], n } return Object(Ct.b)(e, t), e.prototype.getAreaSelectStyle = function () { return Object(pu.a)([['fill', 'color'], ['lineWidth', 'borderWidth'], ['stroke', 'borderColor'], ['width', 'width'], ['opacity', 'opacity']])(this.getModel('areaSelectStyle')) }, e.prototype.setActiveIntervals = function (t) { var e = this.activeIntervals = f.clone(t); if (e) for (var n = e.length - 1; n >= 0; n--)v.asc(e[n]) }, e.prototype.getActiveState = function (t) { var e = this.activeIntervals; if (!e.length) return 'normal'; if (t == null || isNaN(+t)) return 'inactive'; if (e.length === 1) { var n = e[0]; if (n[0] <= t && t <= n[1]) return 'active' } else for (var i = 0, r = e.length; i < r; i++) if (e[i][0] <= t && t <= e[i][1]) return 'active'; return 'inactive' }, e }(hr.a)); var Td = { type: 'value', areaSelectStyle: { width: 20, borderWidth: 1, borderColor: 'rgba(160,197,232)', color: 'rgba(160,197,232)', opacity: 0.3 }, realtime: !0, z: 10 }; hr.a.registerClass(Id), f.mixin(Id, an), br('parallel', Id, Td); var jd = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.init = function () { t.prototype.init.apply(this, arguments), this.mergeOption({}) }, e.prototype.mergeOption = function (t) { var e = this.option; t && f.merge(e, t, !0), this._initDimensions() }, e.prototype.contains = function (t, e) { var n = t.get('parallelIndex'); return n != null && e.getComponent('parallel', n) === this }, e.prototype.setAxisExpand = function (t) { f.each(['axisExpandable', 'axisExpandCenter', 'axisExpandCount', 'axisExpandWidth', 'axisExpandWindow'], function (e) { t.hasOwnProperty(e) && (this.option[e] = t[e]) }, this) }, e.prototype._initDimensions = function () { var t = this.dimensions = []; var e = this.parallelAxisIndex = []; var n = f.filter(this.ecModel.queryComponents({ mainType: 'parallelAxis' }), function (t) { return (t.get('parallelIndex') || 0) === this.componentIndex }, this); f.each(n, function (n) { t.push('dim' + n.get('dim')), e.push(n.componentIndex) }) }, e.type = 'parallel', e.dependencies = ['parallelAxis'], e.layoutMode = 'box', e.defaultOption = { zlevel: 0, z: 0, left: 80, top: 60, right: 80, bottom: 60, layout: 'horizontal', axisExpandable: !1, axisExpandCenter: null, axisExpandCount: 0, axisExpandWidth: 50, axisExpandRate: 17, axisExpandDebounce: 50, axisExpandSlideTriggerArea: [-0.15, 0.05, 0.4], axisExpandTriggerOn: 'click', parallelAxisDefault: null }, e }(hr.a)); hr.a.registerClass(jd); var Ad = { type: 'axisAreaSelect', event: 'axisAreaSelected' }; c.c(Ad, function (t, e) { e.eachComponent({ mainType: 'parallelAxis', query: t }, function (e) { e.axis.model.setActiveIntervals(t.intervals) }) }), c.c('parallelAxisExpand', function (t, e) { e.eachComponent({ mainType: 'parallel', query: t }, function (e) { e.setAxisExpand(t) }) }); var Cd = !0; var Dd = Math.min; var kd = Math.max; var Ld = Math.pow; var Pd = 1e4; var Rd = 6; var Nd = 6; var Ed = 'globalPan'; var zd = { w: [0, 0], e: [0, 1], n: [1, 0], s: [1, 1] }; var Bd = { w: 'ew', e: 'ew', n: 'ns', s: 'ns', ne: 'nesw', sw: 'nesw', nw: 'nwse', se: 'nwse' }; var Vd = { brushStyle: { lineWidth: 2, stroke: 'rgba(210,219,238,0.3)', fill: '#D2DBEE' }, transformable: !0, brushMode: 'single', removeOnClick: !1 }; var Fd = 0; var Gd = (function (t) { function e (e) { var n = t.call(this) || this; return n._track = [], n._covers = [], n._handlers = {}, n._zr = e, n.group = new y.Group(), n._uid = 'brushController_' + Fd++, Object(f.each)(xp, function (t, e) { this._handlers[e] = Object(f.bind)(t, this) }, n), n } return Object(Ct.b)(e, t), e.prototype.enableBrush = function (t) { return this._brushType && this._doDisableBrush(), t.brushType && this._doEnableBrush(t), this }, e.prototype._doEnableBrush = function (t) { var e = this._zr; this._enableGlobalPan || Is(e, Ed, this._uid), Object(f.each)(this._handlers, function (t, n) { e.on(n, t) }), this._brushType = t.brushType, this._brushOption = Object(f.merge)(Object(f.clone)(Vd), t, !0) }, e.prototype._doDisableBrush = function () { var t = this._zr; Ts(t, Ed, this._uid), Object(f.each)(this._handlers, function (e, n) { t.off(n, e) }), this._brushType = this._brushOption = null }, e.prototype.setPanels = function (t) { if (t && t.length) { var e = this._panels = {}; Object(f.each)(t, function (t) { e[t.panelId] = Object(f.clone)(t) }) } else this._panels = null; return this }, e.prototype.mount = function (t) { t = t || {}, this._enableGlobalPan = t.enableGlobalPan; var e = this.group; return this._zr.add(e), e.attr({ x: t.x || 0, y: t.y || 0, rotation: t.rotation || 0, scaleX: t.scaleX || 1, scaleY: t.scaleY || 1 }), this._transform = e.getLocalTransform(), this }, e.prototype.updateCovers = function (t) { t = Object(f.map)(t, function (t) { return Object(f.merge)(Object(f.clone)(Vd), t, !0) }); var e = '\0-brush-index-'; var n = this._covers; var i = this._covers = []; var r = this; var a = this._creatingCover; return new M(n, t, s, o).add(l).update(l).remove(u).execute(), this; function o (t, n) { return (t.id != null ? t.id : e + n) + '-' + t.brushType } function s (t, e) { return o(t.__brushOption, e) } function l (e, o) { var s = t[e]; if (o != null && n[o] === a)i[e] = n[o]; else { var l = i[e] = o != null ? (n[o].__brushOption = s, n[o]) : Wd(r, Hd(r, s)); Ud(r, l) } } function u (t) { n[t] !== a && r.group.remove(n[t]) } }, e.prototype.unmount = function () { return this.enableBrush(!1), $d(this), this._zr.remove(this.group), this }, e.prototype.dispose = function () { this.unmount(), this.off() }, e }(Os.a)); function Hd (t, e) { var n = Op[e.brushType].createCover(t, e); return n.__brushOption = e, Yd(n, e), t.group.add(n), n } function Wd (t, e) { var n = Zd(e); return n.endCreating && (n.endCreating(t, e), Yd(e, e.__brushOption)), e } function Xd (t, e) { var n = e.__brushOption; Zd(e).updateCoverShape(t, e, n.range, n) } function Yd (t, e) { var n = e.z; n == null && (n = Pd), t.traverse(function (t) { t.z = n, t.z2 = n }) } function Ud (t, e) { Zd(e).updateCommon(t, e), Xd(t, e) } function Zd (t) { return Op[t.__brushOption.brushType] } function qd (t, e, n) { var i; var r = t._panels; if (!r) return Cd; var a = t._transform; return Object(f.each)(r, function (t) { t.isTargetByCursor(e, n, a) && (i = t) }), i } function Kd (t, e) { var n = t._panels; if (!n) return Cd; var i = e.__brushOption.panelId; return i != null ? n[i] : Cd } function $d (t) { var e = t._covers; var n = e.length; return Object(f.each)(e, function (e) { t.group.remove(e) }, t), e.length = 0, !!n } function Qd (t, e) { var n = Object(f.map)(t._covers, function (t) { var e = t.__brushOption; var n = Object(f.clone)(e.range); return { brushType: e.brushType, panelId: e.panelId, range: n } }); t.trigger('brush', { areas: n, isEnd: !!e.isEnd, removeOnClick: !!e.removeOnClick }) } function Jd (t) { var e = t._track; if (!e.length) return !1; var n = e[e.length - 1]; var i = e[0]; var r = n[0] - i[0]; var a = n[1] - i[1]; var o = Ld(r * r + a * a, 0.5); return o > Rd } function tp (t) { var e = t.length - 1; return e < 0 && (e = 0), [t[0], t[e]] } function ep (t, e, n, i) { var r = new y.Group(); return r.add(new y.Rect({ name: 'main', style: ap(n), silent: !0, draggable: !0, cursor: 'move', drift: Object(f.curry)(cp, t, e, r, ['n', 's', 'w', 'e']), ondragend: Object(f.curry)(Qd, e, { isEnd: !0 }) })), Object(f.each)(i, function (n) { r.add(new y.Rect({ name: n.join(''), style: { opacity: 0 }, draggable: !0, silent: !0, invisible: !0, drift: Object(f.curry)(cp, t, e, r, n), ondragend: Object(f.curry)(Qd, e, { isEnd: !0 }) })) }), r } function np (t, e, n, i) { var r = i.brushStyle.lineWidth || 0; var a = kd(r, Nd); var o = n[0][0]; var s = n[1][0]; var l = o - r / 2; var u = s - r / 2; var c = n[0][1]; var h = n[1][1]; var d = c - a + r / 2; var p = h - a + r / 2; var f = c - o; var g = h - s; var y = f + r; var v = g + r; rp(t, e, 'main', o, s, f, g), i.transformable && (rp(t, e, 'w', l, u, a, v), rp(t, e, 'e', d, u, a, v), rp(t, e, 'n', l, u, y, a), rp(t, e, 's', l, p, y, a), rp(t, e, 'nw', l, u, a, a), rp(t, e, 'ne', d, u, a, a), rp(t, e, 'sw', l, p, a, a), rp(t, e, 'se', d, p, a, a)) } function ip (t, e) { var n = e.__brushOption; var i = n.transformable; var r = e.childAt(0); r.useStyle(ap(n)), r.attr({ silent: !i, cursor: i ? 'move' : 'default' }), Object(f.each)([['w'], ['e'], ['n'], ['s'], ['s', 'e'], ['s', 'w'], ['n', 'e'], ['n', 'w']], function (n) { var r = e.childOfName(n.join('')); var a = n.length === 1 ? lp(t, n[0]) : up(t, n); r && r.attr({ silent: !i, invisible: !i, cursor: i ? Bd[a] + '-resize' : null }) }) } function rp (t, e, n, i, r, a, o) { var s = e.childOfName(n); s && s.setShape(fp(pp(t, e, [[i, r], [i + a, r + o]]))) } function ap (t) { return Object(f.defaults)({ strokeNoScale: !0 }, t.brushStyle) } function op (t, e, n, i) { var r = [Dd(t, n), Dd(e, i)]; var a = [kd(t, n), kd(e, i)]; return [[r[0], a[0]], [r[1], a[1]]] } function sp (t) { return y.getTransform(t.group) } function lp (t, e) { var n = { w: 'left', e: 'right', n: 'top', s: 'bottom' }; var i = { left: 'w', right: 'e', top: 'n', bottom: 's' }; var r = y.transformDirection(n[e], sp(t)); return i[r] } function up (t, e) { var n = [lp(t, e[0]), lp(t, e[1])]; return (n[0] === 'e' || n[0] === 'w') && n.reverse(), n.join('') } function cp (t, e, n, i, r, a) { var o = n.__brushOption; var s = t.toRectRange(o.range); var l = dp(e, r, a); Object(f.each)(i, function (t) { var e = zd[t]; s[e[0]][e[1]] += l[e[0]] }), o.range = t.fromRectRange(op(s[0][0], s[1][0], s[0][1], s[1][1])), Ud(e, n), Qd(e, { isEnd: !1 }) } function hp (t, e, n, i) { var r = e.__brushOption.range; var a = dp(t, n, i); Object(f.each)(r, function (t) { t[0] += a[0], t[1] += a[1] }), Ud(t, e), Qd(t, { isEnd: !1 }) } function dp (t, e, n) { var i = t.group; var r = i.transformCoordToLocal(e, n); var a = i.transformCoordToLocal(0, 0); return [r[0] - a[0], r[1] - a[1]] } function pp (t, e, n) { var i = Kd(t, e); return i && i !== Cd ? i.clipPath(n, t._transform) : Object(f.clone)(n) } function fp (t) { var e = Dd(t[0][0], t[1][0]); var n = Dd(t[0][1], t[1][1]); var i = kd(t[0][0], t[1][0]); var r = kd(t[0][1], t[1][1]); return { x: e, y: n, width: i - e, height: r - n } } function gp (t, e, n) { if (t._brushType && !wp(t, e.offsetX, e.offsetY)) { var i = t._zr; var r = t._covers; var a = qd(t, e, n); if (!t._dragging) for (var o = 0; o < r.length; o++) { var s = r[o].__brushOption; if (a && (a === Cd || s.panelId === a.panelId) && Op[s.brushType].contain(r[o], n[0], n[1])) return }a && i.setCursorStyle('crosshair') } } function yp (t) { var e = t.event; e.preventDefault && e.preventDefault() } function vp (t, e, n) { return t.childOfName('main').contain(e, n) } function mp (t, e, n, i) { var r; var a = t._creatingCover; var o = t._creatingPanel; var s = t._brushOption; if (t._track.push(n.slice()), Jd(t) || a) { if (o && !a) { s.brushMode === 'single' && $d(t); var l = Object(f.clone)(s); l.brushType = bp(l.brushType, o), l.panelId = o === Cd ? null : o.panelId, a = t._creatingCover = Hd(t, l), t._covers.push(a) } if (a) { var u = Op[bp(t._brushType, o)]; var c = a.__brushOption; c.range = u.getCreatingRange(pp(t, a, t._track)), i && (Wd(t, a), u.updateCommon(t, a)), Xd(t, a), r = { isEnd: i } } } else i && s.brushMode === 'single' && s.removeOnClick && qd(t, e, n) && $d(t) && (r = { isEnd: i, removeOnClick: !0 }); return r } function bp (t, e) { return t === 'auto' ? e.defaultBrushType : t } var xp = { mousedown: function (t) { if (this._dragging)_p(this, t); else if (!t.target || !t.target.draggable) { yp(t); var e = this.group.transformCoordToLocal(t.offsetX, t.offsetY); this._creatingCover = null; var n = this._creatingPanel = qd(this, t, e); n && (this._dragging = !0, this._track = [e.slice()]) } }, mousemove: function (t) { var e = t.offsetX; var n = t.offsetY; var i = this.group.transformCoordToLocal(e, n); if (gp(this, t, i), this._dragging) { yp(t); var r = mp(this, t, i, !1); r && Qd(this, r) } }, mouseup: function (t) { _p(this, t) } }; function _p (t, e) { if (t._dragging) { yp(e); var n = e.offsetX; var i = e.offsetY; var r = t.group.transformCoordToLocal(n, i); var a = mp(t, e, r, !0); t._dragging = !1, t._track = [], t._creatingCover = null, a && Qd(t, a) } } function wp (t, e, n) { var i = t._zr; return e < 0 || e > i.getWidth() || n < 0 || n > i.getHeight() } var Op = { lineX: Sp(0), lineY: Sp(1), rect: { createCover: function (t, e) { function n (t) { return t } return ep({ toRectRange: n, fromRectRange: n }, t, e, [['w'], ['e'], ['n'], ['s'], ['s', 'e'], ['s', 'w'], ['n', 'e'], ['n', 'w']]) }, getCreatingRange: function (t) { var e = tp(t); return op(e[1][0], e[1][1], e[0][0], e[0][1]) }, updateCoverShape: function (t, e, n, i) { np(t, e, n, i) }, updateCommon: ip, contain: vp }, polygon: { createCover: function (t, e) { var n = new y.Group(); return n.add(new y.Polyline({ name: 'main', style: ap(e), silent: !0 })), n }, getCreatingRange: function (t) { return t }, endCreating: function (t, e) { e.remove(e.childAt(0)), e.add(new y.Polygon({ name: 'main', draggable: !0, drift: Object(f.curry)(hp, t, e), ondragend: Object(f.curry)(Qd, t, { isEnd: !0 }) })) }, updateCoverShape: function (t, e, n, i) { e.childAt(0).setShape({ points: pp(t, e, n) }) }, updateCommon: ip, contain: vp } }; function Sp (t) { return { createCover: function (e, n) { return ep({ toRectRange: function (e) { var n = [e, [0, 100]]; return t && n.reverse(), n }, fromRectRange: function (e) { return e[t] } }, e, n, [[['w'], ['e']], [['n'], ['s']]][t]) }, getCreatingRange: function (e) { var n = tp(e); var i = Dd(n[0][t], n[1][t]); var r = kd(n[0][t], n[1][t]); return [i, r] }, updateCoverShape: function (e, n, i, r) { var a; var o = Kd(e, n); if (o !== Cd && o.getLinearBrushOtherExtent)a = o.getLinearBrushOtherExtent(t); else { var s = e._zr; a = [0, [s.getWidth(), s.getHeight()][1 - t]] } var l = [i, a]; t && l.reverse(), np(e, n, l, r) }, updateCommon: ip, contain: vp } } var Mp = Gd; function Ip (t) { return t = Ap(t), function (e) { return y.clipPointsByRect(e, t) } } function Tp (t, e) { return t = Ap(t), function (n) { var i = e != null ? e : n; var r = i ? t.width : t.height; var a = i ? t.x : t.y; return [a, a + (r || 0)] } } function jp (t, e, n) { var i = Ap(t); return function (t, r) { return i.contain(r[0], r[1]) && !zs(t, e, n) } } function Ap (t) { return pe.a.create(t) } var Cp = ['axisLine', 'axisTickLabel', 'axisName']; var Dp = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.init = function (e, n) { t.prototype.init.apply(this, arguments), (this._brushController = new Mp(n.getZr())).on('brush', f.bind(this._onBrush, this)) }, e.prototype.render = function (t, e, n, i) { if (!kp(t, e, i)) { this.axisModel = t, this.api = n, this.group.removeAll(); var r = this._axisGroup; if (this._axisGroup = new y.Group(), this.group.add(this._axisGroup), t.get('show')) { var a = Pp(t, e); var o = a.coordinateSystem; var s = t.getAreaSelectStyle(); var l = s.width; var u = t.axis.dim; var c = o.getAxisLayout(u); var h = f.extend({ strokeContainThreshold: l }, c); var d = new Rr(t, h); f.each(Cp, d.add, d), this._axisGroup.add(d.getGroup()), this._refreshBrushController(h, s, t, a, l, n), y.groupTransition(r, this._axisGroup, t) } } }, e.prototype._refreshBrushController = function (t, e, n, i, r, a) { var o = n.axis.getExtent(); var s = o[1] - o[0]; var l = Math.min(30, 0.1 * Math.abs(s)); var u = y.BoundingRect.create({ x: o[0], y: -r / 2, width: s, height: r }); u.x -= l, u.width += 2 * l, this._brushController.mount({ enableGlobalPan: !0, rotation: t.rotation, x: t.position[0], y: t.position[1] }).setPanels([{ panelId: 'pl', clipPath: Ip(u), isTargetByCursor: jp(u, a, i), getLinearBrushOtherExtent: Tp(u, 0) }]).enableBrush({ brushType: 'lineX', brushStyle: e, removeOnClick: !0 }).updateCovers(Lp(n)) }, e.prototype._onBrush = function (t) { var e = t.areas; var n = this.axisModel; var i = n.axis; var r = f.map(e, function (t) { return [i.coordToData(t.range[0], !0), i.coordToData(t.range[1], !0)] }); (!n.option.realtime === t.isEnd || t.removeOnClick) && this.api.dispatchAction({ type: 'axisAreaSelect', parallelAxisId: n.id, intervals: r }) }, e.prototype.dispose = function () { this._brushController.dispose() }, e.type = 'parallelAxis', e }(Ur.a)); function kp (t, e, n) { return n && n.type === 'axisAreaSelect' && e.findComponents({ mainType: 'parallelAxis', query: n })[0] === t } function Lp (t) { var e = t.axis; return f.map(t.activeIntervals, function (t) { return { brushType: 'lineX', panelId: 'pl', range: [e.dataToCoord(t[0], !0), e.dataToCoord(t[1], !0)] } }) } function Pp (t, e) { return e.getComponent('parallel', t.get('parallelIndex')) }Ur.a.registerClass(Dp); var Rp = 5; var Np = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n) { this._model = t, this._api = n, this._handlers || (this._handlers = {}, f.each(Ep, function (t, e) { n.getZr().on(e, this._handlers[e] = f.bind(t, this)) }, this)), x.b(this, '_throttledDispatchExpand', t.get('axisExpandRate'), 'fixRate') }, e.prototype.dispose = function (t, e) { f.each(this._handlers, function (t, n) { e.getZr().off(n, t) }), this._handlers = null }, e.prototype._throttledDispatchExpand = function (t) { this._dispatchExpand(t) }, e.prototype._dispatchExpand = function (t) { t && this._api.dispatchAction(f.extend({ type: 'parallelAxisExpand' }, t)) }, e.type = 'parallel', e }(Ur.a)); Ur.a.registerClass(Np); var Ep = { mousedown: function (t) { zp(this, 'click') && (this._mouseDownPoint = [t.offsetX, t.offsetY]) }, mouseup: function (t) { var e = this._mouseDownPoint; if (zp(this, 'click') && e) { var n = [t.offsetX, t.offsetY]; var i = Math.pow(e[0] - n[0], 2) + Math.pow(e[1] - n[1], 2); if (i > Rp) return; var r = this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX, t.offsetY]); r.behavior !== 'none' && this._dispatchExpand({ axisExpandWindow: r.axisExpandWindow }) } this._mouseDownPoint = null }, mousemove: function (t) { if (!this._mouseDownPoint && zp(this, 'mousemove')) { var e = this._model; var n = e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX, t.offsetY]); var i = n.behavior; i === 'jump' && this._throttledDispatchExpand.debounceNextCall(e.get('axisExpandDebounce')), this._throttledDispatchExpand(i === 'none' ? null : { axisExpandWindow: n.axisExpandWindow, animation: i === 'jump' ? null : { duration: 0 } }) } } }; function zp (t, e) { var n = t._model; return n.get('axisExpandable') && n.get('axisExpandTriggerOn') === e }c.f(ad); var Bp = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.visualStyleAccessPath = 'lineStyle', n.visualDrawType = 'stroke', n } return Object(Ct.b)(e, t), e.prototype.getInitialData = function (t, e) { return At(this.getSource(), this, { useEncodeDefaulter: Object(f.bind)(Vp, null, this) }) }, e.prototype.getRawIndicesByActiveState = function (t) { var e = this.coordinateSystem; var n = this.getData(); var i = []; return e.eachActiveState(n, function (e, r) { t === e && i.push(n.getRawIndex(r)) }), i }, e.type = 'series.parallel', e.dependencies = ['parallel'], e.defaultOption = { zlevel: 0, z: 2, coordinateSystem: 'parallel', parallelIndex: 0, label: { show: !1 }, inactiveOpacity: 0.05, activeOpacity: 1, lineStyle: { width: 1, opacity: 0.45, type: 'solid' }, emphasis: { label: { show: !1 } }, progressive: 500, smooth: !1, animationEasing: 'linear' }, e }(oi.a)); function Vp (t) { var e = t.ecModel.getComponent('parallel', t.get('parallelIndex')); if (e) { var n = {}; return Object(f.each)(e.dimensions, function (t) { var e = Fp(t); n[t] = e }), n } } function Fp (t) { return +t.replace('dim', '') }oi.a.registerClass(Bp); var Gp = 0.3; var Hp = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n._dataGroup = new y.Group(), n._initialized = !1, n } return Object(Ct.b)(e, t), e.prototype.init = function () { this.group.add(this._dataGroup) }, e.prototype.render = function (t, e, n, i) { var r = this._dataGroup; var a = t.getData(); var o = this._data; var s = t.coordinateSystem; var l = s.dimensions; var u = Up(t); function c (t) { var e = Yp(a, r, t, l, s); Zp(e, a, t, u) } function h (e, n) { var i = o.getItemGraphicEl(n); var r = Xp(a, e, l, s); a.setItemGraphicEl(e, i), y.updateProps(i, { shape: { points: r } }, t, e), Zp(i, a, e, u) } function d (t) { var e = o.getItemGraphicEl(t); r.remove(e) } if (a.diff(o).add(c).update(h).remove(d).execute(), !this._initialized) { this._initialized = !0; var p = Wp(s, t, function () { setTimeout(function () { r.removeClipPath() }) }); r.setClipPath(p) } this._data = a }, e.prototype.incrementalPrepareRender = function (t, e, n) { this._initialized = !0, this._data = null, this._dataGroup.removeAll() }, e.prototype.incrementalRender = function (t, e, n) { for (var i = e.getData(), r = e.coordinateSystem, a = r.dimensions, o = Up(e), s = t.start; s < t.end; s++) { var l = Yp(i, this._dataGroup, s, a, r); l.incremental = !0, Zp(l, i, s, o) } }, e.prototype.remove = function () { this._dataGroup && this._dataGroup.removeAll(), this._data = null }, e.type = 'parallel', e }(Vi.a)); function Wp (t, e, n) { var i = t.model; var r = t.getRect(); var a = new y.Rect({ shape: { x: r.x, y: r.y, width: r.width, height: r.height } }); var o = i.get('layout') === 'horizontal' ? 'width' : 'height'; return a.setShape(o, 0), y.initProps(a, { shape: { width: r.width, height: r.height } }, e, n), a } function Xp (t, e, n, i) { for (var r = [], a = 0; a < n.length; a++) { var o = n[a]; var s = t.get(t.mapDimension(o), e); qp(s, i.getAxis(o).type) || r.push(i.dataToPoint(s, o)) } return r } function Yp (t, e, n, i, r) { var a = Xp(t, n, i, r); var o = new y.Polyline({ shape: { points: a }, z2: 10 }); return e.add(o), t.setItemGraphicEl(n, o), o } function Up (t) { var e = t.get('smooth', !0); return !0 === e && (e = Gp), e = Object(v.numericToNumber)(e), Object(f.eqNaN)(e) && (e = 0), { smooth: e } } function Zp (t, e, n, i) { t.useStyle(e.getItemVisual(n, 'style')), t.style.fill = null, t.setShape('smooth', i.smooth); var r = e.getItemModel(n); var a = r.getModel('emphasis'); Object(li.D)(t, r, 'lineStyle'), Object(li.k)(t, a.get('focus'), a.get('blurScope')) } function qp (t, e) { return e === 'category' ? t == null : t == null || isNaN(t) }Vi.a.registerClass(Hp); var Kp = ['lineStyle', 'opacity']; var $p = { seriesType: 'parallel', reset: function (t, e) { var n = t.coordinateSystem; var i = { normal: t.get(['lineStyle', 'opacity']), active: t.get('activeOpacity'), inactive: t.get('inactiveOpacity') }; return { progress: function (t, e) { n.eachActiveState(e, function (t, n) { var r = i[t]; if (t === 'normal' && e.hasItemOption) { var a = e.getItemModel(n).get(Kp, !0); a != null && (r = a) } var o = e.ensureUniqueItemVisual(n, 'style'); o.opacity = r }, t.start, t.end) } } } }; var Qp = $p; c.i(c.a.VISUAL.BRUSH, Qp); var Jp = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.getInitialData = function (t, e) { var n = t.edges || t.links; var i = t.data || t.nodes; var r = t.levels; this.levelModels = []; for (var a = this.levelModels, o = 0; o < r.length; o++)r[o].depth != null && r[o].depth >= 0 && (a[r[o].depth] = new _.a(r[o], this, e)); if (i && n) { var s = Pc(i, n, this, !0, l); return s.data } function l (t, e) { t.wrapMethod('getItemModel', function (t, e) { var n = t.parentModel; var i = n.getData().getItemLayout(e); if (i) { var r = i.depth; var a = n.levelModels[r]; a && (t.parentModel = a) } return t }), e.wrapMethod('getItemModel', function (t, e) { var n = t.parentModel; var i = n.getGraph().getEdgeByIndex(e); var r = i.node1.getLayout(); if (r) { var a = r.depth; var o = n.levelModels[a]; o && (t.parentModel = o) } return t }) } }, e.prototype.setNodePosition = function (t, e) { var n = this.option.data[t]; n.localX = e[0], n.localY = e[1] }, e.prototype.getGraph = function () { return this.getData().graph }, e.prototype.getEdgeData = function () { return this.getGraph().edgeData }, e.prototype.formatTooltip = function (t, e, n) { function i (t) { return isNaN(t) || t == null } if (n === 'edge') { var r = this.getDataParams(t, n); var a = r.data; var o = r.value; var s = a.source + ' -- ' + a.target; return Object(Xo.c)('nameValue', { name: s, value: o, noValue: i(o) }) } var l = this.getGraph().getNodeByIndex(t); var u = l.getLayout().value; var c = this.getDataParams(t, n).data.name; return Object(Xo.c)('nameValue', { name: c, value: u, noValue: i(u) }) }, e.prototype.optionUpdated = function () { var t = this.option; !0 === t.focusNodeAdjacency && (t.focusNodeAdjacency = 'allEdges') }, e.prototype.getDataParams = function (e, n) { var i = t.prototype.getDataParams.call(this, e, n); if (i.value == null && n === 'node') { var r = this.getGraph().getNodeByIndex(e); var a = r.getLayout().value; i.value = a } return i }, e.type = 'series.sankey', e.defaultOption = { zlevel: 0, z: 2, coordinateSystem: 'view', left: '5%', top: '5%', right: '20%', bottom: '5%', orient: 'horizontal', nodeWidth: 20, nodeGap: 8, draggable: !0, focusNodeAdjacency: !1, layoutIterations: 32, label: { show: !0, position: 'right', fontSize: 12 }, levels: [], nodeAlign: 'justify', lineStyle: { color: '#314656', opacity: 0.2, curveness: 0.5 }, emphasis: { label: { show: !0 }, lineStyle: { opacity: 0.5 } }, select: { itemStyle: { borderColor: '#212121' } }, animationEasing: 'linear', animationDuration: 1e3 }, e }(oi.a)); oi.a.registerClass(Jp); var tf = (function () { function t () { this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.cpx1 = 0, this.cpy1 = 0, this.cpx2 = 0, this.cpy2 = 0, this.extent = 0 } return t }()); var ef = (function (t) { function e (e) { return t.call(this, e) || this } return Object(Ct.b)(e, t), e.prototype.getDefaultShape = function () { return new tf() }, e.prototype.buildPath = function (t, e) { var n = e.extent; t.moveTo(e.x1, e.y1), t.bezierCurveTo(e.cpx1, e.cpy1, e.cpx2, e.cpy2, e.x2, e.y2), e.orient === 'vertical' ? (t.lineTo(e.x2 + n, e.y2), t.bezierCurveTo(e.cpx2 + n, e.cpy2, e.cpx1 + n, e.cpy1, e.x1 + n, e.y1)) : (t.lineTo(e.x2, e.y2 + n), t.bezierCurveTo(e.cpx2, e.cpy2 + n, e.cpx1, e.cpy1 + n, e.x1, e.y1 + n)), t.closePath() }, e.prototype.highlight = function () { Object(li.n)(this) }, e.prototype.downplay = function () { Object(li.w)(this) }, e }(y.Path)); var nf = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n._focusAdjacencyDisabled = !1, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n) { var i = this; var r = t.getGraph(); var a = this.group; var o = t.layoutInfo; var s = o.width; var l = o.height; var u = t.getData(); var c = t.getData('edge'); var h = t.get('orient'); this._model = t, a.removeAll(), a.x = o.x, a.y = o.y, r.eachEdge(function (e) { var n = new ef(); var i = Object(q.a)(n); i.dataIndex = e.dataIndex, i.seriesIndex = t.seriesIndex, i.dataType = 'edge'; var r; var o; var u; var d; var p; var f; var g; var v; var m = e.getModel(); var b = m.getModel('lineStyle'); var x = b.get('curveness'); var _ = e.node1.getLayout(); var w = e.node1.getModel(); var O = w.get('localX'); var S = w.get('localY'); var M = e.node2.getLayout(); var I = e.node2.getModel(); var T = I.get('localX'); var j = I.get('localY'); var A = e.getLayout(); switch (n.shape.extent = Math.max(1, A.dy), n.shape.orient = h, h === 'vertical' ? (r = (O != null ? O * s : _.x) + A.sy, o = (S != null ? S * l : _.y) + _.dy, u = (T != null ? T * s : M.x) + A.ty, d = j != null ? j * l : M.y, p = r, f = o * (1 - x) + d * x, g = u, v = o * x + d * (1 - x)) : (r = (O != null ? O * s : _.x) + _.dx, o = (S != null ? S * l : _.y) + A.sy, u = T != null ? T * s : M.x, d = (j != null ? j * l : M.y) + A.ty, p = r * (1 - x) + u * x, f = o, g = r * x + u * (1 - x), v = d), n.setShape({ x1: r, y1: o, x2: u, y2: d, cpx1: p, cpy1: f, cpx2: g, cpy2: v }), n.useStyle(b.getItemStyle()), n.style.fill) { case 'source':n.style.fill = e.node1.getVisual('color'), n.style.decal = e.node1.getVisual('style').decal; break; case 'target':n.style.fill = e.node2.getVisual('color'), n.style.decal = e.node2.getVisual('style').decal; break; case 'gradient':var C = e.node1.getVisual('color'); var D = e.node2.getVisual('color'); typeof C === 'string' && typeof D === 'string' && (n.style.fill = new y.LinearGradient(0, 0, 1, 0, [{ color: C, offset: 0 }, { color: D, offset: 1 }])) } var k = m.getModel('emphasis'); Object(li.D)(n, m, 'lineStyle', function (t) { return t.getItemStyle() }), a.add(n), c.setItemGraphicEl(e.dataIndex, n); var L = k.get('focus'); Object(li.k)(n, L === 'adjacency' ? e.getAdjacentDataIndices() : L, k.get('blurScope')), Object(q.a)(n).dataType = 'edge' }), r.eachNode(function (e) { var n = e.getLayout(); var i = e.getModel(); var r = i.get('localX'); var o = i.get('localY'); var c = i.getModel('emphasis'); var h = new y.Rect({ shape: { x: r != null ? r * s : n.x, y: o != null ? o * l : n.y, width: n.dx, height: n.dy }, style: i.getModel('itemStyle').getItemStyle() }); Object(hi.g)(h, Object(hi.e)(i), { labelFetcher: t, labelDataIndex: e.dataIndex, defaultText: e.id }), h.disableLabelAnimation = !0, h.setStyle('fill', e.getVisual('color')), h.setStyle('decal', e.getVisual('style').decal), Object(li.D)(h, i), a.add(h), u.setItemGraphicEl(e.dataIndex, h), Object(q.a)(h).dataType = 'node'; var d = c.get('focus'); Object(li.k)(h, d === 'adjacency' ? e.getAdjacentDataIndices() : d, c.get('blurScope')) }), u.eachItemGraphicEl(function (e, r) { var a = u.getItemModel(r); a.get('draggable') && (e.drift = function (e, a) { i._focusAdjacencyDisabled = !0, this.shape.x += e, this.shape.y += a, this.dirty(), n.dispatchAction({ type: 'dragNode', seriesId: t.id, dataIndex: u.getRawIndex(r), localX: this.shape.x / s, localY: this.shape.y / l }) }, e.ondragend = function () { i._focusAdjacencyDisabled = !1 }, e.draggable = !0, e.cursor = 'move') }), !this._data && t.isAnimationEnabled() && a.setClipPath(rf(a.getBoundingRect(), t, function () { a.removeClipPath() })), this._data = t.getData() }, e.prototype.dispose = function () {}, e.type = 'sankey', e }(Vi.a)); function rf (t, e, n) { var i = new y.Rect({ shape: { x: t.x - 10, y: t.y - 10, width: 0, height: t.height + 20 } }); return y.initProps(i, { shape: { width: t.width + 20 } }, e, n), i }Vi.a.registerClass(nf); function af (t, e) { t.eachSeriesByType('sankey', function (t) { var n = t.get('nodeWidth'); var i = t.get('nodeGap'); var r = of(t, e); t.layoutInfo = r; var a = r.width; var o = r.height; var s = t.getGraph(); var l = s.nodes; var u = s.edges; lf(l); var c = f.filter(l, function (t) { return t.getLayout().value === 0 }); var h = c.length !== 0 ? 0 : t.get('layoutIterations'); var d = t.get('orient'); var p = t.get('nodeAlign'); sf(l, u, n, i, a, o, h, d, p) }) } function of (t, e) { return on.g(t.getBoxLayoutParams(), { width: e.getWidth(), height: e.getHeight() }) } function sf (t, e, n, i, r, a, o, s, l) { uf(t, e, n, r, a, s, l), ff(t, e, a, r, i, o, s), Tf(t, s) } function lf (t) { f.each(t, function (t) { var e = Mf(t.outEdges, Sf); var n = Mf(t.inEdges, Sf); var i = t.getValue() || 0; var r = Math.max(e, n, i); t.setLayout({ value: r }, !0) }) } function uf (t, e, n, i, r, a, o) { for (var s = [], l = [], u = [], c = [], h = 0, d = 0; d < e.length; d++)s[d] = 1; for (d = 0; d < t.length; d++)l[d] = t[d].inEdges.length, l[d] === 0 && u.push(t[d]); var p = -1; while (u.length) { for (var f = 0; f < u.length; f++) { var g = u[f]; var y = g.hostGraph.data.getRawDataItem(g.dataIndex); var v = y.depth != null && y.depth >= 0; v && y.depth > p && (p = y.depth), g.setLayout({ depth: v ? y.depth : h }, !0), a === 'vertical' ? g.setLayout({ dy: n }, !0) : g.setLayout({ dx: n }, !0); for (var m = 0; m < g.outEdges.length; m++) { var b = g.outEdges[m]; var x = e.indexOf(b); s[x] = 0; var _ = b.node2; var w = t.indexOf(_); --l[w] === 0 && c.indexOf(_) < 0 && c.push(_) } }++h, u = c, c = [] } for (d = 0; d < s.length; d++) if (s[d] === 1) throw new Error('Sankey is a DAG, the original data has cycle!'); var O = p > h - 1 ? p : h - 1; o && o !== 'left' && hf(t, o, a, O); var S = a === 'vertical' ? (r - n) / O : (i - n) / O; pf(t, S, a) } function cf (t) { var e = t.hostGraph.data.getRawDataItem(t.dataIndex); return e.depth != null && e.depth >= 0 } function hf (t, e, n, i) { if (e === 'right') { var r = []; var a = t; var o = 0; while (a.length) { for (var s = 0; s < a.length; s++) { var l = a[s]; l.setLayout({ skNodeHeight: o }, !0); for (var u = 0; u < l.inEdges.length; u++) { var c = l.inEdges[u]; r.indexOf(c.node1) < 0 && r.push(c.node1) } }a = r, r = [], ++o }f.each(t, function (t) { cf(t) || t.setLayout({ depth: Math.max(0, i - t.getLayout().skNodeHeight) }, !0) }) } else e === 'justify' && df(t, i) } function df (t, e) { f.each(t, function (t) { cf(t) || t.outEdges.length || t.setLayout({ depth: e }, !0) }) } function pf (t, e, n) { f.each(t, function (t) { var i = t.getLayout().depth * e; n === 'vertical' ? t.setLayout({ y: i }, !0) : t.setLayout({ x: i }, !0) }) } function ff (t, e, n, i, r, a, o) { var s = gf(t, o); yf(s, e, n, i, r, o), vf(s, r, n, i, o); for (var l = 1; a > 0; a--)l *= 0.99, mf(s, l, o), vf(s, r, n, i, o), If(s, l, o), vf(s, r, n, i, o) } function gf (t, e) { var n = []; var i = e === 'vertical' ? 'y' : 'x'; var r = Object(Z.j)(t, function (t) { return t.getLayout()[i] }); return r.keys.sort(function (t, e) { return t - e }), f.each(r.keys, function (t) { n.push(r.buckets.get(t)) }), n } function yf (t, e, n, i, r, a) { var o = 1 / 0; f.each(t, function (t) { var e = t.length; var s = 0; f.each(t, function (t) { s += t.getLayout().value }); var l = a === 'vertical' ? (i - (e - 1) * r) / s : (n - (e - 1) * r) / s; l < o && (o = l) }), f.each(t, function (t) { f.each(t, function (t, e) { var n = t.getLayout().value * o; a === 'vertical' ? (t.setLayout({ x: e }, !0), t.setLayout({ dx: n }, !0)) : (t.setLayout({ y: e }, !0), t.setLayout({ dy: n }, !0)) }) }), f.each(e, function (t) { var e = +t.getValue() * o; t.setLayout({ dy: e }, !0) }) } function vf (t, e, n, i, r) { var a = r === 'vertical' ? 'x' : 'y'; f.each(t, function (t) { var o, s, l; t.sort(function (t, e) { return t.getLayout()[a] - e.getLayout()[a] }); for (var u = 0, c = t.length, h = r === 'vertical' ? 'dx' : 'dy', d = 0; d < c; d++)s = t[d], l = u - s.getLayout()[a], l > 0 && (o = s.getLayout()[a] + l, r === 'vertical' ? s.setLayout({ x: o }, !0) : s.setLayout({ y: o }, !0)), u = s.getLayout()[a] + s.getLayout()[h] + e; var p = r === 'vertical' ? i : n; if (l = u - e - p, l > 0) { o = s.getLayout()[a] - l, r === 'vertical' ? s.setLayout({ x: o }, !0) : s.setLayout({ y: o }, !0), u = o; for (d = c - 2; d >= 0; --d)s = t[d], l = s.getLayout()[a] + s.getLayout()[h] + e - u, l > 0 && (o = s.getLayout()[a] - l, r === 'vertical' ? s.setLayout({ x: o }, !0) : s.setLayout({ y: o }, !0)), u = s.getLayout()[a] } }) } function mf (t, e, n) { f.each(t.slice().reverse(), function (t) { f.each(t, function (t) { if (t.outEdges.length) { var i = Mf(t.outEdges, bf, n) / Mf(t.outEdges, Sf); if (isNaN(i)) { var r = t.outEdges.length; i = r ? Mf(t.outEdges, xf, n) / r : 0 } if (n === 'vertical') { var a = t.getLayout().x + (i - Of(t, n)) * e; t.setLayout({ x: a }, !0) } else { var o = t.getLayout().y + (i - Of(t, n)) * e; t.setLayout({ y: o }, !0) } } }) }) } function bf (t, e) { return Of(t.node2, e) * t.getValue() } function xf (t, e) { return Of(t.node2, e) } function _f (t, e) { return Of(t.node1, e) * t.getValue() } function wf (t, e) { return Of(t.node1, e) } function Of (t, e) { return e === 'vertical' ? t.getLayout().x + t.getLayout().dx / 2 : t.getLayout().y + t.getLayout().dy / 2 } function Sf (t) { return t.getValue() } function Mf (t, e, n) { var i = 0; var r = t.length; var a = -1; while (++a < r) { var o = +e(t[a], n); isNaN(o) || (i += o) } return i } function If (t, e, n) { f.each(t, function (t) { f.each(t, function (t) { if (t.inEdges.length) { var i = Mf(t.inEdges, _f, n) / Mf(t.inEdges, Sf); if (isNaN(i)) { var r = t.inEdges.length; i = r ? Mf(t.inEdges, wf, n) / r : 0 } if (n === 'vertical') { var a = t.getLayout().x + (i - Of(t, n)) * e; t.setLayout({ x: a }, !0) } else { var o = t.getLayout().y + (i - Of(t, n)) * e; t.setLayout({ y: o }, !0) } } }) }) } function Tf (t, e) { var n = e === 'vertical' ? 'x' : 'y'; f.each(t, function (t) { t.outEdges.sort(function (t, e) { return t.node2.getLayout()[n] - e.node2.getLayout()[n] }), t.inEdges.sort(function (t, e) { return t.node1.getLayout()[n] - e.node1.getLayout()[n] }) }), f.each(t, function (t) { var e = 0; var n = 0; f.each(t.outEdges, function (t) { t.setLayout({ sy: e }, !0), e += t.getLayout().dy }), f.each(t.inEdges, function (t) { t.setLayout({ ty: n }, !0), n += t.getLayout().dy }) }) } function jf (t) { t.eachSeriesByType('sankey', function (t) { var e = t.getGraph(); var n = e.nodes; if (n.length) { var i = 1 / 0; var r = -1 / 0; f.each(n, function (t) { var e = t.getLayout().value; e < i && (i = e), e > r && (r = e) }), f.each(n, function (e) { var n = new Ku({ type: 'color', mappingMethod: 'linear', dataExtent: [i, r], visual: t.get('color') }); var a = n.mapValueToVisual(e.getLayout().value); var o = e.getModel().get(['itemStyle', 'color']); o != null ? (e.setVisual('color', o), e.setVisual('style', { fill: o })) : (e.setVisual('color', a), e.setVisual('style', { fill: a })) }) } }) }c.c({ type: 'dragNode', event: 'dragnode', update: 'update' }, function (t, e) { e.eachComponent({ mainType: 'series', subType: 'sankey', query: t }, function (e) { e.setNodePosition(t.dataIndex, [t.localX, t.localY]) }) }), c.e(af), c.i(jf); var Af = (function () { function t () {} return t.prototype.getInitialData = function (t, e) { var n; var i; var r = e.getComponent('xAxis', this.get('xAxisIndex')); var a = e.getComponent('yAxis', this.get('yAxisIndex')); var o = r.get('type'); var s = a.get('type'); o === 'category' ? (t.layout = 'horizontal', n = r.getOrdinalMeta(), i = !0) : s === 'category' ? (t.layout = 'vertical', n = a.getOrdinalMeta(), i = !0) : t.layout = t.layout || 'horizontal'; var l = ['x', 'y']; var u = t.layout === 'horizontal' ? 0 : 1; var c = this._baseAxisDim = l[u]; var h = l[1 - u]; var d = [r, a]; var p = d[u].get('type'); var g = d[1 - u].get('type'); var y = t.data; if (y && i) { var v = []; f.each(y, function (t, e) { var n; f.isArray(t) ? (n = t.slice(), t.unshift(e)) : f.isArray(t.value) ? (n = t.value.slice(), t.value.unshift(e)) : n = t, v.push(n) }), t.data = v } var m = this.defaultValueDimensions; var b = [{ name: c, type: C(p), ordinalMeta: n, otherDims: { tooltip: !1, itemName: 0 }, dimsDef: ['base'] }, { name: h, type: C(g), dimsDef: m.slice() }]; return lo(this, { coordDimensions: b, dimensionsCount: m.length + 1, encodeDefaulter: f.curry(dt.d, b, this) }) }, t.prototype.getBaseAxis = function () { var t = this._baseAxisDim; return this.ecModel.getComponent(t + 'Axis', this.get(t + 'AxisIndex')).axis }, t }()); var Cf = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.defaultValueDimensions = [{ name: 'min', defaultTooltip: !0 }, { name: 'Q1', defaultTooltip: !0 }, { name: 'median', defaultTooltip: !0 }, { name: 'Q3', defaultTooltip: !0 }, { name: 'max', defaultTooltip: !0 }], n.visualDrawType = 'stroke', n } return Object(Ct.b)(e, t), e.type = 'series.boxplot', e.dependencies = ['xAxis', 'yAxis', 'grid'], e.defaultOption = { zlevel: 0, z: 2, coordinateSystem: 'cartesian2d', legendHoverLink: !0, layout: null, boxWidth: [7, 50], itemStyle: { color: '#fff', borderWidth: 1 }, emphasis: { scale: !0, itemStyle: { borderWidth: 2, shadowBlur: 5, shadowOffsetX: 1, shadowOffsetY: 1, shadowColor: 'rgba(0,0,0,0.2)' } }, animationDuration: 800 }, e }(oi.a)); f.mixin(Cf, Af, !0), oi.a.registerClass(Cf); var Df = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n) { var i = t.getData(); var r = this.group; var a = this._data; this._data || r.removeAll(); var o = t.get('layout') === 'horizontal' ? 1 : 0; i.diff(a).add(function (t) { if (i.hasValue(t)) { var e = i.getItemLayout(t); var n = Pf(e, i, t, o, !0); i.setItemGraphicEl(t, n), r.add(n) } }).update(function (t, e) { var n = a.getItemGraphicEl(e); if (i.hasValue(t)) { var s = i.getItemLayout(t); n ? Rf(s, n, i, t) : n = Pf(s, i, t, o), r.add(n), i.setItemGraphicEl(t, n) } else r.remove(n) }).remove(function (t) { var e = a.getItemGraphicEl(t); e && r.remove(e) }).execute(), this._data = i }, e.prototype.remove = function (t) { var e = this.group; var n = this._data; this._data = null, n && n.eachItemGraphicEl(function (t) { t && e.remove(t) }) }, e.type = 'boxplot', e }(Vi.a)); var kf = (function () { function t () {} return t }()); var Lf = (function (t) { function e (e) { var n = t.call(this, e) || this; return n.type = 'boxplotBoxPath', n } return Object(Ct.b)(e, t), e.prototype.getDefaultShape = function () { return new kf() }, e.prototype.buildPath = function (t, e) { var n = e.points; var i = 0; for (t.moveTo(n[i][0], n[i][1]), i++; i < 4; i++)t.lineTo(n[i][0], n[i][1]); for (t.closePath(); i < n.length; i++)t.moveTo(n[i][0], n[i][1]), i++, t.lineTo(n[i][0], n[i][1]) }, e }(Ai.b)); function Pf (t, e, n, i, r) { var a = t.ends; var o = new Lf({ shape: { points: r ? Nf(a, i, t) : a } }); return Rf(t, o, e, n, r), o } function Rf (t, e, n, i, r) { var a = n.hostModel; var o = y[r ? 'initProps' : 'updateProps']; o(e, { shape: { points: t.ends } }, a, i), e.useStyle(n.getItemVisual(i, 'style')), e.style.strokeNoScale = !0, e.z2 = 100; var s = n.getItemModel(i); Object(li.D)(e, s), Object(li.k)(e, s.get(['emphasis', 'focus']), s.get(['emphasis', 'blurScope'])) } function Nf (t, e, n) { return f.map(t, function (t) { return t = t.slice(), t[e] = n.initBaseline, t }) }Vi.a.registerClass(Df); function Ef (t, e) { t.eachRawSeriesByType('boxplot', function (t) { t.getData().setVisual('legendSymbol', 'roundRect') }) } var zf = f.each; function Bf (t) { var e = Vf(t); zf(e, function (t) { var e = t.seriesModels; e.length && (Ff(t), zf(e, function (e, n) { Gf(e, t.boxOffsetList[n], t.boxWidthList[n]) })) }) } function Vf (t) { var e = []; var n = []; return t.eachSeriesByType('boxplot', function (t) { var i = t.getBaseAxis(); var r = f.indexOf(n, i); r < 0 && (r = n.length, n[r] = i, e[r] = { axis: i, seriesModels: [] }), e[r].seriesModels.push(t) }), e } function Ff (t) { var e; var n; var i = t.axis; var r = t.seriesModels; var a = r.length; var o = t.boxWidthList = []; var s = t.boxOffsetList = []; var l = []; if (i.type === 'category')n = i.getBandWidth(); else { var u = 0; zf(r, function (t) { u = Math.max(u, t.getData().count()) }), e = i.getExtent(), Math.abs(e[1] - e[0]) }zf(r, function (t) { var e = t.get('boxWidth'); f.isArray(e) || (e = [e, e]), l.push([Object(v.parsePercent)(e[0], n) || 0, Object(v.parsePercent)(e[1], n) || 0]) }); var c = 0.8 * n - 2; var h = c / a * 0.3; var d = (c - h * (a - 1)) / a; var p = d / 2 - c / 2; zf(r, function (t, e) { s.push(p), p += h + d, o.push(Math.min(Math.max(d, l[e][0]), l[e][1])) }) } function Gf (t, e, n) { var i = t.coordinateSystem; var r = t.getData(); var a = n / 2; var o = t.get('layout') === 'horizontal' ? 0 : 1; var s = 1 - o; var l = ['x', 'y']; var u = r.mapDimension(l[o]); var c = r.mapDimensionsAll(l[s]); if (!(u == null || c.length < 5)) for (var h = 0; h < r.count(); h++) { var d = r.get(u, h); var p = b(d, c[2], h); var f = b(d, c[0], h); var g = b(d, c[1], h); var y = b(d, c[3], h); var v = b(d, c[4], h); var m = []; x(m, g, !1), x(m, y, !0), m.push(f, g, v, y), _(m, f), _(m, v), _(m, p), r.setItemLayout(h, { initBaseline: p[s], ends: m }) } function b (t, n, a) { var l; var u = r.get(n, a); var c = []; return c[o] = t, c[s] = u, isNaN(t) || isNaN(u) ? l = [NaN, NaN] : (l = i.dataToPoint(c), l[o] += e), l } function x (t, e, n) { var i = e.slice(); var r = e.slice(); i[o] += a, r[o] -= a, n ? t.push(i, r) : t.push(r, i) } function _ (t, e) { var n = e.slice(); var i = e.slice(); n[o] -= a, i[o] += a, t.push(n, i) } } function Hf (t, e) { e = e || {}; for (var n = [], i = [], r = e.boundIQR, a = r === 'none' || r === 0, o = 0; o < t.length; o++) { var s = Object(v.asc)(t[o].slice()); var l = Object(v.quantile)(s, 0.25); var u = Object(v.quantile)(s, 0.5); var c = Object(v.quantile)(s, 0.75); var h = s[0]; var d = s[s.length - 1]; var p = (r == null ? 1.5 : r) * (c - l); var g = a ? h : Math.max(h, l - p); var y = a ? d : Math.min(d, c + p); var m = e.itemNameFormatter; var b = Object(f.isFunction)(m) ? m({ value: o }) : Object(f.isString)(m) ? m.replace('{value}', o + '') : o + ''; n.push([b, g, l, u, c, y]); for (var x = 0; x < s.length; x++) { var _ = s[x]; if (_ < g || _ > y) { var w = [b, _]; i.push(w) } } } return { boxData: n, outliers: i } } var Wf = { type: 'echarts:boxplot', transform: function (t) { var e = t.upstream; if (e.sourceFormat !== T.c) { var n = ''; 0, Object(fe.b)(n) } var i = Hf(e.getRawData(), t.config); return [{ dimensions: ['ItemName', 'Low', 'Q1', 'Q2', 'Q3', 'High'], data: i.boxData }, { data: i.outliers }] } }; c.i(Ef), c.e(Bf), c.h(Wf); var Xf = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.defaultValueDimensions = [{ name: 'open', defaultTooltip: !0 }, { name: 'close', defaultTooltip: !0 }, { name: 'lowest', defaultTooltip: !0 }, { name: 'highest', defaultTooltip: !0 }], n } return Object(Ct.b)(e, t), e.prototype.getShadowDim = function () { return 'open' }, e.prototype.brushSelector = function (t, e, n) { var i = e.getItemLayout(t); return i && n.rect(i.brushRect) }, e.type = 'series.candlestick', e.dependencies = ['xAxis', 'yAxis', 'grid'], e.defaultOption = { zlevel: 0, z: 2, coordinateSystem: 'cartesian2d', legendHoverLink: !0, layout: null, clip: !0, itemStyle: { color: '#c23531', color0: '#314656', borderWidth: 1, borderColor: '#c23531', borderColor0: '#314656' }, emphasis: { scale: !0, itemStyle: { borderWidth: 2 } }, barMaxWidth: null, barMinWidth: null, barWidth: null, large: !0, largeThreshold: 600, progressive: 3e3, progressiveThreshold: 1e4, progressiveChunkMode: 'mod', animationEasing: 'linear', animationDuration: 300 }, e }(oi.a)); f.mixin(Xf, Af, !0), oi.a.registerClass(Xf); var Yf = ['color', 'borderColor']; var Uf = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n) { this.group.removeClipPath(), this._updateDrawMode(t), this._isLargeDraw ? this._renderLarge(t) : this._renderNormal(t) }, e.prototype.incrementalPrepareRender = function (t, e, n) { this._clear(), this._updateDrawMode(t) }, e.prototype.incrementalRender = function (t, e, n, i) { this._isLargeDraw ? this._incrementalRenderLarge(t, e) : this._incrementalRenderNormal(t, e) }, e.prototype._updateDrawMode = function (t) { var e = t.pipelineContext.large; this._isLargeDraw != null && e === this._isLargeDraw || (this._isLargeDraw = e, this._clear()) }, e.prototype._renderNormal = function (t) { var e = t.getData(); var n = this._data; var i = this.group; var r = e.getLayout('isSimpleBox'); var a = t.get('clip', !0); var o = t.coordinateSystem; var s = o.getArea && o.getArea(); this._data || i.removeAll(), e.diff(n).add(function (n) { if (e.hasValue(n)) { var o = e.getItemLayout(n); if (a && $f(s, o)) return; var l = Kf(o, n, !0); y.initProps(l, { shape: { points: o.ends } }, t, n), Qf(l, e, n, r), i.add(l), e.setItemGraphicEl(n, l) } }).update(function (o, l) { var u = n.getItemGraphicEl(l); if (e.hasValue(o)) { var c = e.getItemLayout(o); a && $f(s, c) ? i.remove(u) : (u ? y.updateProps(u, { shape: { points: c.ends } }, t, o) : u = Kf(c, o), Qf(u, e, o, r), i.add(u), e.setItemGraphicEl(o, u)) } else i.remove(u) }).remove(function (t) { var e = n.getItemGraphicEl(t); e && i.remove(e) }).execute(), this._data = e }, e.prototype._renderLarge = function (t) { this._clear(), ng(t, this.group); var e = t.get('clip', !0) ? Hi(t.coordinateSystem, !1, t) : null; e ? this.group.setClipPath(e) : this.group.removeClipPath() }, e.prototype._incrementalRenderNormal = function (t, e) { var n; var i = e.getData(); var r = i.getLayout('isSimpleBox'); while ((n = t.next()) != null) { var a = i.getItemLayout(n); var o = Kf(a, n); Qf(o, i, n, r), o.incremental = !0, this.group.add(o) } }, e.prototype._incrementalRenderLarge = function (t, e) { ng(e, this.group, !0) }, e.prototype.remove = function (t) { this._clear() }, e.prototype._clear = function () { this.group.removeAll(), this._data = null }, e.type = 'candlestick', e }(Vi.a)); Vi.a.registerClass(Uf); var Zf = (function () { function t () {} return t }()); var qf = (function (t) { function e (e) { var n = t.call(this, e) || this; return n.type = 'normalCandlestickBox', n } return Object(Ct.b)(e, t), e.prototype.getDefaultShape = function () { return new Zf() }, e.prototype.buildPath = function (t, e) { var n = e.points; this.__simpleBox ? (t.moveTo(n[4][0], n[4][1]), t.lineTo(n[6][0], n[6][1])) : (t.moveTo(n[0][0], n[0][1]), t.lineTo(n[1][0], n[1][1]), t.lineTo(n[2][0], n[2][1]), t.lineTo(n[3][0], n[3][1]), t.closePath(), t.moveTo(n[4][0], n[4][1]), t.lineTo(n[5][0], n[5][1]), t.moveTo(n[6][0], n[6][1]), t.lineTo(n[7][0], n[7][1])) }, e }(Ai.b)); function Kf (t, e, n) { var i = t.ends; return new qf({ shape: { points: n ? Jf(i, t) : i }, z2: 100 }) } function $f (t, e) { for (var n = !0, i = 0; i < e.ends.length; i++) if (t.contain(e.ends[i][0], e.ends[i][1])) { n = !1; break } return n } function Qf (t, e, n, i) { var r = e.getItemModel(n); t.useStyle(e.getItemVisual(n, 'style')), t.style.strokeNoScale = !0, t.__simpleBox = i, Object(li.D)(t, r) } function Jf (t, e) { return f.map(t, function (t) { return t = t.slice(), t[1] = e.initBaseline, t }) } var tg = (function () { function t () {} return t }()); var eg = (function (t) { function e (e) { var n = t.call(this, e) || this; return n.type = 'largeCandlestickBox', n } return Object(Ct.b)(e, t), e.prototype.getDefaultShape = function () { return new tg() }, e.prototype.buildPath = function (t, e) { for (var n = e.points, i = 0; i < n.length;) if (this.__sign === n[i++]) { var r = n[i++]; t.moveTo(r, n[i++]), t.lineTo(r, n[i++]) } else i += 3 }, e }(Ai.b)); function ng (t, e, n) { var i = t.getData(); var r = i.getLayout('largePoints'); var a = new eg({ shape: { points: r }, __sign: 1 }); e.add(a); var o = new eg({ shape: { points: r }, __sign: -1 }); e.add(o), ig(1, a, t, i), ig(-1, o, t, i), n && (a.incremental = !0, o.incremental = !0) } function ig (t, e, n, i) { var r = n.get(['itemStyle', t > 0 ? 'borderColor' : 'borderColor0']) || n.get(['itemStyle', t > 0 ? 'color' : 'color0']); var a = n.getModel('itemStyle').getItemStyle(Yf); e.useStyle(a), e.style.fill = null, e.style.stroke = r } function rg (t) { t && f.isArray(t.series) && f.each(t.series, function (t) { f.isObject(t) && t.type === 'k' && (t.type = 'candlestick') }) } var ag = ['itemStyle', 'borderColor']; var og = ['itemStyle', 'borderColor0']; var sg = ['itemStyle', 'color']; var lg = ['itemStyle', 'color0']; var ug = { seriesType: 'candlestick', plan: Object(Kt.a)(), performRawSeries: !0, reset: function (t, e) { function n (t, e) { return e.get(t > 0 ? sg : lg) } function i (t, e) { return e.get(t > 0 ? ag : og) } var r = t.getData(); if (r.setVisual('legendSymbol', 'roundRect'), !e.isSeriesFiltered(t)) { var a = t.pipelineContext.large; return !a && { progress: function (t, e) { var r; while ((r = t.next()) != null) { var a = e.getItemModel(r); var o = e.getItemLayout(r).sign; var s = a.getItemStyle(); s.fill = n(o, a), s.stroke = i(o, a) || s.fill; var l = e.ensureUniqueItemVisual(r, 'style'); Object(f.extend)(l, s) } } } } } }; var cg = ug; var hg = typeof Float32Array !== 'undefined' ? Float32Array : Array; var dg = { seriesType: 'candlestick', plan: Object(Kt.a)(), reset: function (t) { var e = t.coordinateSystem; var n = t.getData(); var i = fg(t, n); var r = 0; var a = 1; var o = ['x', 'y']; var s = n.mapDimension(o[r]); var l = n.mapDimensionsAll(o[a]); var u = l[0]; var c = l[1]; var h = l[2]; var d = l[3]; if (n.setLayout({ candleWidth: i, isSimpleBox: i <= 1.3 }), !(s == null || l.length < 4)) return { progress: t.pipelineContext.large ? f : p }; function p (t, n) { var o; while ((o = t.next()) != null) { var l = n.get(s, o); var p = n.get(u, o); var f = n.get(c, o); var g = n.get(h, o); var v = n.get(d, o); var m = Math.min(p, f); var b = Math.max(p, f); var x = M(m, l); var _ = M(b, l); var w = M(g, l); var O = M(v, l); var S = []; I(S, _, 0), I(S, x, 1), S.push(j(O), j(_), j(w), j(x)), n.setItemLayout(o, { sign: pg(n, o, p, f, c), initBaseline: p > f ? _[a] : x[a], ends: S, brushRect: T(g, v, l) }) } function M (t, n) { var i = []; return i[r] = n, i[a] = t, isNaN(n) || isNaN(t) ? [NaN, NaN] : e.dataToPoint(i) } function I (t, e, n) { var a = e.slice(); var o = e.slice(); a[r] = Object(y.subPixelOptimize)(a[r] + i / 2, 1, !1), o[r] = Object(y.subPixelOptimize)(o[r] - i / 2, 1, !0), n ? t.push(a, o) : t.push(o, a) } function T (t, e, n) { var o = M(t, n); var s = M(e, n); return o[r] -= i / 2, s[r] -= i / 2, { x: o[0], y: o[1], width: a ? i : s[0] - o[0], height: a ? s[1] - o[1] : i } } function j (t) { return t[r] = Object(y.subPixelOptimize)(t[r], 1), t } } function f (t, n) { var i; var o; var l = new hg(4 * t.count); var p = 0; var f = []; var g = []; while ((o = t.next()) != null) { var y = n.get(s, o); var v = n.get(u, o); var m = n.get(c, o); var b = n.get(h, o); var x = n.get(d, o); isNaN(y) || isNaN(b) || isNaN(x) ? (l[p++] = NaN, p += 3) : (l[p++] = pg(n, o, v, m, c), f[r] = y, f[a] = b, i = e.dataToPoint(f, null, g), l[p++] = i ? i[0] : NaN, l[p++] = i ? i[1] : NaN, f[a] = x, i = e.dataToPoint(f, null, g), l[p++] = i ? i[1] : NaN) }n.setLayout('largePoints', l) } } }; function pg (t, e, n, i, r) { var a; return a = n > i ? -1 : n < i ? 1 : e > 0 ? t.get(r, e - 1) <= i ? 1 : -1 : 1, a } function fg (t, e) { var n; var i = t.getBaseAxis(); var r = i.type === 'category' ? i.getBandWidth() : (n = i.getExtent(), Math.abs(n[1] - n[0]) / e.count()); var a = Object(v.parsePercent)(Object(f.retrieve2)(t.get('barMaxWidth'), r), r); var o = Object(v.parsePercent)(Object(f.retrieve2)(t.get('barMinWidth'), 1), r); var s = t.get('barWidth'); return s != null ? Object(v.parsePercent)(s, r) : Math.max(Math.min(r / 2, a), o) } var gg = dg; c.f(rg), c.i(cg), c.e(gg); var yg = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.hasSymbolVisual = !0, n } return Object(Ct.b)(e, t), e.prototype.getInitialData = function (t, e) { return At(this.getSource(), this, { useEncodeDefaulter: !0 }) }, e.prototype.brushSelector = function (t, e, n) { return n.point(e.getItemLayout(t)) }, e.type = 'series.effectScatter', e.dependencies = ['grid', 'polar'], e.defaultOption = { coordinateSystem: 'cartesian2d', zlevel: 0, z: 2, legendHoverLink: !0, effectType: 'ripple', progressive: 0, showEffectOn: 'render', rippleEffect: { period: 4, scale: 2.5, brushType: 'fill' }, symbolSize: 10 }, e }(oi.a)); oi.a.registerClass(yg); var vg = 3; function mg (t) { return f.isArray(t) || (t = [+t, +t]), t } function bg (t, e) { var n = e.rippleEffectColor || e.color; t.eachChild(function (t) { t.attr({ z: e.z, zlevel: e.zlevel, style: { stroke: e.brushType === 'stroke' ? n : null, fill: e.brushType === 'fill' ? n : null } }) }) } var xg = (function (t) { function e (e, n) { var i = t.call(this) || this; var r = new gi(e, n); var a = new y.Group(); return i.add(r), i.add(a), i.updateData(e, n), i } return Object(Ct.b)(e, t), e.prototype.stopEffectAnimation = function () { this.childAt(1).removeAll() }, e.prototype.startEffectAnimation = function (t) { for (var e = t.symbolType, n = t.color, i = this.childAt(1), r = 0; r < vg; r++) { var a = Object(sn.a)(e, -1, -1, 2, 2, n); a.attr({ style: { strokeNoScale: !0 }, z2: 99, silent: !0, scaleX: 0.5, scaleY: 0.5 }); var o = -r / vg * t.period + t.effectOffset; a.animate('', !0).when(t.period, { scale: [t.rippleScale / 2, t.rippleScale / 2] }).delay(o).start(), a.animateStyle(!0).when(t.period, { opacity: 0 }).delay(o).start(), i.add(a) }bg(i, t) }, e.prototype.updateEffectAnimation = function (t) { for (var e = this._effectCfg, n = this.childAt(1), i = ['symbolType', 'period', 'rippleScale'], r = 0; r < i.length; r++) { var a = i[r]; if (e[a] !== t[a]) return this.stopEffectAnimation(), void this.startEffectAnimation(t) }bg(n, t) }, e.prototype.highlight = function () { Object(li.n)(this) }, e.prototype.downplay = function () { Object(li.w)(this) }, e.prototype.updateData = function (t, e) { var n = this; var i = t.hostModel; this.childAt(0).updateData(t, e); var r = this.childAt(1); var a = t.getItemModel(e); var o = t.getItemVisual(e, 'symbol'); var s = mg(t.getItemVisual(e, 'symbolSize')); var l = t.getItemVisual(e, 'style'); var u = l && l.fill; r.setScale(s), r.traverse(function (t) { t.setStyle('fill', u) }); var c = a.getShallow('symbolOffset'); c && (r.x = Object(v.parsePercent)(c[0], s[0]), r.y = Object(v.parsePercent)(c[1], s[1])); var h = t.getItemVisual(e, 'symbolRotate'); r.rotation = (h || 0) * Math.PI / 180 || 0; var d = {}; d.showEffectOn = i.get('showEffectOn'), d.rippleScale = a.get(['rippleEffect', 'scale']), d.brushType = a.get(['rippleEffect', 'brushType']), d.period = 1e3 * a.get(['rippleEffect', 'period']), d.effectOffset = e / t.count(), d.z = i.getShallow('z') || 0, d.zlevel = i.getShallow('zlevel') || 0, d.symbolType = o, d.color = u, d.rippleEffectColor = a.get(['rippleEffect', 'color']), this.off('mouseover').off('mouseout').off('emphasis').off('normal'), d.showEffectOn === 'render' ? (this._effectCfg ? this.updateEffectAnimation(d) : this.startEffectAnimation(d), this._effectCfg = d) : (this._effectCfg = null, this.stopEffectAnimation(), this.onHoverStateChange = function (t) { t === 'emphasis' ? d.showEffectOn !== 'render' && n.startEffectAnimation(d) : t === 'normal' && d.showEffectOn !== 'render' && n.stopEffectAnimation() }), this._effectCfg = d, Object(li.k)(this) }, e.prototype.fadeOut = function (t) { this.off('mouseover').off('mouseout'), t && t() }, e }(y.Group)); f.inherits(xg, y.Group); var _g = xg; var wg = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.init = function () { this._symbolDraw = new xi(_g) }, e.prototype.render = function (t, e, n) { var i = t.getData(); var r = this._symbolDraw; r.updateData(i), this.group.add(r.group) }, e.prototype.updateTransform = function (t, e, n) { var i = t.getData(); this.group.dirty(); var r = sr('').reset(t, e, n); r.progress && r.progress({ start: 0, end: i.count(), count: i.count() }, i), this._symbolDraw.updateLayout() }, e.prototype._updateGroupTransform = function (t) { var e = t.coordinateSystem; e && e.getRoamTransform && (this.group.transform = d.a(e.getRoamTransform()), this.group.decomposeTransform()) }, e.prototype.remove = function (t, e) { this._symbolDraw && this._symbolDraw.remove(!0) }, e.type = 'effectScatter', e }(Vi.a)); Vi.a.registerClass(wg); c.e(sr('effectScatter')); var Og = typeof Uint32Array === 'undefined' ? Array : Uint32Array; var Sg = typeof Float64Array === 'undefined' ? Array : Float64Array; function Mg (t) { var e = t.data; e && e[0] && e[0][0] && e[0][0].coord && (t.data = Object(f.map)(e, function (t) { var e = [t[0].coord, t[1].coord]; var n = { coords: e }; return t[0].name && (n.fromName = t[0].name), t[1].name && (n.toName = t[1].name), Object(f.mergeAll)([n, t[0], t[1]]) })) } var Ig = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.visualStyleAccessPath = 'lineStyle', n.visualDrawType = 'stroke', n } return Object(Ct.b)(e, t), e.prototype.init = function (e) { e.data = e.data || [], Mg(e); var n = this._processFlatCoordsArray(e.data); this._flatCoords = n.flatCoords, this._flatCoordsOffset = n.flatCoordsOffset, n.flatCoords && (e.data = new Float32Array(n.count)), t.prototype.init.apply(this, arguments) }, e.prototype.mergeOption = function (e) { if (Mg(e), e.data) { var n = this._processFlatCoordsArray(e.data); this._flatCoords = n.flatCoords, this._flatCoordsOffset = n.flatCoordsOffset, n.flatCoords && (e.data = new Float32Array(n.count)) }t.prototype.mergeOption.apply(this, arguments) }, e.prototype.appendData = function (t) { var e = this._processFlatCoordsArray(t.data); e.flatCoords && (this._flatCoords ? (this._flatCoords = Object(f.concatArray)(this._flatCoords, e.flatCoords), this._flatCoordsOffset = Object(f.concatArray)(this._flatCoordsOffset, e.flatCoordsOffset)) : (this._flatCoords = e.flatCoords, this._flatCoordsOffset = e.flatCoordsOffset), t.data = new Float32Array(e.count)), this.getRawData().appendData(t.data) }, e.prototype._getCoordsFromItemModel = function (t) { var e = this.getData().getItemModel(t); var n = e.option instanceof Array ? e.option : e.getShallow('coords'); return n }, e.prototype.getLineCoordsCount = function (t) { return this._flatCoordsOffset ? this._flatCoordsOffset[2 * t + 1] : this._getCoordsFromItemModel(t).length }, e.prototype.getLineCoords = function (t, e) { if (this._flatCoordsOffset) { for (var n = this._flatCoordsOffset[2 * t], i = this._flatCoordsOffset[2 * t + 1], r = 0; r < i; r++)e[r] = e[r] || [], e[r][0] = this._flatCoords[n + 2 * r], e[r][1] = this._flatCoords[n + 2 * r + 1]; return i } var a = this._getCoordsFromItemModel(t); for (r = 0; r < a.length; r++)e[r] = e[r] || [], e[r][0] = a[r][0], e[r][1] = a[r][1]; return a.length }, e.prototype._processFlatCoordsArray = function (t) { var e = 0; if (this._flatCoords && (e = this._flatCoords.length), typeof t[0] === 'number') { for (var n = t.length, i = new Og(n), r = new Sg(n), a = 0, o = 0, s = 0, l = 0; l < n;) { s++; var u = t[l++]; i[o++] = a + e, i[o++] = u; for (var c = 0; c < u; c++) { var h = t[l++]; var d = t[l++]; r[a++] = h, r[a++] = d } } return { flatCoordsOffset: new Uint32Array(i.buffer, 0, o), flatCoords: r, count: s } } return { flatCoordsOffset: null, flatCoords: null, count: t.length } }, e.prototype.getInitialData = function (t, e) { var n = new ht(['value'], this); return n.hasItemOption = !1, n.initData(t.data, [], function (t, e, i, r) { if (t instanceof Array) return NaN; n.hasItemOption = !0; var a = t.value; return a != null ? a instanceof Array ? a[r] : a : void 0 }), n }, e.prototype.formatTooltip = function (t, e, n) { var i = this.getData(); var r = i.getItemModel(t); var a = r.get('name'); if (a) return a; var o = r.get('fromName'); var s = r.get('toName'); var l = []; return o != null && l.push(o), s != null && l.push(s), Object(Xo.c)('nameValue', { name: l.join(' > ') }) }, e.prototype.preventIncremental = function () { return !!this.get(['effect', 'show']) }, e.prototype.getProgressive = function () { var t = this.option.progressive; return t == null ? this.option.large ? 1e4 : this.get('progressive') : t }, e.prototype.getProgressiveThreshold = function () { var t = this.option.progressiveThreshold; return t == null ? this.option.large ? 2e4 : this.get('progressiveThreshold') : t }, e.type = 'series.lines', e.dependencies = ['grid', 'polar', 'geo', 'calendar'], e.defaultOption = { coordinateSystem: 'geo', zlevel: 0, z: 2, legendHoverLink: !0, xAxisIndex: 0, yAxisIndex: 0, symbol: ['none', 'none'], symbolSize: [10, 10], geoIndex: 0, effect: { show: !1, period: 4, constantSpeed: 0, symbol: 'circle', symbolSize: 3, loop: !0, trailLength: 0.2 }, large: !1, largeThreshold: 2e3, polyline: !1, clip: !0, label: { show: !1, position: 'end' }, lineStyle: { opacity: 0.5 } }, e }(oi.a)); oi.a.registerClass(Ig); var Tg = (function (t) { function e (e, n, i) { var r = t.call(this) || this; return r.add(r.createLine(e, n, i)), r._updateEffectSymbol(e, n), r } return Object(Ct.b)(e, t), e.prototype.createLine = function (t, e, n) { return new oh(t, e, n) }, e.prototype._updateEffectSymbol = function (t, e) { var n = t.getItemModel(e); var i = n.getModel('effect'); var r = i.get('symbolSize'); var a = i.get('symbol'); f.isArray(r) || (r = [r, r]); var o = t.getItemVisual(e, 'style'); var s = i.get('color') || o && o.stroke; var l = this.childAt(1); this._symbolType !== a && (this.remove(l), l = Object(sn.a)(a, -0.5, -0.5, 1, 1, s), l.z2 = 100, l.culling = !0, this.add(l)), l && (l.setStyle('shadowColor', s), l.setStyle(i.getItemStyle(['color'])), l.scaleX = r[0], l.scaleY = r[1], l.setColor(s), this._symbolType = a, this._symbolScale = r, this._updateEffectAnimation(t, i, e)) }, e.prototype._updateEffectAnimation = function (t, e, n) { var i = this.childAt(1); if (i) { var r = this; var a = t.getItemLayout(n); var o = 1e3 * e.get('period'); var s = e.get('loop'); var l = e.get('constantSpeed'); var u = f.retrieve(e.get('delay'), function (e) { return e / t.count() * o / 3 }); if (i.ignore = !0, this._updateAnimationPoints(i, a), l > 0 && (o = this._getLineLength(i) / l * 1e3), (o !== this._period || s !== this._loop) && (i.stopAnimation(), o > 0)) { var c = void 0; c = typeof u === 'function' ? u(n) : u, i.__t > 0 && (c = -o * i.__t), i.__t = 0; var h = i.animate('', s).when(o, { __t: 1 }).delay(c).during(function () { r._updateSymbolPosition(i) }); s || h.done(function () { r.remove(i) }), h.start() } this._period = o, this._loop = s } }, e.prototype._getLineLength = function (t) { return p.f(t.__p1, t.__cp1) + p.f(t.__cp1, t.__p2) }, e.prototype._updateAnimationPoints = function (t, e) { t.__p1 = e[0], t.__p2 = e[1], t.__cp1 = e[2] || [(e[0][0] + e[1][0]) / 2, (e[0][1] + e[1][1]) / 2] }, e.prototype.updateData = function (t, e, n) { this.childAt(0).updateData(t, e, n), this._updateEffectSymbol(t, e) }, e.prototype._updateSymbolPosition = function (t) { var e = t.__p1; var n = t.__p2; var i = t.__cp1; var r = t.__t; var a = [t.x, t.y]; var o = a.slice(); var s = Di.h; var l = Di.i; a[0] = s(e[0], i[0], n[0], r), a[1] = s(e[1], i[1], n[1], r); var u = l(e[0], i[0], n[0], r); var c = l(e[1], i[1], n[1], r); t.rotation = -Math.atan2(c, u) - Math.PI / 2, this._symbolType !== 'line' && this._symbolType !== 'rect' && this._symbolType !== 'roundRect' || (void 0 !== t.__lastT && t.__lastT < t.__t ? (t.scaleY = 1.05 * p.f(o, a), r === 1 && (a[0] = o[0] + (a[0] - o[0]) / 2, a[1] = o[1] + (a[1] - o[1]) / 2)) : t.__lastT === 1 ? t.scaleY = 2 * p.f(e, a) : t.scaleY = this._symbolScale[1]), t.__lastT = t.__t, t.ignore = !1, t.x = a[0], t.y = a[1] }, e.prototype.updateLayout = function (t, e) { this.childAt(0).updateLayout(t, e); var n = t.getItemModel(e).getModel('effect'); this._updateEffectAnimation(t, n, e) }, e }(y.Group)); var jg = Tg; var Ag = (function (t) { function e (e, n, i) { var r = t.call(this) || this; return r._createPolyline(e, n, i), r } return Object(Ct.b)(e, t), e.prototype._createPolyline = function (t, e, n) { var i = t.getItemLayout(e); var r = new y.Polyline({ shape: { points: i } }); this.add(r), this._updateCommonStl(t, e, n) }, e.prototype.updateData = function (t, e, n) { var i = t.hostModel; var r = this.childAt(0); var a = { shape: { points: t.getItemLayout(e) } }; y.updateProps(r, a, i, e), this._updateCommonStl(t, e, n) }, e.prototype._updateCommonStl = function (t, e, n) { var i = this.childAt(0); var r = t.getItemModel(e); var a = n && n.emphasisLineStyle; n && !t.hasItemOption || (a = r.getModel(['emphasis', 'lineStyle']).getLineStyle()), i.useStyle(t.getItemVisual(e, 'style')), i.style.fill = null, i.style.strokeNoScale = !0; var o = i.ensureState('emphasis'); o.style = a, Object(li.k)(this) }, e.prototype.updateLayout = function (t, e) { var n = this.childAt(0); n.setShape('points', t.getItemLayout(e)) }, e }(y.Group)); var Cg = Ag; var Dg = (function (t) { function e () { var e = t !== null && t.apply(this, arguments) || this; return e._lastFrame = 0, e._lastFramePercent = 0, e } return Object(Ct.b)(e, t), e.prototype.createLine = function (t, e, n) { return new Cg(t, e, n) }, e.prototype._updateAnimationPoints = function (t, e) { this._points = e; for (var n = [0], i = 0, r = 1; r < e.length; r++) { var a = e[r - 1]; var o = e[r]; i += p.f(a, o), n.push(i) } if (i !== 0) { for (r = 0; r < n.length; r++)n[r] /= i; this._offsets = n, this._length = i } else this._length = 0 }, e.prototype._getLineLength = function () { return this._length }, e.prototype._updateSymbolPosition = function (t) { var e = t.__t; var n = this._points; var i = this._offsets; var r = n.length; if (i) { var a; var o = this._lastFrame; if (e < this._lastFramePercent) { var s = Math.min(o + 1, r - 1); for (a = s; a >= 0; a--) if (i[a] <= e) break; a = Math.min(a, r - 2) } else { for (a = o; a < r; a++) if (i[a] > e) break; a = Math.min(a - 1, r - 2) } var l = (e - i[a]) / (i[a + 1] - i[a]); var u = n[a]; var c = n[a + 1]; t.x = u[0] * (1 - l) + l * c[0], t.y = u[1] * (1 - l) + l * c[1]; var h = c[0] - u[0]; var d = c[1] - u[1]; t.rotation = -Math.atan2(d, h) - Math.PI / 2, this._lastFrame = a, this._lastFramePercent = e, t.ignore = !1 } }, e }(jg)); var kg = Dg; var Lg = n('93e2'); var Pg = n('b56e'); var Rg = (function () { function t () { this.polyline = !1, this.curveness = 0, this.segs = [] } return t }()); var Ng = (function (t) { function e (e) { return t.call(this, e) || this } return Object(Ct.b)(e, t), e.prototype.getDefaultStyle = function () { return { stroke: '#000', fill: null } }, e.prototype.getDefaultShape = function () { return new Rg() }, e.prototype.buildPath = function (t, e) { var n = e.segs; var i = e.curveness; if (e.polyline) for (var r = 0; r < n.length;) { var a = n[r++]; if (a > 0) { t.moveTo(n[r++], n[r++]); for (var o = 1; o < a; o++)t.lineTo(n[r++], n[r++]) } } else for (r = 0; r < n.length;) { var s = n[r++]; var l = n[r++]; var u = n[r++]; var c = n[r++]; if (t.moveTo(s, l), i > 0) { var h = (s + u) / 2 - (l - c) * i; var d = (l + c) / 2 - (u - s) * i; t.quadraticCurveTo(h, d, u, c) } else t.lineTo(u, c) } }, e.prototype.findDataIndex = function (t, e) { var n = this.shape; var i = n.segs; var r = n.curveness; var a = this.style.lineWidth; if (n.polyline) for (var o = 0, s = 0; s < i.length;) { var l = i[s++]; if (l > 0) for (var u = i[s++], c = i[s++], h = 1; h < l; h++) { var d = i[s++]; var p = i[s++]; if (Lg.a(u, c, d, p, a, t, e)) return o }o++ } else for (o = 0, s = 0; s < i.length;) { u = i[s++], c = i[s++], d = i[s++], p = i[s++]; if (r > 0) { var f = (u + d) / 2 - (c - p) * r; var g = (c + p) / 2 - (d - u) * r; if (Pg.a(u, c, f, g, d, p, a, t, e)) return o } else if (Lg.a(u, c, d, p, a, t, e)) return o; o++ } return -1 }, e }(y.Path)); var Eg = (function () { function t () { this.group = new y.Group() } return t.prototype.isPersistent = function () { return !this._incremental }, t.prototype.updateData = function (t) { this.group.removeAll(); var e = new Ng({ rectHover: !0, cursor: 'default' }); e.setShape({ segs: t.getLayout('linesPoints') }), this._setCommon(e, t), this.group.add(e), this._incremental = null }, t.prototype.incrementalPrepareUpdate = function (t) { this.group.removeAll(), this._clearIncremental(), t.count() > 5e5 ? (this._incremental || (this._incremental = new Co.a({ silent: !0 })), this.group.add(this._incremental)) : this._incremental = null }, t.prototype.incrementalUpdate = function (t, e) { var n = new Ng(); n.setShape({ segs: e.getLayout('linesPoints') }), this._setCommon(n, e, !!this._incremental), this._incremental ? this._incremental.addDisplayable(n, !0) : (n.rectHover = !0, n.cursor = 'default', n.__startIndex = t.start, this.group.add(n)) }, t.prototype.remove = function () { this._clearIncremental(), this._incremental = null, this.group.removeAll() }, t.prototype._setCommon = function (t, e, n) { var i = e.hostModel; t.setShape({ polyline: i.get('polyline'), curveness: i.get(['lineStyle', 'curveness']) }), t.useStyle(i.getModel('lineStyle').getLineStyle()), t.style.strokeNoScale = !0; var r = e.getVisual('style'); if (r && r.stroke && t.setStyle('stroke', r.stroke), t.setStyle('fill', null), !n) { var a = Object(q.a)(t); a.seriesIndex = i.seriesIndex, t.on('mousemove', function (e) { a.dataIndex = null; var n = t.findDataIndex(e.offsetX, e.offsetY); n > 0 && (a.dataIndex = n + t.__startIndex) }) } }, t.prototype._clearIncremental = function () { var t = this._incremental; t && t.clearDisplaybles() }, t }()); var zg = Eg; var Bg = { seriesType: 'lines', plan: Object(Kt.a)(), reset: function (t) { var e = t.coordinateSystem; var n = t.get('polyline'); var i = t.pipelineContext.large; return { progress: function (r, a) { var o = []; if (i) { var s = void 0; var l = r.end - r.start; if (n) { for (var u = 0, c = r.start; c < r.end; c++)u += t.getLineCoordsCount(c); s = new Float32Array(l + 2 * u) } else s = new Float32Array(4 * l); var h = 0; var d = []; for (c = r.start; c < r.end; c++) { var p = t.getLineCoords(c, o); n && (s[h++] = p); for (var f = 0; f < p; f++)d = e.dataToPoint(o[f], !1, d), s[h++] = d[0], s[h++] = d[1] }a.setLayout('linesPoints', s) } else for (c = r.start; c < r.end; c++) { var g = a.getItemModel(c); var y = (p = t.getLineCoords(c, o), []); if (n) for (var v = 0; v < p; v++)y.push(e.dataToPoint(o[v])); else { y[0] = e.dataToPoint(o[0]), y[1] = e.dataToPoint(o[1]); var m = g.get(['lineStyle', 'curveness']); +m && (y[2] = [(y[0][0] + y[1][0]) / 2 - (y[0][1] - y[1][1]) * m, (y[0][1] + y[1][1]) / 2 - (y[1][0] - y[0][0]) * m]) }a.setItemLayout(c, y) } } } } }; var Vg = Bg; var Fg = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n) { var i = t.getData(); var r = this._updateLineDraw(i, t); var a = t.get('zlevel'); var o = t.get(['effect', 'trailLength']); var s = n.getZr(); var l = s.painter.getType() === 'svg'; (l || s.painter.getLayer(a).clear(!0), this._lastZlevel == null || l || s.configLayer(this._lastZlevel, { motionBlur: !1 }), this._showEffect(t) && o) && (l || s.configLayer(a, { motionBlur: !0, lastFrameAlpha: Math.max(Math.min(o / 10 + 0.9, 1), 0) })); r.updateData(i); var u = t.get('clip', !0) && Hi(t.coordinateSystem, !1, t); u ? this.group.setClipPath(u) : this.group.removeClipPath(), this._lastZlevel = a, this._finished = !0 }, e.prototype.incrementalPrepareRender = function (t, e, n) { var i = t.getData(); var r = this._updateLineDraw(i, t); r.incrementalPrepareUpdate(i), this._clearLayer(n), this._finished = !1 }, e.prototype.incrementalRender = function (t, e, n) { this._lineDraw.incrementalUpdate(t, e.getData()), this._finished = t.end === e.getData().count() }, e.prototype.updateTransform = function (t, e, n) { var i = t.getData(); var r = t.pipelineContext; if (!this._finished || r.large || r.progressiveRender) return { update: !0 }; var a = Vg.reset(t, e, n); a.progress && a.progress({ start: 0, end: i.count(), count: i.count() }, i), this._lineDraw.updateLayout(), this._clearLayer(n) }, e.prototype._updateLineDraw = function (t, e) { var n = this._lineDraw; var i = this._showEffect(e); var r = !!e.get('polyline'); var a = e.pipelineContext; var o = a.large; return n && i === this._hasEffet && r === this._isPolyline && o === this._isLargeDraw || (n && n.remove(), n = this._lineDraw = o ? new zg() : new dh(r ? i ? kg : Cg : i ? jg : oh), this._hasEffet = i, this._isPolyline = r, this._isLargeDraw = o, this.group.removeAll()), this.group.add(n.group), n }, e.prototype._showEffect = function (t) { return !!t.get(['effect', 'show']) }, e.prototype._clearLayer = function (t) { var e = t.getZr(); var n = e.painter.getType() === 'svg'; n || this._lastZlevel == null || e.painter.getLayer(this._lastZlevel).clear(!0) }, e.prototype.remove = function (t, e) { this._lineDraw && this._lineDraw.remove(), this._lineDraw = null, this._clearLayer(e) }, e.type = 'lines', e }(Vi.a)); Vi.a.registerClass(Fg); function Gg (t) { return t instanceof Array || (t = [t, t]), t } var Hg = { seriesType: 'lines', reset: function (t) { var e = Gg(t.get('symbol')); var n = Gg(t.get('symbolSize')); var i = t.getData(); function r (t, e) { var n = t.getItemModel(e); var i = Gg(n.getShallow('symbol', !0)); var r = Gg(n.getShallow('symbolSize', !0)); i[0] && t.setItemVisual(e, 'fromSymbol', i[0]), i[1] && t.setItemVisual(e, 'toSymbol', i[1]), r[0] && t.setItemVisual(e, 'fromSymbolSize', r[0]), r[1] && t.setItemVisual(e, 'toSymbolSize', r[1]) } return i.setVisual('fromSymbol', e && e[0]), i.setVisual('toSymbol', e && e[1]), i.setVisual('fromSymbolSize', n && n[0]), i.setVisual('toSymbolSize', n && n[1]), { dataEach: i.hasItemOption ? r : null } } }; var Wg = Hg; c.e(Vg), c.i(Wg); var Xg = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.getInitialData = function (t, e) { return At(this.getSource(), this, { generateCoord: 'value' }) }, e.prototype.preventIncremental = function () { var t = mt.a.get(this.get('coordinateSystem')); if (t && t.dimensions) return t.dimensions[0] === 'lng' && t.dimensions[1] === 'lat' }, e.type = 'series.heatmap', e.defaultOption = { coordinateSystem: 'cartesian2d', zlevel: 0, z: 2, geoIndex: 0, blurSize: 30, pointSize: 20, maxOpacity: 1, minOpacity: 0, select: { itemStyle: { borderColor: '#212121' } } }, e }(oi.a)); oi.a.registerClass(Xg); var Yg = 256; var Ug = (function () { function t () { this.blurSize = 30, this.pointSize = 20, this.maxOpacity = 1, this.minOpacity = 0, this._gradientPixels = { inRange: null, outOfRange: null }; var t = f.createCanvas(); this.canvas = t } return t.prototype.update = function (t, e, n, i, r, a) { var o = this._getBrush(); var s = this._getGradient(r, 'inRange'); var l = this._getGradient(r, 'outOfRange'); var u = this.pointSize + this.blurSize; var c = this.canvas; var h = c.getContext('2d'); var d = t.length; c.width = e, c.height = n; for (var p = 0; p < d; ++p) { var f = t[p]; var g = f[0]; var y = f[1]; var v = f[2]; var m = i(v); h.globalAlpha = m, h.drawImage(o, g - u, y - u) } if (!c.width || !c.height) return c; var b = h.getImageData(0, 0, c.width, c.height); var x = b.data; var _ = 0; var w = x.length; var O = this.minOpacity; var S = this.maxOpacity; var M = S - O; while (_ < w) { m = x[_ + 3] / 256; var I = 4 * Math.floor(m * (Yg - 1)); if (m > 0) { var T = a(m) ? s : l; m > 0 && (m = m * M + O), x[_++] = T[I], x[_++] = T[I + 1], x[_++] = T[I + 2], x[_++] = T[I + 3] * m * 256 } else _ += 4 } return h.putImageData(b, 0, 0), c }, t.prototype._getBrush = function () { var t = this._brushCanvas || (this._brushCanvas = f.createCanvas()); var e = this.pointSize + this.blurSize; var n = 2 * e; t.width = n, t.height = n; var i = t.getContext('2d'); return i.clearRect(0, 0, n, n), i.shadowOffsetX = n, i.shadowBlur = this.blurSize, i.shadowColor = '#000', i.beginPath(), i.arc(-e, e, this.pointSize, 0, 2 * Math.PI, !0), i.closePath(), i.fill(), t }, t.prototype._getGradient = function (t, e) { for (var n = this._gradientPixels, i = n[e] || (n[e] = new Uint8ClampedArray(1024)), r = [0, 0, 0, 0], a = 0, o = 0; o < 256; o++)t[e](o / 255, !0, r), i[a++] = r[0], i[a++] = r[1], i[a++] = r[2], i[a++] = r[3]; return i }, t }()); var Zg = Ug; function qg (t, e, n) { var i = t[1] - t[0]; e = f.map(e, function (e) { return { interval: [(e.interval[0] - t[0]) / i, (e.interval[1] - t[0]) / i] } }); var r = e.length; var a = 0; return function (t) { var i; for (i = a; i < r; i++) { var o = e[i].interval; if (o[0] <= t && t <= o[1]) { a = i; break } } if (i === r) for (i = a - 1; i >= 0; i--) { o = e[i].interval; if (o[0] <= t && t <= o[1]) { a = i; break } } return i >= 0 && i < r && n[i] } } function Kg (t, e) { var n = t[1] - t[0]; return e = [(e[0] - t[0]) / n, (e[1] - t[0]) / n], function (t) { return t >= e[0] && t <= e[1] } } function $g (t) { var e = t.dimensions; return e[0] === 'lng' && e[1] === 'lat' } var Qg = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n) { var i; e.eachComponent('visualMap', function (e) { e.eachTargetSeries(function (n) { n === t && (i = e) }) }), this.group.removeAll(), this._incrementalDisplayable = null; var r = t.coordinateSystem; r.type === 'cartesian2d' || r.type === 'calendar' ? this._renderOnCartesianAndCalendar(t, n, 0, t.getData().count()) : $g(r) && this._renderOnGeo(r, t, i, n) }, e.prototype.incrementalPrepareRender = function (t, e, n) { this.group.removeAll() }, e.prototype.incrementalRender = function (t, e, n, i) { var r = e.coordinateSystem; r && this._renderOnCartesianAndCalendar(e, i, t.start, t.end, !0) }, e.prototype._renderOnCartesianAndCalendar = function (t, e, n, i, r) { var a; var o; var s; var l; var u = t.coordinateSystem; if (Wi(u, 'cartesian2d')) { var c = u.getAxis('x'); var h = u.getAxis('y'); 0, a = c.getBandWidth(), o = h.getBandWidth(), s = c.scale.getExtent(), l = h.scale.getExtent() } for (var d = this.group, p = t.getData(), f = t.getModel(['emphasis', 'itemStyle']).getItemStyle(), g = t.getModel(['blur', 'itemStyle']).getItemStyle(), v = t.getModel(['select', 'itemStyle']).getItemStyle(), m = Object(hi.e)(t), b = t.get(['emphasis', 'focus']), x = t.get(['emphasis', 'blurScope']), _ = Wi(u, 'cartesian2d') ? [p.mapDimension('x'), p.mapDimension('y'), p.mapDimension('value')] : [p.mapDimension('time'), p.mapDimension('value')], w = n; w < i; w++) { var O = void 0; var S = p.getItemVisual(w, 'style'); if (Wi(u, 'cartesian2d')) { var M = p.get(_[0], w); var I = p.get(_[1], w); if (isNaN(p.get(_[2], w)) || M < s[0] || M > s[1] || I < l[0] || I > l[1]) continue; var T = u.dataToPoint([M, I]); O = new y.Rect({ shape: { x: Math.floor(Math.round(T[0]) - a / 2), y: Math.floor(Math.round(T[1]) - o / 2), width: Math.ceil(a), height: Math.ceil(o) }, style: S }) } else { if (isNaN(p.get(_[1], w))) continue; O = new y.Rect({ z2: 1, shape: u.dataToRect([p.get(_[0], w)]).contentShape, style: S }) } var j = p.getItemModel(w); if (p.hasItemOption) { var A = j.getModel('emphasis'); f = A.getModel('itemStyle').getItemStyle(), g = j.getModel(['blur', 'itemStyle']).getItemStyle(), v = j.getModel(['select', 'itemStyle']).getItemStyle(), b = A.get('focus'), x = A.get('blurScope'), m = Object(hi.e)(j) } var C = t.getRawValue(w); var D = '-'; C && C[2] != null && (D = C[2] + ''), Object(hi.g)(O, m, { labelFetcher: t, labelDataIndex: w, defaultOpacity: S.opacity, defaultText: D }), O.ensureState('emphasis').style = f, O.ensureState('blur').style = g, O.ensureState('select').style = v, Object(li.k)(O, b, x), O.incremental = r, r && (O.states.emphasis.hoverLayer = !0), d.add(O), p.setItemGraphicEl(w, O) } }, e.prototype._renderOnGeo = function (t, e, n, i) { var r = n.targetVisuals.inRange; var a = n.targetVisuals.outOfRange; var o = e.getData(); var s = this._hmLayer || this._hmLayer || new Zg(); s.blurSize = e.get('blurSize'), s.pointSize = e.get('pointSize'), s.minOpacity = e.get('minOpacity'), s.maxOpacity = e.get('maxOpacity'); var l = t.getViewRect().clone(); var u = t.getRoamTransform(); l.applyTransform(u); var c = Math.max(l.x, 0); var h = Math.max(l.y, 0); var d = Math.min(l.width + l.x, i.getWidth()); var p = Math.min(l.height + l.y, i.getHeight()); var f = d - c; var g = p - h; var v = [o.mapDimension('lng'), o.mapDimension('lat'), o.mapDimension('value')]; var m = o.mapArray(v, function (e, n, i) { var r = t.dataToPoint([e, n]); return r[0] -= c, r[1] -= h, r.push(i), r }); var b = n.getExtent(); var x = n.type === 'visualMap.continuous' ? Kg(b, n.option.range) : qg(b, n.getPieceList(), n.option.selected); s.update(m, f, g, r.color.getNormalizer(), { inRange: r.color.getColorMapper(), outOfRange: a.color.getColorMapper() }, x); var _ = new y.Image({ style: { width: f, height: g, x: c, y: h, image: s.canvas }, silent: !0 }); this.group.add(_) }, e.type = 'heatmap', e }(Vi.a)); Vi.a.registerClass(Qg); var Jg = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.hasSymbolVisual = !0, n.defaultSymbol = 'roundRect', n } return Object(Ct.b)(e, t), e.prototype.getInitialData = function (e) { return e.stack = null, t.prototype.getInitialData.apply(this, arguments) }, e.type = 'series.pictorialBar', e.dependencies = ['grid'], e.defaultOption = Object(La.d)(ka.defaultOption, { symbol: 'circle', symbolSize: null, symbolRotate: null, symbolPosition: null, symbolOffset: null, symbolMargin: null, symbolRepeat: !1, symbolRepeatDirection: 'end', symbolClip: !1, symbolBoundingData: null, symbolPatternSize: 400, barGap: '-100%', progressive: 0, emphasis: { scale: !1 }, select: { itemStyle: { borderColor: '#212121' } } }), e }(ka)); oi.a.registerClass(Jg); var ty = ['itemStyle', 'borderWidth']; var ey = [{ xy: 'x', wh: 'width', index: 0, posDesc: ['left', 'right'] }, { xy: 'y', wh: 'height', index: 1, posDesc: ['top', 'bottom'] }]; var ny = new y.Circle(); var iy = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n) { var i = this.group; var r = t.getData(); var a = this._data; var o = t.coordinateSystem; var s = o.getBaseAxis(); var l = s.isHorizontal(); var u = o.master.getRect(); var c = { ecSize: { width: n.getWidth(), height: n.getHeight() }, seriesModel: t, coordSys: o, coordSysExtent: [[u.x, u.x + u.width], [u.y, u.y + u.height]], isHorizontal: l, valueDim: ey[+l], categoryDim: ey[1 - +l] }; return r.diff(a).add(function (t) { if (r.hasValue(t)) { var e = gy(r, t); var n = ry(r, t, e, c); var a = my(r, c, n); r.setItemGraphicEl(t, a), i.add(a), Sy(a, c, n) } }).update(function (t, e) { var n = a.getItemGraphicEl(e); if (r.hasValue(t)) { var o = gy(r, t); var s = ry(r, t, o, c); var l = _y(r, s); n && l !== n.__pictorialShapeStr && (i.remove(n), r.setItemGraphicEl(t, null), n = null), n ? by(n, c, s) : n = my(r, c, s, !0), r.setItemGraphicEl(t, n), n.__pictorialSymbolMeta = s, i.add(n), Sy(n, c, s) } else i.remove(n) }).remove(function (t) { var e = a.getItemGraphicEl(t); e && xy(a, t, e.__pictorialSymbolMeta.animationModel, e) }).execute(), this._data = r, this.group }, e.prototype.remove = function (t, e) { var n = this.group; var i = this._data; t.get('animation') ? i && i.eachItemGraphicEl(function (e) { xy(i, Object(q.a)(e).dataIndex, t, e) }) : n.removeAll() }, e.type = 'pictorialBar', e }(Vi.a)); function ry (t, e, n, i) { var r = t.getItemLayout(e); var a = n.get('symbolRepeat'); var o = n.get('symbolClip'); var s = n.get('symbolPosition') || 'start'; var l = n.get('symbolRotate'); var u = (l || 0) * Math.PI / 180 || 0; var c = n.get('symbolPatternSize') || 2; var h = n.isAnimationEnabled(); var d = { dataIndex: e, layout: r, itemModel: n, symbolType: t.getItemVisual(e, 'symbol') || 'circle', style: t.getItemVisual(e, 'style'), symbolClip: o, symbolRepeat: a, symbolRepeatDirection: n.get('symbolRepeatDirection'), symbolPatternSize: c, rotation: u, animationModel: h ? n : null, hoverScale: h && n.get(['emphasis', 'scale']), z2: n.getShallow('z', !0) || 0 }; ay(n, a, r, i, d), sy(t, e, r, a, o, d.boundingLength, d.pxSign, c, i, d), ly(n, d.symbolScale, u, i, d); var p = d.symbolSize; var g = n.get('symbolOffset'); return f.isArray(g) && (g = [Object(v.parsePercent)(g[0], p[0]), Object(v.parsePercent)(g[1], p[1])]), uy(n, p, r, a, o, g, s, d.valueLineWidth, d.boundingLength, d.repeatCutLength, i, d), d } function ay (t, e, n, i, r) { var a; var o = i.valueDim; var s = t.get('symbolBoundingData'); var l = i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()); var u = l.toGlobalCoord(l.dataToCoord(0)); var c = 1 - +(n[o.wh] <= 0); if (f.isArray(s)) { var h = [oy(l, s[0]) - u, oy(l, s[1]) - u]; h[1] < h[0] && h.reverse(), a = h[c] } else a = s != null ? oy(l, s) - u : e ? i.coordSysExtent[o.index][c] - u : n[o.wh]; r.boundingLength = a, e && (r.repeatCutLength = n[o.wh]), r.pxSign = a > 0 ? 1 : a < 0 ? -1 : 0 } function oy (t, e) { return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e))) } function sy (t, e, n, i, r, a, o, s, l, u) { var c; var h = l.valueDim; var d = l.categoryDim; var p = Math.abs(n[d.wh]); var g = t.getItemVisual(e, 'symbolSize'); c = f.isArray(g) ? g.slice() : g == null ? ['100%', '100%'] : [g, g], c[d.index] = Object(v.parsePercent)(c[d.index], p), c[h.index] = Object(v.parsePercent)(c[h.index], i ? p : Math.abs(a)), u.symbolSize = c; var y = u.symbolScale = [c[0] / s, c[1] / s]; y[h.index] *= (l.isHorizontal ? -1 : 1) * o } function ly (t, e, n, i, r) { var a = t.get(ty) || 0; a && (ny.attr({ scaleX: e[0], scaleY: e[1], rotation: n }), ny.updateTransform(), a /= ny.getLineScale(), a *= e[i.valueDim.index]), r.valueLineWidth = a } function uy (t, e, n, i, r, a, o, s, l, u, c, h) { var d = c.categoryDim; var p = c.valueDim; var g = h.pxSign; var y = Math.max(e[p.index] + s, 0); var m = y; if (i) { var b = Math.abs(l); var x = f.retrieve(t.get('symbolMargin'), '15%') + ''; var _ = !1; x.lastIndexOf('!') === x.length - 1 && (_ = !0, x = x.slice(0, x.length - 1)); var w = Object(v.parsePercent)(x, e[p.index]); var O = Math.max(y + 2 * w, 0); var S = _ ? 0 : 2 * w; var M = Object(v.isNumeric)(i); var I = M ? i : My((b + S) / O); var T = b - I * y; w = T / 2 / (_ ? I : I - 1), O = y + 2 * w, S = _ ? 0 : 2 * w, M || i === 'fixed' || (I = u ? My((Math.abs(u) + S) / O) : 0), m = I * O - S, h.repeatTimes = I, h.symbolMargin = w } var j = g * (m / 2); var A = h.pathPosition = []; A[d.index] = n[d.wh] / 2, A[p.index] = o === 'start' ? j : o === 'end' ? l - j : l / 2, a && (A[0] += a[0], A[1] += a[1]); var C = h.bundlePosition = []; C[d.index] = n[d.xy], C[p.index] = n[p.xy]; var D = h.barRectShape = f.extend({}, n); D[p.wh] = g * Math.max(Math.abs(n[p.wh]), Math.abs(A[p.index] + j)), D[d.wh] = n[d.wh]; var k = h.clipShape = {}; k[d.xy] = -n[d.xy], k[d.wh] = c.ecSize[d.wh], k[p.xy] = 0, k[p.wh] = n[p.wh] } function cy (t) { var e = t.symbolPatternSize; var n = Object(sn.a)(t.symbolType, -e / 2, -e / 2, e, e); return n.attr({ culling: !0 }), n.type !== 'image' && n.setStyle({ strokeNoScale: !0 }), n } function hy (t, e, n, i) { var r = t.__pictorialBundle; var a = n.symbolSize; var o = n.valueLineWidth; var s = n.pathPosition; var l = e.valueDim; var u = n.repeatTimes || 0; var c = 0; var h = a[e.valueDim.index] + o + 2 * n.symbolMargin; for (wy(t, function (t) { t.__pictorialAnimationIndex = c, t.__pictorialRepeatTimes = u, c < u ? Oy(t, null, f(c), n, i) : Oy(t, null, { scaleX: 0, scaleY: 0 }, n, i, function () { r.remove(t) }), c++ }); c < u; c++) { var d = cy(n); d.__pictorialAnimationIndex = c, d.__pictorialRepeatTimes = u, r.add(d); var p = f(c); Oy(d, { x: p.x, y: p.y, scaleX: 0, scaleY: 0 }, { scaleX: p.scaleX, scaleY: p.scaleY, rotation: p.rotation }, n, i) } function f (t) { var e = s.slice(); var i = n.pxSign; var r = t; return (n.symbolRepeatDirection === 'start' ? i > 0 : i < 0) && (r = u - 1 - t), e[l.index] = h * (r - u / 2 + 0.5) + s[l.index], { x: e[0], y: e[1], scaleX: n.symbolScale[0], scaleY: n.symbolScale[1], rotation: n.rotation } } } function dy (t, e, n, i) { var r = t.__pictorialBundle; var a = t.__pictorialMainPath; a ? Oy(a, null, { x: n.pathPosition[0], y: n.pathPosition[1], scaleX: n.symbolScale[0], scaleY: n.symbolScale[1], rotation: n.rotation }, n, i) : (a = t.__pictorialMainPath = cy(n), r.add(a), Oy(a, { x: n.pathPosition[0], y: n.pathPosition[1], scaleX: 0, scaleY: 0, rotation: n.rotation }, { scaleX: n.symbolScale[0], scaleY: n.symbolScale[1] }, n, i)) } function py (t, e, n) { var i = f.extend({}, e.barRectShape); var r = t.__pictorialBarRect; r ? Oy(r, null, { shape: i }, e, n) : (r = t.__pictorialBarRect = new y.Rect({ z2: 2, shape: i, silent: !0, style: { stroke: 'transparent', fill: 'transparent', lineWidth: 0 } }), t.add(r)) } function fy (t, e, n, i) { if (n.symbolClip) { var r = t.__pictorialClipPath; var a = f.extend({}, n.clipShape); var o = e.valueDim; var s = n.animationModel; var l = n.dataIndex; if (r)y.updateProps(r, { shape: a }, s, l); else { a[o.wh] = 0, r = new y.Rect({ shape: a }), t.__pictorialBundle.setClipPath(r), t.__pictorialClipPath = r; var u = {}; u[o.wh] = n.clipShape[o.wh], y[i ? 'updateProps' : 'initProps'](r, { shape: u }, s, l) } } } function gy (t, e) { var n = t.getItemModel(e); return n.getAnimationDelayParams = yy, n.isAnimationEnabled = vy, n } function yy (t) { return { index: t.__pictorialAnimationIndex, count: t.__pictorialRepeatTimes } } function vy () { return this.parentModel.isAnimationEnabled() && !!this.getShallow('animation') } function my (t, e, n, i) { var r = new y.Group(); var a = new y.Group(); return r.add(a), r.__pictorialBundle = a, a.x = n.bundlePosition[0], a.y = n.bundlePosition[1], n.symbolRepeat ? hy(r, e, n) : dy(r, e, n), py(r, n, i), fy(r, e, n, i), r.__pictorialShapeStr = _y(t, n), r.__pictorialSymbolMeta = n, r } function by (t, e, n) { var i = n.animationModel; var r = n.dataIndex; var a = t.__pictorialBundle; y.updateProps(a, { x: n.bundlePosition[0], y: n.bundlePosition[1] }, i, r), n.symbolRepeat ? hy(t, e, n, !0) : dy(t, e, n, !0), py(t, n, !0), fy(t, e, n, !0) } function xy (t, e, n, i) { var r = i.__pictorialBarRect; r && r.removeTextContent(); var a = []; wy(i, function (t) { a.push(t) }), i.__pictorialMainPath && a.push(i.__pictorialMainPath), i.__pictorialClipPath && (n = null), f.each(a, function (t) { y.removeElement(t, { scaleX: 0, scaleY: 0 }, n, e, function () { i.parent && i.parent.remove(i) }) }), t.setItemGraphicEl(e, null) } function _y (t, e) { return [t.getItemVisual(e.dataIndex, 'symbol') || 'none', !!e.symbolRepeat, !!e.symbolClip].join(':') } function wy (t, e, n) { f.each(t.__pictorialBundle.children(), function (i) { i !== t.__pictorialBarRect && e.call(n, i) }) } function Oy (t, e, n, i, r, a) { e && t.attr(e), i.symbolClip && !r ? n && t.attr(n) : n && y[r ? 'updateProps' : 'initProps'](t, n, i.animationModel, i.dataIndex, a) } function Sy (t, e, n) { var i = n.dataIndex; var r = n.itemModel; var a = r.getModel('emphasis'); var o = a.getModel('itemStyle').getItemStyle(); var s = r.getModel(['blur', 'itemStyle']).getItemStyle(); var l = r.getModel(['select', 'itemStyle']).getItemStyle(); var u = r.getShallow('cursor'); var c = a.get('focus'); var h = a.get('blurScope'); var d = a.get('scale'); wy(t, function (t) { if (t instanceof di.a) { var e = t.style; t.useStyle(f.extend({ image: e.image, x: e.x, y: e.y, width: e.width, height: e.height }, n.style)) } else t.useStyle(n.style); var i = t.ensureState('emphasis'); i.style = o, d && (i.scaleX = 1.1 * t.scaleX, i.scaleY = 1.1 * t.scaleY), t.ensureState('blur').style = s, t.ensureState('select').style = l, u && (t.cursor = u), t.z2 = n.z2 }); var p = e.valueDim.posDesc[+(n.boundingLength > 0)]; var g = t.__pictorialBarRect; Object(hi.g)(g, Object(hi.e)(r), { labelFetcher: e.seriesModel, labelDataIndex: i, defaultText: ui(e.seriesModel.getData(), i), inheritColor: n.style.fill, defaultOpacity: n.style.opacity, defaultOutsidePosition: p }), Object(li.k)(t, c, h) } function My (t) { var e = Math.round(t); return Math.abs(t - e) < 1e-4 ? e : Math.ceil(t) }Vi.a.registerClass(iy); c.e(f.curry(le, 'pictorialBar')); var Iy = (function (t) { function e (e, n, i, r, a) { var o = t.call(this, e, n, i) || this; return o.type = r || 'value', o.position = a || 'bottom', o } return Object(Ct.b)(e, t), e.prototype.isHorizontal = function () { var t = this.position; return t === 'top' || t === 'bottom' }, e.prototype.pointToData = function (t, e) { return this.coordinateSystem.pointToData(t)[0] }, e }(En)); var Ty = Iy; var jy = (function () { function t (t, e, n) { this.type = 'single', this.dimension = 'single', this.dimensions = ['single'], this.axisPointerEnabled = !0, this.model = t, this._init(t, e, n) } return t.prototype._init = function (t, e, n) { var i = this.dimension; var r = new Ty(i, Ze(t), [0, 0], t.get('type'), t.get('position')); var a = r.type === 'category'; r.onBand = a && t.get('boundaryGap'), r.inverse = t.get('inverse'), r.orient = t.get('orient'), t.axis = r, r.model = t, r.coordinateSystem = this, this._axis = r }, t.prototype.update = function (t, e) { t.eachSeries(function (t) { if (t.coordinateSystem === this) { var e = t.getData(); Object(f.each)(e.mapDimensionsAll(this.dimension), function (t) { this._axis.scale.unionExtentFromData(e, t) }, this), Ue(this._axis.scale, this._axis.model) } }, this) }, t.prototype.resize = function (t, e) { this._rect = Object(on.g)({ left: t.get('left'), top: t.get('top'), right: t.get('right'), bottom: t.get('bottom'), width: t.get('width'), height: t.get('height') }, { width: e.getWidth(), height: e.getHeight() }), this._adjustAxis() }, t.prototype.getRect = function () { return this._rect }, t.prototype._adjustAxis = function () { var t = this._rect; var e = this._axis; var n = e.isHorizontal(); var i = n ? [0, t.width] : [0, t.height]; var r = e.reverse ? 1 : 0; e.setExtent(i[r], i[1 - r]), this._updateAxisTransform(e, n ? t.x : t.y) }, t.prototype._updateAxisTransform = function (t, e) { var n = t.getExtent(); var i = n[0] + n[1]; var r = t.isHorizontal(); t.toGlobalCoord = r ? function (t) { return t + e } : function (t) { return i - t + e }, t.toLocalCoord = r ? function (t) { return t - e } : function (t) { return i - t + e } }, t.prototype.getAxis = function () { return this._axis }, t.prototype.getBaseAxis = function () { return this._axis }, t.prototype.getAxes = function () { return [this._axis] }, t.prototype.getTooltipAxes = function () { return { baseAxes: [this.getAxis()], otherAxes: [] } }, t.prototype.containPoint = function (t) { var e = this.getRect(); var n = this.getAxis(); var i = n.orient; return i === 'horizontal' ? n.contain(n.toLocalCoord(t[0])) && t[1] >= e.y && t[1] <= e.y + e.height : n.contain(n.toLocalCoord(t[1])) && t[0] >= e.y && t[0] <= e.y + e.height }, t.prototype.pointToData = function (t) { var e = this.getAxis(); return [e.coordToData(e.toLocalCoord(t[e.orient === 'horizontal' ? 0 : 1]))] }, t.prototype.dataToPoint = function (t) { var e = this.getAxis(); var n = this.getRect(); var i = []; var r = e.orient === 'horizontal' ? 0 : 1; return t instanceof Array && (t = t[0]), i[r] = e.toGlobalCoord(e.dataToCoord(+t)), i[1 - r] = r === 0 ? n.y + n.height / 2 : n.x + n.width / 2, i }, t.prototype.convertToPixel = function (t, e, n) { var i = Ay(e); return i === this ? this.dataToPoint(n) : null }, t.prototype.convertFromPixel = function (t, e, n) { var i = Ay(e); return i === this ? this.pointToData(n) : null }, t }()); function Ay (t) { var e = t.seriesModel; var n = t.singleAxisModel; return n && n.coordinateSystem || e && e.coordinateSystem } var Cy = jy; function Dy (t, e) { var n = []; return t.eachComponent('singleAxis', function (i, r) { var a = new Cy(i, t, e); a.name = 'single_' + r, a.resize(i, e), i.coordinateSystem = a, n.push(a) }), t.eachSeries(function (t) { if (t.get('coordinateSystem') === 'singleAxis') { var e = t.getReferringComponents('singleAxis', Z.b).models[0]; t.coordinateSystem = e && e.coordinateSystem } }), n } function ky (t, e) { e = e || {}; var n = t.coordinateSystem; var i = t.axis; var r = {}; var a = i.position; var o = i.orient; var s = n.getRect(); var l = [s.x, s.x + s.width, s.y, s.y + s.height]; var u = { horizontal: { top: l[2], bottom: l[3] }, vertical: { left: l[0], right: l[1] } }; r.position = [o === 'vertical' ? u.vertical[a] : l[0], o === 'horizontal' ? u.horizontal[a] : l[3]]; var c = { horizontal: 0, vertical: 1 }; r.rotation = Math.PI / 2 * c[o]; var h = { top: -1, bottom: 1, right: 1, left: -1 }; r.labelDirection = r.tickDirection = r.nameDirection = h[a], t.get(['axisTick', 'inside']) && (r.tickDirection = -r.tickDirection), f.retrieve(e.labelInside, t.get(['axisLabel', 'inside'])) && (r.labelDirection = -r.labelDirection); var d = e.rotate; return d == null && (d = t.get(['axisLabel', 'rotate'])), r.labelRotation = a === 'top' ? -d : d, r.z2 = 1, r }mt.a.register('single', { create: Dy, dimensions: Cy.prototype.dimensions }); var Ly = ['axisLine', 'axisTickLabel', 'axisName']; var Py = ['splitArea', 'splitLine']; var Ry = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.axisPointerClass = 'SingleAxisPointer', n } return Object(Ct.b)(e, t), e.prototype.render = function (e, n, i, r) { var a = this.group; a.removeAll(); var o = this._axisGroup; this._axisGroup = new y.Group(); var s = ky(e); var l = new Rr(e, s); f.each(Ly, l.add, l), a.add(this._axisGroup), a.add(l.getGroup()), f.each(Py, function (t) { e.get([t, 'show']) && Ny[t](this, this.group, this._axisGroup, e) }, this), y.groupTransition(o, this._axisGroup, e), t.prototype.render.call(this, e, n, i, r) }, e.prototype.remove = function () { na(this) }, e.type = 'singleAxis', e }(Kr)); var Ny = { splitLine: function (t, e, n, i) { var r = i.axis; if (!r.scale.isBlank()) { var a = i.getModel('splitLine'); var o = a.getModel('lineStyle'); var s = o.get('color'); s = s instanceof Array ? s : [s]; for (var l = i.coordinateSystem.getRect(), u = r.isHorizontal(), c = [], h = 0, d = r.getTicksCoords({ tickModel: a }), p = [], g = [], v = 0; v < d.length; ++v) { var m = r.toGlobalCoord(d[v].coord); u ? (p[0] = m, p[1] = l.y, g[0] = m, g[1] = l.y + l.height) : (p[0] = l.x, p[1] = m, g[0] = l.x + l.width, g[1] = m); var b = h++ % s.length; c[b] = c[b] || [], c[b].push(new y.Line({ subPixelOptimize: !0, shape: { x1: p[0], y1: p[1], x2: g[0], y2: g[1] }, silent: !0 })) } var x = o.getLineStyle(['color']); for (v = 0; v < c.length; ++v)e.add(y.mergePath(c[v], { style: f.defaults({ stroke: s[v % s.length] }, x), silent: !0 })) } }, splitArea: function (t, e, n, i) { ea(t, n, i, i) } }; Ur.a.registerClass(Ry); var Ey = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.getCoordSysModel = function () { return this }, e.type = 'singleAxis', e.layoutMode = 'box', e.defaultOption = { left: '5%', top: '5%', right: '5%', bottom: '5%', type: 'value', position: 'bottom', orient: 'horizontal', axisLine: { show: !0, lineStyle: { width: 1, type: 'solid' } }, tooltip: { show: !0 }, axisTick: { show: !0, length: 6, lineStyle: { width: 1 } }, axisLabel: { show: !0, interval: 'auto' }, splitLine: { show: !0, lineStyle: { type: 'dashed', opacity: 0.2 } } }, e }(hr.a)); hr.a.registerClass(Ey), f.mixin(Ey, an.prototype), br('single', Ey, Ey.defaultOption); function zy (t, e) { var n; var i = []; var r = t.seriesIndex; if (r == null || !(n = e.getSeriesByIndex(r))) return { point: [] }; var a = n.getData(); var o = Z.t(a, t); if (o == null || o < 0 || f.isArray(o)) return { point: [] }; var s = a.getItemGraphicEl(o); var l = n.coordinateSystem; if (n.getTooltipPosition)i = n.getTooltipPosition(o) || []; else if (l && l.dataToPoint) if (t.isStacked) { var u = l.getBaseAxis(); var c = l.getOtherAxis(u); var h = c.dim; var d = u.dim; var p = h === 'x' || h === 'radius' ? 1 : 0; var g = a.mapDimension(d); var y = []; y[p] = a.get(g, o), y[1 - p] = a.get(a.getCalculationInfo('stackResultDimension'), o), i = l.dataToPoint(y) || [] } else i = l.dataToPoint(a.getValues(f.map(l.dimensions, function (t) { return a.mapDimension(t) }), o)) || []; else if (s) { var v = s.getBoundingRect().clone(); v.applyTransform(s.transform), i = [v.x + v.width / 2, v.y + v.height / 2] } return { point: i, el: s } } var By = Object(Z.o)(); function Vy (t, e, n) { var i = t.currTrigger; var r = [t.x, t.y]; var a = t; var o = t.dispatchAction || Object(f.bind)(n.dispatchAction, n); var s = e.getComponent('axisPointer').coordSysAxesInfo; if (s) { Ky(r) && (r = zy({ seriesIndex: a.seriesIndex, dataIndex: a.dataIndex }, e).point); var l = Ky(r); var u = a.axesInfo; var c = s.axesInfo; var h = i === 'leave' || Ky(r); var d = {}; var p = {}; var g = { list: [], map: {} }; var y = { showPointer: Object(f.curry)(Hy, p), showTooltip: Object(f.curry)(Wy, g) }; Object(f.each)(s.coordSysMap, function (t, e) { var n = l || t.containPoint(r); Object(f.each)(s.coordSysAxesInfo[e], function (t, e) { var i = t.axis; var a = Zy(u, t); if (!h && n && (!u || a)) { var o = a && a.value; o != null || l || (o = i.pointToData(r)), o != null && Fy(t, o, y, !1, d) } }) }); var v = {}; return Object(f.each)(c, function (t, e) { var n = t.linkGroup; n && !p[e] && Object(f.each)(n.axesInfo, function (e, i) { var r = p[i]; if (e !== t && r) { var a = r.value; n.mapper && (a = t.axis.scale.parse(n.mapper(a, qy(e), qy(t)))), v[t.key] = a } }) }), Object(f.each)(v, function (t, e) { Fy(c[e], t, y, !0, d) }), Xy(p, c, d), Yy(g, r, t, o), Uy(c, o, n), d } } function Fy (t, e, n, i, r) { var a = t.axis; if (!a.scale.isBlank() && a.containData(e)) if (t.involveSeries) { var o = Gy(e, t); var s = o.payloadBatch; var l = o.snapToValue; s[0] && r.seriesIndex == null && Object(f.extend)(r, s[0]), !i && t.snap && a.containData(l) && l != null && (e = l), n.showPointer(t, e, s), n.showTooltip(t, o, l) } else n.showPointer(t, e) } function Gy (t, e) { var n = e.axis; var i = n.dim; var r = t; var a = []; var o = Number.MAX_VALUE; var s = -1; return Object(f.each)(e.seriesModels, function (e, l) { var u; var c; var h = e.getData().mapDimensionsAll(i); if (e.getAxisTooltipData) { var d = e.getAxisTooltipData(h, t, n); c = d.dataIndices, u = d.nestestValue } else { if (c = e.getData().indicesOfNearest(h[0], t, n.type === 'category' ? 0.5 : null), !c.length) return; u = e.getData().get(h[0], c[0]) } if (u != null && isFinite(u)) { var p = t - u; var g = Math.abs(p); g <= o && ((g < o || p >= 0 && s < 0) && (o = g, s = p, r = u, a.length = 0), Object(f.each)(c, function (t) { a.push({ seriesIndex: e.seriesIndex, dataIndexInside: t, dataIndex: e.getData().getRawIndex(t) }) })) } }), { payloadBatch: a, snapToValue: r } } function Hy (t, e, n, i) { t[e.key] = { value: n, payloadBatch: i } } function Wy (t, e, n, i) { var r = n.payloadBatch; var a = e.axis; var o = a.model; var s = e.axisPointerModel; if (e.triggerTooltip && r.length) { var l = e.coordSys.model; var u = Yr(l); var c = t.map[u]; c || (c = t.map[u] = { coordSysId: l.id, coordSysIndex: l.componentIndex, coordSysType: l.type, coordSysMainType: l.mainType, dataByAxis: [] }, t.list.push(c)), c.dataByAxis.push({ axisDim: a.dim, axisIndex: o.componentIndex, axisType: o.type, axisId: o.id, value: i, valueLabelOpt: { precision: s.get(['label', 'precision']), formatter: s.get(['label', 'formatter']) }, seriesDataIndices: r.slice() }) } } function Xy (t, e, n) { var i = n.axesInfo = []; Object(f.each)(e, function (e, n) { var r = e.axisPointerModel.option; var a = t[n]; a ? (!e.useHandle && (r.status = 'show'), r.value = a.value, r.seriesDataIndices = (a.payloadBatch || []).slice()) : !e.useHandle && (r.status = 'hide'), r.status === 'show' && i.push({ axisDim: e.axis.dim, axisIndex: e.axis.model.componentIndex, value: r.value }) }) } function Yy (t, e, n, i) { if (!Ky(e) && t.list.length) { var r = ((t.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {}; i({ type: 'showTip', escapeConnect: !0, x: e[0], y: e[1], tooltipOption: n.tooltipOption, position: n.position, dataIndexInside: r.dataIndexInside, dataIndex: r.dataIndex, seriesIndex: r.seriesIndex, dataByCoordSys: t.list }) } else i({ type: 'hideTip' }) } function Uy (t, e, n) { var i = n.getZr(); var r = 'axisPointerLastHighlights'; var a = By(i)[r] || {}; var o = By(i)[r] = {}; Object(f.each)(t, function (t, e) { var n = t.axisPointerModel.option; n.status === 'show' && Object(f.each)(n.seriesDataIndices, function (t) { var e = t.seriesIndex + ' | ' + t.dataIndex; o[e] = t }) }); var s = []; var l = []; Object(f.each)(a, function (t, e) { !o[e] && l.push(t) }), Object(f.each)(o, function (t, e) { !a[e] && s.push(t) }), l.length && n.dispatchAction({ type: 'downplay', escapeConnect: !0, notBlur: !0, batch: l }), s.length && n.dispatchAction({ type: 'highlight', escapeConnect: !0, notBlur: !0, batch: s }) } function Zy (t, e) { for (var n = 0; n < (t || []).length; n++) { var i = t[n]; if (e.axis.dim === i.axisDim && e.axis.model.componentIndex === i.axisIndex) return i } } function qy (t) { var e = t.axis.model; var n = {}; var i = n.axisDim = t.axis.dim; return n.axisIndex = n[i + 'AxisIndex'] = e.componentIndex, n.axisName = n[i + 'AxisName'] = e.name, n.axisId = n[i + 'AxisId'] = e.id, n } function Ky (t) { return !t || t[0] == null || isNaN(t[0]) || t[1] == null || isNaN(t[1]) } var $y = Object(Z.o)(); var Qy = f.each; function Jy (t, e, n) { if (!zn.a.node) { var i = e.getZr(); $y(i).records || ($y(i).records = {}), tv(i, e); var r = $y(i).records[t] || ($y(i).records[t] = {}); r.handler = n } } function tv (t, e) { function n (n, i) { t.on(n, function (n) { var r = rv(e); Qy($y(t).records, function (t) { t && i(t, n, r.dispatchAction) }), ev(r.pendings, e) }) }$y(t).initialized || ($y(t).initialized = !0, n('click', f.curry(iv, 'click')), n('mousemove', f.curry(iv, 'mousemove')), n('globalout', nv)) } function ev (t, e) { var n; var i = t.showTip.length; var r = t.hideTip.length; i ? n = t.showTip[i - 1] : r && (n = t.hideTip[r - 1]), n && (n.dispatchAction = null, e.dispatchAction(n)) } function nv (t, e, n) { t.handler('leave', null, n) } function iv (t, e, n, i) { e.handler(t, n, i) } function rv (t) { var e = { showTip: [], hideTip: [] }; var n = function (i) { var r = e[i.type]; r ? r.push(i) : (i.dispatchAction = n, t.dispatchAction(i)) }; return { dispatchAction: n, pendings: e } } function av (t, e) { if (!zn.a.node) { var n = e.getZr(); var i = ($y(n).records || {})[t]; i && ($y(n).records[t] = null) } } var ov = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n) { var i = e.getComponent('tooltip'); var r = t.get('triggerOn') || i && i.get('triggerOn') || 'mousemove|click'; Jy('axisPointer', n, function (t, e, n) { r !== 'none' && (t === 'leave' || r.indexOf(t) >= 0) && n({ type: 'updateAxisPointer', currTrigger: t, x: e && e.offsetX, y: e && e.offsetY }) }) }, e.prototype.remove = function (t, e) { av('axisPointer', e) }, e.prototype.dispose = function (t, e) { av('axisPointer', e) }, e.type = 'axisPointer', e }(Ur.a)); Ur.a.registerClass(ov); var sv = Object(Z.o)(); var lv = f.clone; var uv = f.bind; var cv = (function () { function t () { this._dragging = !1, this.animationThreshold = 15 } return t.prototype.render = function (t, e, n, i) { var r = e.get('value'); var a = e.get('status'); if (this._axisModel = t, this._axisPointerModel = e, this._api = n, i || this._lastValue !== r || this._lastStatus !== a) { this._lastValue = r, this._lastStatus = a; var o = this._group; var s = this._handle; if (!a || a === 'hide') return o && o.hide(), void (s && s.hide()); o && o.show(), s && s.show(); var l = {}; this.makeElOption(l, r, t, e, n); var u = l.graphicKey; u !== this._lastGraphicKey && this.clear(n), this._lastGraphicKey = u; var c = this._moveAnimation = this.determineAnimation(t, e); if (o) { var h = f.curry(hv, e, c); this.updatePointerEl(o, l, h), this.updateLabelEl(o, l, h, e) } else o = this._group = new y.Group(), this.createPointerEl(o, l, t, e), this.createLabelEl(o, l, t, e), n.getZr().add(o); gv(o, e, !0), this._renderHandle(r) } }, t.prototype.remove = function (t) { this.clear(t) }, t.prototype.dispose = function (t) { this.clear(t) }, t.prototype.determineAnimation = function (t, e) { var n = e.get('animation'); var i = t.axis; var r = i.type === 'category'; var a = e.get('snap'); if (!a && !r) return !1; if (n === 'auto' || n == null) { var o = this.animationThreshold; if (r && i.getBandWidth() > o) return !0; if (a) { var s = Hr(t).seriesDataCount; var l = i.getExtent(); return Math.abs(l[0] - l[1]) / s > o } return !1 } return !0 === n }, t.prototype.makeElOption = function (t, e, n, i, r) {}, t.prototype.createPointerEl = function (t, e, n, i) { var r = e.pointer; if (r) { var a = sv(t).pointerEl = new y[r.type](lv(e.pointer)); t.add(a) } }, t.prototype.createLabelEl = function (t, e, n, i) { if (e.label) { var r = sv(t).labelEl = new y.Text(lv(e.label)); t.add(r), pv(r, i) } }, t.prototype.updatePointerEl = function (t, e, n) { var i = sv(t).pointerEl; i && e.pointer && (i.setStyle(e.pointer.style), n(i, { shape: e.pointer.shape })) }, t.prototype.updateLabelEl = function (t, e, n, i) { var r = sv(t).labelEl; r && (r.setStyle(e.label.style), n(r, { x: e.label.x, y: e.label.y }), pv(r, i)) }, t.prototype._renderHandle = function (t) { if (!this._dragging && this.updateHandleTransform) { var e; var n = this._axisPointerModel; var i = this._api.getZr(); var r = this._handle; var a = n.getModel('handle'); var o = n.get('status'); if (!a.get('show') || !o || o === 'hide') return r && i.remove(r), void (this._handle = null); this._handle || (e = !0, r = this._handle = y.createIcon(a.get('icon'), { cursor: 'move', draggable: !0, onmousemove: function (t) { Ss.g(t.event) }, onmousedown: uv(this._onHandleDragMove, this, 0, 0), drift: uv(this._onHandleDragMove, this), ondragend: uv(this._onHandleDragEnd, this) }), i.add(r)), gv(r, n, !1), r.setStyle(a.getItemStyle(null, ['color', 'borderColor', 'borderWidth', 'opacity', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'])); var s = a.get('size'); f.isArray(s) || (s = [s, s]), r.scaleX = s[0] / 2, r.scaleY = s[1] / 2, x.b(this, '_doDispatchAxisPointer', a.get('throttle') || 0, 'fixRate'), this._moveHandleToValue(t, e) } }, t.prototype._moveHandleToValue = function (t, e) { hv(this._axisPointerModel, !e && this._moveAnimation, this._handle, fv(this.getHandleTransform(t, this._axisModel, this._axisPointerModel))) }, t.prototype._onHandleDragMove = function (t, e) { var n = this._handle; if (n) { this._dragging = !0; var i = this.updateHandleTransform(fv(n), [t, e], this._axisModel, this._axisPointerModel); this._payloadInfo = i, n.stopAnimation(), n.attr(fv(i)), sv(n).lastProp = null, this._doDispatchAxisPointer() } }, t.prototype._doDispatchAxisPointer = function () { var t = this._handle; if (t) { var e = this._payloadInfo; var n = this._axisModel; this._api.dispatchAction({ type: 'updateAxisPointer', x: e.cursorPoint[0], y: e.cursorPoint[1], tooltipOption: e.tooltipOption, axesInfo: [{ axisDim: n.axis.dim, axisIndex: n.componentIndex }] }) } }, t.prototype._onHandleDragEnd = function () { this._dragging = !1; var t = this._handle; if (t) { var e = this._axisPointerModel.get('value'); this._moveHandleToValue(e), this._api.dispatchAction({ type: 'hideTip' }) } }, t.prototype.clear = function (t) { this._lastValue = null, this._lastStatus = null; var e = t.getZr(); var n = this._group; var i = this._handle; e && n && (this._lastGraphicKey = null, n && e.remove(n), i && e.remove(i), this._group = null, this._handle = null, this._payloadInfo = null) }, t.prototype.doClear = function () {}, t.prototype.buildLabel = function (t, e, n) { return n = n || 0, { x: t[n], y: t[1 - n], width: e[n], height: e[1 - n] } }, t }()); function hv (t, e, n, i) { dv(sv(n).lastProp, i) || (sv(n).lastProp = i, e ? y.updateProps(n, i, t) : (n.stopAnimation(), n.attr(i))) } function dv (t, e) { if (f.isObject(t) && f.isObject(e)) { var n = !0; return f.each(e, function (e, i) { n = n && dv(t[i], e) }), !!n } return t === e } function pv (t, e) { t[e.get(['label', 'show']) ? 'show' : 'hide']() } function fv (t) { return { x: t.x || 0, y: t.y || 0, rotation: t.rotation || 0 } } function gv (t, e, n) { var i = e.get('z'); var r = e.get('zlevel'); t && t.traverse(function (t) { t.type !== 'group' && (i != null && (t.z = i), r != null && (t.zlevel = r), t.silent = n) }) } var yv = cv; function vv (t) { var e; var n = t.get('type'); var i = t.getModel(n + 'Style'); return n === 'line' ? (e = i.getLineStyle(), e.fill = null) : n === 'shadow' && (e = i.getAreaStyle(), e.stroke = null), e } function mv (t, e, n, i, r) { var a = n.get('value'); var o = xv(a, e.axis, e.ecModel, n.get('seriesDataIndices'), { precision: n.get(['label', 'precision']), formatter: n.get(['label', 'formatter']) }); var s = n.getModel('label'); var l = m.normalizeCssArray(s.get('padding') || 0); var u = s.getFont(); var c = Be.e(o, u); var h = r.position; var d = c.width + l[1] + l[3]; var p = c.height + l[0] + l[2]; var f = r.align; f === 'right' && (h[0] -= d), f === 'center' && (h[0] -= d / 2); var g = r.verticalAlign; g === 'bottom' && (h[1] -= p), g === 'middle' && (h[1] -= p / 2), bv(h, d, p, i); var y = s.get('backgroundColor'); y && y !== 'auto' || (y = e.get(['axisLine', 'lineStyle', 'color'])), t.label = { x: h[0], y: h[1], style: Object(hi.c)(s, { text: o, font: u, fill: s.getTextColor(), padding: l, backgroundColor: y }), z2: 10 } } function bv (t, e, n, i) { var r = i.getWidth(); var a = i.getHeight(); t[0] = Math.min(t[0] + e, r) - e, t[1] = Math.min(t[1] + n, a) - n, t[0] = Math.max(t[0], 0), t[1] = Math.max(t[1], 0) } function xv (t, e, n, i, r) { t = e.scale.parse(t); var a = e.scale.getLabel({ value: t }, { precision: r.precision }); var o = r.formatter; if (o) { var s = { value: $e(e, { value: t }), axisDimension: e.dim, axisIndex: e.index, seriesData: [] }; f.each(i, function (t) { var e = n.getSeriesByIndex(t.seriesIndex); var i = t.dataIndexInside; var r = e && e.getDataParams(i); r && s.seriesData.push(r) }), f.isString(o) ? a = o.replace('{value}', a) : f.isFunction(o) && (a = o(s)) } return a } function _v (t, e, n) { var i = d.c(); return d.g(i, i, n.rotation), d.i(i, i, n.position), y.applyTransform([t.dataToCoord(e), (n.labelOffset || 0) + (n.labelDirection || 1) * (n.labelMargin || 0)], i) } function wv (t, e, n, i, r, a) { var o = Rr.innerTextLayout(n.rotation, 0, n.labelDirection); n.labelMargin = r.get(['label', 'margin']), mv(e, i, r, a, { position: _v(i.axis, t, n), align: o.textAlign, verticalAlign: o.textVerticalAlign }) } function Ov (t, e, n) { return n = n || 0, { x1: t[n], y1: t[1 - n], x2: e[n], y2: e[1 - n] } } function Sv (t, e, n) { return n = n || 0, { x: t[n], y: t[1 - n], width: e[n], height: e[1 - n] } } function Mv (t, e, n, i, r, a) { return { cx: t, cy: e, r0: n, r: i, startAngle: r, endAngle: a, clockwise: !0 } } var Iv = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(Ct.b)(e, t), e.prototype.makeElOption = function (t, e, n, i, r) { var a = n.axis; var o = a.grid; var s = i.get('type'); var l = Tv(o, a).getOtherAxis(a).getGlobalExtent(); var u = a.toGlobalCoord(a.dataToCoord(e, !0)); if (s && s !== 'none') { var c = vv(i); var h = jv[s](a, u, l); h.style = c, t.graphicKey = h.type, t.pointer = h } var d = $r(o.model, n); wv(e, t, d, n, i, r) }, e.prototype.getHandleTransform = function (t, e, n) { var i = $r(e.axis.grid.model, e, { labelInside: !1 }); i.labelMargin = n.get(['handle', 'margin']); var r = _v(e.axis, t, i); return { x: r[0], y: r[1], rotation: i.rotation + (i.labelDirection < 0 ? Math.PI : 0) } }, e.prototype.updateHandleTransform = function (t, e, n, i) { var r = n.axis; var a = r.grid; var o = r.getGlobalExtent(!0); var s = Tv(a, r).getOtherAxis(r).getGlobalExtent(); var l = r.dim === 'x' ? 0 : 1; var u = [t.x, t.y]; u[l] += e[l], u[l] = Math.min(o[1], u[l]), u[l] = Math.max(o[0], u[l]); var c = (s[1] + s[0]) / 2; var h = [c, c]; h[l] = u[l]; var d = [{ verticalAlign: 'middle' }, { align: 'center' }]; return { x: u[0], y: u[1], rotation: t.rotation, cursorPoint: h, tooltipOption: d[l] } }, e }(yv)); function Tv (t, e) { var n = {}; return n[e.dim + 'AxisIndex'] = e.index, t.getCartesian(n) } var jv = { line: function (t, e, n) { var i = Ov([e, n[0]], [e, n[1]], Av(t)); return { type: 'Line', subPixelOptimize: !0, shape: i } }, shadow: function (t, e, n) { var i = Math.max(1, t.getBandWidth()); var r = n[1] - n[0]; return { type: 'Rect', shape: Sv([e - i / 2, n[0]], [i, r], Av(t)) } } }; function Av (t) { return t.dim === 'x' ? 0 : 1 }Kr.registerAxisPointerClass('CartesianAxisPointer', Iv); var Cv = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.type = 'axisPointer', e.defaultOption = { show: 'auto', zlevel: 0, z: 50, type: 'line', snap: !1, triggerTooltip: !0, value: null, status: null, link: [], animation: null, animationDurationUpdate: 200, lineStyle: { color: '#B9BEC9', width: 1, type: 'dashed' }, shadowStyle: { color: 'rgba(210,219,238,0.2)' }, label: { show: !0, formatter: null, precision: 'auto', margin: 3, color: '#fff', padding: [5, 7, 5, 7], backgroundColor: 'auto', borderColor: null, borderWidth: 0, borderRadius: 3 }, handle: { show: !1, icon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z', size: 45, margin: 50, color: '#333', shadowBlur: 3, shadowColor: '#aaa', shadowOffsetX: 0, shadowOffsetY: 2, throttle: 40 } }, e }(hr.a)); var Dv = Cv; hr.a.registerClass(Dv), c.f(function (t) { if (t) { (!t.axisPointer || t.axisPointer.length === 0) && (t.axisPointer = {}); var e = t.axisPointer.link; e && !f.isArray(e) && (t.axisPointer.link = [e]) } }), c.g(c.a.PROCESSOR.STATISTIC, function (t, e) { t.getComponent('axisPointer').coordSysAxesInfo = Nr(t, e) }), c.c({ type: 'updateAxisPointer', event: 'updateAxisPointer', update: ':updateAxisPointer' }, Vy); var kv = ['x', 'y']; var Lv = ['width', 'height']; var Pv = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(Ct.b)(e, t), e.prototype.makeElOption = function (t, e, n, i, r) { var a = n.axis; var o = a.coordinateSystem; var s = Ev(o, 1 - Nv(a)); var l = o.dataToPoint(e)[0]; var u = i.get('type'); if (u && u !== 'none') { var c = vv(i); var h = Rv[u](a, l, s); h.style = c, t.graphicKey = h.type, t.pointer = h } var d = ky(n); wv(e, t, d, n, i, r) }, e.prototype.getHandleTransform = function (t, e, n) { var i = ky(e, { labelInside: !1 }); i.labelMargin = n.get(['handle', 'margin']); var r = _v(e.axis, t, i); return { x: r[0], y: r[1], rotation: i.rotation + (i.labelDirection < 0 ? Math.PI : 0) } }, e.prototype.updateHandleTransform = function (t, e, n, i) { var r = n.axis; var a = r.coordinateSystem; var o = Nv(r); var s = Ev(a, o); var l = [t.x, t.y]; l[o] += e[o], l[o] = Math.min(s[1], l[o]), l[o] = Math.max(s[0], l[o]); var u = Ev(a, 1 - o); var c = (u[1] + u[0]) / 2; var h = [c, c]; return h[o] = l[o], { x: l[0], y: l[1], rotation: t.rotation, cursorPoint: h, tooltipOption: { verticalAlign: 'middle' } } }, e }(yv)); var Rv = { line: function (t, e, n) { var i = Ov([e, n[0]], [e, n[1]], Nv(t)); return { type: 'Line', subPixelOptimize: !0, shape: i } }, shadow: function (t, e, n) { var i = t.getBandWidth(); var r = n[1] - n[0]; return { type: 'Rect', shape: Sv([e - i / 2, n[0]], [i, r], Nv(t)) } } }; function Nv (t) { return t.isHorizontal() ? 0 : 1 } function Ev (t, e) { var n = t.getRect(); return [n[kv[e]], n[kv[e]] + n[Lv[e]]] }Kr.registerAxisPointerClass('SingleAxisPointer', Pv); c.b({ type: 'single' }); var zv = 2; var Bv = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.useColorPaletteOnData = !0, n } return Object(Ct.b)(e, t), e.prototype.init = function (e) { t.prototype.init.apply(this, arguments), this.legendVisualProvider = new co(f.bind(this.getData, this), f.bind(this.getRawData, this)) }, e.prototype.fixData = function (t) { var e = t.length; var n = {}; var i = Object(Z.j)(t, function (t) { return n.hasOwnProperty(t[0] + '') || (n[t[0] + ''] = -1), t[2] }); var r = []; i.buckets.each(function (t, e) { r.push({ name: e, dataList: t }) }); for (var a = r.length, o = 0; o < a; ++o) { for (var s = r[o].name, l = 0; l < r[o].dataList.length; ++l) { var u = r[o].dataList[l][0] + ''; n[u] = o } for (var u in n)n.hasOwnProperty(u) && n[u] !== o && (n[u] = o, t[e] = [u, 0, s], e++) } return t }, e.prototype.getInitialData = function (t, e) { for (var n = this.getReferringComponents('singleAxis', Z.b).models[0], i = n.get('type'), r = f.filter(t.data, function (t) { return void 0 !== t[2] }), a = this.fixData(r || []), o = [], s = this.nameMap = f.createHashMap(), l = 0, u = 0; u < a.length; ++u)o.push(a[u][zv]), s.get(a[u][zv]) || (s.set(a[u][zv], l), l++); var c = vt(a, { coordDimensions: ['single'], dimensionsDefine: [{ name: 'time', type: C(i) }, { name: 'value', type: 'float' }, { name: 'name', type: 'ordinal' }], encodeDefine: { single: 0, value: 1, itemName: 2 } }); var h = new ht(c, this); return h.initData(a), h }, e.prototype.getLayerSeries = function () { for (var t = this.getData(), e = t.count(), n = [], i = 0; i < e; ++i)n[i] = i; var r = t.mapDimension('single'); var a = Object(Z.j)(n, function (e) { return t.get('name', e) }); var o = []; return a.buckets.each(function (e, n) { e.sort(function (e, n) { return t.get(r, e) - t.get(r, n) }), o.push({ name: n, indices: e }) }), o }, e.prototype.getAxisTooltipData = function (t, e, n) { f.isArray(t) || (t = t ? [t] : []); for (var i, r = this.getData(), a = this.getLayerSeries(), o = [], s = a.length, l = 0; l < s; ++l) { for (var u = Number.MAX_VALUE, c = -1, h = a[l].indices.length, d = 0; d < h; ++d) { var p = r.get(t[0], a[l].indices[d]); var g = Math.abs(p - e); g <= u && (i = p, u = g, c = a[l].indices[d]) }o.push(c) } return { dataIndices: o, nestestValue: i } }, e.prototype.formatTooltip = function (t, e, n) { var i = this.getData(); var r = i.getName(t); var a = i.get(i.mapDimension('value'), t); return Object(Xo.c)('nameValue', { name: r, value: a }) }, e.type = 'series.themeRiver', e.dependencies = ['singleAxis'], e.defaultOption = { zlevel: 0, z: 2, coordinateSystem: 'singleAxis', boundaryGap: ['10%', '10%'], singleAxisIndex: 0, animationEasing: 'linear', label: { margin: 4, show: !0, position: 'left', fontSize: 11 }, emphasis: { label: { show: !0 } } }, e }(oi.a)); oi.a.registerClass(Bv); var Vv = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n._layers = [], n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n) { var i = t.getData(); var r = this; var a = this.group; var o = t.getLayerSeries(); var s = i.getLayout('layoutInfo'); var l = s.rect; var u = s.boundaryGap; function c (t) { return t.name }a.x = 0, a.y = l.y + u[0]; var h = new M(this._layersSeries || [], o, c, c); var d = []; function p (e, n, s) { var l = r._layers; if (e !== 'remove') { for (var u, c, h = [], p = [], f = o[n].indices, g = 0; g < f.length; g++) { var v = i.getItemLayout(f[g]); var m = v.x; var b = v.y0; var x = v.y; h.push(m, b), p.push(m, b + x), u = i.getItemVisual(f[g], 'style') } var _ = i.getItemLayout(f[0]); var w = t.getModel('label'); var O = w.get('margin'); var S = t.getModel('emphasis'); if (e === 'add') { var M = d[n] = new y.Group(); c = new Bi({ shape: { points: h, stackedOnPoints: p, smooth: 0.4, stackedOnSmooth: 0.4, smoothConstraint: !1 }, z2: 0 }), M.add(c), a.add(M), t.isAnimationEnabled() && c.setClipPath(Fv(c.getBoundingRect(), t, function () { c.removeClipPath() })) } else { M = l[s]; c = M.childAt(0), a.add(M), d[n] = M, y.updateProps(c, { shape: { points: h, stackedOnPoints: p } }, t) }Object(hi.g)(c, Object(hi.e)(t), { labelDataIndex: f[g - 1], defaultText: i.getName(f[g - 1]), inheritColor: u.fill }, { normal: { verticalAlign: 'middle' } }), c.setTextConfig({ position: null, local: !0 }); var I = c.getTextContent(); I && (I.x = _.x - O, I.y = _.y0 + _.y / 2), c.useStyle(u), i.setItemGraphicEl(n, c), Object(li.D)(c, t), Object(li.k)(c, S.get('focus'), S.get('blurScope')) } else a.remove(l[n]) }h.add(Object(f.bind)(p, this, 'add')).update(Object(f.bind)(p, this, 'update')).remove(Object(f.bind)(p, this, 'remove')).execute(), this._layersSeries = o, this._layers = d }, e.type = 'themeRiver', e }(Vi.a)); function Fv (t, e, n) { var i = new y.Rect({ shape: { x: t.x - 10, y: t.y - 10, width: 0, height: t.height + 20 } }); return y.initProps(i, { shape: { x: t.x - 50, width: t.width + 100, height: t.height + 20 } }, e, n), i } function Gv (t, e) { t.eachSeriesByType('themeRiver', function (t) { var e = t.getData(); var n = t.coordinateSystem; var i = {}; var r = n.getRect(); i.rect = r; var a = t.get('boundaryGap'); var o = n.getAxis(); if (i.boundaryGap = a, o.orient === 'horizontal') { a[0] = v.parsePercent(a[0], r.height), a[1] = v.parsePercent(a[1], r.height); var s = r.height - a[0] - a[1]; Hv(e, t, s) } else { a[0] = v.parsePercent(a[0], r.width), a[1] = v.parsePercent(a[1], r.width); var l = r.width - a[0] - a[1]; Hv(e, t, l) }e.setLayout('layoutInfo', i) }) } function Hv (t, e, n) { if (t.count()) for (var i, r = e.coordinateSystem, a = e.getLayerSeries(), o = t.mapDimension('single'), s = t.mapDimension('value'), l = f.map(a, function (e) { return f.map(e.indices, function (e) { var n = r.dataToPoint(t.get(o, e)); return n[1] = t.get(s, e), n }) }), u = Wv(l), c = u.y0, h = n / u.max, d = a.length, p = a[0].indices.length, g = 0; g < p; ++g) { i = c[g] * h, t.setItemLayout(a[0].indices[g], { layerIndex: 0, x: l[0][g][0], y0: i, y: l[0][g][1] * h }); for (var y = 1; y < d; ++y)i += l[y - 1][g][1] * h, t.setItemLayout(a[y].indices[g], { layerIndex: y, x: l[y][g][0], y0: i, y: l[y][g][1] * h }) } } function Wv (t) { for (var e = t.length, n = t[0].length, i = [], r = [], a = 0, o = 0; o < n; ++o) { for (var s = 0, l = 0; l < e; ++l)s += t[l][o][1]; s > a && (a = s), i.push(s) } for (var u = 0; u < n; ++u)r[u] = (a - i[u]) / 2; a = 0; for (var c = 0; c < n; ++c) { var h = i[c] + r[c]; h > a && (a = h) } return { y0: r, max: a } }Vi.a.registerClass(Vv), c.e(Gv), c.g(jo('themeRiver')); var Xv = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.ignoreStyleOnData = !0, n } return Object(Ct.b)(e, t), e.prototype.getInitialData = function (t, e) { var n = { name: t.name, children: t.data }; Yv(n); var i = f.map(t.levels || [], function (t) { return new _.a(t, this, e) }, this); var r = _l.createTree(n, this, a); function a (t) { t.wrapMethod('getItemModel', function (t, e) { var n = r.getNodeByDataIndex(e); var a = i[n.depth]; return a && (t.parentModel = a), t }) } return r.data }, e.prototype.optionUpdated = function () { this.resetViewRoot() }, e.prototype.getDataParams = function (e) { var n = t.prototype.getDataParams.apply(this, arguments); var i = this.getData().tree.getNodeByDataIndex(e); return n.treePathInfo = Ql(i, this), n }, e.prototype.getViewRoot = function () { return this._viewRoot }, e.prototype.resetViewRoot = function (t) { t ? this._viewRoot = t : t = this._viewRoot; var e = this.getRawData().tree.root; t && (t === e || e.contains(t)) || (this._viewRoot = e) }, e.prototype.enableAriaDecal = function () { tu(this) }, e.type = 'series.sunburst', e.defaultOption = { zlevel: 0, z: 2, center: ['50%', '50%'], radius: [0, '75%'], clockwise: !0, startAngle: 90, minAngle: 0, stillShowZeroSum: !0, nodeClick: 'rootToNode', renderLabelForZeroData: !1, label: { rotate: 'radial', show: !0, opacity: 1, align: 'center', position: 'inside', distance: 5, silent: !0 }, itemStyle: { borderWidth: 1, borderColor: 'white', borderType: 'solid', shadowBlur: 0, shadowColor: 'rgba(0, 0, 0, 0.2)', shadowOffsetX: 0, shadowOffsetY: 0, opacity: 1 }, emphasis: { focus: 'descendant' }, blur: { itemStyle: { opacity: 0.2 }, label: { opacity: 0.1 } }, animationType: 'expansion', animationDuration: 1e3, animationDurationUpdate: 500, data: [], levels: [], sort: 'desc' }, e }(oi.a)); function Yv (t) { var e = 0; f.each(t.children, function (t) { Yv(t); var n = t.value; f.isArray(n) && (n = n[0]), e += n }); var n = t.value; f.isArray(n) && (n = n[0]), (n == null || isNaN(n)) && (n = e), n < 0 && (n = 0), f.isArray(t.value) ? t.value[0] = n : t.value = n }oi.a.registerClass(Xv); var Uv = 2; var Zv = 4; var qv = (function (t) { function e (e, n, i, r) { var a = t.call(this) || this; a.z2 = Uv, a.textConfig = { inside: !0 }, Object(q.a)(a).seriesIndex = n.seriesIndex; var o = new y.Text({ z2: Zv, silent: e.getModel().get(['label', 'silent']) }); return a.setTextContent(o), a.updateData(!0, e, n, i, r), a } return Object(Ct.b)(e, t), e.prototype.updateData = function (t, e, n, i, r) { this.node = e, e.piece = this, n = n || this._seriesModel, i = i || this._ecModel; var a = this; Object(q.a)(a).dataIndex = e.dataIndex; var o = e.getModel(); var s = o.getModel('emphasis'); var l = e.getLayout(); var u = f.extend({}, l); u.label = null; var c = e.getVisual('style'); c.lineJoin = 'bevel'; var h = e.getVisual('decal'); h && (c.decal = Object(Vs.a)(h, r)); var d = xo(o.getModel('itemStyle'), u); f.extend(u, d), f.each(li.g, function (t) { var e = a.ensureState(t); var n = o.getModel([t, 'itemStyle']); e.style = n.getItemStyle(); var i = xo(n, u); i && (e.shape = i) }), t ? (a.setShape(u), a.shape.r = l.r0, y.updateProps(a, { shape: { r: l.r } }, n, e.dataIndex)) : y.updateProps(a, { shape: u }, n), a.useStyle(c), this._updateLabel(n); var p = o.getShallow('cursor'); p && a.attr('cursor', p), this._seriesModel = n || this._seriesModel, this._ecModel = i || this._ecModel; var g = s.get('focus'); var v = g === 'ancestor' ? e.getAncestorsIndices() : g === 'descendant' ? e.getDescendantIndices() : null; Object(li.k)(this, v || g, s.get('blurScope')) }, e.prototype._updateLabel = function (t) { var e = this; var n = this.node.getModel(); var i = n.getModel('label'); var r = this.node.getLayout(); var a = r.endAngle - r.startAngle; var o = (r.startAngle + r.endAngle) / 2; var s = Math.cos(o); var l = Math.sin(o); var u = this; var c = u.getTextContent(); var h = this.node.dataIndex; var d = i.get('minAngle') / 180 * Math.PI; var p = i.get('show') && !(d != null && Math.abs(a) < d); function g (t, e) { var n = t.get(e); return n == null ? i.get(e) : n }c.ignore = !p, f.each(li.a, function (i) { var a = i === 'normal' ? n.getModel('label') : n.getModel([i, 'label']); var d = i === 'normal'; var p = d ? c : c.ensureState(i); var f = t.getFormattedLabel(h, i); d && (f = f || e.node.name), p.style = Object(hi.c)(a, {}, null, i !== 'normal', !0), f && (p.style.text = f); var y = a.get('show'); y == null || d || (p.ignore = !y); var v; var m = g(a, 'position'); var b = d ? u : u.states[i]; var x = b.style.fill; b.textConfig = { outsideFill: a.get('color') === 'inherit' ? x : null, inside: m !== 'outside' }; var _ = g(a, 'distance') || 0; var w = g(a, 'align'); m === 'outside' ? (v = r.r + _, w = o > Math.PI / 2 ? 'right' : 'left') : w && w !== 'center' ? w === 'left' ? (v = r.r0 + _, o > Math.PI / 2 && (w = 'right')) : w === 'right' && (v = r.r - _, o > Math.PI / 2 && (w = 'left')) : (v = (r.r + r.r0) / 2, w = 'center'), p.style.align = w, p.style.verticalAlign = g(a, 'verticalAlign') || 'middle', p.x = v * s + r.cx, p.y = v * l + r.cy; var O = g(a, 'rotate'); var S = 0; O === 'radial' ? (S = -o, S < -Math.PI / 2 && (S += Math.PI)) : O === 'tangential' ? (S = Math.PI / 2 - o, S > Math.PI / 2 ? S -= Math.PI : S < -Math.PI / 2 && (S += Math.PI)) : typeof O === 'number' && (S = O * Math.PI / 180), p.rotation = S }), c.dirtyStyle() }, e }(y.Sector)); var Kv = qv; var $v = 'sunburstRootToNode'; c.c({ type: $v, update: 'updateView' }, function (t, e) { function n (e, n) { var i = ql(t, [$v], e); if (i) { var r = e.getViewRoot(); r && (t.direction = $l(r, i.node) ? 'rollUp' : 'drillDown'), e.resetViewRoot(i.node) } }e.eachComponent({ mainType: 'series', subType: 'sunburst', query: t }, n) }); var Qv = 'sunburstHighlight'; c.c({ type: Qv, update: 'none' }, function (t, e, n) { function i (e) { var n = ql(t, [Qv], e); n && (t.dataIndex = n.node.dataIndex) }t = Object(f.extend)({}, t), e.eachComponent({ mainType: 'series', subType: 'sunburst', query: t }, i), n.dispatchAction(Object(f.extend)(t, { type: 'highlight' })) }); var Jv = 'sunburstUnhighlight'; c.c({ type: Jv, update: 'updateView' }, function (t, e, n) { t = Object(f.extend)({}, t), n.dispatchAction(Object(f.extend)(t, { type: 'downplay' })) }); var tm = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n, i) { var r = this; this.seriesModel = t, this.api = n, this.ecModel = e; var a = t.getData(); var o = a.tree.root; var s = t.getViewRoot(); var l = this.group; var u = t.get('renderLabelForZeroData'); var c = []; s.eachNode(function (t) { c.push(t) }); var h = this._oldChildren || []; function d (t, e) { function n (t) { return t.getId() } function i (n, i) { var r = n == null ? null : t[n]; var a = i == null ? null : e[i]; p(r, a) }t.length === 0 && e.length === 0 || new M(e, t, n, n).add(i).update(i).remove(f.curry(i, null)).execute() } function p (i, r) { if (u || !i || i.getValue() || (i = null), i !== o && r !== o) if (r && r.piece)i ? (r.piece.updateData(!1, i, t, e, n), a.setItemGraphicEl(i.dataIndex, r.piece)) : g(r); else if (i) { var s = new Kv(i, t, e, n); l.add(s), a.setItemGraphicEl(i.dataIndex, s) } } function g (t) { t && t.piece && (l.remove(t.piece), t.piece = null) } function y (i, a) { a.depth > 0 ? (r.virtualPiece ? r.virtualPiece.updateData(!1, i, t, e, n) : (r.virtualPiece = new Kv(i, t, e, n), l.add(r.virtualPiece)), a.piece.off('click'), r.virtualPiece.on('click', function (t) { r._rootToNode(a.parentNode) })) : r.virtualPiece && (l.remove(r.virtualPiece), r.virtualPiece = null) }d(c, h), y(o, s), this._initEvents(), this._oldChildren = c }, e.prototype._initEvents = function () { var t = this; this.group.off('click'), this.group.on('click', function (e) { var n = !1; var i = t.seriesModel.getViewRoot(); i.eachNode(function (i) { if (!n && i.piece && i.piece === e.target) { var r = i.getModel().get('nodeClick'); if (r === 'rootToNode')t._rootToNode(i); else if (r === 'link') { var a = i.getModel(); var o = a.get('link'); if (o) { var s = a.get('target', !0) || '_blank'; Object(m.windowOpen)(o, s) } }n = !0 } }) }) }, e.prototype._rootToNode = function (t) { t !== this.seriesModel.getViewRoot() && this.api.dispatchAction({ type: $v, from: this.uid, seriesId: this.seriesModel.id, targetNode: t }) }, e.prototype.containPoint = function (t, e) { var n = e.getData(); var i = n.getItemLayout(0); if (i) { var r = t[0] - i.cx; var a = t[1] - i.cy; var o = Math.sqrt(r * r + a * a); return o <= i.r && o >= i.r0 } }, e.type = 'sunburst', e }(Vi.a)); Vi.a.registerClass(tm); var em = Math.PI / 180; function nm (t, e, n) { e.eachSeriesByType(t, function (t) { var e = t.get('center'); var i = t.get('radius'); f.isArray(i) || (i = [0, i]), f.isArray(e) || (e = [e, e]); var r = n.getWidth(); var a = n.getHeight(); var o = Math.min(r, a); var s = Object(v.parsePercent)(e[0], r); var l = Object(v.parsePercent)(e[1], a); var u = Object(v.parsePercent)(i[0], o / 2); var c = Object(v.parsePercent)(i[1], o / 2); var h = -t.get('startAngle') * em; var d = t.get('minAngle') * em; var p = t.getData().tree.root; var g = t.getViewRoot(); var y = g.depth; var m = t.get('sort'); m != null && im(g, m); var b = 0; f.each(g.children, function (t) { !isNaN(t.getValue()) && b++ }); var x = g.getValue(); var _ = Math.PI / (x || b) * 2; var w = g.depth > 0; var O = g.height - (w ? -1 : 1); var S = (c - u) / (O || 1); var M = t.get('clockwise'); var I = t.get('stillShowZeroSum'); var T = M ? 1 : -1; var j = function (t, e) { if (t) { var n = e; if (t !== p) { var i = t.getValue(); var r = x === 0 && I ? _ : i * _; r < d && (r = d), n = e + T * r; var a = t.depth - y - (w ? -1 : 1); var c = u + S * a; var h = u + S * (a + 1); var g = t.getModel(); g.get('r0') != null && (c = Object(v.parsePercent)(g.get('r0'), o / 2)), g.get('r') != null && (h = Object(v.parsePercent)(g.get('r'), o / 2)), t.setLayout({ angle: r, startAngle: e, endAngle: n, clockwise: M, cx: s, cy: l, r0: c, r: h }) } if (t.children && t.children.length) { var m = 0; f.each(t.children, function (t) { m += j(t, e + m) }) } return n - e } }; if (w) { var A = u; var C = u + S; var D = 2 * Math.PI; p.setLayout({ angle: D, startAngle: h, endAngle: h + D, clockwise: M, cx: s, cy: l, r0: A, r: C }) }j(g, h) }) } function im (t, e) { var n = t.children || []; t.children = rm(n, e), n.length && f.each(t.children, function (t) { im(t, e) }) } function rm (t, e) { if (typeof e === 'function') { var n = f.map(t, function (t, e) { var n = t.getValue(); return { params: { depth: t.depth, height: t.height, dataIndex: t.dataIndex, getValue: function () { return n } }, index: e } }); return n.sort(function (t, n) { return e(t.params, n.params) }), f.map(n, function (e) { return t[e.index] }) } var i = e === 'asc'; return t.sort(function (t, e) { var n = (t.getValue() - e.getValue()) * (i ? 1 : -1); return n === 0 ? (t.dataIndex - e.dataIndex) * (i ? -1 : 1) : n }) } function am (t) { var e = {}; function n (t, n, i) { var r = t; while (r && r.depth > 1)r = r.parentNode; var a = n.getColorFromPalette(r.name || r.dataIndex + '', e); return t.depth > 1 && typeof a === 'string' && (a = Object(g.b)(a, (t.depth - 1) / (i - 1) * 0.5)), a }t.eachSeriesByType('sunburst', function (t) { var e = t.getData(); var i = e.tree; i.eachNode(function (r) { var a = r.getModel(); var o = a.getModel('itemStyle').getItemStyle(); o.fill || (o.fill = n(r, t, i.root.height)); var s = e.ensureUniqueItemVisual(r.dataIndex, 'style'); Object(f.extend)(s, o) }) }) } function om (t, e) { return e = e || [0, 0], f.map(['x', 'y'], function (n, i) { var r = this.getAxis(n); var a = e[i]; var o = t[i] / 2; return r.type === 'category' ? r.getBandWidth() : Math.abs(r.dataToCoord(a - o) - r.dataToCoord(a + o)) }, this) } function sm (t) { var e = t.master.getRect(); return { coordSys: { type: 'cartesian2d', x: e.x, y: e.y, width: e.width, height: e.height }, api: { coord: function (e) { return t.dataToPoint(e) }, size: f.bind(om, t) } } } function lm (t, e) { return e = e || [0, 0], f.map([0, 1], function (n) { var i = e[n]; var r = t[n] / 2; var a = []; var o = []; return a[n] = i - r, o[n] = i + r, a[1 - n] = o[1 - n] = e[1 - n], Math.abs(this.dataToPoint(a)[n] - this.dataToPoint(o)[n]) }, this) } function um (t) { var e = t.getBoundingRect(); return { coordSys: { type: 'geo', x: e.x, y: e.y, width: e.width, height: e.height, zoom: t.getZoom() }, api: { coord: function (e) { return t.dataToPoint(e) }, size: f.bind(lm, t) } } } function cm (t, e) { var n = this.getAxis(); var i = e instanceof Array ? e[0] : e; var r = (t instanceof Array ? t[0] : t) / 2; return n.type === 'category' ? n.getBandWidth() : Math.abs(n.dataToCoord(i - r) - n.dataToCoord(i + r)) } function hm (t) { var e = t.getRect(); return { coordSys: { type: 'singleAxis', x: e.x, y: e.y, width: e.width, height: e.height }, api: { coord: function (e) { return t.dataToPoint(e) }, size: f.bind(cm, t) } } } function dm (t, e) { return e = e || [0, 0], f.map(['Radius', 'Angle'], function (n, i) { var r = 'get' + n + 'Axis'; var a = this[r](); var o = e[i]; var s = t[i] / 2; var l = a.type === 'category' ? a.getBandWidth() : Math.abs(a.dataToCoord(o - s) - a.dataToCoord(o + s)); return n === 'Angle' && (l = l * Math.PI / 180), l }, this) } function pm (t) { var e = t.getRadiusAxis(); var n = t.getAngleAxis(); var i = e.getExtent(); return i[0] > i[1] && i.reverse(), { coordSys: { type: 'polar', cx: t.cx, cy: t.cy, r: i[1], r0: i[0] }, api: { coord: function (i) { var r = e.dataToRadius(i[0]); var a = n.dataToAngle(i[1]); var o = t.coordToPoint([r, a]); return o.push(r, a * Math.PI / 180), o }, size: f.bind(dm, t) } } } function fm (t) { var e = t.getRect(); var n = t.getRangeInfo(); return { coordSys: { type: 'calendar', x: e.x, y: e.y, width: e.width, height: e.height, cellWidth: t.getCellWidth(), cellHeight: t.getCellHeight(), rangeInfo: { start: n.start, end: n.end, weeks: n.weeks, dayCount: n.allDay } }, api: { coord: function (e, n) { return t.dataToPoint(e, n) } } } }c.e(f.curry(nm, 'sunburst')), c.g(f.curry(jo, 'sunburst')), c.i(am); function gm (t, e, n, i) { return t && (t.legacy || !1 !== t.legacy && !n && !i && e !== 'tspan' && (e === 'text' || Object(f.hasOwn)(t, 'text'))) } function ym (t, e, n) { var i; var r; var a; var o = t; if (e === 'text')a = o; else { a = {}, Object(f.hasOwn)(o, 'text') && (a.text = o.text), Object(f.hasOwn)(o, 'rich') && (a.rich = o.rich), Object(f.hasOwn)(o, 'textFill') && (a.fill = o.textFill), Object(f.hasOwn)(o, 'textStroke') && (a.stroke = o.textStroke), r = { type: 'text', style: a, silent: !0 }, i = {}; var s = Object(f.hasOwn)(o, 'textPosition'); n ? i.position = s ? o.textPosition : 'inside' : s && (i.position = o.textPosition), Object(f.hasOwn)(o, 'textPosition') && (i.position = o.textPosition), Object(f.hasOwn)(o, 'textOffset') && (i.offset = o.textOffset), Object(f.hasOwn)(o, 'textRotation') && (i.rotation = o.textRotation), Object(f.hasOwn)(o, 'textDistance') && (i.distance = o.textDistance) } return vm(a, t), Object(f.each)(a.rich, function (t) { vm(t, t) }), { textConfig: i, textContent: r } } function vm (t, e) { e && (e.font = e.textFont || e.font, Object(f.hasOwn)(e, 'textStrokeWidth') && (t.lineWidth = e.textStrokeWidth), Object(f.hasOwn)(e, 'textAlign') && (t.align = e.textAlign), Object(f.hasOwn)(e, 'textVerticalAlign') && (t.verticalAlign = e.textVerticalAlign), Object(f.hasOwn)(e, 'textLineHeight') && (t.lineHeight = e.textLineHeight), Object(f.hasOwn)(e, 'textWidth') && (t.width = e.textWidth), Object(f.hasOwn)(e, 'textHeight') && (t.height = e.textHeight), Object(f.hasOwn)(e, 'textBackgroundColor') && (t.backgroundColor = e.textBackgroundColor), Object(f.hasOwn)(e, 'textPadding') && (t.padding = e.textPadding), Object(f.hasOwn)(e, 'textBorderColor') && (t.borderColor = e.textBorderColor), Object(f.hasOwn)(e, 'textBorderWidth') && (t.borderWidth = e.textBorderWidth), Object(f.hasOwn)(e, 'textBorderRadius') && (t.borderRadius = e.textBorderRadius), Object(f.hasOwn)(e, 'textBoxShadowColor') && (t.shadowColor = e.textBoxShadowColor), Object(f.hasOwn)(e, 'textBoxShadowBlur') && (t.shadowBlur = e.textBoxShadowBlur), Object(f.hasOwn)(e, 'textBoxShadowOffsetX') && (t.shadowOffsetX = e.textBoxShadowOffsetX), Object(f.hasOwn)(e, 'textBoxShadowOffsetY') && (t.shadowOffsetY = e.textBoxShadowOffsetY)) } function mm (t, e, n) { var i = t; i.textPosition = i.textPosition || n.position || 'inside', n.offset != null && (i.textOffset = n.offset), n.rotation != null && (i.textRotation = n.rotation), n.distance != null && (i.textDistance = n.distance); var r = i.textPosition.indexOf('inside') >= 0; var a = t.fill || '#000'; bm(i, e); var o = i.textFill == null; return r ? o && (i.textFill = n.insideFill || '#fff', !i.textStroke && n.insideStroke && (i.textStroke = n.insideStroke), !i.textStroke && (i.textStroke = a), i.textStrokeWidth == null && (i.textStrokeWidth = 2)) : (o && (i.textFill = n.outsideFill || a), !i.textStroke && n.outsideStroke && (i.textStroke = n.outsideStroke)), i.text = e.text, i.rich = e.rich, Object(f.each)(e.rich, function (t) { bm(t, t) }), i } function bm (t, e) { e && (Object(f.hasOwn)(e, 'fill') && (t.textFill = e.fill), Object(f.hasOwn)(e, 'stroke') && (t.textStroke = e.fill), Object(f.hasOwn)(e, 'lineWidth') && (t.textStrokeWidth = e.lineWidth), Object(f.hasOwn)(e, 'font') && (t.font = e.font), Object(f.hasOwn)(e, 'fontStyle') && (t.fontStyle = e.fontStyle), Object(f.hasOwn)(e, 'fontWeight') && (t.fontWeight = e.fontWeight), Object(f.hasOwn)(e, 'fontSize') && (t.fontSize = e.fontSize), Object(f.hasOwn)(e, 'fontFamily') && (t.fontFamily = e.fontFamily), Object(f.hasOwn)(e, 'align') && (t.textAlign = e.align), Object(f.hasOwn)(e, 'verticalAlign') && (t.textVerticalAlign = e.verticalAlign), Object(f.hasOwn)(e, 'lineHeight') && (t.textLineHeight = e.lineHeight), Object(f.hasOwn)(e, 'width') && (t.textWidth = e.width), Object(f.hasOwn)(e, 'height') && (t.textHeight = e.height), Object(f.hasOwn)(e, 'backgroundColor') && (t.textBackgroundColor = e.backgroundColor), Object(f.hasOwn)(e, 'padding') && (t.textPadding = e.padding), Object(f.hasOwn)(e, 'borderColor') && (t.textBorderColor = e.borderColor), Object(f.hasOwn)(e, 'borderWidth') && (t.textBorderWidth = e.borderWidth), Object(f.hasOwn)(e, 'borderRadius') && (t.textBorderRadius = e.borderRadius), Object(f.hasOwn)(e, 'shadowColor') && (t.textBoxShadowColor = e.shadowColor), Object(f.hasOwn)(e, 'shadowBlur') && (t.textBoxShadowBlur = e.shadowBlur), Object(f.hasOwn)(e, 'shadowOffsetX') && (t.textBoxShadowOffsetX = e.shadowOffsetX), Object(f.hasOwn)(e, 'shadowOffsetY') && (t.textBoxShadowOffsetY = e.shadowOffsetY), Object(f.hasOwn)(e, 'textShadowColor') && (t.textShadowColor = e.textShadowColor), Object(f.hasOwn)(e, 'textShadowBlur') && (t.textShadowBlur = e.textShadowBlur), Object(f.hasOwn)(e, 'textShadowOffsetX') && (t.textShadowOffsetX = e.textShadowOffsetX), Object(f.hasOwn)(e, 'textShadowOffsetY') && (t.textShadowOffsetY = e.textShadowOffsetY)) } var xm = n('c585'); var _m = n('63e0'); var wm = Object(Z.o)(); var Om = { x: 1, y: 1, scaleX: 1, scaleY: 1, originX: 1, originY: 1, rotation: 1 }; var Sm = (Object(f.keys)(Om).join(', '), { color: 'fill', borderColor: 'stroke' }); var Mm = { symbol: 1, symbolSize: 1, symbolKeepAspect: 1, legendSymbol: 1, visualMeta: 1, liftZ: 1, decal: 1 }; var Im = 'emphasis'; var Tm = 'normal'; var jm = 'blur'; var Am = 'select'; var Cm = [Tm, Im, jm, Am]; var Dm = { normal: ['itemStyle'], emphasis: [Im, 'itemStyle'], blur: [jm, 'itemStyle'], select: [Am, 'itemStyle'] }; var km = { normal: ['label'], emphasis: [Im, 'label'], blur: [jm, 'label'], select: [Am, 'label'] }; var Lm = 'e\0\0'; var Pm = { normal: {}, emphasis: {}, blur: {}, select: {} }; var Rm = { position: ['x', 'y'], scale: ['scaleX', 'scaleY'], origin: ['originX', 'originY'] }; var Nm = new Bs.a(); var Em = { cartesian2d: sm, geo: um, singleAxis: hm, polar: pm, calendar: fm }; var zm = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.optionUpdated = function () { this.currentZLevel = this.get('zlevel', !0), this.currentZ = this.get('z', !0) }, e.prototype.getInitialData = function (t, e) { return At(this.getSource(), this) }, e.prototype.getDataParams = function (e, n, i) { var r = t.prototype.getDataParams.call(this, e, n); return i && (r.info = wm(i).info), r }, e.type = 'series.custom', e.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar'], e.defaultOption = { coordinateSystem: 'cartesian2d', zlevel: 0, z: 2, legendHoverLink: !0, clip: !1 }, e }(oi.a)); hr.a.registerClass(zm); var Bm = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n, i) { var r = this._data; var a = t.getData(); var o = this.group; var s = lb(t, a, e, n); var l = t.__transientTransitionOpt; if (!l || l.from != null && l.to != null) { var u = new jb(t, l); var c = l ? 'multiple' : 'oneToOne'; new M(r ? r.getIndices() : [], a.getIndices(), Vm(r, c, l && l.from), Vm(a, c, l && l.to), null, c).add(function (e) { cb(n, null, e, s(e, i), t, o, a, null) }).remove(function (e) { Ob(r.getItemGraphicEl(e), t, o) }).update(function (e, l) { u.reset('oneToOne'); var c = r.getItemGraphicEl(l); u.findAndAddFrom(c), u.hasFrom() && (Tb(c, o), c = null), cb(n, c, e, s(e, i), t, o, a, u), u.applyMorphing() }).updateManyToOne(function (e, l) { u.reset('manyToOne'); for (var c = 0; c < l.length; c++) { var h = r.getItemGraphicEl(l[c]); u.findAndAddFrom(h), Tb(h, o) }cb(n, null, e, s(e, i), t, o, a, u), u.applyMorphing() }).updateOneToMany(function (e, l) { u.reset('oneToMany'); var c = e.length; var h = r.getItemGraphicEl(l); u.findAndAddFrom(h), Tb(h, o); for (var d = 0; d < c; d++)cb(n, null, e[d], s(e[d], i), t, o, a, u); u.applyMorphing() }).execute() } else r && r.each(function (e) { Ob(r.getItemGraphicEl(e), t, o) }), a.each(function (e) { cb(n, null, e, s(e, i), t, o, a, null) }); var h = t.get('clip', !0) ? Hi(t.coordinateSystem, !1, t) : null; h ? o.setClipPath(h) : o.removeClipPath(), this._data = a }, e.prototype.incrementalPrepareRender = function (t, e, n) { this.group.removeAll(), this._data = null }, e.prototype.incrementalRender = function (t, e, n, i, r) { var a = e.getData(); var o = lb(e, a, n, i); function s (t) { t.isGroup || (t.incremental = !0, t.ensureState('emphasis').hoverLayer = !0) } for (var l = t.start; l < t.end; l++) { var u = cb(null, null, l, o(l, r), e, this.group, a, null); u.traverse(s) } }, e.prototype.filterForExposedEvent = function (t, e, n, i) { var r = e.element; if (r == null || n.name === r) return !0; while ((n = n.__hostTarget || n.parent) && n !== this.group) if (n.name === r) return !0; return !1 }, e.type = 'custom', e }(Vi.a)); function Vm (t, e, n) { if (t) { if (e === 'oneToOne') return function (e, n) { return t.getId(n) }; var i = t.getDimension(n); var r = t.getDimensionInfo(i); if (!r) { var a = ''; 0, Object(fe.b)(a) } var o = r.ordinalMeta; return function (e, n) { var r = t.get(i, n); return o && (r = o.categories[r]), r == null || Object(f.eqNaN)(r) ? e + '' : '_ec_' + r } } } function Fm (t) { var e; var n = t.type; if (n === 'path') { var i = t.shape; var r = i.width != null && i.height != null ? { x: i.x || 0, y: i.y || 0, width: i.width, height: i.height } : null; var a = Sb(i); e = y.makePath(a, null, r, i.layout || 'center'), wm(e).customPathData = a } else if (n === 'image')e = new y.Image({}), wm(e).customImagePath = t.style.image; else if (n === 'text')e = new y.Text({}); else if (n === 'group')e = new y.Group(); else { if (n === 'compoundPath') throw new Error('"compoundPath" is not supported yet.'); var o = y.getShapeClass(n); if (!o) { var s = ''; 0, Object(fe.b)(s) }e = new o() } return wm(e).customGraphicType = n, e.name = t.name, e.z2EmphasisLift = 1, e.z2SelectLift = 1, e } function Gm (t, e, n, i, r, a, o, s, l, u) { var c = {}; var h = {}; var d = e.isGroup ? null : e; !n && Xm('shape', e, null, r, c, l), Ym('shape', r, h), !n && Xm('extra', e, null, r, c, l), Ym('extra', r, h), !n && Um(e, null, r, c, l), Zm(r, h); var p = o && o.normal.cfg; if (p && e.setTextConfig(p), e.type === 'text' && a) { var g = a; Object(f.hasOwn)(g, 'textFill') && (g.fill = g.textFill), Object(f.hasOwn)(g, 'textStroke') && (g.stroke = g.textStroke) } if (a) { var y = void 0; var v = Ib(e) ? a.decal : null; t && v && (v.dirty = !0, y = Object(Vs.a)(v, t)), a.__decalPattern = y } return !n && qm(e, null, r, a, c, l), d && Object(f.hasOwn)(r, 'invisible') && (d.invisible = r.invisible), n || (Hm(e, h, a), Wm(e, i, r, s, c, l)), Object(f.hasOwn)(r, 'silent') && (e.silent = r.silent), Object(f.hasOwn)(r, 'ignore') && (e.ignore = r.ignore), u || Object(f.hasOwn)(r, 'info') && (wm(e).info = r.info), a ? e.dirty() : e.markRedraw(), n ? h : null } function Hm (t, e, n) { var i = t.isGroup ? null : t; if (i && n) { var r = n.__decalPattern; var a = void 0; r && (a = n.decal, n.decal = r), i.useStyle(n), r && (n.decal = a); for (var o = i.animators, s = 0; s < o.length; s++) { var l = o[s]; l.targetName === 'style' && l.changeTarget(i.style) } }e && t.attr(e) } function Wm (t, e, n, i, r, a) { if (r) { var o = n.during; wm(t).userDuring = o; var s = o ? Object(f.bind)(eb, { el: t, userDuring: o }) : null; var l = { dataIndex: e, isFrom: !0, during: s }; a ? y.initProps(t, r, i, l) : y.updateProps(t, r, i, l) } } function Xm (t, e, n, i, r, a) { var o = i[t]; if (o) { var s; var l = e[t]; var u = o.enterFrom; if (a && u) { !s && (s = r[t] = {}); for (var c = Object(f.keys)(u), h = 0; h < c.length; h++) { var d = c[h]; s[d] = u[d] } } if (!a && l && (n == null || t !== 'shape')) if (o.transition) { !s && (s = r[t] = {}); var p = Object(Z.r)(o.transition); for (h = 0; h < p.length; h++) { d = p[h]; var g = l[d]; 0, s[d] = g } } else if (Object(f.indexOf)(i.transition, t) >= 0) { !s && (s = r[t] = {}); var y = Object(f.keys)(l); for (h = 0; h < y.length; h++) { d = y[h], g = l[d]; $m(o[d], g) && (s[d] = g) } } var v = o.leaveTo; if (v) { var m = Qm(e); var b = m[t] || (m[t] = {}); var x = Object(f.keys)(v); for (h = 0; h < x.length; h++) { d = x[h]; b[d] = v[d] } } } } function Ym (t, e, n) { var i = e[t]; if (i) for (var r = n[t] = {}, a = Object(f.keys)(i), o = 0; o < a.length; o++) { var s = a[o]; r[s] = Object(xm.a)(i[s]) } } function Um (t, e, n, i, r) { var a = n.enterFrom; if (r && a) for (var o = Object(f.keys)(a), s = 0; s < o.length; s++) { var l = o[s]; 0, i[l] = a[l] } if (!r) if (e) { var u = Km(e, t); sb(i, 'x', u), sb(i, 'y', u), sb(i, 'scaleX', u), sb(i, 'scaleY', u), sb(i, 'originX', u), sb(i, 'originY', u), sb(i, 'rotation', u) } else if (n.transition) { var c = Object(Z.r)(n.transition); for (s = 0; s < c.length; s++) { l = c[s]; if (l !== 'style' && l !== 'shape' && l !== 'extra') { var h = t[l]; 0, i[l] = h } } } else sb(i, 'x', t), sb(i, 'y', t); var d = n.leaveTo; if (d) { var p = Qm(t); var g = Object(f.keys)(d); for (s = 0; s < g.length; s++) { l = g[s]; 0, p[l] = d[l] } } } function Zm (t, e) { ab(t, e, 'position'), ab(t, e, 'scale'), ab(t, e, 'origin'), ob(t, e, 'x'), ob(t, e, 'y'), ob(t, e, 'scaleX'), ob(t, e, 'scaleY'), ob(t, e, 'originX'), ob(t, e, 'originY'), ob(t, e, 'rotation') } function qm (t, e, n, i, r, a) { if (i) { var o; var s = e || t; var l = s.style; var u = i.enterFrom; if (a && u) { var c = Object(f.keys)(u); !o && (o = r.style = {}); for (var h = 0; h < c.length; h++) { var d = c[h]; o[d] = u[d] } } if (!a && l) if (i.transition) { var p = Object(Z.r)(i.transition); !o && (o = r.style = {}); for (h = 0; h < p.length; h++) { d = p[h]; var g = l[d]; o[d] = g } } else if (t.getAnimationStyleProps && Object(f.indexOf)(n.transition, 'style') >= 0) { var y = t.getAnimationStyleProps(); var v = y ? y.style : null; if (v) { !o && (o = r.style = {}); var m = Object(f.keys)(i); for (h = 0; h < m.length; h++) { d = m[h]; if (v[d]) { g = l[d]; o[d] = g } } } } var b = i.leaveTo; if (b) { var x = Object(f.keys)(b); var _ = Qm(t); var w = _.style || (_.style = {}); for (h = 0; h < x.length; h++) { d = x[h]; w[d] = b[d] } } } } function Km (t, e) { if (!t || t === e || t.parent === e.parent) return t; var n = Nm.transform || (Nm.transform = d.d([])); var i = t.getComputedTransform(); i ? d.b(n, i) : d.d(n); var r = e.parent; return r && r.getComputedTransform(), Nm.originX = t.originX, Nm.originY = t.originY, Nm.parent = r, Nm.decomposeTransform(), Nm } function $m (t, e) { return Object(f.isArrayLike)(t) ? t !== e : t != null && isFinite(t) } function Qm (t) { var e = wm(t); return e.leaveToProps || (e.leaveToProps = {}) }Vi.a.registerClass(Bm); var Jm = {}; var tb = { setTransform: function (t, e) { return Jm.el[t] = e, this }, getTransform: function (t) { return Jm.el[t] }, setShape: function (t, e) { var n = Jm.el.shape || (Jm.el.shape = {}); return n[t] = e, Jm.isShapeDirty = !0, this }, getShape: function (t) { var e = Jm.el.shape; if (e) return e[t] }, setStyle: function (t, e) { var n = Jm.el.style; return n && (n[t] = e, Jm.isStyleDirty = !0), this }, getStyle: function (t) { var e = Jm.el.style; if (e) return e[t] }, setExtra: function (t, e) { var n = Jm.el.extra || (Jm.el.extra = {}); return n[t] = e, this }, getExtra: function (t) { var e = Jm.el.extra; if (e) return e[t] } }; function eb () { var t = this; var e = t.el; if (e) { var n = wm(e).userDuring; var i = t.userDuring; n === i ? (Jm.el = e, Jm.isShapeDirty = !1, Jm.isStyleDirty = !1, i(tb), Jm.isShapeDirty && e.dirtyShape && e.dirtyShape(), Jm.isStyleDirty && e.dirtyStyle && e.dirtyStyle()) : t.el = t.userDuring = null } } function nb (t, e, n, i, r, a, o) { var s = e.isGroup ? null : e; var l = r && r[t].cfg; if (s) { var u = s.ensureState(t); if (!1 === i) { var c = s.getState(t); c && (c.style = null) } else u.style = i || null; l && (u.textConfig = l), Object(li.B)(s) } } function ib (t, e, n, i) { if (!t.isGroup) { var r = t; var a = n.currentZ; var o = n.currentZLevel; r.z = a, r.zlevel = o; var s = e.z2; s != null && (r.z2 = s || 0); for (var l = 0; l < Cm.length; l++)rb(r, e, Cm[l]) } } function rb (t, e, n) { var i; var r = n === Tm; var a = r ? e : yb(e, n); var o = a ? a.z2 : null; o != null && (i = r ? t : t.ensureState(n), i.z2 = o || 0) } function ab (t, e, n, i) { var r = t[n]; var a = Rm[n]; r && (i ? (e[a[0]] = i[a[0]], e[a[1]] = i[a[1]]) : (e[a[0]] = r[0], e[a[1]] = r[1])) } function ob (t, e, n, i) { t[n] != null && (e[n] = i ? i[n] : t[n]) } function sb (t, e, n) { n && (t[e] = n[e]) } function lb (t, e, n, i) { var r = t.get('renderItem'); var a = t.coordinateSystem; var o = {}; a && (o = a.prepareCustoms ? a.prepareCustoms(a) : Em[a.type](a)); for (var s, l, u = Object(f.defaults)({ getWidth: i.getWidth, getHeight: i.getHeight, getZr: i.getZr, getDevicePixelRatio: i.getDevicePixelRatio, value: _, style: O, ordinalRawValue: w, styleEmphasis: S, visual: T, barLayout: j, currentSeriesIndices: A, font: C }, o.api || {}), c = { context: {}, seriesId: t.id, seriesName: t.name, seriesIndex: t.seriesIndex, coordSys: o.coordSys, dataInsideLength: e.count(), encode: ub(t.getData()) }, h = {}, d = {}, p = {}, g = {}, y = 0; y < Cm.length; y++) { var v = Cm[y]; p[v] = t.getModel(Dm[v]), g[v] = t.getModel(km[v]) } function m (t) { return t === s ? l || (l = e.getItemModel(t)) : e.getItemModel(t) } function b (t, n) { return e.hasItemOption ? t === s ? h[n] || (h[n] = m(t).getModel(Dm[n])) : m(t).getModel(Dm[n]) : p[n] } function x (t, n) { return e.hasItemOption ? t === s ? d[n] || (d[n] = m(t).getModel(km[n])) : m(t).getModel(km[n]) : g[n] } return function (t, n) { return s = t, l = null, h = {}, d = {}, r && r(Object(f.defaults)({ dataIndexInside: t, dataIndex: e.getRawIndex(t), actionType: n ? n.type : null }, c), u) }; function _ (t, n) { return n == null && (n = s), e.get(e.getDimension(t || 0), n) } function w (t, n) { n == null && (n = s); var i = e.getDimensionInfo(t || 0); if (i) { var r = e.get(i.name, n); var a = i && i.ordinalMeta; return a ? a.categories[r] : r } } function O (n, i) { i == null && (i = s); var r = e.getItemVisual(i, 'style'); var a = r && r.fill; var o = r && r.opacity; var l = b(i, Tm).getItemStyle(); a != null && (l.fill = a), o != null && (l.opacity = o); var u = { inheritColor: Object(f.isString)(a) ? a : '#000' }; var c = x(i, Tm); var h = hi.c(c, null, u, !1, !0); h.text = c.getShallow('show') ? Object(f.retrieve2)(t.getFormattedLabel(i, Tm), ui(e, i)) : null; var d = hi.b(c, u, !1); return I(n, l), l = mm(l, h, d), n && M(l, n), l.legacy = !0, l } function S (n, i) { i == null && (i = s); var r = b(i, Im).getItemStyle(); var a = x(i, Im); var o = hi.c(a, null, null, !0, !0); o.text = a.getShallow('show') ? Object(f.retrieve3)(t.getFormattedLabel(i, Im), t.getFormattedLabel(i, Tm), ui(e, i)) : null; var l = hi.b(a, null, !0); return I(n, r), r = mm(r, o, l), n && M(r, n), r.legacy = !0, r } function M (t, e) { for (var n in e)Object(f.hasOwn)(e, n) && (t[n] = e[n]) } function I (t, e) { t && (t.textFill && (e.textFill = t.textFill), t.textPosition && (e.textPosition = t.textPosition)) } function T (t, n) { if (n == null && (n = s), Object(f.hasOwn)(Sm, t)) { var i = e.getItemVisual(n, 'style'); return i ? i[Sm[t]] : null } if (Object(f.hasOwn)(Mm, t)) return e.getItemVisual(n, t) } function j (t) { if (a.type === 'cartesian2d') { var e = a.getBaseAxis(); return ne(Object(f.defaults)({ axis: e }, t)) } } function A () { return n.getCurrentSeriesIndices() } function C (t) { return hi.d(t, n) } } function ub (t) { var e = {}; return Object(f.each)(t.dimensions, function (n, i) { var r = t.getDimensionInfo(n); if (!r.isExtraCoord) { var a = r.coordDim; var o = e[a] = e[a] || []; o[r.coordDimIndex] = i } }), e } function cb (t, e, n, i, r, a, o, s) { if (i) return e = hb(t, e, n, i, r, a, !0, s), e && o.setItemGraphicEl(n, e), Object(li.k)(e, i.focus, i.blurScope), e; Tb(e, a) } function hb (t, e, n, i, r, a, o, s) { var l = -1; e && db(e, i) && (l = a.childrenRef().indexOf(e), e = null); var u = !e; e ? e.clearStates() : e = Fm(i); var c = wm(e).canMorph = i.morph && Ib(e); var h = c && s && s.hasFrom(); var d = u && !h; Pm.normal.cfg = Pm.normal.conOpt = Pm.emphasis.cfg = Pm.emphasis.conOpt = Pm.blur.cfg = Pm.blur.conOpt = Pm.select.cfg = Pm.select.conOpt = null, Pm.isLegacy = !1, fb(e, n, i, r, d, Pm), pb(e, n, i, r, d); var p = Gm(t, e, h, n, i, i.style, Pm, r, d, !1); h && s.addTo(e, i, n, p); for (var f = 0; f < Cm.length; f++) { var g = Cm[f]; if (g !== Tm) { var y = yb(i, g); var v = vb(i, y, g); nb(g, e, y, v, Pm, o, !1) } } return ib(e, i, r, Pm), i.type === 'group' && mb(t, e, n, i, r, s), l >= 0 ? a.replaceAt(e, l) : a.add(e), e } function db (t, e) { var n = wm(t); var i = e.type; var r = e.shape; var a = e.style; return i != null && i !== n.customGraphicType || i === 'path' && Mb(r) && Sb(r) !== n.customPathData || i === 'image' && Object(f.hasOwn)(a, 'image') && a.image !== n.customImagePath } function pb (t, e, n, i, r) { var a = n.clipPath; if (!1 === a)t && t.getClipPath() && t.removeClipPath(); else if (a) { var o = t.getClipPath(); o && db(o, a) && (o = null), o || (o = Fm(a), t.setClipPath(o)), Gm(null, o, null, e, a, null, null, i, r, !1) } } function fb (t, e, n, i, r, a) { if (!t.isGroup) { gb(n, null, a), gb(n, Im, a); var o = a.normal.conOpt; var s = a.emphasis.conOpt; var l = a.blur.conOpt; var u = a.select.conOpt; if (o != null || s != null || u != null || l != null) { var c = t.getTextContent(); if (!1 === o)c && t.removeTextContent(); else { o = a.normal.conOpt = o || { type: 'text' }, c ? c.clearStates() : (c = Fm(o), t.setTextContent(c)); var h = o && o.style; Gm(null, c, null, e, o, h, null, i, r, !0); for (var d = 0; d < Cm.length; d++) { var p = Cm[d]; if (p !== Tm) { var f = a[p].conOpt; nb(p, c, f, vb(o, f, p), null, !1, !0) } }h ? c.dirty() : c.markRedraw() } } } } function gb (t, e, n) { var i = e ? yb(t, e) : t; var r = e ? vb(t, i, Im) : t.style; var a = t.type; var o = i ? i.textConfig : null; var s = t.textContent; var l = s ? e ? yb(s, e) : s : null; if (r && (n.isLegacy || gm(r, a, !!o, !!l))) { n.isLegacy = !0; var u = ym(r, a, !e); !o && u.textConfig && (o = u.textConfig), !l && u.textContent && (l = u.textContent) } if (!e && l) { var c = l; !c.type && (c.type = 'text') } var h = e ? n[e] : n.normal; h.cfg = o, h.conOpt = l } function yb (t, e) { return e ? t ? t[e] : null : t } function vb (t, e, n) { var i = e && e.style; return i == null && n === Im && t && (i = t.styleEmphasis), i } function mb (t, e, n, i, r, a) { var o = i.children; var s = o ? o.length : 0; var l = i.$mergeChildren; var u = l === 'byName' || i.diffChildrenByName; var c = !1 === l; if (s || u || c) if (u)bb({ api: t, oldChildren: e.children() || [], newChildren: o || [], dataIndex: n, seriesModel: r, group: e, morphPreparation: a }); else { c && e.removeAll(); for (var h = 0; h < s; h++)o[h] && hb(t, e.childAt(h), n, o[h], r, e, !1, a); for (var d = e.childCount() - 1; d >= h; d--)Ob(e.childAt(d), r, e) } } function bb (t) { new M(t.oldChildren, t.newChildren, xb, xb, t).add(_b).update(_b).remove(wb).execute() } function xb (t, e) { var n = t && t.name; return n != null ? n : Lm + e } function _b (t, e) { var n = this.context; var i = t != null ? n.newChildren[t] : null; var r = e != null ? n.oldChildren[e] : null; hb(n.api, r, n.dataIndex, i, n.seriesModel, n.group, !1, n.morphPreparation) } function wb (t) { var e = this.context; var n = e.oldChildren[t]; Ob(n, e.seriesModel, e.group) } function Ob (t, e, n) { if (t) { var i = wm(t).leaveToProps; i ? y.updateProps(t, i, e, { cb: function () { n.remove(t) } }) : n.remove(t) } } function Sb (t) { return t && (t.pathData || t.d) } function Mb (t) { return t && (Object(f.hasOwn)(t, 'pathData') || Object(f.hasOwn)(t, 'd')) } function Ib (t) { return t && t instanceof y.Path } function Tb (t, e) { t && e.remove(t) } var jb = (function () { function t (t, e) { this._fromList = [], this._toList = [], this._toElOptionList = [], this._allPropsFinalList = [], this._toDataIndices = [], this._morphConfigList = [], this._seriesModel = t, this._transOpt = e } return t.prototype.hasFrom = function () { return !!this._fromList.length }, t.prototype.findAndAddFrom = function (t) { if (t && (wm(t).canMorph && this._fromList.push(t), t.isGroup)) for (var e = t.childrenRef(), n = 0; n < e.length; n++) this.findAndAddFrom(e[n]) }, t.prototype.addTo = function (t, e, n, i) { t && (this._toList.push(t), this._toElOptionList.push(e), this._toDataIndices.push(n), this._allPropsFinalList.push(i)) }, t.prototype.applyMorphing = function () { var t = this._type; var e = this._fromList; var n = this._toList; var i = n.length; var r = e.length; if (r && i) if (t === 'oneToOne') for (var a = 0; a < i; a++) this._oneToOneForSingleTo(a, a); else if (t === 'manyToOne') for (var o = Math.max(1, Math.floor(r / i)), s = (a = 0, 0); a < i; a++, s += o) { var l = a + 1 >= i ? r - s : o; this._manyToOneForSingleTo(a, s >= r ? null : s, l) } else if (t === 'oneToMany') for (var u = Math.max(1, Math.floor(i / r)), c = 0, h = 0; c < i; c += u, h++) { var d = c + u >= i ? i - c : u; this._oneToManyForSingleFrom(c, d, h >= r ? null : h) } }, t.prototype._oneToOneForSingleTo = function (t, e) { var n = this._toList[t]; var i = this._toElOptionList[t]; var r = this._toDataIndices[t]; var a = this._allPropsFinalList[t]; var o = this._fromList[e]; var s = this._getOrCreateMorphConfig(r); var l = s.duration; if (o && Object(_m.b)(o)) { if (Hm(n, a, i.style), l) { var u = Object(_m.a)([o], n, s, Ab); this._processResultIndividuals(u, t, null) } } else { var c = l && o && (o !== n || Object(_m.c)(o)) ? o : null; var h = {}; Xm('shape', n, c, i, h, !1), Xm('extra', n, c, i, h, !1), Um(n, c, i, h, !1), qm(n, c, i, i.style, h, !1), Hm(n, a, i.style), c && Object(_m.d)(c, n, s), Wm(n, r, i, this._seriesModel, h, !1) } }, t.prototype._manyToOneForSingleTo = function (t, e, n) { var i = this._toList[t]; var r = this._toElOptionList[t]; var a = this._allPropsFinalList[t]; Hm(i, a, r.style); var o = this._getOrCreateMorphConfig(this._toDataIndices[t]); if (o.duration && e != null) { for (var s = [], l = e; l < n; l++)s.push(this._fromList[l]); var u = Object(_m.a)(s, i, o, Ab); this._processResultIndividuals(u, t, null) } }, t.prototype._oneToManyForSingleFrom = function (t, e, n) { for (var i = n == null ? null : this._fromList[n], r = this._toList, a = [], o = t; o < e; o++) { var s = r[o]; Hm(s, this._allPropsFinalList[o], this._toElOptionList[o].style), a.push(s) } var l = this._getOrCreateMorphConfig(this._toDataIndices[t]); if (l.duration && i) { var u = Object(_m.e)(i, a, l, Ab); this._processResultIndividuals(u, t, e) } }, t.prototype._processResultIndividuals = function (t, e, n) { for (var i = n != null, r = 0; r < t.count; r++) { var a = t.fromIndividuals[r]; var o = t.toIndividuals[r]; var s = e + (i ? r : 0); var l = this._toElOptionList[s]; var u = this._toDataIndices[s]; var c = {}; Um(o, a, l, c, !1), qm(o, a, l, l.style, c, !1), Wm(o, u, l, this._seriesModel, c, !1) } }, t.prototype._getOrCreateMorphConfig = function (t) { var e; var n; var i; var r = this._morphConfigList; var a = r[t]; if (a) return a; var o = this._seriesModel; var s = this._transOpt; if (o.isAnimationEnabled()) { var l = void 0; if (o && o.ecModel) { var u = o.ecModel.getUpdatePayload(); l = u && u.animation } if (l)e = l.duration || 0, n = l.easing || 'cubicOut', i = l.delay || 0; else { n = o.get('animationEasingUpdate'); var c = o.get('animationDelayUpdate'); i = Object(f.isFunction)(c) ? c(t) : c; var h = o.get('animationDurationUpdate'); e = Object(f.isFunction)(h) ? h(t) : h } } return a = { duration: e || 0, delay: i, easing: n, dividingMethod: s ? s.dividingMethod : null }, r[t] = a, a }, t.prototype.reset = function (t) { this._type = t, this._fromList.length = this._toList.length = this._toElOptionList.length = this._allPropsFinalList.length = this._toDataIndices.length = 0 }, t }()); function Ab (t, e, n) { e.style = n ? Object(f.clone)(t.style) : t.style, e.zlevel = t.zlevel, e.z = t.z, e.z2 = t.z2 } function Cb (t) { return t.get('stack') || '__ec_stack_' + t.seriesIndex } function Db (t, e) { return e.dim + t.model.componentIndex } function kb (t, e, n) { var i = {}; var r = Lb(f.filter(e.getSeriesByType(t), function (t) { return !e.isSeriesFiltered(t) && t.coordinateSystem && t.coordinateSystem.type === 'polar' })); e.eachSeriesByType(t, function (t) { if (t.coordinateSystem.type === 'polar') { var e = t.getData(); var n = t.coordinateSystem; var a = n.getBaseAxis(); var o = Db(n, a); var s = Cb(t); var l = r[o][s]; var u = l.offset; var c = l.width; var h = n.getOtherAxis(a); var d = t.coordinateSystem.cx; var p = t.coordinateSystem.cy; var f = t.get('barMinHeight') || 0; var g = t.get('barMinAngle') || 0; i[s] = i[s] || []; for (var y = e.mapDimension(h.dim), v = e.mapDimension(a.dim), m = St(e, y), b = a.dim !== 'radius' || !t.get('roundCap', !0), x = h.dataToCoord(0), _ = 0, w = e.count(); _ < w; _++) { var O = e.get(y, _); var S = e.get(v, _); var M = O >= 0 ? 'p' : 'n'; var I = x; m && (i[s][S] || (i[s][S] = { p: x, n: x }), I = i[s][S][M]); var T = void 0; var j = void 0; var A = void 0; var C = void 0; if (h.dim === 'radius') { var D = h.dataToCoord(O) - x; var k = a.dataToCoord(S); Math.abs(D) < f && (D = (D < 0 ? -1 : 1) * f), T = I, j = I + D, A = k - u, C = A - c, m && (i[s][S][M] = j) } else { var L = h.dataToCoord(O, b) - x; var P = a.dataToCoord(S); Math.abs(L) < g && (L = (L < 0 ? -1 : 1) * g), T = P + u, j = T + c, A = I, C = I + L, m && (i[s][S][M] = C) }e.setItemLayout(_, { cx: d, cy: p, r0: T, r: j, startAngle: -A * Math.PI / 180, endAngle: -C * Math.PI / 180 }) } } }) } function Lb (t) { var e = {}; f.each(t, function (t, n) { var i = t.getData(); var r = t.coordinateSystem; var a = r.getBaseAxis(); var o = Db(r, a); var s = a.getExtent(); var l = a.type === 'category' ? a.getBandWidth() : Math.abs(s[1] - s[0]) / i.count(); var u = e[o] || { bandWidth: l, remainedWidth: l, autoWidthCount: 0, categoryGap: '20%', gap: '30%', stacks: {} }; var c = u.stacks; e[o] = u; var h = Cb(t); c[h] || u.autoWidthCount++, c[h] = c[h] || { width: 0, maxWidth: 0 }; var d = Object(v.parsePercent)(t.get('barWidth'), l); var p = Object(v.parsePercent)(t.get('barMaxWidth'), l); var f = t.get('barGap'); var g = t.get('barCategoryGap'); d && !c[h].width && (d = Math.min(u.remainedWidth, d), c[h].width = d, u.remainedWidth -= d), p && (c[h].maxWidth = p), f != null && (u.gap = f), g != null && (u.categoryGap = g) }); var n = {}; return f.each(e, function (t, e) { n[e] = {}; var i = t.stacks; var r = t.bandWidth; var a = Object(v.parsePercent)(t.categoryGap, r); var o = Object(v.parsePercent)(t.gap, 1); var s = t.remainedWidth; var l = t.autoWidthCount; var u = (s - a) / (l + (l - 1) * o); u = Math.max(u, 0), f.each(i, function (t, e) { var n = t.maxWidth; n && n < u && (n = Math.min(n, s), t.width && (n = Math.min(n, t.width)), s -= n, t.width = n, l--) }), u = (s - a) / (l + (l - 1) * o), u = Math.max(u, 0); var c; var h = 0; f.each(i, function (t, e) { t.width || (t.width = u), c = t, h += t.width * (1 + o) }), c && (h -= c.width * o); var d = -h / 2; f.each(i, function (t, i) { n[e][i] = n[e][i] || { offset: d, width: t.width }, d += t.width * (1 + o) }) }), n } var Pb = kb; var Rb = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.findAxisModel = function (t) { var e; var n = this.ecModel; return n.eachComponent(t, function (t) { t.getCoordSysModel() === this && (e = t) }, this), e }, e.type = 'polar', e.dependencies = ['radiusAxis', 'angleAxis'], e.defaultOption = { zlevel: 0, z: 0, center: ['50%', '50%'], radius: '80%' }, e }(hr.a)); hr.a.registerClass(Rb); var Nb = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(Ct.b)(e, t), e.prototype.getCoordSysModel = function () { return this.getReferringComponents('polar', Z.b).models[0] }, e.type = 'polarAxis', e }(hr.a)); f.mixin(Nb, an); var Eb = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.type = 'angleAxis', e }(Nb)); var zb = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.type = 'radiusAxis', e }(Nb)); var Bb = { startAngle: 90, clockwise: !0, splitNumber: 12, axisLabel: { rotate: 0 } }; var Vb = { splitNumber: 5 }; br('angle', Eb, Bb), br('radius', zb, Vb); var Fb = (function (t) { function e (e, n) { return t.call(this, 'radius', e, n) || this } return Object(Ct.b)(e, t), e.prototype.pointToData = function (t, e) { return this.polar.pointToData(t, e)[this.dim === 'radius' ? 0 : 1] }, e }(En)); Fb.prototype.dataToRadius = En.prototype.dataToCoord, Fb.prototype.radiusToData = En.prototype.coordToData; var Gb = Fb; var Hb = Object(Z.o)(); var Wb = (function (t) { function e (e, n) { return t.call(this, 'angle', e, n || [0, 360]) || this } return Object(Ct.b)(e, t), e.prototype.pointToData = function (t, e) { return this.polar.pointToData(t, e)[this.dim === 'radius' ? 0 : 1] }, e.prototype.calculateCategoryInterval = function () { var t = this; var e = t.getLabelModel(); var n = t.scale; var i = n.getExtent(); var r = n.count(); if (i[1] - i[0] < 1) return 0; var a = i[0]; var o = t.dataToCoord(a + 1) - t.dataToCoord(a); var s = Math.abs(o); var l = Be.e(a == null ? '' : a + '', e.getFont(), 'center', 'top'); var u = Math.max(l.height, 7); var c = u / s; isNaN(c) && (c = 1 / 0); var h = Math.max(0, Math.floor(c)); var d = Hb(t.model); var p = d.lastAutoInterval; var f = d.lastTickCount; return p != null && f != null && Math.abs(p - h) <= 1 && Math.abs(f - r) <= 1 && p > h ? h = p : (d.lastTickCount = r, d.lastAutoInterval = h), h }, e }(En)); Wb.prototype.dataToAngle = En.prototype.dataToCoord, Wb.prototype.angleToData = En.prototype.coordToData; var Xb = Wb; var Yb = (function () { function t (t) { this.dimensions = ['radius', 'angle'], this.type = 'polar', this.cx = 0, this.cy = 0, this._radiusAxis = new Gb(), this._angleAxis = new Xb(), this.axisPointerEnabled = !0, this.name = t || '', this._radiusAxis.polar = this._angleAxis.polar = this } return t.prototype.containPoint = function (t) { var e = this.pointToCoord(t); return this._radiusAxis.contain(e[0]) && this._angleAxis.contain(e[1]) }, t.prototype.containData = function (t) { return this._radiusAxis.containData(t[0]) && this._angleAxis.containData(t[1]) }, t.prototype.getAxis = function (t) { var e = '_' + t + 'Axis'; return this[e] }, t.prototype.getAxes = function () { return [this._radiusAxis, this._angleAxis] }, t.prototype.getAxesByScale = function (t) { var e = []; var n = this._angleAxis; var i = this._radiusAxis; return n.scale.type === t && e.push(n), i.scale.type === t && e.push(i), e }, t.prototype.getAngleAxis = function () { return this._angleAxis }, t.prototype.getRadiusAxis = function () { return this._radiusAxis }, t.prototype.getOtherAxis = function (t) { var e = this._angleAxis; return t === e ? this._radiusAxis : e }, t.prototype.getBaseAxis = function () { return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAngleAxis() }, t.prototype.getTooltipAxes = function (t) { var e = t != null && t !== 'auto' ? this.getAxis(t) : this.getBaseAxis(); return { baseAxes: [e], otherAxes: [this.getOtherAxis(e)] } }, t.prototype.dataToPoint = function (t, e) { return this.coordToPoint([this._radiusAxis.dataToRadius(t[0], e), this._angleAxis.dataToAngle(t[1], e)]) }, t.prototype.pointToData = function (t, e) { var n = this.pointToCoord(t); return [this._radiusAxis.radiusToData(n[0], e), this._angleAxis.angleToData(n[1], e)] }, t.prototype.pointToCoord = function (t) { var e = t[0] - this.cx; var n = t[1] - this.cy; var i = this.getAngleAxis(); var r = i.getExtent(); var a = Math.min(r[0], r[1]); var o = Math.max(r[0], r[1]); i.inverse ? a = o - 360 : o = a + 360; var s = Math.sqrt(e * e + n * n); e /= s, n /= s; var l = Math.atan2(-n, e) / Math.PI * 180; var u = l < a ? 1 : -1; while (l < a || l > o)l += 360 * u; return [s, l] }, t.prototype.coordToPoint = function (t) { var e = t[0]; var n = t[1] / 180 * Math.PI; var i = Math.cos(n) * e + this.cx; var r = -Math.sin(n) * e + this.cy; return [i, r] }, t.prototype.getArea = function () { var t = this.getAngleAxis(); var e = this.getRadiusAxis(); var n = e.getExtent().slice(); n[0] > n[1] && n.reverse(); var i = t.getExtent(); var r = Math.PI / 180; return { cx: this.cx, cy: this.cy, r0: n[0], r: n[1], startAngle: -i[0] * r, endAngle: -i[1] * r, clockwise: t.inverse, contain: function (t, e) { var n = t - this.cx; var i = e - this.cy; var r = n * n + i * i; var a = this.r; var o = this.r0; return r <= a * a && r >= o * o } } }, t.prototype.convertToPixel = function (t, e, n) { var i = Ub(e); return i === this ? this.dataToPoint(n) : null }, t.prototype.convertFromPixel = function (t, e, n) { var i = Ub(e); return i === this ? this.pointToData(n) : null }, t }()); function Ub (t) { var e = t.seriesModel; var n = t.polarModel; return n && n.coordinateSystem || e && e.coordinateSystem } var Zb = Yb; function qb (t, e, n) { var i = e.get('center'); var r = n.getWidth(); var a = n.getHeight(); t.cx = Object(v.parsePercent)(i[0], r), t.cy = Object(v.parsePercent)(i[1], a); var o = t.getRadiusAxis(); var s = Math.min(r, a) / 2; var l = e.get('radius'); l == null ? l = [0, '100%'] : f.isArray(l) || (l = [0, l]); var u = [Object(v.parsePercent)(l[0], s), Object(v.parsePercent)(l[1], s)]; o.inverse ? o.setExtent(u[1], u[0]) : o.setExtent(u[0], u[1]) } function Kb (t, e) { var n = this; var i = n.getAngleAxis(); var r = n.getRadiusAxis(); if (i.scale.setExtent(1 / 0, -1 / 0), r.scale.setExtent(1 / 0, -1 / 0), t.eachSeries(function (t) { if (t.coordinateSystem === n) { var e = t.getData(); f.each(nn(e, 'radius'), function (t) { r.scale.unionExtentFromData(e, t) }), f.each(nn(e, 'angle'), function (t) { i.scale.unionExtentFromData(e, t) }) } }), Ue(i.scale, i.model), Ue(r.scale, r.model), i.type === 'category' && !i.onBand) { var a = i.getExtent(); var o = 360 / i.scale.count(); i.inverse ? a[1] += o : a[1] -= o, i.setExtent(a[0], a[1]) } } function $b (t) { return t.mainType === 'angleAxis' } function Qb (t, e) { if (t.type = e.get('type'), t.scale = Ze(e), t.onBand = e.get('boundaryGap') && t.type === 'category', t.inverse = e.get('inverse'), $b(e)) { t.inverse = t.inverse !== e.get('clockwise'); var n = e.get('startAngle'); t.setExtent(n, n + (t.inverse ? -360 : 360)) }e.axis = t, t.model = e } var Jb = { dimensions: Zb.prototype.dimensions, create: function (t, e) { var n = []; return t.eachComponent('polar', function (t, i) { var r = new Zb(i + ''); r.update = Kb; var a = r.getRadiusAxis(); var o = r.getAngleAxis(); var s = t.findAxisModel('radiusAxis'); var l = t.findAxisModel('angleAxis'); Qb(a, s), Qb(o, l), qb(r, t, e), n.push(r), t.coordinateSystem = r, r.model = t }), t.eachSeries(function (t) { if (t.get('coordinateSystem') === 'polar') { var e = t.getReferringComponents('polar', Z.b).models[0]; 0, t.coordinateSystem = e.coordinateSystem } }), n } }; mt.a.register('polar', Jb); var tx = ['axisLine', 'axisLabel', 'axisTick', 'minorTick', 'splitLine', 'minorSplitLine', 'splitArea']; function ex (t, e, n) { e[1] > e[0] && (e = e.slice().reverse()); var i = t.coordToPoint([e[0], n]); var r = t.coordToPoint([e[1], n]); return { x1: i[0], y1: i[1], x2: r[0], y2: r[1] } } function nx (t) { var e = t.getRadiusAxis(); return e.inverse ? 0 : 1 } function ix (t) { var e = t[0]; var n = t[t.length - 1]; e && n && Math.abs(Math.abs(e.coord - n.coord) - 360) < 1e-4 && t.pop() } var rx = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.axisPointerClass = 'PolarAxisPointer', n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e) { if (this.group.removeAll(), t.get('show')) { var n = t.axis; var i = n.polar; var r = i.getRadiusAxis().getExtent(); var a = n.getTicksCoords(); var o = n.getMinorTicksCoords(); var s = f.map(n.getViewLabels(), function (t) { return t = f.clone(t), t.coord = n.dataToCoord(t.tickValue), t }); ix(s), ix(a), f.each(tx, function (e) { !t.get([e, 'show']) || n.scale.isBlank() && e !== 'axisLine' || ax[e](this.group, t, i, a, o, r, s) }, this) } }, e.type = 'angleAxis', e }(Kr)); var ax = { axisLine: function (t, e, n, i, r, a) { var o; var s = e.getModel(['axisLine', 'lineStyle']); var l = nx(n); var u = l ? 0 : 1; o = a[u] === 0 ? new y.Circle({ shape: { cx: n.cx, cy: n.cy, r: a[l] }, style: s.getLineStyle(), z2: 1, silent: !0 }) : new y.Ring({ shape: { cx: n.cx, cy: n.cy, r: a[l], r0: a[u] }, style: s.getLineStyle(), z2: 1, silent: !0 }), o.style.fill = null, t.add(o) }, axisTick: function (t, e, n, i, r, a) { var o = e.getModel('axisTick'); var s = (o.get('inside') ? -1 : 1) * o.get('length'); var l = a[nx(n)]; var u = f.map(i, function (t) { return new y.Line({ shape: ex(n, [l, l + s], t.coord) }) }); t.add(y.mergePath(u, { style: f.defaults(o.getModel('lineStyle').getLineStyle(), { stroke: e.get(['axisLine', 'lineStyle', 'color']) }) })) }, minorTick: function (t, e, n, i, r, a) { if (r.length) { for (var o = e.getModel('axisTick'), s = e.getModel('minorTick'), l = (o.get('inside') ? -1 : 1) * s.get('length'), u = a[nx(n)], c = [], h = 0; h < r.length; h++) for (var d = 0; d < r[h].length; d++)c.push(new y.Line({ shape: ex(n, [u, u + l], r[h][d].coord) })); t.add(y.mergePath(c, { style: f.defaults(s.getModel('lineStyle').getLineStyle(), f.defaults(o.getLineStyle(), { stroke: e.get(['axisLine', 'lineStyle', 'color']) })) })) } }, axisLabel: function (t, e, n, i, r, a, o) { var s = e.getCategories(!0); var l = e.getModel('axisLabel'); var u = l.get('margin'); var c = e.get('triggerEvent'); f.each(o, function (i, r) { var o = l; var h = i.tickValue; var d = a[nx(n)]; var p = n.coordToPoint([d + u, i.coord]); var g = n.cx; var v = n.cy; var m = Math.abs(p[0] - g) / d < 0.3 ? 'center' : p[0] > g ? 'left' : 'right'; var b = Math.abs(p[1] - v) / d < 0.3 ? 'middle' : p[1] > v ? 'top' : 'bottom'; if (s && s[h]) { var x = s[h]; f.isObject(x) && x.textStyle && (o = new _.a(x.textStyle, l, l.ecModel)) } var w = new y.Text({ silent: Rr.isLabelSilent(e), style: Object(hi.c)(o, { x: p[0], y: p[1], fill: o.getTextColor() || e.get(['axisLine', 'lineStyle', 'color']), text: i.formattedLabel, align: m, verticalAlign: b }) }); if (t.add(w), c) { var O = Rr.makeAxisEventDataBase(e); O.targetType = 'axisLabel', O.value = i.rawLabel, Object(q.a)(w).eventData = O } }, this) }, splitLine: function (t, e, n, i, r, a) { var o = e.getModel('splitLine'); var s = o.getModel('lineStyle'); var l = s.get('color'); var u = 0; l = l instanceof Array ? l : [l]; for (var c = [], h = 0; h < i.length; h++) { var d = u++ % l.length; c[d] = c[d] || [], c[d].push(new y.Line({ shape: ex(n, a, i[h].coord) })) } for (h = 0; h < c.length; h++)t.add(y.mergePath(c[h], { style: f.defaults({ stroke: l[h % l.length] }, s.getLineStyle()), silent: !0, z: e.get('z') })) }, minorSplitLine: function (t, e, n, i, r, a) { if (r.length) { for (var o = e.getModel('minorSplitLine'), s = o.getModel('lineStyle'), l = [], u = 0; u < r.length; u++) for (var c = 0; c < r[u].length; c++)l.push(new y.Line({ shape: ex(n, a, r[u][c].coord) })); t.add(y.mergePath(l, { style: s.getLineStyle(), silent: !0, z: e.get('z') })) } }, splitArea: function (t, e, n, i, r, a) { if (i.length) { var o = e.getModel('splitArea'); var s = o.getModel('areaStyle'); var l = s.get('color'); var u = 0; l = l instanceof Array ? l : [l]; for (var c = [], h = Math.PI / 180, d = -i[0].coord * h, p = Math.min(a[0], a[1]), g = Math.max(a[0], a[1]), v = e.get('clockwise'), m = 1, b = i.length; m <= b; m++) { var x = m === b ? i[0].coord : i[m].coord; var _ = u++ % l.length; c[_] = c[_] || [], c[_].push(new y.Sector({ shape: { cx: n.cx, cy: n.cy, r0: p, r: g, startAngle: d, endAngle: -x * h, clockwise: v }, silent: !0 })), d = -x * h } for (m = 0; m < c.length; m++)t.add(y.mergePath(c[m], { style: f.defaults({ fill: l[m % l.length] }, s.getAreaStyle()), silent: !0 })) } } }; Ur.a.registerClass(rx); var ox = ['axisLine', 'axisTickLabel', 'axisName']; var sx = ['splitLine', 'splitArea', 'minorSplitLine']; var lx = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.axisPointerClass = 'PolarAxisPointer', n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e) { if (this.group.removeAll(), t.get('show')) { var n = this._axisGroup; var i = this._axisGroup = new y.Group(); this.group.add(i); var r = t.axis; var a = r.polar; var o = a.getAngleAxis(); var s = r.getTicksCoords(); var l = r.getMinorTicksCoords(); var u = o.getExtent()[0]; var c = r.getExtent(); var h = cx(a, t, u); var d = new Rr(t, h); f.each(ox, d.add, d), i.add(d.getGroup()), y.groupTransition(n, i, t), f.each(sx, function (e) { t.get([e, 'show']) && !r.scale.isBlank() && ux[e](this.group, t, a, u, c, s, l) }, this) } }, e.type = 'radiusAxis', e }(Kr)); var ux = { splitLine: function (t, e, n, i, r, a) { var o = e.getModel('splitLine'); var s = o.getModel('lineStyle'); var l = s.get('color'); var u = 0; l = l instanceof Array ? l : [l]; for (var c = [], h = 0; h < a.length; h++) { var d = u++ % l.length; c[d] = c[d] || [], c[d].push(new y.Circle({ shape: { cx: n.cx, cy: n.cy, r: a[h].coord } })) } for (h = 0; h < c.length; h++)t.add(y.mergePath(c[h], { style: f.defaults({ stroke: l[h % l.length], fill: null }, s.getLineStyle()), silent: !0 })) }, minorSplitLine: function (t, e, n, i, r, a, o) { if (o.length) { for (var s = e.getModel('minorSplitLine'), l = s.getModel('lineStyle'), u = [], c = 0; c < o.length; c++) for (var h = 0; h < o[c].length; h++)u.push(new y.Circle({ shape: { cx: n.cx, cy: n.cy, r: o[c][h].coord } })); t.add(y.mergePath(u, { style: f.defaults({ fill: null }, l.getLineStyle()), silent: !0 })) } }, splitArea: function (t, e, n, i, r, a) { if (a.length) { var o = e.getModel('splitArea'); var s = o.getModel('areaStyle'); var l = s.get('color'); var u = 0; l = l instanceof Array ? l : [l]; for (var c = [], h = a[0].coord, d = 1; d < a.length; d++) { var p = u++ % l.length; c[p] = c[p] || [], c[p].push(new y.Sector({ shape: { cx: n.cx, cy: n.cy, r0: h, r: a[d].coord, startAngle: 0, endAngle: 2 * Math.PI }, silent: !0 })), h = a[d].coord } for (d = 0; d < c.length; d++)t.add(y.mergePath(c[d], { style: f.defaults({ fill: l[d % l.length] }, s.getAreaStyle()), silent: !0 })) } } }; function cx (t, e, n) { return { position: [t.cx, t.cy], rotation: n / 180 * Math.PI, labelDirection: -1, tickDirection: -1, nameDirection: 1, labelRotate: e.getModel('axisLabel').get('rotate'), z2: 1 } }Kr.registerClass(lx); var hx = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(Ct.b)(e, t), e.prototype.makeElOption = function (t, e, n, i, r) { var a = n.axis; a.dim === 'angle' && (this.animationThreshold = Math.PI / 18); var o = a.polar; var s = o.getOtherAxis(a); var l = s.getExtent(); var u = a.dataToCoord(e); var c = i.get('type'); if (c && c !== 'none') { var h = vv(i); var d = px[c](a, o, u, l); d.style = h, t.graphicKey = d.type, t.pointer = d } var p = i.get(['label', 'margin']); var f = dx(e, n, i, o, p); mv(t, n, i, r, f) }, e }(yv)); function dx (t, e, n, i, r) { var a = e.axis; var o = a.dataToCoord(t); var s = i.getAngleAxis().getExtent()[0]; s = s / 180 * Math.PI; var l; var u; var c; var h = i.getRadiusAxis().getExtent(); if (a.dim === 'radius') { var p = d.c(); d.g(p, p, s), d.i(p, p, [i.cx, i.cy]), l = y.applyTransform([o, -r], p); var f = e.getModel('axisLabel').get('rotate') || 0; var g = Rr.innerTextLayout(s, f * Math.PI / 180, -1); u = g.textAlign, c = g.textVerticalAlign } else { var v = h[1]; l = i.coordToPoint([v + r, o]); var m = i.cx; var b = i.cy; u = Math.abs(l[0] - m) / v < 0.3 ? 'center' : l[0] > m ? 'left' : 'right', c = Math.abs(l[1] - b) / v < 0.3 ? 'middle' : l[1] > b ? 'top' : 'bottom' } return { position: l, align: u, verticalAlign: c } } var px = { line: function (t, e, n, i) { return t.dim === 'angle' ? { type: 'Line', shape: Ov(e.coordToPoint([i[0], n]), e.coordToPoint([i[1], n])) } : { type: 'Circle', shape: { cx: e.cx, cy: e.cy, r: n } } }, shadow: function (t, e, n, i) { var r = Math.max(1, t.getBandWidth()); var a = Math.PI / 180; return t.dim === 'angle' ? { type: 'Sector', shape: Mv(e.cx, e.cy, i[0], i[1], (-n - r / 2) * a, (r / 2 - n) * a) } : { type: 'Sector', shape: Mv(e.cx, e.cy, n - r / 2, n + r / 2, 0, 2 * Math.PI) } } }; Kr.registerAxisPointerClass('PolarAxisPointer', hx); c.e(f.curry(Pb, 'bar')), c.b({ type: 'polar' }); var fx = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.init = function (t, e) { var n = new Hs(e); this._mapDraw = n, this.group.add(n.group), this._api = e }, e.prototype.render = function (t, e, n, i) { var r = this._mapDraw; t.get('show') ? r.draw(t, e, n, this, i) : this._mapDraw.group.removeAll(), r.group.on('click', this._handleRegionClick, this), r.group.silent = t.get('silent'), this._model = t, this.updateSelectStatus(t, e, n) }, e.prototype._handleRegionClick = function (t) { var e; var n = t.target; while (n && (e = Object(q.a)(n).eventData) == null)n = n.__hostTarget || n.parent; e && this._api.dispatchAction({ type: 'geoToggleSelect', geoId: this._model.id, name: e.name }) }, e.prototype.updateSelectStatus = function (t, e, n) { var i = this; this._mapDraw.group.traverse(function (t) { var e = Object(q.a)(t).eventData; if (e) return i._model.isSelected(e.name) ? n.enterSelect(t) : n.leaveSelect(t), !0 }) }, e.prototype.dispose = function () { this._mapDraw && this._mapDraw.remove() }, e.type = 'geo', e }(Ur.a)); Ur.a.registerClass(fx); var gx = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.init = function (e, n, i) { t.prototype.init.call(this, e, n, i), Z.f(e, 'label', ['show']) }, e.prototype.optionUpdated = function () { var t = this.option; var e = this; t.regions = il.getFilledRegions(t.regions, t.map, t.nameMap); var n = {}; this._optionModelMap = f.reduce(t.regions || [], function (t, i) { var r = i.name; return r && (t.set(r, new _.a(i, e)), i.selected && (n[r] = !0)), t }, f.createHashMap()), t.selectedMap || (t.selectedMap = n) }, e.prototype.getRegionModel = function (t) { return this._optionModelMap.get(t) || new _.a(null, this, this.ecModel) }, e.prototype.getFormattedLabel = function (t, e) { var n = this.getRegionModel(t); var i = e === 'normal' ? n.get(['label', 'formatter']) : n.get(['emphasis', 'label', 'formatter']); var r = { name: t }; return typeof i === 'function' ? (r.status = e, i(r)) : typeof i === 'string' ? i.replace('{a}', t != null ? t : '') : void 0 }, e.prototype.setZoom = function (t) { this.option.zoom = t }, e.prototype.setCenter = function (t) { this.option.center = t }, e.prototype.select = function (t) { var e = this.option; var n = e.selectedMode; if (n) { n !== 'multiple' && (e.selectedMap = null); var i = e.selectedMap || (e.selectedMap = {}); i[t] = !0 } }, e.prototype.unSelect = function (t) { var e = this.option.selectedMap; e && (e[t] = !1) }, e.prototype.toggleSelected = function (t) { this[this.isSelected(t) ? 'unSelect' : 'select'](t) }, e.prototype.isSelected = function (t) { var e = this.option.selectedMap; return !(!e || !e[t]) }, e.prototype._initSelectedMapFromData = function () {}, e.type = 'geo', e.layoutMode = 'box', e.defaultOption = { zlevel: 0, z: 0, show: !0, left: 'center', top: 'center', aspectScale: null, silent: !1, map: '', boundingCoords: null, center: null, zoom: 1, scaleLimit: null, label: { show: !1, color: '#000' }, itemStyle: { borderWidth: 0.5, borderColor: '#444', color: '#eee' }, emphasis: { label: { show: !0, color: 'rgb(100,0,0)' }, itemStyle: { color: 'rgba(255,215,0,0.8)' } }, select: { label: { show: !0, color: 'rgb(100,0,0)' }, itemStyle: { color: 'rgba(255,215,0,0.8)' } }, regions: [] }, e }(hr.a)); hr.a.registerClass(gx); function yx (t, e) { e.update = 'geo:updateSelectStatus', c.c(e, function (e, n) { var i = {}; return n.eachComponent({ mainType: 'geo', query: e }, function (n) { n[t](e.name); var r = n.coordinateSystem; f.each(r.regions, function (t) { i[t.name] = n.isSelected(t.name) || !1 }) }), { selected: i, name: e.name } }) }yx('toggleSelected', { type: 'geoToggleSelect', event: 'geoselectchanged' }), yx('select', { type: 'geoSelect', event: 'geoselected' }), yx('unSelect', { type: 'geoUnSelect', event: 'geounselected' }); var vx = 864e5; var mx = (function () { function t (e, n, i) { this.type = 'calendar', this.dimensions = t.dimensions, this.getDimensionsInfo = t.getDimensionsInfo, this._model = e } return t.getDimensionsInfo = function () { return [{ name: 'time', type: 'time' }, 'value'] }, t.prototype.getRangeInfo = function () { return this._rangeInfo }, t.prototype.getModel = function () { return this._model }, t.prototype.getRect = function () { return this._rect }, t.prototype.getCellWidth = function () { return this._sw }, t.prototype.getCellHeight = function () { return this._sh }, t.prototype.getOrient = function () { return this._orient }, t.prototype.getFirstDayOfWeek = function () { return this._firstDayOfWeek }, t.prototype.getDateInfo = function (t) { t = v.parseDate(t); var e = t.getFullYear(); var n = t.getMonth() + 1; var i = n < 10 ? '0' + n : '' + n; var r = t.getDate(); var a = r < 10 ? '0' + r : '' + r; var o = t.getDay(); return o = Math.abs((o + 7 - this.getFirstDayOfWeek()) % 7), { y: e + '', m: i, d: a, day: o, time: t.getTime(), formatedDate: e + '-' + i + '-' + a, date: t } }, t.prototype.getNextNDay = function (t, e) { return e = e || 0, e === 0 || (t = new Date(this.getDateInfo(t).time), t.setDate(t.getDate() + e)), this.getDateInfo(t) }, t.prototype.update = function (t, e) { this._firstDayOfWeek = +this._model.getModel('dayLabel').get('firstDay'), this._orient = this._model.get('orient'), this._lineWidth = this._model.getModel('itemStyle').getItemStyle().lineWidth || 0, this._rangeInfo = this._getRangeInfo(this._initRangeOption()); var n = this._rangeInfo.weeks || 1; var i = ['width', 'height']; var r = this._model.getCellSize().slice(); var a = this._model.getBoxLayoutParams(); var o = this._orient === 'horizontal' ? [n, 7] : [7, n]; f.each([0, 1], function (t) { u(r, t) && (a[i[t]] = r[t] * o[t]) }); var s = { width: e.getWidth(), height: e.getHeight() }; var l = this._rect = on.g(a, s); function u (t, e) { return t[e] != null && t[e] !== 'auto' }f.each([0, 1], function (t) { u(r, t) || (r[t] = l[i[t]] / o[t]) }), this._sw = r[0], this._sh = r[1] }, t.prototype.dataToPoint = function (t, e) { f.isArray(t) && (t = t[0]), e == null && (e = !0); var n = this.getDateInfo(t); var i = this._rangeInfo; var r = n.formatedDate; if (e && !(n.time >= i.start.time && n.time < i.end.time + vx)) return [NaN, NaN]; var a = n.day; var o = this._getRangeInfo([i.start.time, r]).nthWeek; return this._orient === 'vertical' ? [this._rect.x + a * this._sw + this._sw / 2, this._rect.y + o * this._sh + this._sh / 2] : [this._rect.x + o * this._sw + this._sw / 2, this._rect.y + a * this._sh + this._sh / 2] }, t.prototype.pointToData = function (t) { var e = this.pointToDate(t); return e && e.time }, t.prototype.dataToRect = function (t, e) { var n = this.dataToPoint(t, e); return { contentShape: { x: n[0] - (this._sw - this._lineWidth) / 2, y: n[1] - (this._sh - this._lineWidth) / 2, width: this._sw - this._lineWidth, height: this._sh - this._lineWidth }, center: n, tl: [n[0] - this._sw / 2, n[1] - this._sh / 2], tr: [n[0] + this._sw / 2, n[1] - this._sh / 2], br: [n[0] + this._sw / 2, n[1] + this._sh / 2], bl: [n[0] - this._sw / 2, n[1] + this._sh / 2] } }, t.prototype.pointToDate = function (t) { var e = Math.floor((t[0] - this._rect.x) / this._sw) + 1; var n = Math.floor((t[1] - this._rect.y) / this._sh) + 1; var i = this._rangeInfo.range; return this._orient === 'vertical' ? this._getDateByWeeksAndDay(n, e - 1, i) : this._getDateByWeeksAndDay(e, n - 1, i) }, t.prototype.convertToPixel = function (t, e, n) { var i = bx(e); return i === this ? i.dataToPoint(n) : null }, t.prototype.convertFromPixel = function (t, e, n) { var i = bx(e); return i === this ? i.pointToData(n) : null }, t.prototype.containPoint = function (t) { return !1 }, t.prototype._initRangeOption = function () { var t; var e = this._model.get('range'); if (f.isArray(e) && e.length === 1 && (e = e[0]), f.isArray(e))t = e; else { var n = e.toString(); if (/^\d{4}$/.test(n) && (t = [n + '-01-01', n + '-12-31']), /^\d{4}[\/|-]\d{1,2}$/.test(n)) { var i = this.getDateInfo(n); var r = i.date; r.setMonth(r.getMonth() + 1); var a = this.getNextNDay(r, -1); t = [i.formatedDate, a.formatedDate] }/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n) && (t = [n, n]) } if (!t) return e; var o = this._getRangeInfo(t); return o.start.time > o.end.time && t.reverse(), t }, t.prototype._getRangeInfo = function (t) { var e; var n = [this.getDateInfo(t[0]), this.getDateInfo(t[1])]; n[0].time > n[1].time && (e = !0, n.reverse()); var i = Math.floor(n[1].time / vx) - Math.floor(n[0].time / vx) + 1; var r = new Date(n[0].time); var a = r.getDate(); var o = n[1].date.getDate(); r.setDate(a + i - 1); var s = r.getDate(); if (s !== o) { var l = r.getTime() - n[1].time > 0 ? 1 : -1; while ((s = r.getDate()) !== o && (r.getTime() - n[1].time) * l > 0)i -= l, r.setDate(s - l) } var u = Math.floor((i + n[0].day + 6) / 7); var c = e ? 1 - u : u - 1; return e && n.reverse(), { range: [n[0].formatedDate, n[1].formatedDate], start: n[0], end: n[1], allDay: i, weeks: u, nthWeek: c, fweek: n[0].day, lweek: n[1].day } }, t.prototype._getDateByWeeksAndDay = function (t, e, n) { var i = this._getRangeInfo(n); if (t > i.weeks || t === 0 && e < i.fweek || t === i.weeks && e > i.lweek) return null; var r = 7 * (t - 1) - i.fweek + e; var a = new Date(i.start.time); return a.setDate(+i.start.d + r), this.getDateInfo(a) }, t.create = function (e, n) { var i = []; return e.eachComponent('calendar', function (r) { var a = new t(r, e, n); i.push(a), r.coordinateSystem = a }), e.eachSeries(function (t) { t.get('coordinateSystem') === 'calendar' && (t.coordinateSystem = i[t.get('calendarIndex') || 0]) }), i }, t.dimensions = ['time', 'value'], t }()); function bx (t) { var e = t.calendarModel; var n = t.seriesModel; var i = e ? e.coordinateSystem : n ? n.coordinateSystem : null; return i }mt.a.register('calendar', mx); var xx = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.init = function (e, n, i) { var r = Object(on.f)(e); t.prototype.init.apply(this, arguments), _x(e, r) }, e.prototype.mergeOption = function (e) { t.prototype.mergeOption.apply(this, arguments), _x(this.option, e) }, e.prototype.getCellSize = function () { return this.option.cellSize }, e.type = 'calendar', e.defaultOption = { zlevel: 0, z: 2, left: 80, top: 60, cellSize: 20, orient: 'horizontal', splitLine: { show: !0, lineStyle: { color: '#000', width: 1, type: 'solid' } }, itemStyle: { color: '#fff', borderWidth: 1, borderColor: '#ccc' }, dayLabel: { show: !0, firstDay: 0, position: 'start', margin: '50%', nameMap: 'en', color: '#000' }, monthLabel: { show: !0, position: 'start', margin: 5, align: 'center', nameMap: 'en', formatter: null, color: '#000' }, yearLabel: { show: !0, position: null, margin: 30, formatter: null, color: '#ccc', fontFamily: 'sans-serif', fontWeight: 'bolder', fontSize: 20 } }, e }(hr.a)); function _x (t, e) { var n; var i = t.cellSize; n = f.isArray(i) ? i : t.cellSize = [i, i], n.length === 1 && (n[1] = n[0]); var r = f.map([0, 1], function (t) { return Object(on.j)(e, t) && (n[t] = 'auto'), n[t] != null && n[t] !== 'auto' }); Object(on.h)(t, e, { type: 'box', ignoreSize: r }) }hr.a.registerClass(xx); var wx = { EN: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'], CN: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'] }; var Ox = { EN: ['S', 'M', 'T', 'W', 'T', 'F', 'S'], CN: ['日', '一', '二', '三', '四', '五', '六'] }; var Sx = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n) { var i = this.group; i.removeAll(); var r = t.coordinateSystem; var a = r.getRangeInfo(); var o = r.getOrient(); this._renderDayRect(t, a, i), this._renderLines(t, a, o, i), this._renderYearText(t, a, o, i), this._renderMonthText(t, o, i), this._renderWeekText(t, a, o, i) }, e.prototype._renderDayRect = function (t, e, n) { for (var i = t.coordinateSystem, r = t.getModel('itemStyle').getItemStyle(), a = i.getCellWidth(), o = i.getCellHeight(), s = e.start.time; s <= e.end.time; s = i.getNextNDay(s, 1).time) { var l = i.dataToRect([s], !1).tl; var u = new y.Rect({ shape: { x: l[0], y: l[1], width: a, height: o }, cursor: 'default', style: r }); n.add(u) } }, e.prototype._renderLines = function (t, e, n, i) { var r = this; var a = t.coordinateSystem; var o = t.getModel(['splitLine', 'lineStyle']).getLineStyle(); var s = t.get(['splitLine', 'show']); var l = o.lineWidth; this._tlpoints = [], this._blpoints = [], this._firstDayOfMonth = [], this._firstDayPoints = []; for (var u = e.start, c = 0; u.time <= e.end.time; c++) { d(u.formatedDate), c === 0 && (u = a.getDateInfo(e.start.y + '-' + e.start.m)); var h = u.date; h.setMonth(h.getMonth() + 1), u = a.getDateInfo(h) } function d (e) { r._firstDayOfMonth.push(a.getDateInfo(e)), r._firstDayPoints.push(a.dataToRect([e], !1).tl); var l = r._getLinePointsOfOneWeek(t, e, n); r._tlpoints.push(l[0]), r._blpoints.push(l[l.length - 1]), s && r._drawSplitline(l, o, i) }d(a.getNextNDay(e.end.time, 1).formatedDate), s && this._drawSplitline(r._getEdgesPoints(r._tlpoints, l, n), o, i), s && this._drawSplitline(r._getEdgesPoints(r._blpoints, l, n), o, i) }, e.prototype._getEdgesPoints = function (t, e, n) { var i = [t[0].slice(), t[t.length - 1].slice()]; var r = n === 'horizontal' ? 0 : 1; return i[0][r] = i[0][r] - e / 2, i[1][r] = i[1][r] + e / 2, i }, e.prototype._drawSplitline = function (t, e, n) { var i = new y.Polyline({ z2: 20, shape: { points: t }, style: e }); n.add(i) }, e.prototype._getLinePointsOfOneWeek = function (t, e, n) { for (var i = t.coordinateSystem, r = i.getDateInfo(e), a = [], o = 0; o < 7; o++) { var s = i.getNextNDay(r.time, o); var l = i.dataToRect([s.time], !1); a[2 * s.day] = l.tl, a[2 * s.day + 1] = l[n === 'horizontal' ? 'bl' : 'tr'] } return a }, e.prototype._formatterLabel = function (t, e) { return typeof t === 'string' && t ? m.formatTplSimple(t, e) : typeof t === 'function' ? t(e) : e.nameMap }, e.prototype._yearTextPositionControl = function (t, e, n, i, r) { var a = e[0]; var o = e[1]; var s = ['center', 'bottom']; i === 'bottom' ? (o += r, s = ['center', 'top']) : i === 'left' ? a -= r : i === 'right' ? (a += r, s = ['center', 'top']) : o -= r; var l = 0; return i !== 'left' && i !== 'right' || (l = Math.PI / 2), { rotation: l, x: a, y: o, style: { align: s[0], verticalAlign: s[1] } } }, e.prototype._renderYearText = function (t, e, n, i) { var r = t.getModel('yearLabel'); if (r.get('show')) { var a = r.get('margin'); var o = r.get('position'); o || (o = n !== 'horizontal' ? 'top' : 'left'); var s = [this._tlpoints[this._tlpoints.length - 1], this._blpoints[0]]; var l = (s[0][0] + s[1][0]) / 2; var u = (s[0][1] + s[1][1]) / 2; var c = n === 'horizontal' ? 0 : 1; var h = { top: [l, s[c][1]], bottom: [l, s[1 - c][1]], left: [s[1 - c][0], u], right: [s[c][0], u] }; var d = e.start.y; +e.end.y > +e.start.y && (d = d + '-' + e.end.y); var p = r.get('formatter'); var f = { start: e.start.y, end: e.end.y, nameMap: d }; var g = this._formatterLabel(p, f); var v = new y.Text({ z2: 30, style: Object(hi.c)(r, { text: g }) }); v.attr(this._yearTextPositionControl(v, h[o], n, o, a)), i.add(v) } }, e.prototype._monthTextPositionControl = function (t, e, n, i, r) { var a = 'left'; var o = 'top'; var s = t[0]; var l = t[1]; return n === 'horizontal' ? (l += r, e && (a = 'center'), i === 'start' && (o = 'bottom')) : (s += r, e && (o = 'middle'), i === 'start' && (a = 'right')), { x: s, y: l, align: a, verticalAlign: o } }, e.prototype._renderMonthText = function (t, e, n) { var i = t.getModel('monthLabel'); if (i.get('show')) { var r = i.get('nameMap'); var a = i.get('margin'); var o = i.get('position'); var s = i.get('align'); var l = [this._tlpoints, this._blpoints]; f.isString(r) && (r = wx[r.toUpperCase()] || []); var u = o === 'start' ? 0 : 1; var c = e === 'horizontal' ? 0 : 1; a = o === 'start' ? -a : a; for (var h = s === 'center', d = 0; d < l[u].length - 1; d++) { var p = l[u][d].slice(); var g = this._firstDayOfMonth[d]; if (h) { var v = this._firstDayPoints[d]; p[c] = (v[c] + l[0][d + 1][c]) / 2 } var m = i.get('formatter'); var b = r[+g.m - 1]; var x = { yyyy: g.y, yy: (g.y + '').slice(2), MM: g.m, M: +g.m, nameMap: b }; var _ = this._formatterLabel(m, x); var w = new y.Text({ z2: 30, style: f.extend(Object(hi.c)(i, { text: _ }), this._monthTextPositionControl(p, h, e, o, a)) }); n.add(w) } } }, e.prototype._weekTextPositionControl = function (t, e, n, i, r) { var a = 'center'; var o = 'middle'; var s = t[0]; var l = t[1]; var u = n === 'start'; return e === 'horizontal' ? (s = s + i + (u ? 1 : -1) * r[0] / 2, a = u ? 'right' : 'left') : (l = l + i + (u ? 1 : -1) * r[1] / 2, o = u ? 'bottom' : 'top'), { x: s, y: l, align: a, verticalAlign: o } }, e.prototype._renderWeekText = function (t, e, n, i) { var r = t.getModel('dayLabel'); if (r.get('show')) { var a = t.coordinateSystem; var o = r.get('position'); var s = r.get('nameMap'); var l = r.get('margin'); var u = a.getFirstDayOfWeek(); f.isString(s) && (s = Ox[s.toUpperCase()] || []); var c = a.getNextNDay(e.end.time, 7 - e.lweek).time; var h = [a.getCellWidth(), a.getCellHeight()]; l = v.parsePercent(l, h[n === 'horizontal' ? 0 : 1]), o === 'start' && (c = a.getNextNDay(e.start.time, -(7 + e.fweek)).time, l = -l); for (var d = 0; d < 7; d++) { var p = a.getNextNDay(c, d); var g = a.dataToRect([p.time], !1).center; var m = d; m = Math.abs((d + u) % 7); var b = new y.Text({ z2: 30, style: f.extend(Object(hi.c)(r, { text: s[m] }), this._weekTextPositionControl(g, n, o, l, h)) }); i.add(b) } } }, e.type = 'calendar', e }(Ur.a)); Ur.a.registerClass(Sx); var Mx = Z.o(); var Ix = { path: null, compoundPath: null, group: y.Group, image: y.Image, text: y.Text }; c.f(function (t) { var e = t.graphic; f.isArray(e) ? e[0] && e[0].elements ? t.graphic = [t.graphic[0]] : t.graphic = [{ elements: e }] : e && !e.elements && (t.graphic = [{ elements: [e] }]) }); var Tx = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.mergeOption = function (e, n) { var i = this.option.elements; this.option.elements = null, t.prototype.mergeOption.call(this, e, n), this.option.elements = i }, e.prototype.optionUpdated = function (t, e) { var n = this.option; var i = (e ? n : t).elements; var r = n.elements = e ? [] : n.elements; var a = []; this._flatten(i, a, null); var o = Z.q(r, a, 'normalMerge'); var s = this._elOptionsToUpdate = []; f.each(o, function (t, e) { var n = t.newOption; n && (s.push(n), Lx(t, n), Px(r, e, n), Rx(r[e], n)) }, this); for (var l = r.length - 1; l >= 0; l--)r[l] == null ? r.splice(l, 1) : delete r[l].$action }, e.prototype._flatten = function (t, e, n) { f.each(t, function (t) { if (t) { n && (t.parentOption = n), e.push(t); var i = t.children; t.type === 'group' && i && this._flatten(i, e, t), delete t.children } }, this) }, e.prototype.useElOptionsToUpdate = function () { var t = this._elOptionsToUpdate; return this._elOptionsToUpdate = null, t }, e.type = 'graphic', e.defaultOption = { elements: [] }, e }(hr.a)); hr.a.registerClass(Tx); var jx = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.init = function () { this._elMap = f.createHashMap() }, e.prototype.render = function (t, e, n) { t !== this._lastGraphicModel && this._clear(), this._lastGraphicModel = t, this._updateElements(t), this._relocate(t, n) }, e.prototype._updateElements = function (t) { var e = t.useElOptionsToUpdate(); if (e) { var n = this._elMap; var i = this.group; f.each(e, function (e) { var r = Z.e(e.id, null); var a = r != null ? n.get(r) : null; var o = Z.e(e.parentId, null); var s = o != null ? n.get(o) : i; var l = e.type; var u = e.style; l === 'text' && u && e.hv && e.hv[1] && (u.textVerticalAlign = u.textBaseline = u.verticalAlign = u.align = null); var c = e.textContent; var h = e.textConfig; if (u && gm(u, l, !!h, !!c)) { var d = ym(u, l, !0); !h && d.textConfig && (h = e.textConfig = d.textConfig), !c && d.textContent && (c = d.textContent) } var p = Dx(e); var f = e.$action || 'merge'; f === 'merge' ? a ? a.attr(p) : Ax(r, s, p, n) : f === 'replace' ? (Cx(a, n), Ax(r, s, p, n)) : f === 'remove' && Cx(a, n); var g = n.get(r); if (g && c) if (f === 'merge') { var v = g.getTextContent(); v ? v.attr(c) : g.setTextContent(new y.Text(c)) } else f === 'replace' && g.setTextContent(new y.Text(c)); if (g) { var m = Mx(g); m.__ecGraphicWidthOption = e.width, m.__ecGraphicHeightOption = e.height, Nx(g, t, e) } }) } }, e.prototype._relocate = function (t, e) { for (var n = t.option.elements, i = this.group, r = this._elMap, a = e.getWidth(), o = e.getHeight(), s = 0; s < n.length; s++) { var l = n[s]; var u = Z.e(l.id, null); var c = u != null ? r.get(u) : null; if (c && c.isGroup) { var h = c.parent; var d = h === i; var p = Mx(c); var f = Mx(h); p.__ecGraphicWidth = Object(v.parsePercent)(p.__ecGraphicWidthOption, d ? a : f.__ecGraphicWidth) || 0, p.__ecGraphicHeight = Object(v.parsePercent)(p.__ecGraphicHeightOption, d ? o : f.__ecGraphicHeight) || 0 } } for (s = n.length - 1; s >= 0; s--) { l = n[s], u = Z.e(l.id, null), c = u != null ? r.get(u) : null; if (c) { h = c.parent, f = Mx(h); var g = h === i ? { width: a, height: o } : { width: f.__ecGraphicWidth, height: f.__ecGraphicHeight }; on.i(c, l, g, null, { hv: l.hv, boundingMode: l.bounding }) } } }, e.prototype._clear = function () { var t = this._elMap; t.each(function (e) { Cx(e, t) }), this._elMap = f.createHashMap() }, e.prototype.dispose = function () { this._clear() }, e.type = 'graphic', e }(Ur.a)); function Ax (t, e, n, i) { var r = n.type; var a = f.hasOwn(Ix, r) ? Ix[r] : y.getShapeClass(r); var o = new a(n); e.add(o), i.set(t, o), Mx(o).__ecGraphicId = t } function Cx (t, e) { var n = t && t.parent; n && (t.type === 'group' && t.traverse(function (t) { Cx(t, e) }), e.removeKey(Mx(t).__ecGraphicId), n.remove(t)) } function Dx (t) { return t = f.extend({}, t), f.each(['id', 'parentId', '$action', 'hv', 'bounding', 'textContent'].concat(on.a), function (e) { delete t[e] }), t } function kx (t, e) { var n; return f.each(e, function (e) { t[e] != null && t[e] !== 'auto' && (n = !0) }), n } function Lx (t, e) { var n = t.existing; if (e.id = t.keyInfo.id, !e.type && n && (e.type = n.type), e.parentId == null) { var i = e.parentOption; i ? e.parentId = i.id : n && (e.parentId = n.parentId) }e.parentOption = null } function Px (t, e, n) { var i = f.extend({}, n); var r = t[e]; var a = n.$action || 'merge'; a === 'merge' ? r ? (f.merge(r, i, !0), on.h(r, i, { ignoreSize: !0 }), on.c(n, r)) : t[e] = i : a === 'replace' ? t[e] = i : a === 'remove' && r && (t[e] = null) } function Rx (t, e) { if (t && (t.hv = e.hv = [kx(e, ['left', 'right']), kx(e, ['top', 'bottom'])], t.type === 'group')) { var n = t; var i = e; n.width == null && (n.width = i.width = 0), n.height == null && (n.height = i.height = 0) } } function Nx (t, e, n) { var i = Object(q.a)(t).eventData; t.silent || t.ignore || i || (i = Object(q.a)(t).eventData = { componentType: 'graphic', componentIndex: e.componentIndex, name: t.name }), i && (i.info = n.info) }Ur.a.registerClass(jx); var Ex = (function () { function t () {} return t }()); var zx = {}; function Bx (t, e) { zx[t] = e } function Vx (t) { return zx[t] } var Fx = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.optionUpdated = function () { t.prototype.optionUpdated.apply(this, arguments); var e = this.ecModel; f.each(this.option.feature, function (t, n) { var i = Vx(n); i && (i.getDefaultOption && (i.defaultOption = i.getDefaultOption(e)), f.merge(t, i.defaultOption)) }) }, e.type = 'toolbox', e.layoutMode = { type: 'box', ignoreSize: !0 }, e.defaultOption = { show: !0, z: 6, zlevel: 0, orient: 'horizontal', left: 'right', top: 'top', backgroundColor: 'transparent', borderColor: '#ccc', borderRadius: 0, borderWidth: 0, padding: 5, itemSize: 15, itemGap: 8, showTitle: !0, iconStyle: { borderColor: '#666', color: 'none' }, emphasis: { iconStyle: { borderColor: '#3E98C5' } }, tooltip: { show: !1 } }, e }(hr.a)); hr.a.registerClass(Fx); function Gx (t, e, n) { var i = e.getBoxLayoutParams(); var r = e.get('padding'); var a = { width: n.getWidth(), height: n.getHeight() }; var o = Object(on.g)(i, a, r); Object(on.b)(e.get('orient'), t, e.get('itemGap'), o.width, o.height), Object(on.i)(t, i, a, r) } function Hx (t, e) { var n = m.normalizeCssArray(e.get('padding')); var i = e.getItemStyle(['color', 'opacity']); return i.fill = e.get('backgroundColor'), t = new y.Rect({ shape: { x: t.x - n[3], y: t.y - n[0], width: t.width + n[1] + n[3], height: t.height + n[0] + n[2], r: e.get('borderRadius') }, style: i, silent: !0, z2: -1 }), t } var Wx = n('2488'); var Xx = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n, i) { var r = this.group; if (r.removeAll(), t.get('show')) { var a = +t.get('itemSize'); var o = t.get('feature') || {}; var s = this._features || (this._features = {}); var l = []; f.each(o, function (t, e) { l.push(e) }), new M(this._featureNames || [], l).add(u).update(u).remove(f.curry(u, null)).execute(), this._featureNames = l, Gx(r, t, n), r.add(Hx(r.getBoundingRect(), t)), r.eachChild(function (t) { var e = t.__title; var i = t.ensureState('emphasis'); var o = i.textConfig || (i.textConfig = {}); var s = t.getTextContent(); var l = s && s.states.emphasis; if (l && !f.isFunction(l) && e) { var u = l.style || (l.style = {}); var c = Be.e(e, Wx.a.makeFont(u)); var h = t.x + r.x; var d = t.y + r.y + a; var p = !1; d + c.height > n.getHeight() && (o.position = 'top', p = !0); var g = p ? -5 - c.height : a + 8; h + c.width / 2 > n.getWidth() ? (o.position = ['100%', g], u.align = 'right') : h - c.width / 2 < 0 && (o.position = [0, g], u.align = 'left') } }) } function u (r, a) { var u; var h = l[r]; var d = l[a]; var p = o[h]; var f = new _.a(p, t, t.ecModel); if (i && i.newTitle != null && i.featureName === h && (p.title = i.newTitle), h && !d) { if (Yx(h))u = { onclick: f.option.onclick, featureName: h }; else { var g = Vx(h); if (!g) return; u = new g() }s[h] = u } else if (u = s[d], !u) return; if (u.uid = Object(La.c)('toolbox-feature'), u.model = f, u.ecModel = e, u.api = n, u instanceof Ex) { if (!h && d) return void (u.dispose && u.dispose(e, n)); if (!f.get('show') || u.unusable) return void (u.remove && u.remove(e, n)) }c(f, u, h), f.setIconStatus = function (t, e) { var n = this.option; var i = this.iconPaths; n.iconStatus = n.iconStatus || {}, n.iconStatus[t] = e, i[t] && (e === 'emphasis' ? li.n : li.w)(i[t]) }, u instanceof Ex && u.render && u.render(f, e, n, i) } function c (i, o, s) { var l; var u; var c = i.getModel('iconStyle'); var h = i.getModel(['emphasis', 'iconStyle']); var d = o instanceof Ex && o.getIcons ? o.getIcons() : i.get('icon'); var p = i.get('title') || {}; typeof d === 'string' ? (l = {}, l[s] = d) : l = d, typeof p === 'string' ? (u = {}, u[s] = p) : u = p; var g = i.iconPaths = {}; f.each(l, function (s, l) { var d = y.createIcon(s, {}, { x: -a / 2, y: -a / 2, width: a, height: a }); d.setStyle(c.getItemStyle()); var p = d.ensureState('emphasis'); p.style = h.getItemStyle(); var v = new Wx.a({ style: { text: u[l], align: h.get('textAlign'), borderRadius: h.get('textBorderRadius'), padding: h.get('textPadding'), fill: null }, ignore: !0 }); d.setTextContent(v); var m = t.getModel('tooltip'); m && m.get('show') && (d.tooltip = f.extend({ content: u[l], formatter: m.get('formatter', !0) || function () { return u[l] }, formatterParams: { componentType: 'toolbox', name: l, title: u[l], $vars: ['name', 'title'] }, position: m.get('position', !0) || 'bottom' }, m.option)), d.__title = u[l], d.on('mouseover', function () { var e = h.getItemStyle(); var n = t.get('orient') === 'vertical' ? t.get('right') == null ? 'right' : 'left' : t.get('bottom') == null ? 'bottom' : 'top'; v.setStyle({ fill: h.get('textFill') || e.fill || e.stroke || '#000', backgroundColor: h.get('textBackgroundColor') }), d.setTextConfig({ position: h.get('textPosition') || n }), v.ignore = !t.get('showTitle'), Object(li.n)(this) }).on('mouseout', function () { i.get(['iconStatus', l]) !== 'emphasis' && Object(li.w)(this), v.hide() }), (i.get(['iconStatus', l]) === 'emphasis' ? li.n : li.w)(d), r.add(d), d.on('click', f.bind(o.onclick, o, e, n, l)), g[l] = d }) } }, e.prototype.updateView = function (t, e, n, i) { f.each(this._features, function (t) { t instanceof Ex && t.updateView && t.updateView(t.model, e, n, i) }) }, e.prototype.remove = function (t, e) { f.each(this._features, function (n) { n instanceof Ex && n.remove && n.remove(t, e) }), this.group.removeAll() }, e.prototype.dispose = function (t, e) { f.each(this._features, function (n) { n instanceof Ex && n.dispose && n.dispose(t, e) }) }, e.type = 'toolbox', e }(Ur.a)); function Yx (t) { return t.indexOf('my') === 0 }Ur.a.registerClass(Xx); var Ux = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(Ct.b)(e, t), e.prototype.onclick = function (t, e) { var n = this.model; var i = n.get('name') || t.get('title.0.text') || 'echarts'; var r = e.getZr().painter.getType() === 'svg'; var a = r ? 'svg' : n.get('type', !0) || 'png'; var o = e.getConnectedDataURL({ type: a, backgroundColor: n.get('backgroundColor', !0) || t.get('backgroundColor') || '#fff', connectedBackgroundColor: n.get('connectedBackgroundColor'), excludeComponents: n.get('excludeComponents'), pixelRatio: n.get('pixelRatio') }); if (typeof MouseEvent !== 'function' || zn.a.browser.ie || zn.a.browser.edge) if (window.navigator.msSaveOrOpenBlob) { var s = atob(o.split(',')[1]); var l = s.length; var u = new Uint8Array(l); while (l--)u[l] = s.charCodeAt(l); var c = new Blob([u]); window.navigator.msSaveOrOpenBlob(c, i + '.' + a) } else { var h = n.get('lang'); var d = '<body style="margin:0;"><img src="' + o + '" style="max-width:100%;" title="' + (h && h[0] || '') + '" /></body>'; var p = window.open(); p.document.write(d) } else { var f = document.createElement('a'); f.download = i + '.' + a, f.target = '_blank', f.href = o; var g = new MouseEvent('click', { view: document.defaultView, bubbles: !0, cancelable: !1 }); f.dispatchEvent(g) } }, e.getDefaultOption = function (t) { var e = { show: !0, icon: 'M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0', title: t.getLocale(['toolbox', 'saveAsImage', 'title']), type: 'png', connectedBackgroundColor: '#fff', name: '', excludeComponents: ['toolbox'], pixelRatio: 1, lang: t.getLocale(['toolbox', 'saveAsImage', 'lang']) }; return e }, e }(Ex)); Ux.prototype.unusable = !zn.a.canvasSupported, Bx('saveAsImage', Ux); var Zx = '__ec_magicType_stack__'; var qx = [['line', 'bar'], ['stack']]; var Kx = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(Ct.b)(e, t), e.prototype.getIcons = function () { var t = this.model; var e = t.get('icon'); var n = {}; return f.each(t.get('type'), function (t) { e[t] && (n[t] = e[t]) }), n }, e.getDefaultOption = function (t) { var e = { show: !0, type: [], icon: { line: 'M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4', bar: 'M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7', stack: 'M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z' }, title: t.getLocale(['toolbox', 'magicType', 'title']), option: {}, seriesIndex: {} }; return e }, e.prototype.onclick = function (t, e, n) { var i = this.model; var r = i.get(['seriesIndex', n]); if ($x[n]) { var a; var o = { series: [] }; var s = function (t) { var e = t.subType; var r = t.id; var a = $x[n](e, r, t, i); a && (f.defaults(a, t.option), o.series.push(a)); var s = t.coordinateSystem; if (s && s.type === 'cartesian2d' && (n === 'line' || n === 'bar')) { var l = s.getAxesByScale('ordinal')[0]; if (l) { var u = l.dim; var c = u + 'Axis'; var h = t.getReferringComponents(c, Z.b).models[0]; var d = h.componentIndex; o[c] = o[c] || []; for (var p = 0; p <= d; p++)o[c][d] = o[c][d] || {}; o[c][d].boundaryGap = n === 'bar' } } }; f.each(qx, function (t) { f.indexOf(t, n) >= 0 && f.each(t, function (t) { i.setIconStatus(t, 'normal') }) }), i.setIconStatus(n, 'emphasis'), t.eachComponent({ mainType: 'series', query: r == null ? null : { seriesIndex: r } }, s), n === 'stack' && (a = f.merge({ stack: i.option.title.tiled, tiled: i.option.title.stack }, i.option.title)), e.dispatchAction({ type: 'changeMagicType', currentType: n, newOption: o, newTitle: a, featureName: 'magicType' }) } }, e }(Ex)); var $x = { line: function (t, e, n, i) { if (t === 'bar') return f.merge({ id: e, type: 'line', data: n.get('data'), stack: n.get('stack'), markPoint: n.get('markPoint'), markLine: n.get('markLine') }, i.get(['option', 'line']) || {}, !0) }, bar: function (t, e, n, i) { if (t === 'line') return f.merge({ id: e, type: 'bar', data: n.get('data'), stack: n.get('stack'), markPoint: n.get('markPoint'), markLine: n.get('markLine') }, i.get(['option', 'bar']) || {}, !0) }, stack: function (t, e, n, i) { var r = n.get('stack') === Zx; if (t === 'line' || t === 'bar') return i.setIconStatus('stack', r ? 'normal' : 'emphasis'), f.merge({ id: e, stack: r ? '' : Zx }, i.get(['option', 'stack']) || {}, !0) } }; c.c({ type: 'changeMagicType', event: 'magicTypeChanged', update: 'prepareAndUpdate' }, function (t, e) { e.mergeOption(t.newOption) }), Bx('magicType', Kx); var Qx = new Array(60).join('-'); var Jx = '\t'; function t_ (t) { var e = {}; var n = []; var i = []; return t.eachRawSeries(function (t) { var r = t.coordinateSystem; if (!r || r.type !== 'cartesian2d' && r.type !== 'polar')n.push(t); else { var a = r.getBaseAxis(); if (a.type === 'category') { var o = a.dim + '_' + a.index; e[o] || (e[o] = { categoryAxis: a, valueAxis: r.getOtherAxis(a), series: [] }, i.push({ axisDim: a.dim, axisIndex: a.index })), e[o].series.push(t) } else n.push(t) } }), { seriesGroupByCategoryAxis: e, other: n, meta: i } } function e_ (t) { var e = []; return f.each(t, function (t, n) { var i = t.categoryAxis; var r = t.valueAxis; var a = r.dim; var o = [' '].concat(f.map(t.series, function (t) { return t.name })); var s = [i.model.getCategories()]; f.each(t.series, function (t) { var e = t.getRawData(); s.push(t.getRawData().mapArray(e.mapDimension(a), function (t) { return t })) }); for (var l = [o.join(Jx)], u = 0; u < s[0].length; u++) { for (var c = [], h = 0; h < s.length; h++)c.push(s[h][u]); l.push(c.join(Jx)) }e.push(l.join('\n')) }), e.join('\n\n' + Qx + '\n\n') } function n_ (t) { return f.map(t, function (t) { var e = t.getRawData(); var n = [t.name]; var i = []; return e.each(e.dimensions, function () { for (var t = arguments.length, r = arguments[t - 1], a = e.getName(r), o = 0; o < t - 1; o++)i[o] = arguments[o]; n.push((a ? a + Jx : '') + i.join(Jx)) }), n.join('\n') }).join('\n\n' + Qx + '\n\n') } function i_ (t) { var e = t_(t); return { value: f.filter([e_(e.seriesGroupByCategoryAxis), n_(e.other)], function (t) { return !!t.replace(/[\n\t\s]/g, '') }).join('\n\n' + Qx + '\n\n'), meta: e.meta } } function r_ (t) { return t.replace(/^\s\s*/, '').replace(/\s\s*$/, '') } function a_ (t) { var e = t.slice(0, t.indexOf('\n')); if (e.indexOf(Jx) >= 0) return !0 } var o_ = new RegExp('[' + Jx + ']+', 'g'); function s_ (t) { for (var e = t.split(/\n+/g), n = r_(e.shift()).split(o_), i = [], r = f.map(n, function (t) { return { name: t, data: [] } }), a = 0; a < e.length; a++) { var o = r_(e[a]).split(o_); i.push(o.shift()); for (var s = 0; s < o.length; s++)r[s] && (r[s].data[a] = o[s]) } return { series: r, categories: i } } function l_ (t) { for (var e = t.split(/\n+/g), n = r_(e.shift()), i = [], r = 0; r < e.length; r++) { var a = r_(e[r]); if (a) { var o = a.split(o_); var s = ''; var l = void 0; var u = !1; isNaN(o[0]) ? (u = !0, s = o[0], o = o.slice(1), i[r] = { name: s, value: [] }, l = i[r].value) : l = i[r] = []; for (var c = 0; c < o.length; c++)l.push(+o[c]); l.length === 1 && (u ? i[r].value = l[0] : i[r] = l[0]) } } return { name: n, data: i } } function u_ (t, e) { var n = t.split(new RegExp('\n*' + Qx + '\n*', 'g')); var i = { series: [] }; return f.each(n, function (t, n) { if (a_(t)) { var r = s_(t); var a = e[n]; var o = a.axisDim + 'Axis'; a && (i[o] = i[o] || [], i[o][a.axisIndex] = { data: r.categories }, i.series = i.series.concat(r.series)) } else { r = l_(t); i.series.push(r) } }), i } var c_ = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(Ct.b)(e, t), e.prototype.onclick = function (t, e) { var n = e.getDom(); var i = this.model; this._dom && n.removeChild(this._dom); var r = document.createElement('div'); r.style.cssText = 'position:absolute;left:5px;top:5px;bottom:5px;right:5px;', r.style.backgroundColor = i.get('backgroundColor') || '#fff'; var a = document.createElement('h4'); var o = i.get('lang') || []; a.innerHTML = o[0] || i.get('title'), a.style.cssText = 'margin: 10px 20px;', a.style.color = i.get('textColor'); var s = document.createElement('div'); var l = document.createElement('textarea'); s.style.cssText = 'display:block;width:100%;overflow:auto;'; var u = i.get('optionToContent'); var c = i.get('contentToOption'); var h = i_(t); if (typeof u === 'function') { var d = u(e.getOption()); typeof d === 'string' ? s.innerHTML = d : f.isDom(d) && s.appendChild(d) } else s.appendChild(l), l.readOnly = i.get('readOnly'), l.style.cssText = 'width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;', l.style.color = i.get('textColor'), l.style.borderColor = i.get('textareaBorderColor'), l.style.backgroundColor = i.get('textareaColor'), l.value = h.value; var p = h.meta; var g = document.createElement('div'); g.style.cssText = 'position:absolute;bottom:0;left:0;right:0;'; var y = 'float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px'; var v = document.createElement('div'); var m = document.createElement('div'); y += ';background-color:' + i.get('buttonColor'), y += ';color:' + i.get('buttonTextColor'); var b = this; function x () { n.removeChild(r), b._dom = null }Object(Ss.a)(v, 'click', x), Object(Ss.a)(m, 'click', function () { if (c == null && u != null || c != null && u == null)x(); else { var t; try { t = typeof c === 'function' ? c(s, e.getOption()) : u_(l.value, p) } catch (n) { throw x(), new Error('Data view format error ' + n) }t && e.dispatchAction({ type: 'changeDataView', newOption: t }), x() } }), v.innerHTML = o[1], m.innerHTML = o[2], m.style.cssText = y, v.style.cssText = y, !i.get('readOnly') && g.appendChild(m), g.appendChild(v), r.appendChild(a), r.appendChild(s), r.appendChild(g), s.style.height = n.clientHeight - 80 + 'px', n.appendChild(r), this._dom = r }, e.prototype.remove = function (t, e) { this._dom && e.getDom().removeChild(this._dom) }, e.prototype.dispose = function (t, e) { this.remove(t, e) }, e.getDefaultOption = function (t) { var e = { show: !0, readOnly: !1, optionToContent: null, contentToOption: null, icon: 'M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28', title: t.getLocale(['toolbox', 'dataView', 'title']), lang: t.getLocale(['toolbox', 'dataView', 'lang']), backgroundColor: '#fff', textColor: '#000', textareaColor: '#fff', textareaBorderColor: '#333', buttonColor: '#c23531', buttonTextColor: '#fff' }; return e }, e }(Ex)); function h_ (t, e) { return f.map(t, function (t, n) { var i = e && e[n]; if (f.isObject(i) && !f.isArray(i)) { var r = f.isObject(t) && !f.isArray(t); r || (t = { value: t }); var a = i.name != null && t.name == null; return t = f.defaults(t, i), a && delete t.name, t } return t }) }Bx('dataView', c_), c.c({ type: 'changeDataView', event: 'dataViewChanged', update: 'prepareAndUpdate' }, function (t, e) { var n = []; f.each(t.newOption.series, function (t) { var i = e.getSeriesByName(t.name)[0]; if (i) { var r = i.get('data'); n.push({ name: t.name, data: h_(t.data, r) }) } else n.push(f.extend({ type: 'scatter' }, t)) }), e.mergeOption(f.defaults({ series: n }, t.newOption)) }); var d_ = ['dataToPoint', 'pointToData']; var p_ = ['grid', 'xAxis', 'yAxis', 'geo', 'graph', 'polar', 'radiusAxis', 'angleAxis', 'bmap']; var f_ = (function () { function t (t, e, n) { var i = this; this._targetInfoList = []; var r = y_(e, t); Object(f.each)(v_, function (t, e) { (!n || !n.include || Object(f.indexOf)(n.include, e) >= 0) && t(r, i._targetInfoList) }) } return t.prototype.setOutputRanges = function (t, e) { return this.matchOutputRanges(t, e, function (t, e, n) { if ((t.coordRanges || (t.coordRanges = [])).push(e), !t.coordRange) { t.coordRange = e; var i = x_[t.brushType](0, n, e); t.__rangeOffset = { offset: w_[t.brushType](i.values, t.range, [1, 1]), xyMinMax: i.xyMinMax } } }), t }, t.prototype.matchOutputRanges = function (t, e, n) { Object(f.each)(t, function (t) { var i = this.findTargetInfo(t, e); i && !0 !== i && Object(f.each)(i.coordSyses, function (i) { var r = x_[t.brushType](1, i, t.range); n(t, r.values, i, e) }) }, this) }, t.prototype.setInputRanges = function (t, e) { Object(f.each)(t, function (t) { var n = this.findTargetInfo(t, e); if (t.range = t.range || [], n && !0 !== n) { t.panelId = n.panelId; var i = x_[t.brushType](0, n.coordSys, t.coordRange); var r = t.__rangeOffset; t.range = r ? w_[t.brushType](i.values, r.offset, S_(i.xyMinMax, r.xyMinMax)) : i.values } }, this) }, t.prototype.makePanelOpts = function (t, e) { return Object(f.map)(this._targetInfoList, function (n) { var i = n.getPanelRect(); return { panelId: n.panelId, defaultBrushType: e ? e(n) : null, clipPath: Ip(i), isTargetByCursor: jp(i, t, n.coordSysModel), getLinearBrushOtherExtent: Tp(i) } }) }, t.prototype.controlSeries = function (t, e, n) { var i = this.findTargetInfo(t, n); return !0 === i || i && Object(f.indexOf)(i.coordSyses, e.coordinateSystem) >= 0 }, t.prototype.findTargetInfo = function (t, e) { for (var n = this._targetInfoList, i = y_(e, t), r = 0; r < n.length; r++) { var a = n[r]; var o = t.panelId; if (o) { if (a.panelId === o) return a } else for (var s = 0; s < m_.length; s++) if (m_[s](i, a)) return a } return !0 }, t }()); function g_ (t) { return t[0] > t[1] && t.reverse(), t } function y_ (t, e) { return Object(Z.s)(t, e, { includeMainTypes: p_ }) } var v_ = { grid: function (t, e) { var n = t.xAxisModels; var i = t.yAxisModels; var r = t.gridModels; var a = Object(f.createHashMap)(); var o = {}; var s = {}; (n || i || r) && (Object(f.each)(n, function (t) { var e = t.axis.grid.model; a.set(e.id, e), o[e.id] = !0 }), Object(f.each)(i, function (t) { var e = t.axis.grid.model; a.set(e.id, e), s[e.id] = !0 }), Object(f.each)(r, function (t) { a.set(t.id, t), o[t.id] = !0, s[t.id] = !0 }), a.each(function (t) { var r = t.coordinateSystem; var a = []; Object(f.each)(r.getCartesians(), function (t, e) { (Object(f.indexOf)(n, t.getAxis('x').model) >= 0 || Object(f.indexOf)(i, t.getAxis('y').model) >= 0) && a.push(t) }), e.push({ panelId: 'grid--' + t.id, gridModel: t, coordSysModel: t, coordSys: a[0], coordSyses: a, getPanelRect: b_.grid, xAxisDeclared: o[t.id], yAxisDeclared: s[t.id] }) })) }, geo: function (t, e) { Object(f.each)(t.geoModels, function (t) { var n = t.coordinateSystem; e.push({ panelId: 'geo--' + t.id, geoModel: t, coordSysModel: t, coordSys: n, coordSyses: [n], getPanelRect: b_.geo }) }) } }; var m_ = [function (t, e) { var n = t.xAxisModel; var i = t.yAxisModel; var r = t.gridModel; return !r && n && (r = n.axis.grid.model), !r && i && (r = i.axis.grid.model), r && r === e.gridModel }, function (t, e) { var n = t.geoModel; return n && n === e.geoModel }]; var b_ = { grid: function () { return this.coordSys.master.getRect().clone() }, geo: function () { var t = this.coordSys; var e = t.getBoundingRect().clone(); return e.applyTransform(y.getTransform(t)), e } }; var x_ = { lineX: Object(f.curry)(__, 0), lineY: Object(f.curry)(__, 1), rect: function (t, e, n) { var i = e[d_[t]]([n[0][0], n[1][0]]); var r = e[d_[t]]([n[0][1], n[1][1]]); var a = [g_([i[0], r[0]]), g_([i[1], r[1]])]; return { values: a, xyMinMax: a } }, polygon: function (t, e, n) { var i = [[1 / 0, -1 / 0], [1 / 0, -1 / 0]]; var r = Object(f.map)(n, function (n) { var r = e[d_[t]](n); return i[0][0] = Math.min(i[0][0], r[0]), i[1][0] = Math.min(i[1][0], r[1]), i[0][1] = Math.max(i[0][1], r[0]), i[1][1] = Math.max(i[1][1], r[1]), r }); return { values: r, xyMinMax: i } } }; function __ (t, e, n, i) { var r = n.getAxis(['x', 'y'][t]); var a = g_(Object(f.map)([0, 1], function (t) { return e ? r.coordToData(r.toLocalCoord(i[t])) : r.toGlobalCoord(r.dataToCoord(i[t])) })); var o = []; return o[t] = a, o[1 - t] = [NaN, NaN], { values: a, xyMinMax: o } } var w_ = { lineX: Object(f.curry)(O_, 0), lineY: Object(f.curry)(O_, 1), rect: function (t, e, n) { return [[t[0][0] - n[0] * e[0][0], t[0][1] - n[0] * e[0][1]], [t[1][0] - n[1] * e[1][0], t[1][1] - n[1] * e[1][1]]] }, polygon: function (t, e, n) { return Object(f.map)(t, function (t, i) { return [t[0] - n[0] * e[i][0], t[1] - n[1] * e[i][1]] }) } }; function O_ (t, e, n, i) { return [e[0] - i[t] * n[0], e[1] - i[t] * n[1]] } function S_ (t, e) { var n = M_(t); var i = M_(e); var r = [n[0] / i[0], n[1] / i[1]]; return isNaN(r[0]) && (r[0] = 1), isNaN(r[1]) && (r[1] = 1), r } function M_ (t) { return t ? [t[0][1] - t[0][0], t[1][1] - t[1][0]] : [NaN, NaN] } var I_ = f_; var T_ = f.each; var j_ = Object(Z.o)(); function A_ (t, e) { var n = L_(t); T_(e, function (e, i) { for (var r = n.length - 1; r >= 0; r--) { var a = n[r]; if (a[i]) break } if (r < 0) { var o = t.queryComponents({ mainType: 'dataZoom', subType: 'select', id: i })[0]; if (o) { var s = o.getPercentRange(); n[0][i] = { dataZoomId: i, start: s[0], end: s[1] } } } }), n.push(e) } function C_ (t) { var e = L_(t); var n = e[e.length - 1]; e.length > 1 && e.pop(); var i = {}; return T_(n, function (t, n) { for (var r = e.length - 1; r >= 0; r--) if (t = e[r][n], t) { i[n] = t; break } }), i } function D_ (t) { j_(t).snapshots = null } function k_ (t) { return L_(t).length } function L_ (t) { var e = j_(t); return e.snapshots || (e.snapshots = [{}]), e.snapshots }hr.a.registerSubTypeDefaulter('dataZoom', function () { return 'slider' }); var P_ = ['x', 'y', 'radius', 'angle', 'single']; var R_ = ['cartesian2d', 'polar', 'singleAxis']; function N_ (t) { var e = t.get('coordinateSystem'); return Object(f.indexOf)(R_, e) >= 0 } function E_ (t) { return t + 'Axis' } function z_ (t, e) { var n; var i = Object(f.createHashMap)(); var r = []; var a = Object(f.createHashMap)(); t.eachComponent({ mainType: 'dataZoom', query: e }, function (t) { a.get(t.uid) || s(t) }); do { n = !1, t.eachComponent('dataZoom', o) } while (n);function o (t) { !a.get(t.uid) && l(t) && (s(t), n = !0) } function s (t) { a.set(t.uid, !0), r.push(t), u(t) } function l (t) { var e = !1; return t.eachTargetAxis(function (t, n) { var r = i.get(t); r && r[n] && (e = !0) }), e } function u (t) { t.eachTargetAxis(function (t, e) { (i.get(t) || i.set(t, []))[e] = !0 }) } return r } function B_ (t) { var e = t.ecModel; var n = { infoList: [], infoMap: Object(f.createHashMap)() }; return t.eachTargetAxis(function (t, i) { var r = e.getComponent(E_(t), i); if (r) { var a = r.getCoordSysModel(); if (a) { var o = a.uid; var s = n.infoMap.get(o); s || (s = { model: a, axisModels: [] }, n.infoList.push(s), n.infoMap.set(o, s)), s.axisModels.push(r) } } }), n } var V_ = (function () { function t () { this.indexList = [], this.indexMap = [] } return t.prototype.add = function (t) { this.indexMap[t] || (this.indexList.push(t), this.indexMap[t] = !0) }, t }()); var F_ = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n._autoThrottle = !0, n._noTarget = !0, n._rangePropMode = ['percent', 'percent'], n } return Object(Ct.b)(e, t), e.prototype.init = function (t, e, n) { var i = G_(t); this.settledOption = i, this.mergeDefaultAndTheme(t, n), this._doInit(i) }, e.prototype.mergeOption = function (t) { var e = G_(t); Object(f.merge)(this.option, t, !0), Object(f.merge)(this.settledOption, e, !0), this._doInit(e) }, e.prototype._doInit = function (t) { var e = this.option; this._setDefaultThrottle(t), this._updateRangeUse(t); var n = this.settledOption; Object(f.each)([['start', 'startValue'], ['end', 'endValue']], function (t, i) { this._rangePropMode[i] === 'value' && (e[t[0]] = n[t[0]] = null) }, this), this._resetTarget() }, e.prototype._resetTarget = function () { var t = this.get('orient', !0); var e = this._targetAxisInfoMap = Object(f.createHashMap)(); var n = this._fillSpecifiedTargetAxis(e); n ? this._orient = t || this._makeAutoOrientByTargetAxis() : (this._orient = t || 'horizontal', this._fillAutoTargetAxisByOrient(e, this._orient)), this._noTarget = !0, e.each(function (t) { t.indexList.length && (this._noTarget = !1) }, this) }, e.prototype._fillSpecifiedTargetAxis = function (t) { var e = !1; return Object(f.each)(P_, function (n) { var i = this.getReferringComponents(E_(n), Z.a); if (i.specified) { e = !0; var r = new V_(); Object(f.each)(i.models, function (t) { r.add(t.componentIndex) }), t.set(n, r) } }, this), e }, e.prototype._fillAutoTargetAxisByOrient = function (t, e) { var n = this.ecModel; var i = !0; if (i) { var r = e === 'vertical' ? 'y' : 'x'; var a = n.findComponents({ mainType: r + 'Axis' }); o(a, r) } if (i) { a = n.findComponents({ mainType: 'singleAxis', filter: function (t) { return t.get('orient', !0) === e } }); o(a, 'single') } function o (e, n) { var r = e[0]; if (r) { var a = new V_(); if (a.add(r.componentIndex), t.set(n, a), i = !1, n === 'x' || n === 'y') { var o = r.getReferringComponents('grid', Z.b).models[0]; o && Object(f.each)(e, function (t) { r.componentIndex !== t.componentIndex && o === t.getReferringComponents('grid', Z.b).models[0] && a.add(t.componentIndex) }) } } }i && Object(f.each)(P_, function (e) { if (i) { var r = n.findComponents({ mainType: E_(e), filter: function (t) { return t.get('type', !0) === 'category' } }); if (r[0]) { var a = new V_(); a.add(r[0].componentIndex), t.set(e, a), i = !1 } } }, this) }, e.prototype._makeAutoOrientByTargetAxis = function () { var t; return this.eachTargetAxis(function (e) { !t && (t = e) }, this), t === 'y' ? 'vertical' : 'horizontal' }, e.prototype._setDefaultThrottle = function (t) { if (t.hasOwnProperty('throttle') && (this._autoThrottle = !1), this._autoThrottle) { var e = this.ecModel.option; this.option.throttle = e.animation && e.animationDurationUpdate > 0 ? 100 : 20 } }, e.prototype._updateRangeUse = function (t) { var e = this._rangePropMode; var n = this.get('rangeMode'); Object(f.each)([['start', 'startValue'], ['end', 'endValue']], function (i, r) { var a = t[i[0]] != null; var o = t[i[1]] != null; a && !o ? e[r] = 'percent' : !a && o ? e[r] = 'value' : n ? e[r] = n[r] : a && (e[r] = 'percent') }) }, e.prototype.noTarget = function () { return this._noTarget }, e.prototype.getFirstTargetAxisModel = function () { var t; return this.eachTargetAxis(function (e, n) { t == null && (t = this.ecModel.getComponent(E_(e), n)) }, this), t }, e.prototype.eachTargetAxis = function (t, e) { this._targetAxisInfoMap.each(function (n, i) { Object(f.each)(n.indexList, function (n) { t.call(e, i, n) }) }) }, e.prototype.getAxisProxy = function (t, e) { var n = this.getAxisModel(t, e); if (n) return n.__dzAxisProxy }, e.prototype.getAxisModel = function (t, e) { var n = this._targetAxisInfoMap.get(t); if (n && n.indexMap[e]) return this.ecModel.getComponent(E_(t), e) }, e.prototype.setRawRange = function (t) { var e = this.option; var n = this.settledOption; Object(f.each)([['start', 'startValue'], ['end', 'endValue']], function (i) { t[i[0]] == null && t[i[1]] == null || (e[i[0]] = n[i[0]] = t[i[0]], e[i[1]] = n[i[1]] = t[i[1]]) }, this), this._updateRangeUse(t) }, e.prototype.setCalculatedRange = function (t) { var e = this.option; Object(f.each)(['start', 'startValue', 'end', 'endValue'], function (n) { e[n] = t[n] }) }, e.prototype.getPercentRange = function () { var t = this.findRepresentativeAxisProxy(); if (t) return t.getDataPercentWindow() }, e.prototype.getValueRange = function (t, e) { if (t != null || e != null) return this.getAxisProxy(t, e).getDataValueWindow(); var n = this.findRepresentativeAxisProxy(); return n ? n.getDataValueWindow() : void 0 }, e.prototype.findRepresentativeAxisProxy = function (t) { if (t) return t.__dzAxisProxy; for (var e, n = this._targetAxisInfoMap.keys(), i = 0; i < n.length; i++) for (var r = n[i], a = this._targetAxisInfoMap.get(r), o = 0; o < a.indexList.length; o++) { var s = this.getAxisProxy(r, a.indexList[o]); if (s.hostedBy(this)) return s; e || (e = s) } return e }, e.prototype.getRangePropMode = function () { return this._rangePropMode.slice() }, e.prototype.getOrient = function () { return this._orient }, e.type = 'dataZoom', e.dependencies = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'series', 'toolbox'], e.defaultOption = { zlevel: 0, z: 4, filterMode: 'filter', start: 0, end: 100 }, e }(hr.a)); function G_ (t) { var e = {}; return Object(f.each)(['start', 'end', 'startValue', 'endValue', 'throttle'], function (n) { t.hasOwnProperty(n) && (e[n] = t[n]) }), e } var H_ = F_; var W_ = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n, i) { this.dataZoomModel = t, this.ecModel = e, this.api = n }, e.type = 'dataZoom', e }(Ur.a)); Ur.a.registerClass(W_); var X_ = W_; var Y_ = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.type = 'dataZoom.select', e }(H_)); hr.a.registerClass(Y_); var U_ = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.type = 'dataZoom.select', e }(X_)); Ur.a.registerClass(U_); var Z_ = f.each; var q_ = v.asc; var K_ = (function () { function t (t, e, n, i) { this._dimName = t, this._axisIndex = e, this.ecModel = i, this._dataZoomModel = n } return t.prototype.hostedBy = function (t) { return this._dataZoomModel === t }, t.prototype.getDataValueWindow = function () { return this._valueWindow.slice() }, t.prototype.getDataPercentWindow = function () { return this._percentWindow.slice() }, t.prototype.getTargetSeriesModels = function () { var t = []; return this.ecModel.eachSeries(function (e) { if (N_(e)) { var n = E_(this._dimName); var i = e.getReferringComponents(n, Z.b).models[0]; i && this._axisIndex === i.componentIndex && t.push(e) } }, this), t }, t.prototype.getAxisModel = function () { return this.ecModel.getComponent(this._dimName + 'Axis', this._axisIndex) }, t.prototype.getMinMaxSpan = function () { return f.clone(this._minMaxSpan) }, t.prototype.calculateDataWindow = function (t) { var e; var n = this._dataExtent; var i = this.getAxisModel(); var r = i.axis.scale; var a = this._dataZoomModel.getRangePropMode(); var o = [0, 100]; var s = []; var l = []; Z_(['start', 'end'], function (i, u) { var c = t[i]; var h = t[i + 'Value']; a[u] === 'percent' ? (c == null && (c = o[u]), h = r.parse(v.linearMap(c, o, n))) : (e = !0, h = h == null ? n[u] : r.parse(h), c = v.linearMap(h, n, o)), l[u] = h, s[u] = c }), q_(l), q_(s); var u = this._minMaxSpan; function c (t, e, n, i, a) { var o = a ? 'Span' : 'ValueSpan'; cd(0, t, n, 'all', u['min' + o], u['max' + o]); for (var s = 0; s < 2; s++)e[s] = v.linearMap(t[s], n, i, !0), a && (e[s] = r.parse(e[s])) } return e ? c(l, s, n, o, !1) : c(s, l, o, n, !0), { valueWindow: l, percentWindow: s } }, t.prototype.reset = function (t) { if (t === this._dataZoomModel) { var e = this.getTargetSeriesModels(); this._dataExtent = $_(this, this._dimName, e), this._updateMinMaxSpan(); var n = this.calculateDataWindow(t.settledOption); this._valueWindow = n.valueWindow, this._percentWindow = n.percentWindow, this._setAxisModel() } }, t.prototype.filterData = function (t, e) { if (t === this._dataZoomModel) { var n = this._dimName; var i = this.getTargetSeriesModels(); var r = t.get('filterMode'); var a = this._valueWindow; r !== 'none' && Z_(i, function (t) { var e = t.getData(); var i = e.mapDimensionsAll(n); i.length && (r === 'weakFilter' ? e.filterSelf(function (t) { for (var n, r, o, s = 0; s < i.length; s++) { var l = e.get(i[s], t); var u = !isNaN(l); var c = l < a[0]; var h = l > a[1]; if (u && !c && !h) return !0; u && (o = !0), c && (n = !0), h && (r = !0) } return o && n && r }) : Z_(i, function (n) { if (r === 'empty')t.setData(e = e.map(n, function (t) { return o(t) ? t : NaN })); else { var i = {}; i[n] = a, e.selectRange(i) } }), Z_(i, function (t) { e.setApproximateExtent(a, t) })) }) } function o (t) { return t >= a[0] && t <= a[1] } }, t.prototype._updateMinMaxSpan = function () { var t = this._minMaxSpan = {}; var e = this._dataZoomModel; var n = this._dataExtent; Z_(['min', 'max'], function (i) { var r = e.get(i + 'Span'); var a = e.get(i + 'ValueSpan'); a != null && (a = this.getAxisModel().axis.scale.parse(a)), a != null ? r = v.linearMap(n[0] + a, n, [0, 100], !0) : r != null && (a = v.linearMap(r, [0, 100], n, !0) - n[0]), t[i + 'Span'] = r, t[i + 'ValueSpan'] = a }, this) }, t.prototype._setAxisModel = function () { var t = this.getAxisModel(); var e = this._percentWindow; var n = this._valueWindow; if (e) { var i = v.getPixelPrecision(n, [0, 500]); i = Math.min(i, 20); var r = t.axis.scale.rawExtentInfo; e[0] !== 0 && r.setDeterminedMinMax('min', +n[0].toFixed(i)), e[1] !== 100 && r.setDeterminedMinMax('max', +n[1].toFixed(i)), r.freeze() } }, t }()); function $_ (t, e, n) { var i = [1 / 0, -1 / 0]; Z_(n, function (t) { rn(i, t.getData(), e) }); var r = t.getAxisModel(); var a = He(r.axis.scale, r, i).calculate(); return [a.min, a.max] } var Q_ = K_; c.g(c.a.PROCESSOR.FILTER, { getTargetSeries: function (t) { function e (e) { t.eachComponent('dataZoom', function (n) { n.eachTargetAxis(function (i, r) { var a = t.getComponent(E_(i), r); e(i, r, a, n) }) }) }e(function (t, e, n, i) { n.__dzAxisProxy = null }); var n = []; e(function (e, i, r, a) { r.__dzAxisProxy || (r.__dzAxisProxy = new Q_(e, i, a, t), n.push(r.__dzAxisProxy)) }); var i = Object(f.createHashMap)(); return Object(f.each)(n, function (t) { Object(f.each)(t.getTargetSeriesModels(), function (t) { i.set(t.uid, t) }) }), i }, overallReset: function (t, e) { t.eachComponent('dataZoom', function (t) { t.eachTargetAxis(function (e, n) { t.getAxisProxy(e, n).reset(t) }), t.eachTargetAxis(function (n, i) { t.getAxisProxy(n, i).filterData(t, e) }) }), t.eachComponent('dataZoom', function (t) { var e = t.findRepresentativeAxisProxy(); if (e) { var n = e.getDataPercentWindow(); var i = e.getDataValueWindow(); t.setCalculatedRange({ start: n[0], end: n[1], startValue: i[0], endValue: i[1] }) } }) } }), c.c('dataZoom', function (t, e) { var n = z_(e, t); f.each(n, function (e) { e.setRawRange({ start: t.start, end: t.end, startValue: t.startValue, endValue: t.endValue }) }) }); var J_ = n('b59e'); var tw = f.each; var ew = Object(Z.p)('toolbox-dataZoom_'); var nw = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n, i) { this.brushController || (this.brushController = new Mp(n.getZr()), this.brushController.on('brush', f.bind(this._onBrush, this)).mount()), ow(t, e, this, i, n), aw(t, e) }, e.prototype.onclick = function (t, e, n) { iw[n].call(this) }, e.prototype.remove = function (t, e) { this.brushController.unmount() }, e.prototype.dispose = function (t, e) { this.brushController.dispose() }, e.prototype._onBrush = function (t) { var e = t.areas; if (t.isEnd && e.length) { var n = {}; var i = this.ecModel; this.brushController.updateCovers([]); var r = new I_(rw(this.model), i, { include: ['grid'] }); r.matchOutputRanges(e, i, function (t, e, n) { if (n.type === 'cartesian2d') { var i = t.brushType; i === 'rect' ? (a('x', n, e[0]), a('y', n, e[1])) : a({ lineX: 'x', lineY: 'y' }[i], n, e) } }), A_(i, n), this._dispatchZoomAction(n) } function a (t, e, r) { var a = e.getAxis(t); var s = a.model; var l = o(t, s, i); var u = l.findRepresentativeAxisProxy(s).getMinMaxSpan(); u.minValueSpan == null && u.maxValueSpan == null || (r = cd(0, r.slice(), a.scale.getExtent(), 0, u.minValueSpan, u.maxValueSpan)), l && (n[l.id] = { dataZoomId: l.id, startValue: r[0], endValue: r[1] }) } function o (t, e, n) { var i; return n.eachComponent({ mainType: 'dataZoom', subType: 'select' }, function (n) { var r = n.getAxisModel(t, e.componentIndex); r && (i = n) }), i } }, e.prototype._dispatchZoomAction = function (t) { var e = []; tw(t, function (t, n) { e.push(f.clone(t)) }), e.length && this.api.dispatchAction({ type: 'dataZoom', from: this.uid, batch: e }) }, e.getDefaultOption = function (t) { var e = { show: !0, filterMode: 'filter', icon: { zoom: 'M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1', back: 'M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26' }, title: t.getLocale(['toolbox', 'dataZoom', 'title']), brushStyle: { borderWidth: 0, color: 'rgba(210,219,238,0.2)' } }; return e }, e }(Ex)); var iw = { zoom: function () { var t = !this.isZoomActive; this.api.dispatchAction({ type: 'takeGlobalCursor', key: 'dataZoomSelect', dataZoomSelectActive: t }) }, back: function () { this._dispatchZoomAction(C_(this.ecModel)) } }; function rw (t) { var e = { xAxisIndex: t.get('xAxisIndex', !0), yAxisIndex: t.get('yAxisIndex', !0), xAxisId: t.get('xAxisId', !0), yAxisId: t.get('yAxisId', !0) }; return e.xAxisIndex == null && e.xAxisId == null && (e.xAxisIndex = 'all'), e.yAxisIndex == null && e.yAxisId == null && (e.yAxisIndex = 'all'), e } function aw (t, e) { t.setIconStatus('back', k_(e) > 1 ? 'emphasis' : 'normal') } function ow (t, e, n, i, r) { var a = n.isZoomActive; i && i.type === 'takeGlobalCursor' && (a = i.key === 'dataZoomSelect' && i.dataZoomSelectActive), n.isZoomActive = a, t.setIconStatus('zoom', a ? 'emphasis' : 'normal'); var o = new I_(rw(t), e, { include: ['grid'] }); var s = o.makePanelOpts(r, function (t) { return t.xAxisDeclared && !t.yAxisDeclared ? 'lineX' : !t.xAxisDeclared && t.yAxisDeclared ? 'lineY' : 'rect' }); n.brushController.setPanels(s).enableBrush(!(!a || !s.length) && { brushType: 'auto', brushStyle: t.getModel('brushStyle').getItemStyle() }) }Bx('dataZoom', nw), Object(J_.b)('dataZoom', function (t) { var e = t.getComponent('toolbox', 0); if (e) { var n = e.getModel(['feature', 'dataZoom']); var i = []; var r = rw(n); var a = Object(Z.s)(t, r); return tw(a.xAxisModels, function (t) { return o(t, 'xAxis', 'xAxisIndex') }), tw(a.yAxisModels, function (t) { return o(t, 'yAxis', 'yAxisIndex') }), i } function o (t, e, r) { var a = t.componentIndex; var o = { type: 'select', $fromToolbox: !0, filterMode: n.get('filterMode', !0) || 'filter', id: ew + e + a }; o[r] = a, i.push(o) } }); var sw = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(Ct.b)(e, t), e.prototype.onclick = function (t, e) { D_(t), e.dispatchAction({ type: 'restore', from: this.uid }) }, e.getDefaultOption = function (t) { var e = { show: !0, icon: 'M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5', title: t.getLocale(['toolbox', 'restore', 'title']) }; return e }, e }(Ex)); Bx('restore', sw), c.c({ type: 'restore', event: 'restore', update: 'prepareAndUpdate' }, function (t, e) { e.resetOption('recreate') }); var lw = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.type = 'tooltip', e.dependencies = ['axisPointer'], e.defaultOption = { zlevel: 0, z: 60, show: !0, showContent: !0, trigger: 'item', triggerOn: 'mousemove|click', alwaysShowContent: !1, displayMode: 'single', renderMode: 'auto', confine: null, showDelay: 0, hideDelay: 100, transitionDuration: 0.4, enterable: !1, backgroundColor: '#fff', shadowBlur: 10, shadowColor: 'rgba(0, 0, 0, .2)', shadowOffsetX: 1, shadowOffsetY: 2, borderColor: '#333', borderRadius: 4, borderWidth: 1, padding: null, extraCssText: '', axisPointer: { type: 'line', axis: 'auto', animation: 'auto', animationDurationUpdate: 200, animationEasingUpdate: 'exponentialOut', crossStyle: { color: '#999', width: 1, type: 'dashed', textStyle: {} } }, textStyle: { color: '#666', fontSize: 14 } }, e }(hr.a)); hr.a.registerClass(lw); var uw = n('e68e'); function cw (t) { var e = t.get('confine'); return e != null ? !!e : t.get('renderMode') === 'richText' } var hw = ['-ms-', '-moz-', '-o-', '-webkit-', '']; var dw = 'position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;'; function pw (t) { return t = t === 'left' ? 'right' : t === 'right' ? 'left' : t === 'top' ? 'bottom' : 'top', t } function fw (t, e, n) { if (!Object(f.isString)(n) || n === 'inside') return ''; e = Object(m.convertToColorString)(e); var i = pw(n); var r = ''; var a = ''; Object(f.indexOf)(['left', 'right'], i) > -1 ? (r = i + ':-6px;top:50%;', a = 'translateY(-50%) rotate(' + (i === 'left' ? -225 : -45) + 'deg)') : (r = i + ':-6px;left:50%;', a = 'translateX(-50%) rotate(' + (i === 'top' ? 225 : 45) + 'deg)'), a = Object(f.map)(hw, function (t) { return t + 'transform:' + a }).join(';'); var o = ['position:absolute;width:10px;height:10px;', '' + r + a + ';', 'border-bottom: ' + e + ' solid 1px;', 'border-right: ' + e + ' solid 1px;', 'background-color: ' + t + ';', 'box-shadow: 8px 8px 16px -3px #000;']; return '<div style="' + o.join('') + '"></div>' } function gw (t, e) { var n = 'cubic-bezier(0.23, 1, 0.32, 1)'; var i = 'opacity ' + t / 2 + 's ' + n + ',visibility ' + t / 2 + 's ' + n; return e || (i += ',left ' + t + 's ' + n + ',top ' + t + 's ' + n), Object(f.map)(hw, function (t) { return t + 'transition:' + i }).join(';') } function yw (t) { var e = []; var n = t.get('fontSize'); var i = t.getTextColor(); i && e.push('color:' + i), e.push('font:' + t.getFont()), n && e.push('line-height:' + Math.round(3 * n / 2) + 'px'); var r = t.get('textShadowColor'); var a = t.get('textShadowBlur') || 0; var o = t.get('textShadowOffsetX') || 0; var s = t.get('textShadowOffsetY') || 0; return r && a && e.push('text-shadow:' + o + 'px ' + s + 'px ' + a + 'px ' + r), Object(f.each)(['decoration', 'align'], function (n) { var i = t.get(n); i && e.push('text-' + n + ':' + i) }), e.join(';') } function vw (t, e, n) { var i = []; var r = t.get('transitionDuration'); var a = t.get('backgroundColor'); var o = t.get('shadowBlur'); var s = t.get('shadowColor'); var l = t.get('shadowOffsetX'); var u = t.get('shadowOffsetY'); var c = t.getModel('textStyle'); var h = Object(Xo.d)(t, 'html'); var d = l + 'px ' + u + 'px ' + o + 'px ' + s; return i.push('box-shadow:' + d), e && r && i.push(gw(r, n)), a && (zn.a.canvasSupported ? i.push('background-Color:' + a) : (i.push('background-Color:#' + Object(g.h)(a)), i.push('filter:alpha(opacity=70)'))), Object(f.each)(['width', 'color', 'radius'], function (e) { var n = 'border-' + e; var r = Object(m.toCamelCase)(n); var a = t.get(r); a != null && i.push(n + ':' + a + (e === 'color' ? '' : 'px')) }), i.push(yw(c)), h != null && i.push('padding:' + Object(m.normalizeCssArray)(h).join('px ') + 'px'), i.join(';') + ';' } function mw (t, e, n, i, r) { var a = e && e.painter; if (n) { var o = a && a.getViewportRoot(); o && Object(uw.c)(t, o, document.body, i, r) } else { t[0] = i, t[1] = r; var s = a && a.getViewportRootOffset(); s && (t[0] += s.offsetLeft, t[1] += s.offsetTop) }t[2] = t[0] / e.getWidth(), t[3] = t[1] / e.getHeight() } var bw = (function () { function t (t, e, n) { if (this._show = !1, this._styleCoord = [0, 0, 0, 0], this._enterable = !0, this._firstShow = !0, this._longHide = !0, zn.a.wxa) return null; var i = document.createElement('div'); i.domBelongToZr = !0, this.el = i; var r = this._zr = e.getZr(); var a = this._appendToBody = n && n.appendToBody; mw(this._styleCoord, r, a, e.getWidth() / 2, e.getHeight() / 2), a ? document.body.appendChild(i) : t.appendChild(i), this._container = t; var o = this; i.onmouseenter = function () { o._enterable && (clearTimeout(o._hideTimeout), o._show = !0), o._inContent = !0 }, i.onmousemove = function (t) { if (t = t || window.event, !o._enterable) { var e = r.handler; var n = r.painter.getViewportRoot(); Object(Ss.e)(n, t, !0), e.dispatch('mousemove', t) } }, i.onmouseleave = function () { o._inContent = !1, o._enterable && o._show && o.hideLater(o._hideDelay) } } return t.prototype.update = function (t) { var e = this._container; var n = e.currentStyle || document.defaultView.getComputedStyle(e); var i = e.style; i.position !== 'absolute' && n.position !== 'absolute' && (i.position = 'relative'); var r = t.get('alwaysShowContent'); r && this._moveIfResized(), this.el.className = t.get('className') || '' }, t.prototype.show = function (t, e) { clearTimeout(this._hideTimeout), clearTimeout(this._longHideTimeout); var n = this.el; var i = this._styleCoord; var r = n.offsetHeight / 2; e = Object(m.convertToColorString)(e), n.style.cssText = dw + vw(t, !this._firstShow, this._longHide) + ';left:' + i[0] + 'px;top:' + (i[1] - r) + 'px;border-color: ' + e + ';' + (t.get('extraCssText') || ''), n.style.display = n.innerHTML ? 'block' : 'none', n.style.pointerEvents = this._enterable ? 'auto' : 'none', this._show = !0, this._firstShow = !1, this._longHide = !1 }, t.prototype.setContent = function (t, e, n, i, r) { if (t != null) { var a = this.el; if (Object(f.isString)(r) && n.get('trigger') === 'item' && !cw(n) && (t += fw(n.get('backgroundColor'), i, r)), Object(f.isString)(t))a.innerHTML = t; else if (t) { a.innerHTML = '', Object(f.isArray)(t) || (t = [t]); for (var o = 0; o < t.length; o++)Object(f.isDom)(t[o]) && t[o].parentNode !== a && a.appendChild(t[o]) } } }, t.prototype.setEnterable = function (t) { this._enterable = t }, t.prototype.getSize = function () { var t = this.el; return [t.clientWidth, t.clientHeight] }, t.prototype.moveTo = function (t, e) { var n = this._styleCoord; if (mw(n, this._zr, this._appendToBody, t, e), n[0] != null && n[1] != null) { var i = this.el.style; i.left = n[0].toFixed(0) + 'px', i.top = n[1].toFixed(0) + 'px' } }, t.prototype._moveIfResized = function () { var t = this._styleCoord[2]; var e = this._styleCoord[3]; this.moveTo(t * this._zr.getWidth(), e * this._zr.getHeight()) }, t.prototype.hide = function () { var t = this; this.el.style.visibility = 'hidden', this.el.style.opacity = '0', this._show = !1, this._longHideTimeout = setTimeout(function () { return t._longHide = !0 }, 500) }, t.prototype.hideLater = function (t) { !this._show || this._inContent && this._enterable || (t ? (this._hideDelay = t, this._show = !1, this._hideTimeout = setTimeout(Object(f.bind)(this.hide, this), t)) : this.hide()) }, t.prototype.isShow = function () { return this._show }, t.prototype.dispose = function () { this.el.parentNode.removeChild(this.el) }, t.prototype.getOuterSize = function () { var t = this.el.clientWidth; var e = this.el.clientHeight; if (document.defaultView && document.defaultView.getComputedStyle) { var n = document.defaultView.getComputedStyle(this.el); n && (t += parseInt(n.borderLeftWidth, 10) + parseInt(n.borderRightWidth, 10), e += parseInt(n.borderTopWidth, 10) + parseInt(n.borderBottomWidth, 10)) } return { width: t, height: e } }, t }()); var xw = bw; var _w = (function () { function t (t) { this._show = !1, this._styleCoord = [0, 0, 0, 0], this._enterable = !0, this._zr = t.getZr(), Sw(this._styleCoord, this._zr, t.getWidth() / 2, t.getHeight() / 2) } return t.prototype.update = function (t) { var e = t.get('alwaysShowContent'); e && this._moveIfResized() }, t.prototype.show = function () { this._hideTimeout && clearTimeout(this._hideTimeout), this.el.show(), this._show = !0 }, t.prototype.setContent = function (t, e, n, i, r) { f.isObject(t) && Object(fe.b)(''), this.el && this._zr.remove(this.el); var a = n.getModel('textStyle'); this.el = new Wx.a({ style: { rich: e.richTextStyles, text: t, lineHeight: 22, backgroundColor: n.get('backgroundColor'), borderRadius: n.get('borderRadius'), borderWidth: 1, borderColor: i, shadowColor: n.get('shadowColor'), shadowBlur: n.get('shadowBlur'), shadowOffsetX: n.get('shadowOffsetX'), shadowOffsetY: n.get('shadowOffsetY'), textShadowColor: a.get('textShadowColor'), textShadowBlur: a.get('textShadowBlur') || 0, textShadowOffsetX: a.get('textShadowOffsetX') || 0, textShadowOffsetY: a.get('textShadowOffsetY') || 0, fill: n.get(['textStyle', 'color']), padding: Object(Xo.d)(n, 'richText'), verticalAlign: 'top', align: 'left' }, z: n.get('z') }), this._zr.add(this.el); var o = this; this.el.on('mouseover', function () { o._enterable && (clearTimeout(o._hideTimeout), o._show = !0), o._inContent = !0 }), this.el.on('mouseout', function () { o._enterable && o._show && o.hideLater(o._hideDelay), o._inContent = !1 }) }, t.prototype.setEnterable = function (t) { this._enterable = t }, t.prototype.getSize = function () { var t = this.el; var e = this.el.getBoundingRect(); var n = Ow(t.style); return [e.width + n.left + n.right, e.height + n.top + n.bottom] }, t.prototype.moveTo = function (t, e) { var n = this.el; if (n) { var i = this._styleCoord; Sw(i, this._zr, t, e), t = i[0], e = i[1]; var r = n.style; var a = ww(r.borderWidth || 0); var o = Ow(r); n.x = t + a + o.left, n.y = e + a + o.top, n.markRedraw() } }, t.prototype._moveIfResized = function () { var t = this._styleCoord[2]; var e = this._styleCoord[3]; this.moveTo(t * this._zr.getWidth(), e * this._zr.getHeight()) }, t.prototype.hide = function () { this.el && this.el.hide(), this._show = !1 }, t.prototype.hideLater = function (t) { !this._show || this._inContent && this._enterable || (t ? (this._hideDelay = t, this._show = !1, this._hideTimeout = setTimeout(f.bind(this.hide, this), t)) : this.hide()) }, t.prototype.isShow = function () { return this._show }, t.prototype.getOuterSize = function () { var t = this.getSize(); return { width: t[0], height: t[1] } }, t.prototype.dispose = function () { this._zr.remove(this.el) }, t }()); function ww (t) { return Math.max(0, t) } function Ow (t) { var e = ww(t.shadowBlur || 0); var n = ww(t.shadowOffsetX || 0); var i = ww(t.shadowOffsetY || 0); return { left: ww(e - n), right: ww(e + n), top: ww(e - i), bottom: ww(e + i) } } function Sw (t, e, n, i) { t[0] = n, t[1] = i, t[2] = t[0] / e.getWidth(), t[3] = t[1] / e.getHeight() } var Mw = _w; var Iw = n('a543'); var Tw = n('553b'); var jw = f.bind; var Aw = f.each; var Cw = v.parsePercent; var Dw = new y.Rect({ shape: { x: -1, y: -1, width: 2, height: 2 } }); var kw = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.init = function (t, e) { if (!zn.a.node) { var n = t.getComponent('tooltip'); var i = n.get('renderMode'); this._renderMode = Object(Z.i)(i), this._tooltipContent = this._renderMode === 'richText' ? new Mw(e) : new xw(e.getDom(), e, { appendToBody: n.get('appendToBody', !0) }) } }, e.prototype.render = function (t, e, n) { if (!zn.a.node) { this.group.removeAll(), this._tooltipModel = t, this._ecModel = e, this._api = n, this._alwaysShowContent = t.get('alwaysShowContent'); var i = this._tooltipContent; i.update(t), i.setEnterable(t.get('enterable')), this._initGlobalListener(), this._keepShow() } }, e.prototype._initGlobalListener = function () { var t = this._tooltipModel; var e = t.get('triggerOn'); Jy('itemTooltip', this._api, jw(function (t, n, i) { e !== 'none' && (e.indexOf(t) >= 0 ? this._tryShow(n, i) : t === 'leave' && this._hide(i)) }, this)) }, e.prototype._keepShow = function () { var t = this._tooltipModel; var e = this._ecModel; var n = this._api; if (this._lastX != null && this._lastY != null && t.get('triggerOn') !== 'none') { var i = this; clearTimeout(this._refreshUpdateTimeout), this._refreshUpdateTimeout = setTimeout(function () { !n.isDisposed() && i.manuallyShowTip(t, e, n, { x: i._lastX, y: i._lastY, dataByCoordSys: i._lastDataByCoordSys }) }) } }, e.prototype.manuallyShowTip = function (t, e, n, i) { if (i.from !== this.uid && !zn.a.node) { var r = Pw(i, n); this._ticket = ''; var a = i.dataByCoordSys; if (i.tooltip && i.x != null && i.y != null) { var o = Dw; o.x = i.x, o.y = i.y, o.update(), o.tooltip = i.tooltip, this._tryShow({ offsetX: i.x, offsetY: i.y, target: o }, r) } else if (a) this._tryShow({ offsetX: i.x, offsetY: i.y, position: i.position, dataByCoordSys: a, tooltipOption: i.tooltipOption }, r); else if (i.seriesIndex != null) { if (this._manuallyAxisShowTip(t, e, n, i)) return; var s = zy(i, e); var l = s.point[0]; var u = s.point[1]; l != null && u != null && this._tryShow({ offsetX: l, offsetY: u, position: i.position, target: s.el }, r) } else i.x != null && i.y != null && (n.dispatchAction({ type: 'updateAxisPointer', x: i.x, y: i.y }), this._tryShow({ offsetX: i.x, offsetY: i.y, position: i.position, target: n.getZr().findHover(i.x, i.y).target }, r)) } }, e.prototype.manuallyHideTip = function (t, e, n, i) { var r = this._tooltipContent; !this._alwaysShowContent && this._tooltipModel && r.hideLater(this._tooltipModel.get('hideDelay')), this._lastX = this._lastY = this._lastDataByCoordSys = null, i.from !== this.uid && this._hide(Pw(i, n)) }, e.prototype._manuallyAxisShowTip = function (t, e, n, i) { var r = i.seriesIndex; var a = i.dataIndex; var o = e.getComponent('axisPointer').coordSysAxesInfo; if (r != null && a != null && o != null) { var s = e.getSeriesByIndex(r); if (s) { var l = s.getData(); var u = Lw([l.getItemModel(a), s, (s.coordinateSystem || {}).model, t]); if (u.get('trigger') === 'axis') return n.dispatchAction({ type: 'updateAxisPointer', seriesIndex: r, dataIndex: a, position: i.position }), !0 } } }, e.prototype._tryShow = function (t, e) { var n = t.target; var i = this._tooltipModel; if (i) { this._lastX = t.offsetX, this._lastY = t.offsetY; var r = t.dataByCoordSys; r && r.length ? this._showAxisTooltip(r, t) : n && Object(Tw.a)(n, function (t) { return Object(q.a)(t).dataIndex != null }) ? (this._lastDataByCoordSys = null, this._showSeriesItemTooltip(t, n, e)) : n && n.tooltip ? (this._lastDataByCoordSys = null, this._showComponentItemTooltip(t, n, e)) : (this._lastDataByCoordSys = null, this._hide(e)) } }, e.prototype._showOrMove = function (t, e) { var n = t.get('showDelay'); e = f.bind(e, this), clearTimeout(this._showTimout), n > 0 ? this._showTimout = setTimeout(e, n) : e() }, e.prototype._showAxisTooltip = function (t, e) { var n = this._ecModel; var i = this._tooltipModel; var r = [e.offsetX, e.offsetY]; var a = Lw([e.tooltipOption, i]); var o = this._renderMode; var s = []; var l = Object(Xo.c)('section', { blocks: [], noHeader: !0 }); var u = []; var c = new Xo.a(); Aw(t, function (t) { Aw(t.dataByAxis, function (t) { var e = n.getComponent(t.axisDim + 'Axis', t.axisIndex); var i = t.value; if (e && i != null) { var r = xv(i, e.axis, n, t.seriesDataIndices, t.valueLabelOpt); var a = Object(Xo.c)('section', { header: r, noHeader: !f.trim(r), sortBlocks: !0, blocks: [] }); l.blocks.push(a), f.each(t.seriesDataIndices, function (l) { var h = n.getSeriesByIndex(l.seriesIndex); var d = l.dataIndexInside; var p = h.getDataParams(d); p.axisDim = t.axisDim, p.axisIndex = t.axisIndex, p.axisType = t.axisType, p.axisId = t.axisId, p.axisValue = $e(e.axis, { value: i }), p.axisValueLabel = r, p.marker = c.makeTooltipMarker('item', m.convertToColorString(p.color), o); var f = Object(Iw.b)(h.formatTooltip(d, !0, null)); f.markupFragment && a.blocks.push(f.markupFragment), f.markupText && u.push(f.markupText), s.push(p) }) } }) }), l.blocks.reverse(), u.reverse(); var h = e.position; var d = a.get('order'); var p = Object(Xo.b)(l, c, o, d, n.get('useUTC')); p && u.unshift(p); var g = o === 'richText' ? '\n\n' : '<br/>'; var y = u.join(g); this._showOrMove(a, function () { this._updateContentNotChangedOnAxis(t) ? this._updatePosition(a, h, r[0], r[1], this._tooltipContent, s) : this._showTooltipContent(a, y, s, Math.random() + '', r[0], r[1], h, null, c) }) }, e.prototype._showSeriesItemTooltip = function (t, e, n) { var i = Object(Tw.a)(e, function (t) { return Object(q.a)(t).dataIndex != null }); var r = this._ecModel; var a = Object(q.a)(i); var o = a.seriesIndex; var s = r.getSeriesByIndex(o); var l = a.dataModel || s; var u = a.dataIndex; var c = a.dataType; var h = l.getData(c); var d = this._renderMode; var p = Lw([h.getItemModel(u), l, s && (s.coordinateSystem || {}).model, this._tooltipModel]); var f = p.get('trigger'); if (f == null || f === 'item') { var g = l.getDataParams(u, c); var y = new Xo.a(); g.marker = y.makeTooltipMarker('item', m.convertToColorString(g.color), d); var v = Object(Iw.b)(l.formatTooltip(u, !1, c)); var b = p.get('order'); var x = v.markupFragment ? Object(Xo.b)(v.markupFragment, y, d, b, r.get('useUTC')) : v.markupText; var _ = 'item_' + l.name + '_' + u; this._showOrMove(p, function () { this._showTooltipContent(p, x, g, _, t.offsetX, t.offsetY, t.position, t.target, y) }), n({ type: 'showTip', dataIndexInside: u, dataIndex: h.getRawIndex(u), seriesIndex: o, from: this.uid }) } }, e.prototype._showComponentItemTooltip = function (t, e, n) { var i = e.tooltip; if (f.isString(i)) { var r = i; i = { content: r, formatter: r } } var a = new _.a(i, this._tooltipModel, this._ecModel); var o = a.get('content'); var s = Math.random() + ''; var l = new Xo.a(); this._showOrMove(a, function () { this._showTooltipContent(a, o, a.get('formatterParams') || {}, s, t.offsetX, t.offsetY, t.position, e, l) }), n({ type: 'showTip', from: this.uid }) }, e.prototype._showTooltipContent = function (t, e, n, i, r, a, o, s, l) { if (this._ticket = '', t.get('showContent') && t.get('show')) { var u = this._tooltipContent; var c = t.get('formatter'); o = o || t.get('position'); var h = e; var d = this._getNearestPoint([r, a], n, t.get('trigger')); if (c && f.isString(c)) { var p = t.ecModel.get('useUTC'); var g = f.isArray(n) ? n[0] : n; var y = g && g.axisType && g.axisType.indexOf('time') >= 0; h = c, y && (h = Object(b.h)(g.axisValue, h, p)), h = m.formatTpl(h, n, !0) } else if (f.isFunction(c)) { var v = jw(function (e, i) { e === this._ticket && (u.setContent(i, l, t, d.color, o), this._updatePosition(t, o, r, a, u, n, s)) }, this); this._ticket = i, h = c(n, i, v) }u.setContent(h, l, t, d.color, o), u.show(t, d.color), this._updatePosition(t, o, r, a, u, n, s) } }, e.prototype._getNearestPoint = function (t, e, n) { return n === 'axis' || f.isArray(e) ? { color: this._renderMode === 'html' ? '#fff' : 'none' } : f.isArray(e) ? void 0 : { color: e.color || e.borderColor } }, e.prototype._updatePosition = function (t, e, n, i, r, a, o) { var s = this._api.getWidth(); var l = this._api.getHeight(); e = e || t.get('position'); var u = r.getSize(); var c = t.get('align'); var h = t.get('verticalAlign'); var d = o && o.getBoundingRect().clone(); if (o && d.applyTransform(o.transform), f.isFunction(e) && (e = e([n, i], a, r.el, d, { viewSize: [s, l], contentSize: u.slice() })), f.isArray(e))n = Cw(e[0], s), i = Cw(e[1], l); else if (f.isObject(e)) { var p = e; p.width = u[0], p.height = u[1]; var g = on.g(p, { width: s, height: l }); n = g.x, i = g.y, c = null, h = null } else if (f.isString(e) && o) { var y = Ew(e, d, u); n = y[0], i = y[1] } else { y = Rw(n, i, r, s, l, c ? null : 20, h ? null : 20); n = y[0], i = y[1] } if (c && (n -= zw(c) ? u[0] / 2 : c === 'right' ? u[0] : 0), h && (i -= zw(h) ? u[1] / 2 : h === 'bottom' ? u[1] : 0), cw(t)) { y = Nw(n, i, r, s, l); n = y[0], i = y[1] }r.moveTo(n, i) }, e.prototype._updateContentNotChangedOnAxis = function (t) { var e = this._lastDataByCoordSys; var n = !!e && e.length === t.length; return n && Aw(e, function (e, i) { var r = e.dataByAxis || []; var a = t[i] || {}; var o = a.dataByAxis || []; n = n && r.length === o.length, n && Aw(r, function (t, e) { var i = o[e] || {}; var r = t.seriesDataIndices || []; var a = i.seriesDataIndices || []; n = n && t.value === i.value && t.axisType === i.axisType && t.axisId === i.axisId && r.length === a.length, n && Aw(r, function (t, e) { var i = a[e]; n = n && t.seriesIndex === i.seriesIndex && t.dataIndex === i.dataIndex }) }) }), this._lastDataByCoordSys = t, !!n }, e.prototype._hide = function (t) { this._lastDataByCoordSys = null, t({ type: 'hideTip', from: this.uid }) }, e.prototype.dispose = function (t, e) { zn.a.node || (this._tooltipContent.dispose(), av('itemTooltip', e)) }, e.type = 'tooltip', e }(Ur.a)); function Lw (t) { var e = t.pop(); while (t.length) { var n = t.pop(); n && (n instanceof _.a && (n = n.get('tooltip', !0)), f.isString(n) && (n = { formatter: n }), e = new _.a(n, e, e.ecModel)) } return e } function Pw (t, e) { return t.dispatchAction || f.bind(e.dispatchAction, e) } function Rw (t, e, n, i, r, a, o) { var s = n.getOuterSize(); var l = s.width; var u = s.height; return a != null && (t + l + a + 2 > i ? t -= l + a : t += a), o != null && (e + u + o > r ? e -= u + o : e += o), [t, e] } function Nw (t, e, n, i, r) { var a = n.getOuterSize(); var o = a.width; var s = a.height; return t = Math.min(t + o, i) - o, e = Math.min(e + s, r) - s, t = Math.max(t, 0), e = Math.max(e, 0), [t, e] } function Ew (t, e, n) { var i = n[0]; var r = n[1]; var a = 10; var o = 5; var s = 0; var l = 0; var u = e.width; var c = e.height; switch (t) { case 'inside':s = e.x + u / 2 - i / 2, l = e.y + c / 2 - r / 2; break; case 'top':s = e.x + u / 2 - i / 2, l = e.y - r - a; break; case 'bottom':s = e.x + u / 2 - i / 2, l = e.y + c + a; break; case 'left':s = e.x - i - a - o, l = e.y + c / 2 - r / 2; break; case 'right':s = e.x + u + a + o, l = e.y + c / 2 - r / 2 } return [s, l] } function zw (t) { return t === 'center' || t === 'middle' }Ur.a.registerClass(kw), c.c({ type: 'showTip', event: 'showTip', update: 'tooltip:manuallyShowTip' }, function () {}), c.c({ type: 'hideTip', event: 'hideTip', update: 'tooltip:manuallyHideTip' }, function () {}); var Bw = ['rect', 'polygon', 'keep', 'clear']; function Vw (t, e) { var n = Object(Z.r)(t ? t.brush : []); if (n.length) { var i = []; f.each(n, function (t) { var e = t.hasOwnProperty('toolbox') ? t.toolbox : []; e instanceof Array && (i = i.concat(e)) }); var r = t && t.toolbox; f.isArray(r) && (r = r[0]), r || (r = { feature: {} }, t.toolbox = [r]); var a = r.feature || (r.feature = {}); var o = a.brush || (a.brush = {}); var s = o.type || (o.type = []); s.push.apply(s, i), Fw(s), e && !s.length && s.push.apply(s, Bw) } } function Fw (t) { var e = {}; f.each(t, function (t) { e[t] = 1 }), t.length = 0, f.each(e, function (e, n) { t.push(n) }) } var Gw = n('1041'); var Hw = f.each; function Ww (t) { if (t) for (var e in t) if (t.hasOwnProperty(e)) return !0 } function Xw (t, e, n) { var i = {}; return Hw(e, function (e) { var a = i[e] = r(); Hw(t[e], function (t, i) { if (Ku.isValidType(i)) { var r = { type: i, visual: t }; n && n(r, e), a[i] = new Ku(r), i === 'opacity' && (r = f.clone(r), r.type = 'colorAlpha', a.__hidden.__alphaForOpacity = new Ku(r)) } }) }), i; function r () { var t = function () {}; t.prototype.__hidden = t.prototype; var e = new t(); return e } } function Yw (t, e, n) { var i; f.each(n, function (t) { e.hasOwnProperty(t) && Ww(e[t]) && (i = !0) }), i && f.each(n, function (n) { e.hasOwnProperty(n) && Ww(e[n]) ? t[n] = f.clone(e[n]) : delete t[n] }) } function Uw (t, e, n, i, r, a) { var o; var s = {}; function l (t) { return Object(Gw.a)(n, o, t) } function u (t, e) { Object(Gw.c)(n, o, t, e) } function c (t, c) { o = a == null ? t : c; var h = n.getRawDataItem(o); if (!h || !1 !== h.visualMap) for (var d = i.call(r, t), p = e[d], f = s[d], g = 0, y = f.length; g < y; g++) { var v = f[g]; p[v] && p[v].applyVisual(t, l, u) } }f.each(t, function (t) { var n = Ku.prepareVisualTypes(e[t]); s[t] = n }), a == null ? n.each(c) : n.each([a], c) } function Zw (t, e, n, i) { var r = {}; return f.each(t, function (t) { var n = Ku.prepareVisualTypes(e[t]); r[t] = n }), { progress: function (t, a) { var o, s; function l (t) { return Object(Gw.a)(a, s, t) } function u (t, e) { Object(Gw.c)(a, s, t, e) }i != null && (o = a.getDimension(i)); while ((s = t.next()) != null) { var c = a.getRawDataItem(s); if (!c || !1 !== c.visualMap) for (var h = i != null ? a.get(o, s) : s, d = n(h), p = e[d], f = r[d], g = 0, y = f.length; g < y; g++) { var v = f[g]; p[v] && p[v].applyVisual(h, l, u) } } } } } function qw (t) { var e = t.brushType; var n = { point: function (i) { return Kw[e].point(i, n, t) }, rect: function (i) { return Kw[e].rect(i, n, t) } }; return n } var Kw = { lineX: $w(0), lineY: $w(1), rect: { point: function (t, e, n) { return t && n.boundingRect.contain(t[0], t[1]) }, rect: function (t, e, n) { return t && n.boundingRect.intersect(t) } }, polygon: { point: function (t, e, n) { return t && n.boundingRect.contain(t[0], t[1]) && dn(n.range, t[0], t[1]) }, rect: function (t, e, n) { var i = n.range; if (!t || i.length <= 1) return !1; var r = t.x; var a = t.y; var o = t.width; var s = t.height; var l = i[0]; return !!(dn(i, r, a) || dn(i, r + o, a) || dn(i, r, a + s) || dn(i, r + o, a + s) || pe.a.create(t).contain(l[0], l[1]) || Object(y.linePolygonIntersect)(r, a, r + o, a, i) || Object(y.linePolygonIntersect)(r, a, r, a + s, i) || Object(y.linePolygonIntersect)(r + o, a, r + o, a + s, i) || Object(y.linePolygonIntersect)(r, a + s, r + o, a + s, i)) || void 0 } } }; function $w (t) { var e = ['x', 'y']; var n = ['width', 'height']; return { point: function (e, n, i) { if (e) { var r = i.range; var a = e[t]; return Qw(a, r) } }, rect: function (i, r, a) { if (i) { var o = a.range; var s = [i[e[t]], i[e[t]] + i[n[t]]]; return s[1] < s[0] && s.reverse(), Qw(s[0], o) || Qw(s[1], o) || Qw(o[0], s) || Qw(o[1], s) } } } } function Qw (t, e) { return e[0] <= t && t <= e[1] } var Jw = ['inBrush', 'outOfBrush']; var tO = '__ecBrushSelect'; var eO = '__ecInBrushSelectEvent'; var nO = c.a.VISUAL.BRUSH; function iO (t) { t.eachComponent({ mainType: 'brush' }, function (e) { var n = e.brushTargetManager = new I_(e.option, t); n.setInputRanges(e.areas, t) }) } function rO (t, e, n, i, r) { if (r) { var a = t.getZr(); if (!a[eO]) { a[tO] || (a[tO] = aO); var o = x.b(a, tO, n, e); o(t, i) } } } function aO (t, e) { if (!t.isDisposed()) { var n = t.getZr(); n[eO] = !0, t.dispatchAction({ type: 'brushSelect', batch: e }), n[eO] = !1 } } function oO (t, e, n, i) { for (var r = 0, a = e.length; r < a; r++) { var o = e[r]; if (t.brushSelector(i, n, o.selectors, o)) return !0 } } function sO (t, e) { var n = t.option.seriesIndex; return n != null && n !== 'all' && (f.isArray(n) ? f.indexOf(n, e) < 0 : e !== n) }c.i(nO, function (t, e, n) { var i; var r; var a = []; t.eachComponent({ mainType: 'brush' }, function (t) { n && n.type === 'takeGlobalCursor' && t.setBrushOption(n.key === 'brush' ? n.brushOption : { brushType: !1 }) }), iO(t), t.eachComponent({ mainType: 'brush' }, function (e, n) { var o = { brushId: e.id, brushIndex: n, brushName: e.name, areas: f.clone(e.areas), selected: [] }; a.push(o); var s = e.option; var l = s.brushLink; var u = []; var c = []; var h = []; var d = !1; n || (i = s.throttleType, r = s.throttleDelay); var p = f.map(e.areas, function (t) { var e = lO[t.brushType]; var n = f.defaults({ boundingRect: e ? e(t) : void 0 }, t); return n.selectors = qw(n), n }); var g = Xw(e.option, Jw, function (t) { t.mappingMethod = 'fixed' }); function y (t) { return l === 'all' || !!u[t] } function v (t) { return !!t.length } function m (t, e) { var n = t.coordinateSystem; d = d || n.hasAxisBrushed(), y(e) && n.eachActiveState(t.getData(), function (t, e) { t === 'active' && (c[e] = 1) }) } function b (n, i, r) { if (n.brushSelector && !sO(e, i) && (f.each(p, function (i) { e.brushTargetManager.controlSeries(i, n, t) && r.push(i), d = d || v(r) }), y(i) && v(r))) { var a = n.getData(); a.each(function (t) { oO(n, r, a, t) && (c[t] = 1) }) } }f.isArray(l) && f.each(l, function (t) { u[t] = 1 }), t.eachSeries(function (t, e) { var n = h[e] = []; t.subType === 'parallel' ? m(t, e) : b(t, e, n) }), t.eachSeries(function (t, e) { var n = { seriesId: t.id, seriesIndex: e, seriesName: t.name, dataIndex: [] }; o.selected.push(n); var i = h[e]; var r = t.getData(); var a = y(e) ? function (t) { return c[t] ? (n.dataIndex.push(r.getRawIndex(t)), 'inBrush') : 'outOfBrush' } : function (e) { return oO(t, i, r, e) ? (n.dataIndex.push(r.getRawIndex(e)), 'inBrush') : 'outOfBrush' }; (y(e) ? d : v(i)) && Uw(Jw, g, r, a) }) }), rO(e, i, r, a, n) }); var lO = { rect: function (t) { return uO(t.range) }, polygon: function (t) { for (var e, n = t.range, i = 0, r = n.length; i < r; i++) { e = e || [[1 / 0, -1 / 0], [1 / 0, -1 / 0]]; var a = n[i]; a[0] < e[0][0] && (e[0][0] = a[0]), a[0] > e[0][1] && (e[0][1] = a[0]), a[1] < e[1][0] && (e[1][0] = a[1]), a[1] > e[1][1] && (e[1][1] = a[1]) } return e && uO(e) } }; function uO (t) { return new pe.a(t[0][0], t[1][0], t[0][1] - t[0][0], t[1][1] - t[1][0]) } var cO = '#ddd'; var hO = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.areas = [], n.brushOption = {}, n } return Object(Ct.b)(e, t), e.prototype.optionUpdated = function (t, e) { var n = this.option; !e && Yw(n, t, ['inBrush', 'outOfBrush']); var i = n.inBrush = n.inBrush || {}; n.outOfBrush = n.outOfBrush || { color: cO }, i.hasOwnProperty('liftZ') || (i.liftZ = 5) }, e.prototype.setAreas = function (t) { t && (this.areas = f.map(t, function (t) { return dO(this.option, t) }, this)) }, e.prototype.setBrushOption = function (t) { this.brushOption = dO(this.option, t), this.brushType = this.brushOption.brushType }, e.type = 'brush', e.dependencies = ['geo', 'grid', 'xAxis', 'yAxis', 'parallel', 'series'], e.defaultOption = { seriesIndex: 'all', brushType: 'rect', brushMode: 'single', transformable: !0, brushStyle: { borderWidth: 1, color: 'rgba(210,219,238,0.3)', borderColor: '#D2DBEE' }, throttleType: 'fixRate', throttleDelay: 0, removeOnClick: !0, z: 1e4 }, e }(hr.a)); function dO (t, e) { return f.merge({ brushType: t.brushType, brushMode: t.brushMode, transformable: t.transformable, brushStyle: new _.a(t.brushStyle).getItemStyle(), removeOnClick: t.removeOnClick, z: t.z }, e, !0) }hr.a.registerClass(hO); var pO = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.init = function (t, e) { this.ecModel = t, this.api = e, this.model, (this._brushController = new Mp(e.getZr())).on('brush', f.bind(this._onBrush, this)).mount() }, e.prototype.render = function (t, e, n, i) { this.model = t, this._updateController(t, e, n, i) }, e.prototype.updateTransform = function (t, e, n, i) { iO(e), this._updateController(t, e, n, i) }, e.prototype.updateVisual = function (t, e, n, i) { this.updateTransform(t, e, n, i) }, e.prototype.updateView = function (t, e, n, i) { this._updateController(t, e, n, i) }, e.prototype._updateController = function (t, e, n, i) { (!i || i.$from !== t.id) && this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice()) }, e.prototype.dispose = function () { this._brushController.dispose() }, e.prototype._onBrush = function (t) { var e = this.model.id; var n = this.model.brushTargetManager.setOutputRanges(t.areas, this.ecModel); (!t.isEnd || t.removeOnClick) && this.api.dispatchAction({ type: 'brush', brushId: e, areas: f.clone(n), $from: e }), t.isEnd && this.api.dispatchAction({ type: 'brushEnd', brushId: e, areas: f.clone(n), $from: e }) }, e.type = 'brush', e }(Ur.a)); Ur.a.registerClass(pO), c.c({ type: 'brush', event: 'brush', update: 'updateVisual' }, function (t, e) { e.eachComponent({ mainType: 'brush', query: t }, function (e) { e.setAreas(t.areas) }) }), c.c({ type: 'brushSelect', event: 'brushSelected', update: 'none' }, function () {}), c.c({ type: 'brushEnd', event: 'brushEnd', update: 'none' }, function () {}); var fO = ['rect', 'polygon', 'lineX', 'lineY', 'keep', 'clear']; var gO = (function (t) { function e () { return t !== null && t.apply(this, arguments) || this } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n) { var i, r, a; e.eachComponent({ mainType: 'brush' }, function (t) { i = t.brushType, r = t.brushOption.brushMode || 'single', a = a || !!t.areas.length }), this._brushType = i, this._brushMode = r, f.each(t.get('type', !0), function (e) { t.setIconStatus(e, (e === 'keep' ? r === 'multiple' : e === 'clear' ? a : e === i) ? 'emphasis' : 'normal') }) }, e.prototype.updateView = function (t, e, n) { this.render(t, e, n) }, e.prototype.getIcons = function () { var t = this.model; var e = t.get('icon', !0); var n = {}; return f.each(t.get('type', !0), function (t) { e[t] && (n[t] = e[t]) }), n }, e.prototype.onclick = function (t, e, n) { var i = this._brushType; var r = this._brushMode; n === 'clear' ? (e.dispatchAction({ type: 'axisAreaSelect', intervals: [] }), e.dispatchAction({ type: 'brush', command: 'clear', areas: [] })) : e.dispatchAction({ type: 'takeGlobalCursor', key: 'brush', brushOption: { brushType: n === 'keep' ? i : i !== n && n, brushMode: n === 'keep' ? r === 'multiple' ? 'single' : 'multiple' : r } }) }, e.getDefaultOption = function (t) { var e = { show: !0, type: fO.slice(), icon: { rect: 'M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13', polygon: 'M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2', lineX: 'M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4', lineY: 'M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4', keep: 'M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z', clear: 'M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2' }, title: t.getLocale(['toolbox', 'brush', 'title']) }; return e }, e }(Ex)); Bx('brush', gO); c.f(Vw); var yO = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.layoutMode = { type: 'box', ignoreSize: !0 }, n } return Object(Ct.b)(e, t), e.type = 'title', e.defaultOption = { zlevel: 0, z: 6, show: !0, text: '', target: 'blank', subtext: '', subtarget: 'blank', left: 0, top: 0, backgroundColor: 'rgba(0,0,0,0)', borderColor: '#ccc', borderWidth: 0, padding: 5, itemGap: 10, textStyle: { fontSize: 18, fontWeight: 'bold', color: '#464646' }, subtextStyle: { fontSize: 12, color: '#6E7079' } }, e }(hr.a)); hr.a.registerClass(yO); var vO = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.render = function (t, e, n) { if (this.group.removeAll(), t.get('show')) { var i = this.group; var r = t.getModel('textStyle'); var a = t.getModel('subtextStyle'); var o = t.get('textAlign'); var s = f.retrieve2(t.get('textBaseline'), t.get('textVerticalAlign')); var l = new y.Text({ style: Object(hi.c)(r, { text: t.get('text'), fill: r.getTextColor() }, { disableBox: !0 }), z2: 10 }); var u = l.getBoundingRect(); var c = t.get('subtext'); var h = new y.Text({ style: Object(hi.c)(a, { text: c, fill: a.getTextColor(), y: u.height + t.get('itemGap'), verticalAlign: 'top' }, { disableBox: !0 }), z2: 10 }); var d = t.get('link'); var p = t.get('sublink'); var g = t.get('triggerEvent', !0); l.silent = !d && !g, h.silent = !p && !g, d && l.on('click', function () { Object(m.windowOpen)(d, '_' + t.get('target')) }), p && h.on('click', function () { Object(m.windowOpen)(p, '_' + t.get('subtarget')) }), Object(q.a)(l).eventData = Object(q.a)(h).eventData = g ? { componentType: 'title', componentIndex: t.componentIndex } : null, i.add(l), c && i.add(h); var v = i.getBoundingRect(); var b = t.getBoxLayoutParams(); b.width = v.width, b.height = v.height; var x = Object(on.g)(b, { width: n.getWidth(), height: n.getHeight() }, t.get('padding')); o || (o = t.get('left') || t.get('right'), o === 'middle' && (o = 'center'), o === 'right' ? x.x += x.width : o === 'center' && (x.x += x.width / 2)), s || (s = t.get('top') || t.get('bottom'), s === 'center' && (s = 'middle'), s === 'bottom' ? x.y += x.height : s === 'middle' && (x.y += x.height / 2), s = s || 'top'), i.x = x.x, i.y = x.y, i.markRedraw(); var _ = { align: o, verticalAlign: s }; l.setStyle(_), h.setStyle(_), v = i.getBoundingRect(); var w = x.margin; var O = t.getItemStyle(['color', 'opacity']); O.fill = t.get('backgroundColor'); var S = new y.Rect({ shape: { x: v.x - w[3], y: v.y - w[0], width: v.width + w[1] + w[3], height: v.height + w[0] + w[2], r: t.get('borderRadius') }, style: O, subPixelOptimize: !0, silent: !0 }); i.add(S) } }, e.type = 'title', e }(Ur.a)); function mO (t) { var e = t && t.timeline; f.isArray(e) || (e = e ? [e] : []), f.each(e, function (t) { t && bO(t) }) } function bO (t) { var e = t.type; var n = { number: 'value', time: 'time' }; if (n[e] && (t.axisType = n[e], delete t.type), xO(t), _O(t, 'controlPosition')) { var i = t.controlStyle || (t.controlStyle = {}); _O(i, 'position') || (i.position = t.controlPosition), i.position !== 'none' || _O(i, 'show') || (i.show = !1, delete i.position), delete t.controlPosition }f.each(t.data || [], function (t) { f.isObject(t) && !f.isArray(t) && (!_O(t, 'value') && _O(t, 'name') && (t.value = t.name), xO(t)) }) } function xO (t) { var e = t.itemStyle || (t.itemStyle = {}); var n = e.emphasis || (e.emphasis = {}); var i = t.label || t.label || {}; var r = i.normal || (i.normal = {}); var a = { normal: 1, emphasis: 1 }; f.each(i, function (t, e) { a[e] || _O(r, e) || (r[e] = t) }), n.label && !_O(i, 'emphasis') && (i.emphasis = n.label, delete n.label) } function _O (t, e) { return t.hasOwnProperty(e) }Ur.a.registerClass(vO), hr.a.registerSubTypeDefaulter('timeline', function () { return 'slider' }), c.c({ type: 'timelineChange', event: 'timelineChanged', update: 'prepareAndUpdate' }, function (t, e) { var n = e.getComponent('timeline'); return n && t.currentIndex != null && (n.setCurrentIndex(t.currentIndex), !n.get('loop', !0) && n.isIndexMax() && n.setPlayState(!1)), e.resetOption('timeline', { replaceMerge: n.get('replaceMerge', !0) }), Object(f.defaults)({ currentIndex: n.option.currentIndex }, t) }), c.c({ type: 'timelinePlayChange', event: 'timelinePlayChanged', update: 'update' }, function (t, e) { var n = e.getComponent('timeline'); n && t.playState != null && n.setPlayState(t.playState) }); var wO = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.layoutMode = 'box', n } return Object(Ct.b)(e, t), e.prototype.init = function (t, e, n) { this.mergeDefaultAndTheme(t, n), this._initData() }, e.prototype.mergeOption = function (e) { t.prototype.mergeOption.apply(this, arguments), this._initData() }, e.prototype.setCurrentIndex = function (t) { t == null && (t = this.option.currentIndex); var e = this._data.count(); this.option.loop ? t = (t % e + e) % e : (t >= e && (t = e - 1), t < 0 && (t = 0)), this.option.currentIndex = t }, e.prototype.getCurrentIndex = function () { return this.option.currentIndex }, e.prototype.isIndexMax = function () { return this.getCurrentIndex() >= this._data.count() - 1 }, e.prototype.setPlayState = function (t) { this.option.autoPlay = !!t }, e.prototype.getPlayState = function () { return !!this.option.autoPlay }, e.prototype._initData = function () { var t; var e = this.option; var n = e.data || []; var i = e.axisType; var r = this._names = []; i === 'category' ? (t = [], Object(f.each)(n, function (e, n) { var i; var a = Object(Z.e)(Object(Z.h)(e), ''); Object(f.isObject)(e) ? (i = Object(f.clone)(e), i.value = n) : i = n, t.push(i), r.push(a) })) : t = n; var a = { category: 'ordinal', time: 'time', value: 'number' }[i] || 'number'; var o = this._data = new ht([{ name: 'value', type: a }], this); o.initData(t, r) }, e.prototype.getData = function () { return this._data }, e.prototype.getCategories = function () { if (this.get('axisType') === 'category') return this._names.slice() }, e.type = 'timeline', e.defaultOption = { zlevel: 0, z: 4, show: !0, axisType: 'time', realtime: !0, left: '20%', top: null, right: '20%', bottom: 0, width: null, height: 40, padding: 5, controlPosition: 'left', autoPlay: !1, rewind: !1, loop: !0, playInterval: 2e3, currentIndex: 0, itemStyle: {}, label: { color: '#000' }, data: [] }, e }(hr.a)); hr.a.registerClass(wO); var OO = wO; var SO = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.type = 'timeline.slider', e.defaultOption = Object(La.d)(OO.defaultOption, { backgroundColor: 'rgba(0,0,0,0)', borderColor: '#ccc', borderWidth: 0, orient: 'horizontal', inverse: !1, tooltip: { trigger: 'item' }, symbol: 'circle', symbolSize: 12, lineStyle: { show: !0, width: 2, color: '#DAE1F5' }, label: { position: 'auto', show: !0, interval: 'auto', rotate: 0, color: '#A4B1D7' }, itemStyle: { color: '#A4B1D7', borderWidth: 1 }, checkpointStyle: { symbol: 'circle', symbolSize: 15, color: '#316bf3', borderColor: '#fff', borderWidth: 2, shadowBlur: 2, shadowOffsetX: 1, shadowOffsetY: 1, shadowColor: 'rgba(0, 0, 0, 0.3)', animation: !0, animationDuration: 300, animationEasing: 'quinticInOut' }, controlStyle: { show: !0, showPlayBtn: !0, showPrevBtn: !0, showNextBtn: !0, itemSize: 24, itemGap: 12, position: 'left', playIcon: 'path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z', stopIcon: 'path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z', nextIcon: 'M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z', prevIcon: 'M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z', prevBtnSize: 18, nextBtnSize: 18, color: '#A4B1D7', borderColor: '#A4B1D7', borderWidth: 1 }, emphasis: { label: { show: !0, color: '#6f778d' }, itemStyle: { color: '#316BF3' }, controlStyle: { color: '#316BF3', borderColor: '#316BF3', borderWidth: 2 } }, progress: { lineStyle: { color: '#316BF3' }, itemStyle: { color: '#316BF3' }, label: { color: '#6f778d' } }, data: [] }), e }(OO)); Object(f.mixin)(SO, Iw.a.prototype), hr.a.registerClass(SO); var MO = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.type = 'timeline', e }(Ur.a)); var IO = MO; var TO = (function (t) { function e (e, n, i, r) { var a = t.call(this, e, n, i) || this; return a.type = r || 'value', a } return Object(Ct.b)(e, t), e.prototype.getLabelModel = function () { return this.model.getModel('label') }, e.prototype.isHorizontal = function () { return this.model.get('orient') === 'horizontal' }, e }(En)); var jO = TO; var AO = Math.PI; var CO = Object(Z.o)(); var DO = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.init = function (t, e) { this.api = e }, e.prototype.render = function (t, e, n) { if (this.model = t, this.api = n, this.ecModel = e, this.group.removeAll(), t.get('show', !0)) { var i = this._layout(t, n); var r = this._createGroup('_mainGroup'); var a = this._createGroup('_labelGroup'); var o = this._axis = this._createAxis(i, t); t.formatTooltip = function (t) { var e = o.scale.getLabel({ value: t }); return Object(Xo.c)('nameValue', { noName: !0, value: e }) }, Object(f.each)(['AxisLine', 'AxisTick', 'Control', 'CurrentPointer'], function (e) { this['_render' + e](i, r, o, t) }, this), this._renderAxisLabel(i, a, o, t), this._position(i, t) } this._doPlayStop(), this._updateTicksStatus() }, e.prototype.remove = function () { this._clearTimer(), this.group.removeAll() }, e.prototype.dispose = function () { this._clearTimer() }, e.prototype._layout = function (t, e) { var n; var i = t.get(['label', 'position']); var r = t.get('orient'); var a = LO(t, e); n = i == null || i === 'auto' ? r === 'horizontal' ? a.y + a.height / 2 < e.getHeight() / 2 ? '-' : '+' : a.x + a.width / 2 < e.getWidth() / 2 ? '+' : '-' : Object(f.isString)(i) ? { horizontal: { top: '-', bottom: '+' }, vertical: { left: '-', right: '+' } }[r][i] : i; var o; var s; var l; var u = { horizontal: 'center', vertical: n >= 0 || n === '+' ? 'left' : 'right' }; var c = { horizontal: n >= 0 || n === '+' ? 'top' : 'bottom', vertical: 'middle' }; var h = { horizontal: 0, vertical: AO / 2 }; var d = r === 'vertical' ? a.height : a.width; var p = t.getModel('controlStyle'); var g = p.get('show', !0); var y = g ? p.get('itemSize') : 0; var v = g ? p.get('itemGap') : 0; var m = y + v; var b = t.get(['label', 'rotate']) || 0; b = b * AO / 180; var x = p.get('position', !0); var _ = g && p.get('showPlayBtn', !0); var w = g && p.get('showPrevBtn', !0); var O = g && p.get('showNextBtn', !0); var S = 0; var M = d; x === 'left' || x === 'bottom' ? (_ && (o = [0, 0], S += m), w && (s = [S, 0], S += m), O && (l = [M - y, 0], M -= m)) : (_ && (o = [M - y, 0], M -= m), w && (s = [0, 0], S += m), O && (l = [M - y, 0], M -= m)); var I = [S, M]; return t.get('inverse') && I.reverse(), { viewRect: a, mainLength: d, orient: r, rotation: h[r], labelRotation: b, labelPosOpt: n, labelAlign: t.get(['label', 'align']) || u[r], labelBaseline: t.get(['label', 'verticalAlign']) || t.get(['label', 'baseline']) || c[r], playPosition: o, prevBtnPosition: s, nextBtnPosition: l, axisExtent: I, controlSize: y, controlGap: v } }, e.prototype._position = function (t, e) { var n = this._mainGroup; var i = this._labelGroup; var r = t.viewRect; if (t.orient === 'vertical') { var a = d.c(); var o = r.x; var s = r.y + r.height; d.i(a, a, [-o, -s]), d.g(a, a, -AO / 2), d.i(a, a, [o, s]), r = r.clone(), r.applyTransform(a) } var l = m(r); var u = m(n.getBoundingRect()); var c = m(i.getBoundingRect()); var h = [n.x, n.y]; var p = [i.x, i.y]; p[0] = h[0] = l[0][0]; var g = t.labelPosOpt; if (g == null || Object(f.isString)(g)) { var y = g === '+' ? 0 : 1; b(h, u, l, 1, y), b(p, c, l, 1, 1 - y) } else { y = g >= 0 ? 0 : 1; b(h, u, l, 1, y), p[1] = h[1] + g } function v (t) { t.originX = l[0][0] - t.x, t.originY = l[1][0] - t.y } function m (t) { return [[t.x, t.x + t.width], [t.y, t.y + t.height]] } function b (t, e, n, i, r) { t[i] += n[i][r] - e[i][r] }n.setPosition(h), i.setPosition(p), n.rotation = i.rotation = t.rotation, v(n), v(i) }, e.prototype._createAxis = function (t, e) { var n = e.getData(); var i = e.get('axisType'); var r = kO(e, i); r.getTicks = function () { return n.mapArray(['value'], function (t) { return { value: t } }) }; var a = n.getDataExtent('value'); r.setExtent(a[0], a[1]), r.niceTicks(); var o = new jO('value', r, t.axisExtent, i); return o.model = e, o }, e.prototype._createGroup = function (t) { var e = this[t] = new y.Group(); return this.group.add(e), e }, e.prototype._renderAxisLine = function (t, e, n, i) { var r = n.getExtent(); if (i.get(['lineStyle', 'show'])) { var a = new y.Line({ shape: { x1: r[0], y1: 0, x2: r[1], y2: 0 }, style: Object(f.extend)({ lineCap: 'round' }, i.getModel('lineStyle').getLineStyle()), silent: !0, z2: 1 }); e.add(a); var o = this._progressLine = new y.Line({ shape: { x1: r[0], x2: this._currentPointer ? this._currentPointer.x : r[0], y1: 0, y2: 0 }, style: Object(f.defaults)({ lineCap: 'round', lineWidth: a.style.lineWidth }, i.getModel(['progress', 'lineStyle']).getLineStyle()), silent: !0, z2: 1 }); e.add(o) } }, e.prototype._renderAxisTick = function (t, e, n, i) { var r = this; var a = i.getData(); var o = n.scale.getTicks(); this._tickSymbols = [], Object(f.each)(o, function (t) { var o = n.dataToCoord(t.value); var s = a.getItemModel(t.value); var l = s.getModel('itemStyle'); var u = s.getModel(['emphasis', 'itemStyle']); var c = s.getModel(['progress', 'itemStyle']); var h = { x: o, y: 0, onclick: Object(f.bind)(r._changeTimeline, r, t.value) }; var d = RO(s, l, e, h); d.ensureState('emphasis').style = u.getItemStyle(), d.ensureState('progress').style = c.getItemStyle(), Object(li.k)(d); var p = Object(q.a)(d); s.get('tooltip') ? (p.dataIndex = t.value, p.dataModel = i) : p.dataIndex = p.dataModel = null, r._tickSymbols.push(d) }) }, e.prototype._renderAxisLabel = function (t, e, n, i) { var r = this; var a = n.getLabelModel(); if (a.get('show')) { var o = i.getData(); var s = n.getViewLabels(); this._tickLabels = [], Object(f.each)(s, function (i) { var a = i.tickValue; var s = o.getItemModel(a); var l = s.getModel('label'); var u = s.getModel(['emphasis', 'label']); var c = s.getModel(['progress', 'label']); var h = n.dataToCoord(i.tickValue); var d = new y.Text({ x: h, y: 0, rotation: t.labelRotation - t.rotation, onclick: Object(f.bind)(r._changeTimeline, r, a), silent: !1, style: Object(hi.c)(l, { text: i.formattedLabel, align: t.labelAlign, verticalAlign: t.labelBaseline }) }); d.ensureState('emphasis').style = Object(hi.c)(u), d.ensureState('progress').style = Object(hi.c)(c), e.add(d), Object(li.k)(d), CO(d).dataIndex = a, r._tickLabels.push(d) }) } }, e.prototype._renderControl = function (t, e, n, i) { var r = t.controlSize; var a = t.rotation; var o = i.getModel('controlStyle').getItemStyle(); var s = i.getModel(['emphasis', 'controlStyle']).getItemStyle(); var l = i.getPlayState(); var u = i.get('inverse', !0); function c (t, n, l, u) { if (t) { var c = Object(Be.h)(Object(f.retrieve2)(i.get(['controlStyle', n + 'BtnSize']), r), r); var h = [0, -c / 2, c, c]; var d = { position: t, origin: [r / 2, 0], rotation: u ? -a : 0, rectHover: !0, style: o, onclick: l }; var p = PO(i, n + 'Icon', h, d); p.ensureState('emphasis').style = s, e.add(p), Object(li.k)(p) } }c(t.nextBtnPosition, 'next', Object(f.bind)(this._changeTimeline, this, u ? '-' : '+')), c(t.prevBtnPosition, 'prev', Object(f.bind)(this._changeTimeline, this, u ? '+' : '-')), c(t.playPosition, l ? 'stop' : 'play', Object(f.bind)(this._handlePlayClick, this, !l), !0) }, e.prototype._renderCurrentPointer = function (t, e, n, i) { var r = i.getData(); var a = i.getCurrentIndex(); var o = r.getItemModel(a).getModel('checkpointStyle'); var s = this; var l = { onCreate: function (t) { t.draggable = !0, t.drift = Object(f.bind)(s._handlePointerDrag, s), t.ondragend = Object(f.bind)(s._handlePointerDragend, s), NO(t, s._progressLine, a, n, i, !0) }, onUpdate: function (t) { NO(t, s._progressLine, a, n, i) } }; this._currentPointer = RO(o, o, this._mainGroup, {}, this._currentPointer, l) }, e.prototype._handlePlayClick = function (t) { this._clearTimer(), this.api.dispatchAction({ type: 'timelinePlayChange', playState: t, from: this.uid }) }, e.prototype._handlePointerDrag = function (t, e, n) { this._clearTimer(), this._pointerChangeTimeline([n.offsetX, n.offsetY]) }, e.prototype._handlePointerDragend = function (t) { this._pointerChangeTimeline([t.offsetX, t.offsetY], !0) }, e.prototype._pointerChangeTimeline = function (t, e) { var n = this._toAxisCoord(t)[0]; var i = this._axis; var r = v.asc(i.getExtent().slice()); n > r[1] && (n = r[1]), n < r[0] && (n = r[0]), this._currentPointer.x = n, this._currentPointer.markRedraw(), this._progressLine.shape.x2 = n, this._progressLine.dirty(); var a = this._findNearestTick(n); var o = this.model; (e || a !== o.getCurrentIndex() && o.get('realtime')) && this._changeTimeline(a) }, e.prototype._doPlayStop = function () { var t = this; this._clearTimer(), this.model.getPlayState() && (this._timer = setTimeout(function () { var e = t.model; t._changeTimeline(e.getCurrentIndex() + (e.get('rewind', !0) ? -1 : 1)) }, this.model.get('playInterval'))) }, e.prototype._toAxisCoord = function (t) { var e = this._mainGroup.getLocalTransform(); return y.applyTransform(t, e, !0) }, e.prototype._findNearestTick = function (t) { var e; var n = this.model.getData(); var i = 1 / 0; var r = this._axis; return n.each(['value'], function (n, a) { var o = r.dataToCoord(n); var s = Math.abs(o - t); s < i && (i = s, e = a) }), e }, e.prototype._clearTimer = function () { this._timer && (clearTimeout(this._timer), this._timer = null) }, e.prototype._changeTimeline = function (t) { var e = this.model.getCurrentIndex(); t === '+' ? t = e + 1 : t === '-' && (t = e - 1), this.api.dispatchAction({ type: 'timelineChange', currentIndex: t, from: this.uid }) }, e.prototype._updateTicksStatus = function () { var t = this.model.getCurrentIndex(); var e = this._tickSymbols; var n = this._tickLabels; if (e) for (var i = 0; i < e.length; i++)e && e[i] && e[i].toggleState('progress', i < t); if (n) for (i = 0; i < n.length; i++)n && n[i] && n[i].toggleState('progress', CO(n[i]).dataIndex <= t) }, e.type = 'timeline.slider', e }(IO)); function kO (t, e) { if (e = e || t.get('type'), e) switch (e) { case 'category':return new Yt({ ordinalMeta: t.getCategories(), extent: [1 / 0, -1 / 0] }); case 'time':return new Ie({ locale: t.ecModel.getLocaleModel(), useUTC: t.ecModel.get('useUTC') }); default:return new qt() } } function LO (t, e) { return on.g(t.getBoxLayoutParams(), { width: e.getWidth(), height: e.getHeight() }, t.get('padding')) } function PO (t, e, n, i) { var r = i.style; var a = y.createIcon(t.get(['controlStyle', e]), i || {}, new pe.a(n[0], n[1], n[2], n[3])); return r && a.setStyle(r), a } function RO (t, e, n, i, r, a) { var o = e.get('color'); if (r)r.setColor(o), n.add(r), a && a.onUpdate(r); else { var s = t.get('symbol'); r = Object(sn.a)(s, -1, -1, 2, 2, o), r.setStyle('strokeNoScale', !0), n.add(r), a && a.onCreate(r) } var l = e.getItemStyle(['color']); r.setStyle(l), i = Object(f.merge)({ rectHover: !0, z2: 100 }, i, !0); var u = t.get('symbolSize'); u = u instanceof Array ? u.slice() : [+u, +u], i.scaleX = u[0] / 2, i.scaleY = u[1] / 2; var c = t.get('symbolOffset'); c && (i.x = i.x || 0, i.y = i.y || 0, i.x += v.parsePercent(c[0], u[0]), i.y += v.parsePercent(c[1], u[1])); var h = t.get('symbolRotate'); return i.rotation = (h || 0) * Math.PI / 180 || 0, r.attr(i), r.updateTransform(), r } function NO (t, e, n, i, r, a) { if (!t.dragging) { var o = r.getModel('checkpointStyle'); var s = i.dataToCoord(r.getData().get('value', n)); if (a || !o.get('animation', !0))t.attr({ x: s, y: 0 }), e && e.attr({ shape: { x2: s } }); else { var l = { duration: o.get('animationDuration', !0), easing: o.get('animationEasing', !0) }; t.stopAnimation(null, !0), t.animateTo({ x: s, y: 0 }, l), e && e.animateTo({ shape: { x2: s } }, l) } } }Ur.a.registerClass(DO); function EO (t) { Object(Z.f)(t, 'label', ['show']) }c.f(mO); var zO = Object(Z.o)(); var BO = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.createdBySelf = !1, n } return Object(Ct.b)(e, t), e.prototype.init = function (t, e, n) { this.mergeDefaultAndTheme(t, n), this._mergeOption(t, n, !1, !0) }, e.prototype.isAnimationEnabled = function () { if (zn.a.node) return !1; var t = this.__hostSeries; return this.getShallow('animation') && t && t.isAnimationEnabled() }, e.prototype.mergeOption = function (t, e) { this._mergeOption(t, e, !1, !1) }, e.prototype._mergeOption = function (t, e, n, i) { var r = this.mainType; n || e.eachSeries(function (t) { var n = t.get(this.mainType, !0); var a = zO(t)[r]; n && n.data ? (a ? a._mergeOption(n, e, !0) : (i && EO(n), f.each(n.data, function (t) { t instanceof Array ? (EO(t[0]), EO(t[1])) : EO(t) }), a = this.createMarkerModelFromSeries(n, this, e), f.extend(a, { mainType: this.mainType, seriesIndex: t.seriesIndex, name: t.name, createdBySelf: !0 }), a.__hostSeries = t), zO(t)[r] = a) : zO(t)[r] = null }, this) }, e.prototype.formatTooltip = function (t, e, n) { var i = this.getData(); var r = this.getRawValue(t); var a = i.getName(t); return Object(Xo.c)('section', { header: this.name, blocks: [Object(Xo.c)('nameValue', { name: a, value: r, noName: !a, noValue: r == null })] }) }, e.prototype.getData = function () { return this._data }, e.prototype.setData = function (t) { this._data = t }, e.getMarkerModelFromSeries = function (t, e) { return zO(t)[e] }, e.type = 'marker', e.dependencies = ['series', 'grid', 'polar', 'geo'], e }(hr.a)); f.mixin(BO, Iw.a.prototype); var VO = BO; var FO = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.createMarkerModelFromSeries = function (t, n, i) { return new e(t, n, i) }, e.type = 'markPoint', e.defaultOption = { zlevel: 0, z: 5, symbol: 'pin', symbolSize: 50, tooltip: { trigger: 'item' }, label: { show: !0, position: 'inside' }, itemStyle: { borderWidth: 2 }, emphasis: { label: { show: !0 } } }, e }(VO)); hr.a.registerClass(FO); function GO (t) { return !(isNaN(parseFloat(t.x)) && isNaN(parseFloat(t.y))) } function HO (t) { return !isNaN(parseFloat(t.x)) && !isNaN(parseFloat(t.y)) } function WO (t, e, n, i, r, a) { var o = []; var s = St(e, i); var l = s ? e.getCalculationInfo('stackResultDimension') : i; var u = $O(e, l, t); var c = e.indicesOfNearest(l, u)[0]; o[r] = e.get(n, c), o[a] = e.get(l, c); var h = e.get(i, c); var d = v.getPrecision(e.get(i, c)); return d = Math.min(d, 20), d >= 0 && (o[a] = +o[a].toFixed(d)), [o, h] } var XO = { min: Object(f.curry)(WO, 'min'), max: Object(f.curry)(WO, 'max'), average: Object(f.curry)(WO, 'average'), median: Object(f.curry)(WO, 'median') }; function YO (t, e) { var n = t.getData(); var i = t.coordinateSystem; if (e && !HO(e) && !Object(f.isArray)(e.coord) && i) { var r = i.dimensions; var a = UO(e, n, i, t); if (e = Object(f.clone)(e), e.type && XO[e.type] && a.baseAxis && a.valueAxis) { var o = Object(f.indexOf)(r, a.baseAxis.dim); var s = Object(f.indexOf)(r, a.valueAxis.dim); var l = XO[e.type](n, a.baseDataDim, a.valueDataDim, o, s); e.coord = l[0], e.value = l[1] } else { for (var u = [e.xAxis != null ? e.xAxis : e.radiusAxis, e.yAxis != null ? e.yAxis : e.angleAxis], c = 0; c < 2; c++)XO[u[c]] && (u[c] = $O(n, n.mapDimension(r[c]), u[c])); e.coord = u } } return e } function UO (t, e, n, i) { var r = {}; return t.valueIndex != null || t.valueDim != null ? (r.valueDataDim = t.valueIndex != null ? e.getDimension(t.valueIndex) : t.valueDim, r.valueAxis = n.getAxis(ZO(i, r.valueDataDim)), r.baseAxis = n.getOtherAxis(r.valueAxis), r.baseDataDim = e.mapDimension(r.baseAxis.dim)) : (r.baseAxis = i.getBaseAxis(), r.valueAxis = n.getOtherAxis(r.baseAxis), r.baseDataDim = e.mapDimension(r.baseAxis.dim), r.valueDataDim = e.mapDimension(r.valueAxis.dim)), r } function ZO (t, e) { var n = t.getData(); var i = n.dimensions; e = n.getDimension(e); for (var r = 0; r < i.length; r++) { var a = n.getDimensionInfo(i[r]); if (a.name === e) return a.coordDim } } function qO (t, e) { return !(t && t.containData && e.coord && !GO(e)) || t.containData(e.coord) } function KO (t, e, n, i) { return i < 2 ? t.coord && t.coord[i] : t.value } function $O (t, e, n) { if (n === 'average') { var i = 0; var r = 0; return t.each(e, function (t, e) { isNaN(t) || (i += t, r++) }), i / r } return n === 'median' ? t.getMedian(e) : t.getDataExtent(e)[n === 'max' ? 1 : 0] } var QO = Object(Z.o)(); var JO = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.init = function () { this.markerGroupMap = Object(f.createHashMap)() }, e.prototype.render = function (t, e, n) { var i = this; var r = this.markerGroupMap; r.each(function (t) { QO(t).keep = !1 }), e.eachSeries(function (t) { var r = VO.getMarkerModelFromSeries(t, i.type); r && i.renderSeries(t, r, e, n) }), r.each(function (t) { !QO(t).keep && i.group.remove(t.group) }) }, e.prototype.markKeep = function (t) { QO(t).keep = !0 }, e.prototype.blurSeries = function (t) { var e = this; Object(f.each)(t, function (t) { var n = VO.getMarkerModelFromSeries(t, e.type); if (n) { var i = n.getData(); i.eachItemGraphicEl(function (t) { t && Object(li.m)(t) }) } }) }, e.type = 'marker', e }(Ur.a)); var tS = JO; function eS (t, e, n) { var i = e.coordinateSystem; t.each(function (r) { var a; var o = t.getItemModel(r); var s = v.parsePercent(o.get('x'), n.getWidth()); var l = v.parsePercent(o.get('y'), n.getHeight()); if (isNaN(s) || isNaN(l)) { if (e.getMarkerPosition)a = e.getMarkerPosition(t.getValues(t.dimensions, r)); else if (i) { var u = t.get(i.dimensions[0], r); var c = t.get(i.dimensions[1], r); a = i.dataToPoint([u, c]) } } else a = [s, l]; isNaN(s) || (a[0] = s), isNaN(l) || (a[1] = l), t.setItemLayout(r, a) }) } var nS = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.updateTransform = function (t, e, n) { e.eachSeries(function (t) { var e = VO.getMarkerModelFromSeries(t, 'markPoint'); e && (eS(e.getData(), t, n), this.markerGroupMap.get(t.id).updateLayout()) }, this) }, e.prototype.renderSeries = function (t, e, n, i) { var r = t.coordinateSystem; var a = t.id; var o = t.getData(); var s = this.markerGroupMap; var l = s.get(a) || s.set(a, new xi()); var u = iS(r, t, e); e.setData(u), eS(e.getData(), t, i), u.each(function (t) { var n = u.getItemModel(t); var i = n.getShallow('symbol'); var r = n.getShallow('symbolSize'); var a = n.getShallow('symbolRotate'); if (Object(f.isFunction)(i) || Object(f.isFunction)(r) || Object(f.isFunction)(a)) { var s = e.getRawValue(t); var l = e.getDataParams(t); Object(f.isFunction)(i) && (i = i(s, l)), Object(f.isFunction)(r) && (r = r(s, l)), Object(f.isFunction)(a) && (a = a(s, l)) } var c = n.getModel('itemStyle').getItemStyle(); var h = Object(Gw.b)(o, 'color'); c.fill || (c.fill = h), u.setItemVisual(t, { symbol: i, symbolSize: r, symbolRotate: a, style: c }) }), l.updateData(u), this.group.add(l.group), u.eachItemGraphicEl(function (t) { t.traverse(function (t) { Object(q.a)(t).dataModel = e }) }), this.markKeep(l), l.group.silent = e.get('silent') || t.get('silent') }, e.type = 'markPoint', e }(tS)); function iS (t, e, n) { var i; i = t ? Object(f.map)(t && t.dimensions, function (t) { var n = e.getData().getDimensionInfo(e.getData().mapDimension(t)) || {}; return Object(f.defaults)({ name: t }, n) }) : [{ name: 'value', type: 'float' }]; var r = new ht(i, n); var a = Object(f.map)(n.get('data'), Object(f.curry)(YO, e)); return t && (a = Object(f.filter)(a, Object(f.curry)(qO, t))), r.initData(a, null, t ? KO : function (t) { return t.value }), r }Ur.a.registerClass(nS), c.f(function (t) { t.markPoint = t.markPoint || {} }); var rS = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.createMarkerModelFromSeries = function (t, n, i) { return new e(t, n, i) }, e.type = 'markLine', e.defaultOption = { zlevel: 0, z: 5, symbol: ['circle', 'arrow'], symbolSize: [8, 16], precision: 2, tooltip: { trigger: 'item' }, label: { show: !0, position: 'end', distance: 5 }, lineStyle: { type: 'dashed' }, emphasis: { label: { show: !0 }, lineStyle: { width: 3 } }, animationEasing: 'linear' }, e }(VO)); hr.a.registerClass(rS); var aS = Object(Z.o)(); var oS = function (t, e, n, i) { var r; var a = t.getData(); if (Object(f.isArray)(i))r = i; else { var o = i.type; if (o === 'min' || o === 'max' || o === 'average' || o === 'median' || i.xAxis != null || i.yAxis != null) { var s = void 0; var l = void 0; if (i.yAxis != null || i.xAxis != null)s = e.getAxis(i.yAxis != null ? 'y' : 'x'), l = Object(f.retrieve)(i.yAxis, i.xAxis); else { var u = UO(i, a, e, t); s = u.valueAxis; var c = Mt(a, u.valueDataDim); l = $O(a, c, o) } var h = s.dim === 'x' ? 0 : 1; var d = 1 - h; var p = Object(f.clone)(i); var g = { coord: [] }; p.type = null, p.coord = [], p.coord[d] = -1 / 0, g.coord[d] = 1 / 0; var y = n.get('precision'); y >= 0 && typeof l === 'number' && (l = +l.toFixed(Math.min(y, 20))), p.coord[h] = g.coord[h] = l, r = [p, g, { type: o, valueIndex: i.valueIndex, value: l }] } else r = [] } var v = [YO(t, r[0]), YO(t, r[1]), Object(f.extend)({}, r[2])]; return v[2].type = v[2].type || null, Object(f.merge)(v[2], v[0]), Object(f.merge)(v[2], v[1]), v }; function sS (t) { return !isNaN(t) && !isFinite(t) } function lS (t, e, n, i) { var r = 1 - t; var a = i.dimensions[t]; return sS(e[r]) && sS(n[r]) && e[t] === n[t] && i.getAxis(a).containData(e[t]) } function uS (t, e) { if (t.type === 'cartesian2d') { var n = e[0].coord; var i = e[1].coord; if (n && i && (lS(1, n, i, t) || lS(0, n, i, t))) return !0 } return qO(t, e[0]) && qO(t, e[1]) } function cS (t, e, n, i, r) { var a; var o = i.coordinateSystem; var s = t.getItemModel(e); var l = v.parsePercent(s.get('x'), r.getWidth()); var u = v.parsePercent(s.get('y'), r.getHeight()); if (isNaN(l) || isNaN(u)) { if (i.getMarkerPosition)a = i.getMarkerPosition(t.getValues(t.dimensions, e)); else { var c = o.dimensions; var h = t.get(c[0], e); var d = t.get(c[1], e); a = o.dataToPoint([h, d]) } if (Wi(o, 'cartesian2d')) { var p = o.getAxis('x'); var f = o.getAxis('y'); c = o.dimensions; sS(t.get(c[0], e)) ? a[0] = p.toGlobalCoord(p.getExtent()[n ? 0 : 1]) : sS(t.get(c[1], e)) && (a[1] = f.toGlobalCoord(f.getExtent()[n ? 0 : 1])) }isNaN(l) || (a[0] = l), isNaN(u) || (a[1] = u) } else a = [l, u]; t.setItemLayout(e, a) } var hS = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.updateTransform = function (t, e, n) { e.eachSeries(function (t) { var e = VO.getMarkerModelFromSeries(t, 'markLine'); if (e) { var i = e.getData(); var r = aS(e).from; var a = aS(e).to; r.each(function (e) { cS(r, e, !0, t, n), cS(a, e, !1, t, n) }), i.each(function (t) { i.setItemLayout(t, [r.getItemLayout(t), a.getItemLayout(t)]) }), this.markerGroupMap.get(t.id).updateLayout() } }, this) }, e.prototype.renderSeries = function (t, e, n, i) { var r = t.coordinateSystem; var a = t.id; var o = t.getData(); var s = this.markerGroupMap; var l = s.get(a) || s.set(a, new dh()); this.group.add(l.group); var u = dS(r, t, e); var c = u.from; var h = u.to; var d = u.line; aS(e).from = c, aS(e).to = h, e.setData(d); var p = e.get('symbol'); var g = e.get('symbolSize'); function y (e, n, r) { var a = e.getItemModel(n); cS(e, n, r, t, i); var s = a.getModel('itemStyle').getItemStyle(); s.fill == null && (s.fill = Object(Gw.b)(o, 'color')), e.setItemVisual(n, { symbolRotate: a.get('symbolRotate'), symbolSize: a.get('symbolSize') || g[r ? 0 : 1], symbol: a.get('symbol', !0) || p[r ? 0 : 1], style: s }) }Object(f.isArray)(p) || (p = [p, p]), Object(f.isArray)(g) || (g = [g, g]), u.from.each(function (t) { y(c, t, !0), y(h, t, !1) }), d.each(function (t) { var e = d.getItemModel(t).getModel('lineStyle').getLineStyle(); d.setItemLayout(t, [c.getItemLayout(t), h.getItemLayout(t)]), e.stroke == null && (e.stroke = c.getItemVisual(t, 'style').fill), d.setItemVisual(t, { fromSymbolRotate: c.getItemVisual(t, 'symbolRotate'), fromSymbolSize: c.getItemVisual(t, 'symbolSize'), fromSymbol: c.getItemVisual(t, 'symbol'), toSymbolRotate: h.getItemVisual(t, 'symbolRotate'), toSymbolSize: h.getItemVisual(t, 'symbolSize'), toSymbol: h.getItemVisual(t, 'symbol'), style: e }) }), l.updateData(d), u.line.eachItemGraphicEl(function (t, n) { t.traverse(function (t) { Object(q.a)(t).dataModel = e }) }), this.markKeep(l), l.group.silent = e.get('silent') || t.get('silent') }, e.type = 'markLine', e }(tS)); function dS (t, e, n) { var i; i = t ? Object(f.map)(t && t.dimensions, function (t) { var n = e.getData().getDimensionInfo(e.getData().mapDimension(t)) || {}; return Object(f.defaults)({ name: t }, n) }) : [{ name: 'value', type: 'float' }]; var r = new ht(i, n); var a = new ht(i, n); var o = new ht([], n); var s = Object(f.map)(n.get('data'), Object(f.curry)(oS, e, t, n)); t && (s = Object(f.filter)(s, Object(f.curry)(uS, t))); var l = t ? KO : function (t) { return t.value }; return r.initData(Object(f.map)(s, function (t) { return t[0] }), null, l), a.initData(Object(f.map)(s, function (t) { return t[1] }), null, l), o.initData(Object(f.map)(s, function (t) { return t[2] })), o.hasItemOption = !0, { from: r, to: a, line: o } }Ur.a.registerClass(hS), c.f(function (t) { t.markLine = t.markLine || {} }); var pS = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.createMarkerModelFromSeries = function (t, n, i) { return new e(t, n, i) }, e.type = 'markArea', e.defaultOption = { zlevel: 0, z: 1, tooltip: { trigger: 'item' }, animation: !1, label: { show: !0, position: 'top' }, itemStyle: { borderWidth: 0 }, emphasis: { label: { show: !0, position: 'top' } } }, e }(VO)); hr.a.registerClass(pS); var fS = Object(Z.o)(); var gS = function (t, e, n, i) { var r = YO(t, i[0]); var a = YO(t, i[1]); var o = r.coord; var s = a.coord; o[0] = Object(f.retrieve)(o[0], -1 / 0), o[1] = Object(f.retrieve)(o[1], -1 / 0), s[0] = Object(f.retrieve)(s[0], 1 / 0), s[1] = Object(f.retrieve)(s[1], 1 / 0); var l = Object(f.mergeAll)([{}, r, a]); return l.coord = [r.coord, a.coord], l.x0 = r.x, l.y0 = r.y, l.x1 = a.x, l.y1 = a.y, l }; function yS (t) { return !isNaN(t) && !isFinite(t) } function vS (t, e, n, i) { var r = 1 - t; return yS(e[r]) && yS(n[r]) } function mS (t, e) { var n = e.coord[0]; var i = e.coord[1]; return !!(Wi(t, 'cartesian2d') && n && i && (vS(1, n, i, t) || vS(0, n, i, t))) || (qO(t, { coord: n, x: e.x0, y: e.y0 }) || qO(t, { coord: i, x: e.x1, y: e.y1 })) } function bS (t, e, n, i, r) { var a; var o = i.coordinateSystem; var s = t.getItemModel(e); var l = v.parsePercent(s.get(n[0]), r.getWidth()); var u = v.parsePercent(s.get(n[1]), r.getHeight()); if (isNaN(l) || isNaN(u)) { if (i.getMarkerPosition)a = i.getMarkerPosition(t.getValues(n, e)); else { var c = t.get(n[0], e); var h = t.get(n[1], e); var d = [c, h]; o.clampData && o.clampData(d, d), a = o.dataToPoint(d, !0) } if (Wi(o, 'cartesian2d')) { var p = o.getAxis('x'); var f = o.getAxis('y'); c = t.get(n[0], e), h = t.get(n[1], e); yS(c) ? a[0] = p.toGlobalCoord(p.getExtent()[n[0] === 'x0' ? 0 : 1]) : yS(h) && (a[1] = f.toGlobalCoord(f.getExtent()[n[1] === 'y0' ? 0 : 1])) }isNaN(l) || (a[0] = l), isNaN(u) || (a[1] = u) } else a = [l, u]; return a } var xS = [['x0', 'y0'], ['x1', 'y0'], ['x1', 'y1'], ['x0', 'y1']]; var _S = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.updateTransform = function (t, e, n) { e.eachSeries(function (t) { var e = VO.getMarkerModelFromSeries(t, 'markArea'); if (e) { var i = e.getData(); i.each(function (e) { var r = Object(f.map)(xS, function (r) { return bS(i, e, r, t, n) }); i.setItemLayout(e, r); var a = i.getItemGraphicEl(e); a.setShape('points', r) }) } }, this) }, e.prototype.renderSeries = function (t, e, n, i) { var r = t.coordinateSystem; var a = t.id; var o = t.getData(); var s = this.markerGroupMap; var l = s.get(a) || s.set(a, { group: new y.Group() }); this.group.add(l.group), this.markKeep(l); var u = wS(r, t, e); e.setData(u), u.each(function (e) { var n = Object(f.map)(xS, function (n) { return bS(u, e, n, t, i) }); var a = !0; Object(f.each)(xS, function (t) { if (a) { var n = u.get(t[0], e); var i = u.get(t[1], e); (yS(n) || r.getAxis('x').containData(n)) && (yS(i) || r.getAxis('y').containData(i)) && (a = !1) } }), u.setItemLayout(e, { points: n, allClipped: a }); var s = u.getItemModel(e).getModel('itemStyle').getItemStyle(); var l = Object(Gw.b)(o, 'color'); s.fill || (s.fill = l, typeof s.fill === 'string' && (s.fill = g.d(s.fill, 0.4))), s.stroke || (s.stroke = l), u.setItemVisual(e, 'style', s) }), u.diff(fS(l).data).add(function (t) { var e = u.getItemLayout(t); if (!e.allClipped) { var n = new y.Polygon({ shape: { points: e.points } }); u.setItemGraphicEl(t, n), l.group.add(n) } }).update(function (t, n) { var i = fS(l).data.getItemGraphicEl(n); var r = u.getItemLayout(t); r.allClipped ? i && l.group.remove(i) : (i ? y.updateProps(i, { shape: { points: r.points } }, e, t) : i = new y.Polygon({ shape: { points: r.points } }), u.setItemGraphicEl(t, i), l.group.add(i)) }).remove(function (t) { var e = fS(l).data.getItemGraphicEl(t); l.group.remove(e) }).execute(), u.eachItemGraphicEl(function (t, n) { var i = u.getItemModel(n); var r = u.getItemVisual(n, 'style'); t.useStyle(u.getItemVisual(n, 'style')), Object(hi.g)(t, Object(hi.e)(i), { labelFetcher: e, labelDataIndex: n, defaultText: u.getName(n) || '', inheritColor: typeof r.fill === 'string' ? g.d(r.fill, 1) : '#000' }), Object(li.D)(t, i), Object(li.k)(t), Object(q.a)(t).dataModel = e }), fS(l).data = u, l.group.silent = e.get('silent') || t.get('silent') }, e.type = 'markArea', e }(tS)); function wS (t, e, n) { var i; var r; var a = ['x0', 'y0', 'x1', 'y1']; t ? (i = Object(f.map)(t && t.dimensions, function (t) { var n = e.getData(); var i = n.getDimensionInfo(n.mapDimension(t)) || {}; return Object(f.defaults)({ name: t }, i) }), r = new ht(Object(f.map)(a, function (t, e) { return { name: t, type: i[e % 2].type } }), n)) : (i = [{ name: 'value', type: 'float' }], r = new ht(i, n)); var o = Object(f.map)(n.get('data'), Object(f.curry)(gS, e, t, n)); t && (o = Object(f.filter)(o, Object(f.curry)(mS, t))); var s = t ? function (t, e, n, i) { return t.coord[Math.floor(i / 2)][i % 2] } : function (t) { return t.value }; return r.initData(o, null, s), r.hasItemOption = !0, r }Ur.a.registerClass(_S), c.f(function (t) { t.markArea = t.markArea || {} }); var OS = function (t, e) { return e === 'all' ? { type: 'all', title: t.getLocale(['legend', 'selector', 'all']) } : e === 'inverse' ? { type: 'inverse', title: t.getLocale(['legend', 'selector', 'inverse']) } : void 0 }; var SS = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.layoutMode = { type: 'box', ignoreSize: !0 }, n } return Object(Ct.b)(e, t), e.prototype.init = function (t, e, n) { this.mergeDefaultAndTheme(t, n), t.selected = t.selected || {}, this._updateSelector(t) }, e.prototype.mergeOption = function (e, n) { t.prototype.mergeOption.call(this, e, n), this._updateSelector(e) }, e.prototype._updateSelector = function (t) { var e = t.selector; var n = this.ecModel; !0 === e && (e = t.selector = ['all', 'inverse']), f.isArray(e) && f.each(e, function (t, i) { f.isString(t) && (t = { type: t }), e[i] = f.merge(t, OS(n, t.type)) }) }, e.prototype.optionUpdated = function () { this._updateData(this.ecModel); var t = this._data; if (t[0] && this.get('selectedMode') === 'single') { for (var e = !1, n = 0; n < t.length; n++) { var i = t[n].get('name'); if (this.isSelected(i)) { this.select(i), e = !0; break } }!e && this.select(t[0].get('name')) } }, e.prototype._updateData = function (t) { var e = []; var n = []; t.eachRawSeries(function (i) { var r; var a = i.name; if (n.push(a), i.legendVisualProvider) { var o = i.legendVisualProvider; var s = o.getAllNames(); t.isSeriesFiltered(i) || (n = n.concat(s)), s.length ? e = e.concat(s) : r = !0 } else r = !0; r && Object(Z.n)(i) && e.push(i.name) }), this._availableNames = n; var i = this.get('data') || e; var r = f.map(i, function (t) { return typeof t !== 'string' && typeof t !== 'number' || (t = { name: t }), new _.a(t, this, this.ecModel) }, this); this._data = r }, e.prototype.getData = function () { return this._data }, e.prototype.select = function (t) { var e = this.option.selected; var n = this.get('selectedMode'); if (n === 'single') { var i = this._data; f.each(i, function (t) { e[t.get('name')] = !1 }) }e[t] = !0 }, e.prototype.unSelect = function (t) { this.get('selectedMode') !== 'single' && (this.option.selected[t] = !1) }, e.prototype.toggleSelected = function (t) { var e = this.option.selected; e.hasOwnProperty(t) || (e[t] = !0), this[e[t] ? 'unSelect' : 'select'](t) }, e.prototype.allSelect = function () { var t = this._data; var e = this.option.selected; f.each(t, function (t) { e[t.get('name', !0)] = !0 }) }, e.prototype.inverseSelect = function () { var t = this._data; var e = this.option.selected; f.each(t, function (t) { var n = t.get('name', !0); e.hasOwnProperty(n) || (e[n] = !0), e[n] = !e[n] }) }, e.prototype.isSelected = function (t) { var e = this.option.selected; return !(e.hasOwnProperty(t) && !e[t]) && f.indexOf(this._availableNames, t) >= 0 }, e.prototype.getOrient = function () { return this.get('orient') === 'vertical' ? { index: 1, name: 'vertical' } : { index: 0, name: 'horizontal' } }, e.type = 'legend.plain', e.dependencies = ['series'], e.defaultOption = { zlevel: 0, z: 4, show: !0, orient: 'horizontal', left: 'center', top: 0, align: 'auto', backgroundColor: 'rgba(0,0,0,0)', borderColor: '#ccc', borderRadius: 0, borderWidth: 0, padding: 5, itemGap: 10, itemWidth: 25, itemHeight: 14, inactiveColor: '#ccc', inactiveBorderColor: '#ccc', itemStyle: { borderWidth: 0 }, textStyle: { color: '#333' }, selectedMode: !0, selector: !1, selectorLabel: { show: !0, borderRadius: 10, padding: [3, 5, 3, 5], fontSize: 12, fontFamily: ' sans-serif', color: '#666', borderWidth: 1, borderColor: '#666' }, emphasis: { selectorLabel: { show: !0, color: '#eee', backgroundColor: '#666' } }, selectorPosition: 'auto', selectorItemGap: 7, selectorButtonGap: 10, tooltip: { show: !1 } }, e }(hr.a)); hr.a.registerClass(SS); var MS = SS; function IS (t, e, n) { var i; var r = {}; var a = t === 'toggleSelected'; return n.eachComponent('legend', function (n) { a && i != null ? n[i ? 'select' : 'unSelect'](e.name) : t === 'allSelect' || t === 'inverseSelect' ? n[t]() : (n[t](e.name), i = n.isSelected(e.name)); var o = n.getData(); f.each(o, function (t) { var e = t.get('name'); if (e !== '\n' && e !== '') { var i = n.isSelected(e); r.hasOwnProperty(e) ? r[e] = r[e] && i : r[e] = i } }) }), t === 'allSelect' || t === 'inverseSelect' ? { selected: r } : { name: e.name, selected: r } }c.c('legendToggleSelect', 'legendselectchanged', f.curry(IS, 'toggleSelected')), c.c('legendAllSelect', 'legendselectall', f.curry(IS, 'allSelect')), c.c('legendInverseSelect', 'legendinverseselect', f.curry(IS, 'inverseSelect')), c.c('legendSelect', 'legendselected', f.curry(IS, 'select')), c.c('legendUnSelect', 'legendunselected', f.curry(IS, 'unSelect')); var TS = f.curry; var jS = f.each; var AS = y.Group; var CS = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.newlineDisabled = !1, n } return Object(Ct.b)(e, t), e.prototype.init = function () { this.group.add(this._contentGroup = new AS()), this.group.add(this._selectorGroup = new AS()), this._isFirstRender = !0 }, e.prototype.getContentGroup = function () { return this._contentGroup }, e.prototype.getSelectorGroup = function () { return this._selectorGroup }, e.prototype.render = function (t, e, n) { var i = this._isFirstRender; if (this._isFirstRender = !1, this.resetInner(), t.get('show', !0)) { var r = t.get('align'); var a = t.get('orient'); r && r !== 'auto' || (r = t.get('left') === 'right' && a === 'vertical' ? 'right' : 'left'); var o = t.get('selector', !0); var s = t.get('selectorPosition', !0); !o || s && s !== 'auto' || (s = a === 'horizontal' ? 'end' : 'start'), this.renderInner(r, t, e, n, o, a, s); var l = t.getBoxLayoutParams(); var u = { width: n.getWidth(), height: n.getHeight() }; var c = t.get('padding'); var h = on.g(l, u, c); var d = this.layoutInner(t, r, h, i, o, s); var p = on.g(f.defaults({ width: d.width, height: d.height }, l), u, c); this.group.x = p.x - d.x, this.group.y = p.y - d.y, this.group.markRedraw(), this.group.add(this._backgroundEl = Hx(d, t)) } }, e.prototype.resetInner = function () { this.getContentGroup().removeAll(), this._backgroundEl && this.group.remove(this._backgroundEl), this.getSelectorGroup().removeAll() }, e.prototype.renderInner = function (t, e, n, i, r, a, o) { var s = this.getContentGroup(); var l = f.createHashMap(); var u = e.get('selectedMode'); var c = []; n.eachRawSeries(function (t) { !t.get('legendHoverLink') && c.push(t.id) }), jS(e.getData(), function (r, a) { var o = r.get('name'); if (!this.newlineDisabled && (o === '' || o === '\n')) { var h = new AS(); return h.newline = !0, void s.add(h) } var d = n.getSeriesByName(o)[0]; if (!l.get(o)) { if (d) { var p = d.getData(); var f = p.getVisual('style'); var y = f[p.getVisual('drawType')] || f.fill; var v = f.stroke; var m = f.decal; var b = p.getVisual('legendSymbol') || 'roundRect'; var x = p.getVisual('symbol'); var _ = this._createItem(o, a, r, e, b, x, t, y, v, m, u); _.on('click', TS(kS, o, null, i, c)).on('mouseover', TS(PS, d.name, null, i, c)).on('mouseout', TS(RS, d.name, null, i, c)), l.set(o, !0) } else n.eachRawSeries(function (n) { if (!l.get(o) && n.legendVisualProvider) { var s = n.legendVisualProvider; if (!s.containName(o)) return; var h = s.indexOfName(o); var d = s.getItemVisual(h, 'style'); var p = d.stroke; var f = d.decal; var y = d.fill; var v = Object(g.f)(d.fill); v && v[3] === 0 && (v[3] = 0.2, y = Object(g.g)(v, 'rgba')); var m = 'roundRect'; var b = this._createItem(o, a, r, e, m, null, t, y, p, f, u); b.on('click', TS(kS, null, o, i, c)).on('mouseover', TS(PS, null, o, i, c)).on('mouseout', TS(RS, null, o, i, c)), l.set(o, !0) } }, this); 0 } }, this), r && this._createSelector(r, e, i, a, o) }, e.prototype._createSelector = function (t, e, n, i, r) { var a = this.getSelectorGroup(); jS(t, function (t) { var i = t.type; var r = new y.Text({ style: { x: 0, y: 0, align: 'center', verticalAlign: 'middle' }, onclick: function () { n.dispatchAction({ type: i === 'all' ? 'legendAllSelect' : 'legendInverseSelect' }) } }); a.add(r); var o = e.getModel('selectorLabel'); var s = e.getModel(['emphasis', 'selectorLabel']); Object(hi.g)(r, { normal: o, emphasis: s }, { defaultText: t.title }), Object(li.k)(r) }) }, e.prototype._createItem = function (t, e, n, i, r, a, o, s, l, u, c) { var h = i.get('itemWidth'); var d = i.get('itemHeight'); var p = i.get('inactiveColor'); var g = i.get('inactiveBorderColor'); var v = i.get('symbolKeepAspect'); var m = i.getModel('itemStyle'); var b = i.isSelected(t); var x = new AS(); var _ = n.getModel('textStyle'); var w = n.get('icon'); var O = n.getModel('tooltip'); var S = O.parentModel; r = w || r; var M = Object(sn.a)(r, 0, 0, h, d, b ? s : p, v == null || v); if (x.add(DS(M, r, m, l, g, u, b)), !w && a && (a !== r || a === 'none')) { var I = 0.8 * d; a === 'none' && (a = 'circle'); var T = Object(sn.a)(a, (h - I) / 2, (d - I) / 2, I, I, b ? s : p, v == null || v); x.add(DS(T, a, m, l, g, u, b)) } var j = o === 'left' ? h + 5 : -5; var A = o; var C = i.get('formatter'); var D = t; typeof C === 'string' && C ? D = C.replace('{name}', t != null ? t : '') : typeof C === 'function' && (D = C(t)), x.add(new y.Text({ style: Object(hi.c)(_, { text: D, x: j, y: d / 2, fill: b ? _.getTextColor() : p, align: A, verticalAlign: 'middle' }) })); var k = new y.Rect({ shape: x.getBoundingRect(), invisible: !0 }); if (O.get('show')) { var L = { componentType: 'legend', legendIndex: i.componentIndex, name: t, $vars: ['name'] }; k.tooltip = f.extend({ content: t, formatter: S.get('formatter', !0) || function (t) { return t.name }, formatterParams: L }, O.option) } return x.add(k), x.eachChild(function (t) { t.silent = !0 }), k.silent = !c, this.getContentGroup().add(x), Object(li.k)(x), x.__legendDataIndex = e, x }, e.prototype.layoutInner = function (t, e, n, i, r, a) { var o = this.getContentGroup(); var s = this.getSelectorGroup(); on.b(t.get('orient'), o, t.get('itemGap'), n.width, n.height); var l = o.getBoundingRect(); var u = [-l.x, -l.y]; if (s.markRedraw(), o.markRedraw(), r) { on.b('horizontal', s, t.get('selectorItemGap', !0)); var c = s.getBoundingRect(); var h = [-c.x, -c.y]; var d = t.get('selectorButtonGap', !0); var p = t.getOrient().index; var f = p === 0 ? 'width' : 'height'; var g = p === 0 ? 'height' : 'width'; var y = p === 0 ? 'y' : 'x'; a === 'end' ? h[p] += l[f] + d : u[p] += c[f] + d, h[1 - p] += l[g] / 2 - c[g] / 2, s.x = h[0], s.y = h[1], o.x = u[0], o.y = u[1]; var v = { x: 0, y: 0 }; return v[f] = l[f] + d + c[f], v[g] = Math.max(l[g], c[g]), v[y] = Math.min(0, c[y] + h[1 - p]), v } return o.x = u[0], o.y = u[1], this.group.getBoundingRect() }, e.prototype.remove = function () { this.getContentGroup().removeAll(), this._isFirstRender = !0 }, e.type = 'legend.plain', e }(Ur.a)); function DS (t, e, n, i, r, a, o) { var s; return e !== 'line' && e.indexOf('empty') < 0 ? (s = n.getItemStyle(), t.style.stroke = i, t.style.decal = a, o || (s.stroke = r)) : s = n.getItemStyle(['borderWidth', 'borderColor']), t.setStyle(s), t } function kS (t, e, n, i) { RS(t, e, n, i), n.dispatchAction({ type: 'legendToggleSelect', name: t != null ? t : e }), PS(t, e, n, i) } function LS (t) { var e; var n = t.getZr().storage.getDisplayList(); var i = 0; var r = n.length; while (i < r && !(e = n[i].states.emphasis))i++; return e && e.hoverLayer } function PS (t, e, n, i) { LS(n) || n.dispatchAction({ type: 'highlight', seriesName: t, name: e, excludeSeriesId: i }) } function RS (t, e, n, i) { LS(n) || n.dispatchAction({ type: 'downplay', seriesName: t, name: e, excludeSeriesId: i }) }Ur.a.registerClass(CS); var NS = CS; function ES (t) { var e = t.findComponents({ mainType: 'legend' }); e && e.length && t.filterSeries(function (t) { for (var n = 0; n < e.length; n++) if (!e[n].isSelected(t.name)) return !1; return !0 }) }c.g(c.a.PROCESSOR.SERIES_FILTER, ES), hr.a.registerSubTypeDefaulter('legend', function () { return 'plain' }); var zS = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.setScrollDataIndex = function (t) { this.option.scrollDataIndex = t }, e.prototype.init = function (e, n, i) { var r = Object(on.f)(e); t.prototype.init.call(this, e, n, i), BS(this, e, r) }, e.prototype.mergeOption = function (e, n) { t.prototype.mergeOption.call(this, e, n), BS(this, this.option, e) }, e.type = 'legend.scroll', e.defaultOption = Object(La.d)(MS.defaultOption, { scrollDataIndex: 0, pageButtonItemGap: 5, pageButtonGap: null, pageButtonPosition: 'end', pageFormatter: '{current}/{total}', pageIcons: { horizontal: ['M0,0L12,-10L12,10z', 'M0,0L-12,-10L-12,10z'], vertical: ['M0,0L20,0L10,-20z', 'M0,0L20,0L10,20z'] }, pageIconColor: '#2f4554', pageIconInactiveColor: '#aaa', pageIconSize: 15, pageTextStyle: { color: '#333' }, animationDurationUpdate: 800 }), e }(MS)); function BS (t, e, n) { var i = t.getOrient(); var r = [1, 1]; r[i.index] = 0, Object(on.h)(e, n, { type: 'box', ignoreSize: !!r }) }hr.a.registerClass(zS); var VS = y.Group; var FS = ['width', 'height']; var GS = ['x', 'y']; var HS = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.newlineDisabled = !0, n._currentIndex = 0, n } return Object(Ct.b)(e, t), e.prototype.init = function () { t.prototype.init.call(this), this.group.add(this._containerGroup = new VS()), this._containerGroup.add(this.getContentGroup()), this.group.add(this._controllerGroup = new VS()) }, e.prototype.resetInner = function () { t.prototype.resetInner.call(this), this._controllerGroup.removeAll(), this._containerGroup.removeClipPath(), this._containerGroup.__rectSize = null }, e.prototype.renderInner = function (e, n, i, r, a, o, s) { var l = this; t.prototype.renderInner.call(this, e, n, i, r, a, o, s); var u = this._controllerGroup; var c = n.get('pageIconSize', !0); var h = f.isArray(c) ? c : [c, c]; p('pagePrev', 0); var d = n.getModel('pageTextStyle'); function p (t, e) { var i = t + 'DataIndex'; var a = y.createIcon(n.get('pageIcons', !0)[n.getOrient().name][e], { onclick: f.bind(l._pageGo, l, i, n, r) }, { x: -h[0] / 2, y: -h[1] / 2, width: h[0], height: h[1] }); a.name = t, u.add(a) }u.add(new y.Text({ name: 'pageText', style: { text: 'xx/xx', fill: d.getTextColor(), font: d.getFont(), verticalAlign: 'middle', align: 'center' }, silent: !0 })), p('pageNext', 1) }, e.prototype.layoutInner = function (t, e, n, i, r, a) { var o = this.getSelectorGroup(); var s = t.getOrient().index; var l = FS[s]; var u = GS[s]; var c = FS[1 - s]; var h = GS[1 - s]; r && on.b('horizontal', o, t.get('selectorItemGap', !0)); var d = t.get('selectorButtonGap', !0); var p = o.getBoundingRect(); var g = [-p.x, -p.y]; var y = f.clone(n); r && (y[l] = n[l] - p[l] - d); var v = this._layoutContentAndController(t, i, y, s, l, c, h, u); if (r) { if (a === 'end')g[s] += v[l] + d; else { var m = p[l] + d; g[s] -= m, v[u] -= m }v[l] += p[l] + d, g[1 - s] += v[h] + v[c] / 2 - p[c] / 2, v[c] = Math.max(v[c], p[c]), v[h] = Math.min(v[h], p[h] + g[1 - s]), o.x = g[0], o.y = g[1], o.markRedraw() } return v }, e.prototype._layoutContentAndController = function (t, e, n, i, r, a, o, s) { var l = this.getContentGroup(); var u = this._containerGroup; var c = this._controllerGroup; on.b(t.get('orient'), l, t.get('itemGap'), i ? n.width : null, i ? null : n.height), on.b('horizontal', c, t.get('pageButtonItemGap', !0)); var h = l.getBoundingRect(); var d = c.getBoundingRect(); var p = this._showController = h[r] > n[r]; var g = [-h.x, -h.y]; e || (g[i] = l[s]); var v = [0, 0]; var m = [-d.x, -d.y]; var b = f.retrieve2(t.get('pageButtonGap', !0), t.get('itemGap', !0)); if (p) { var x = t.get('pageButtonPosition', !0); x === 'end' ? m[i] += n[r] - d[r] : v[i] += d[r] + b }m[1 - i] += h[a] / 2 - d[a] / 2, l.setPosition(g), u.setPosition(v), c.setPosition(m); var _ = { x: 0, y: 0 }; if (_[r] = p ? n[r] : h[r], _[a] = Math.max(h[a], d[a]), _[o] = Math.min(0, d[o] + m[1 - i]), u.__rectSize = n[r], p) { var w = { x: 0, y: 0 }; w[r] = Math.max(n[r] - d[r] - b, 0), w[a] = _[a], u.setClipPath(new y.Rect({ shape: w })), u.__rectSize = w[r] } else c.eachChild(function (t) { t.attr({ invisible: !0, silent: !0 }) }); var O = this._getPageInfo(t); return O.pageIndex != null && y.updateProps(l, { x: O.contentPosition[0], y: O.contentPosition[1] }, p ? t : null), this._updatePageInfoView(t, O), _ }, e.prototype._pageGo = function (t, e, n) { var i = this._getPageInfo(e)[t]; i != null && n.dispatchAction({ type: 'legendScroll', scrollDataIndex: i, legendId: e.id }) }, e.prototype._updatePageInfoView = function (t, e) { var n = this._controllerGroup; f.each(['pagePrev', 'pageNext'], function (i) { var r = i + 'DataIndex'; var a = e[r] != null; var o = n.childOfName(i); o && (o.setStyle('fill', a ? t.get('pageIconColor', !0) : t.get('pageIconInactiveColor', !0)), o.cursor = a ? 'pointer' : 'default') }); var i = n.childOfName('pageText'); var r = t.get('pageFormatter'); var a = e.pageIndex; var o = a != null ? a + 1 : 0; var s = e.pageCount; i && r && i.setStyle('text', f.isString(r) ? r.replace('{current}', o == null ? '' : o + '').replace('{total}', s == null ? '' : s + '') : r({ current: o, total: s })) }, e.prototype._getPageInfo = function (t) { var e = t.get('scrollDataIndex', !0); var n = this.getContentGroup(); var i = this._containerGroup.__rectSize; var r = t.getOrient().index; var a = FS[r]; var o = GS[r]; var s = this._findTargetItemIndex(e); var l = n.children(); var u = l[s]; var c = l.length; var h = c ? 1 : 0; var d = { contentPosition: [n.x, n.y], pageCount: h, pageIndex: h - 1, pagePrevDataIndex: null, pageNextDataIndex: null }; if (!u) return d; var p = m(u); d.contentPosition[r] = -p.s; for (var f = s + 1, g = p, y = p, v = null; f <= c; ++f)v = m(l[f]), (!v && y.e > g.s + i || v && !b(v, g.s)) && (g = y.i > g.i ? y : v, g && (d.pageNextDataIndex == null && (d.pageNextDataIndex = g.i), ++d.pageCount)), y = v; for (f = s - 1, g = p, y = p, v = null; f >= -1; --f)v = m(l[f]), v && b(y, v.s) || !(g.i < y.i) || (y = g, d.pagePrevDataIndex == null && (d.pagePrevDataIndex = g.i), ++d.pageCount, ++d.pageIndex), g = v; return d; function m (t) { if (t) { var e = t.getBoundingRect(); var n = e[o] + t[o]; return { s: n, e: n + e[a], i: t.__legendDataIndex } } } function b (t, e) { return t.e >= e && t.s <= e + i } }, e.prototype._findTargetItemIndex = function (t) { if (!this._showController) return 0; var e; var n; var i = this.getContentGroup(); return i.eachChild(function (i, r) { var a = i.__legendDataIndex; n == null && a != null && (n = r), a === t && (e = r) }), e != null ? e : n }, e.type = 'legend.scroll', e }(NS)); Ur.a.registerClass(HS); c.c('legendScroll', 'legendscroll', function (t, e) { var n = t.scrollDataIndex; n != null && e.eachComponent({ mainType: 'legend', subType: 'scroll', query: t }, function (t) { t.setScrollDataIndex(n) }) }); var WS = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.type = 'dataZoom.slider', e.layoutMode = 'box', e.defaultOption = Object(La.d)(H_.defaultOption, { show: !0, right: 'ph', top: 'ph', width: 'ph', height: 'ph', left: null, bottom: null, borderColor: '#d2dbee', borderRadius: 3, backgroundColor: 'rgba(47,69,84,0)', dataBackground: { lineStyle: { color: '#d2dbee', width: 0.5 }, areaStyle: { color: '#d2dbee', opacity: 0.2 } }, selectedDataBackground: { lineStyle: { color: '#8fb0f7', width: 0.5 }, areaStyle: { color: '#8fb0f7', opacity: 0.2 } }, fillerColor: 'rgba(135,175,274,0.2)', handleIcon: 'path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z', handleSize: '100%', handleStyle: { color: '#fff', borderColor: '#ACB8D1' }, moveHandleSize: 7, moveHandleIcon: 'path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z', moveHandleStyle: { color: '#D2DBEE', opacity: 0.7 }, showDetail: !0, showDataShadow: 'auto', realtime: !0, zoomLock: !1, textStyle: { color: '#6E7079' }, brushSelect: !0, brushStyle: { color: 'rgba(135,175,274,0.15)' }, emphasis: { handleStyle: { borderColor: '#8FB0F7' }, moveHandleStyle: { color: '#8FB0F7' } } }), e }(H_)); hr.a.registerClass(WS); var XS = y.Rect; var YS = 7; var US = 1; var ZS = 30; var qS = 7; var KS = 'horizontal'; var $S = 'vertical'; var QS = 5; var JS = ['line', 'bar', 'candlestick', 'scatter']; var tM = { easing: 'cubicOut', duration: 100 }; var eM = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n._displayables = {}, n } return Object(Ct.b)(e, t), e.prototype.init = function (t, e) { this.api = e, this._onBrush = Object(f.bind)(this._onBrush, this), this._onBrushEnd = Object(f.bind)(this._onBrushEnd, this) }, e.prototype.render = function (e, n, i, r) { if (t.prototype.render.apply(this, arguments), x.b(this, '_dispatchZoomAction', e.get('throttle'), 'fixRate'), this._orient = e.getOrient(), !1 !== e.get('show')) { if (e.noTarget()) return this._clear(), void this.group.removeAll(); r && r.type === 'dataZoom' && r.from === this.uid || this._buildView(), this._updateView() } else this.group.removeAll() }, e.prototype.dispose = function () { this._clear(), t.prototype.dispose.apply(this, arguments) }, e.prototype._clear = function () { x.a(this, '_dispatchZoomAction'); var t = this.api.getZr(); t.off('mousemove', this._onBrush), t.off('mouseup', this._onBrushEnd) }, e.prototype._buildView = function () { var t = this.group; t.removeAll(), this._brushing = !1, this._displayables.brushRect = null, this._resetLocation(), this._resetInterval(); var e = this._displayables.sliderGroup = new y.Group(); this._renderBackground(), this._renderHandle(), this._renderDataShadow(), t.add(e), this._positionGroup() }, e.prototype._resetLocation = function () { var t = this.dataZoomModel; var e = this.api; var n = t.get('brushSelect'); var i = n ? qS : 0; var r = this._findCoordRect(); var a = { width: e.getWidth(), height: e.getHeight() }; var o = this._orient === KS ? { right: a.width - r.x - r.width, top: a.height - ZS - YS - i, width: r.width, height: ZS } : { right: YS, top: r.y, width: ZS, height: r.height }; var s = on.f(t.option); Object(f.each)(['right', 'top', 'width', 'height'], function (t) { s[t] === 'ph' && (s[t] = o[t]) }); var l = on.g(s, a); this._location = { x: l.x, y: l.y }, this._size = [l.width, l.height], this._orient === $S && this._size.reverse() }, e.prototype._positionGroup = function () { var t = this.group; var e = this._location; var n = this._orient; var i = this.dataZoomModel.getFirstTargetAxisModel(); var r = i && i.get('inverse'); var a = this._displayables.sliderGroup; var o = (this._dataShadowInfo || {}).otherAxisInverse; a.attr(n !== KS || r ? n === KS && r ? { scaleY: o ? 1 : -1, scaleX: -1 } : n !== $S || r ? { scaleY: o ? -1 : 1, scaleX: -1, rotation: Math.PI / 2 } : { scaleY: o ? -1 : 1, scaleX: 1, rotation: Math.PI / 2 } : { scaleY: o ? 1 : -1, scaleX: 1 }); var s = t.getBoundingRect([a]); t.x = e.x - s.x, t.y = e.y - s.y, t.markRedraw() }, e.prototype._getViewExtent = function () { return [0, this._size[0]] }, e.prototype._renderBackground = function () { var t = this.dataZoomModel; var e = this._size; var n = this._displayables.sliderGroup; var i = t.get('brushSelect'); n.add(new XS({ silent: !0, shape: { x: 0, y: 0, width: e[0], height: e[1] }, style: { fill: t.get('backgroundColor') }, z2: -40 })); var r = new XS({ shape: { x: 0, y: 0, width: e[0], height: e[1] }, style: { fill: 'transparent' }, z2: 0, onclick: Object(f.bind)(this._onClickPanel, this) }); var a = this.api.getZr(); i ? (r.on('mousedown', this._onBrushStart, this), r.cursor = 'crosshair', a.on('mousemove', this._onBrush), a.on('mouseup', this._onBrushEnd)) : (a.off('mousemove', this._onBrush), a.off('mouseup', this._onBrushEnd)), n.add(r) }, e.prototype._renderDataShadow = function () { var t = this._dataShadowInfo = this._prepareDataShadowInfo(); if (this._displayables.dataShadowSegs = [], t) { var e = this._size; var n = t.series; var i = n.getRawData(); var r = n.getShadowDim ? n.getShadowDim() : t.otherDim; if (r != null) { var a = i.getDataExtent(r); var o = 0.3 * (a[1] - a[0]); a = [a[0] - o, a[1] + o]; var s; var l = [0, e[1]]; var u = [0, e[0]]; var c = [[e[0], 0], [0, 0]]; var h = []; var d = u[1] / (i.count() - 1); var p = 0; var f = Math.round(i.count() / e[0]); i.each([r], function (t, e) { if (f > 0 && e % f)p += d; else { var n = t == null || isNaN(t) || t === ''; var i = n ? 0 : Object(v.linearMap)(t, a, l, !0); n && !s && e ? (c.push([c[c.length - 1][0], 0]), h.push([h[h.length - 1][0], 0])) : !n && s && (c.push([p, 0]), h.push([p, 0])), c.push([p, i]), h.push([p, i]), p += d, s = n } }); for (var g = this.dataZoomModel, m = 0; m < 3; m++) { var b = x(m === 1); this._displayables.sliderGroup.add(b), this._displayables.dataShadowSegs.push(b) } } } function x (t) { var e = g.getModel(t ? 'selectedDataBackground' : 'dataBackground'); var n = new y.Group(); var i = new y.Polygon({ shape: { points: c }, segmentIgnoreThreshold: 1, style: e.getModel('areaStyle').getAreaStyle(), silent: !0, z2: -20 }); var r = new y.Polyline({ shape: { points: h }, segmentIgnoreThreshold: 1, style: e.getModel('lineStyle').getLineStyle(), silent: !0, z2: -19 }); return n.add(i), n.add(r), n } }, e.prototype._prepareDataShadowInfo = function () { var t = this.dataZoomModel; var e = t.get('showDataShadow'); if (!1 !== e) { var n; var i = this.ecModel; return t.eachTargetAxis(function (r, a) { var o = t.getAxisProxy(r, a).getTargetSeriesModels(); Object(f.each)(o, function (t) { if (!n && !(!0 !== e && Object(f.indexOf)(JS, t.get('type')) < 0)) { var o; var s = i.getComponent(E_(r), a).axis; var l = nM(r); var u = t.coordinateSystem; l != null && u.getOtherAxis && (o = u.getOtherAxis(s).inverse), l = t.getData().mapDimension(l), n = { thisAxis: s, series: t, thisDim: r, otherDim: l, otherAxisInverse: o } } }, this) }, this), n } }, e.prototype._renderHandle = function () { var t = this.group; var e = this._displayables; var n = e.handles = [null, null]; var i = e.handleLabels = [null, null]; var r = this._displayables.sliderGroup; var a = this._size; var o = this.dataZoomModel; var s = this.api; var l = o.get('borderRadius') || 0; var u = o.get('brushSelect'); var c = e.filler = new XS({ silent: u, style: { fill: o.get('fillerColor') }, textConfig: { position: 'inside' } }); r.add(c), r.add(new XS({ silent: !0, subPixelOptimize: !0, shape: { x: 0, y: 0, width: a[0], height: a[1], r: l }, style: { stroke: o.get('dataBackgroundColor') || o.get('borderColor'), lineWidth: US, fill: 'rgba(0,0,0,0)' } })), Object(f.each)([0, 1], function (e) { var a = o.get('handleIcon'); !sn.b[a] && a.indexOf('path://') < 0 && (a = 'path://' + a); var s = Object(sn.a)(a, -1, 0, 2, 2, null, !0); s.attr({ cursor: iM(this._orient), draggable: !0, drift: Object(f.bind)(this._onDragMove, this, e), ondragend: Object(f.bind)(this._onDragEnd, this), onmouseover: Object(f.bind)(this._showDataInfo, this, !0), onmouseout: Object(f.bind)(this._showDataInfo, this, !1), z2: 5 }); var l = s.getBoundingRect(); var u = o.get('handleSize'); this._handleHeight = Object(v.parsePercent)(u, this._size[1]), this._handleWidth = l.width / l.height * this._handleHeight, s.setStyle(o.getModel('handleStyle').getItemStyle()), s.style.strokeNoScale = !0, s.rectHover = !0, s.ensureState('emphasis').style = o.getModel(['emphasis', 'handleStyle']).getItemStyle(), Object(li.k)(s); var c = o.get('handleColor'); c != null && (s.style.fill = c), r.add(n[e] = s); var h = o.getModel('textStyle'); t.add(i[e] = new y.Text({ silent: !0, invisible: !0, style: { x: 0, y: 0, text: '', verticalAlign: 'middle', align: 'center', fill: h.getTextColor(), font: h.getFont() }, z2: 10 })) }, this); var h = c; if (u) { var d = Object(v.parsePercent)(o.get('moveHandleSize'), a[1]); var p = e.moveHandle = new y.Rect({ style: o.getModel('moveHandleStyle').getItemStyle(), silent: !0, shape: { r: [0, 0, 2, 2], y: a[1] - 0.5, height: d } }); var g = 0.8 * d; var m = e.moveHandleIcon = Object(sn.a)(o.get('moveHandleIcon'), -g / 2, -g / 2, g, g, '#fff', !0); m.silent = !0, m.y = a[1] + d / 2 - 0.5, p.ensureState('emphasis').style = o.getModel(['emphasis', 'moveHandleStyle']).getItemStyle(); var b = Math.min(a[1] / 2, Math.max(d, 10)); h = e.moveZone = new y.Rect({ invisible: !0, shape: { y: a[1] - b, height: d + b } }), h.on('mouseover', function () { s.enterEmphasis(p) }).on('mouseout', function () { s.leaveEmphasis(p) }), r.add(p), r.add(m), r.add(h) }h.attr({ draggable: !0, cursor: iM(this._orient), drift: Object(f.bind)(this._onDragMove, this, 'all'), ondragstart: Object(f.bind)(this._showDataInfo, this, !0), ondragend: Object(f.bind)(this._onDragEnd, this), onmouseover: Object(f.bind)(this._showDataInfo, this, !0), onmouseout: Object(f.bind)(this._showDataInfo, this, !1) }) }, e.prototype._resetInterval = function () { var t = this._range = this.dataZoomModel.getPercentRange(); var e = this._getViewExtent(); this._handleEnds = [Object(v.linearMap)(t[0], [0, 100], e, !0), Object(v.linearMap)(t[1], [0, 100], e, !0)] }, e.prototype._updateInterval = function (t, e) { var n = this.dataZoomModel; var i = this._handleEnds; var r = this._getViewExtent(); var a = n.findRepresentativeAxisProxy().getMinMaxSpan(); var o = [0, 100]; cd(e, i, r, n.get('zoomLock') ? 'all' : t, a.minSpan != null ? Object(v.linearMap)(a.minSpan, o, r, !0) : null, a.maxSpan != null ? Object(v.linearMap)(a.maxSpan, o, r, !0) : null); var s = this._range; var l = this._range = Object(v.asc)([Object(v.linearMap)(i[0], r, o, !0), Object(v.linearMap)(i[1], r, o, !0)]); return !s || s[0] !== l[0] || s[1] !== l[1] }, e.prototype._updateView = function (t) { var e = this._displayables; var n = this._handleEnds; var i = Object(v.asc)(n.slice()); var r = this._size; Object(f.each)([0, 1], function (t) { var i = e.handles[t]; var a = this._handleHeight; i.attr({ scaleX: a / 2, scaleY: a / 2, x: n[t] + (t ? -1 : 1), y: r[1] / 2 - a / 2 }) }, this), e.filler.setShape({ x: i[0], y: 0, width: i[1] - i[0], height: r[1] }); var a = { x: i[0], width: i[1] - i[0] }; e.moveHandle && (e.moveHandle.setShape(a), e.moveZone.setShape(a), e.moveZone.getBoundingRect(), e.moveHandleIcon && e.moveHandleIcon.attr('x', a.x + a.width / 2)); for (var o = e.dataShadowSegs, s = [0, i[0], i[1], r[0]], l = 0; l < o.length; l++) { var u = o[l]; var c = u.getClipPath(); c || (c = new y.Rect(), u.setClipPath(c)), c.setShape({ x: s[l], y: 0, width: s[l + 1] - s[l], height: r[1] }) } this._updateDataInfo(t) }, e.prototype._updateDataInfo = function (t) { var e = this.dataZoomModel; var n = this._displayables; var i = n.handleLabels; var r = this._orient; var a = ['', '']; if (e.get('showDetail')) { var o = e.findRepresentativeAxisProxy(); if (o) { var s = o.getAxisModel().axis; var l = this._range; var u = t ? o.calculateDataWindow({ start: l[0], end: l[1] }).valueWindow : o.getDataValueWindow(); a = [this._formatLabel(u[0], s), this._formatLabel(u[1], s)] } } var c = Object(v.asc)(this._handleEnds.slice()); function h (t) { var e = y.getTransform(n.handles[t].parent, this.group); var o = y.transformDirection(t === 0 ? 'right' : 'left', e); var s = this._handleWidth / 2 + QS; var l = y.applyTransform([c[t] + (t === 0 ? -s : s), this._size[1] / 2], e); i[t].setStyle({ x: l[0], y: l[1], verticalAlign: r === KS ? 'middle' : o, align: r === KS ? o : 'center', text: a[t] }) }h.call(this, 0), h.call(this, 1) }, e.prototype._formatLabel = function (t, e) { var n = this.dataZoomModel; var i = n.get('labelFormatter'); var r = n.get('labelPrecision'); r != null && r !== 'auto' || (r = e.getPixelPrecision()); var a = t == null || isNaN(t) ? '' : e.type === 'category' || e.type === 'time' ? e.scale.getLabel({ value: Math.round(t) }) : t.toFixed(Math.min(r, 20)); return Object(f.isFunction)(i) ? i(t, a) : Object(f.isString)(i) ? i.replace('{value}', a) : a }, e.prototype._showDataInfo = function (t) { t = this._dragging || t; var e = this._displayables; var n = e.handleLabels; n[0].attr('invisible', !t), n[1].attr('invisible', !t), e.moveHandle && this.api[t ? 'enterEmphasis' : 'leaveEmphasis'](e.moveHandle, 1) }, e.prototype._onDragMove = function (t, e, n, i) { this._dragging = !0, Ss.g(i.event); var r = this._displayables.sliderGroup.getLocalTransform(); var a = y.applyTransform([e, n], r, !0); var o = this._updateInterval(t, a[0]); var s = this.dataZoomModel.get('realtime'); this._updateView(!s), o && s && this._dispatchZoomAction(!0) }, e.prototype._onDragEnd = function () { this._dragging = !1, this._showDataInfo(!1); var t = this.dataZoomModel.get('realtime'); !t && this._dispatchZoomAction(!1) }, e.prototype._onClickPanel = function (t) { var e = this._size; var n = this._displayables.sliderGroup.transformCoordToLocal(t.offsetX, t.offsetY); if (!(n[0] < 0 || n[0] > e[0] || n[1] < 0 || n[1] > e[1])) { var i = this._handleEnds; var r = (i[0] + i[1]) / 2; var a = this._updateInterval('all', n[0] - r); this._updateView(), a && this._dispatchZoomAction(!1) } }, e.prototype._onBrushStart = function (t) { var e = t.offsetX; var n = t.offsetY; this._brushStart = new y.Point(e, n), this._brushing = !0, this._brushStartTime = +new Date() }, e.prototype._onBrushEnd = function (t) { if (this._brushing) { var e = this._displayables.brushRect; if (this._brushing = !1, e) { e.attr('ignore', !0); var n = e.shape; var i = +new Date(); if (!(i - this._brushStartTime < 200 && Math.abs(n.width) < 5)) { var r = this._getViewExtent(); var a = [0, 100]; this._range = Object(v.asc)([Object(v.linearMap)(n.x, r, a, !0), Object(v.linearMap)(n.x + n.width, r, a, !0)]), this._handleEnds = [n.x, n.x + n.width], this._updateView(), this._dispatchZoomAction(!1) } } } }, e.prototype._onBrush = function (t) { this._brushing && (Ss.g(t.event), this._updateBrushRect(t.offsetX, t.offsetY)) }, e.prototype._updateBrushRect = function (t, e) { var n = this._displayables; var i = this.dataZoomModel; var r = n.brushRect; r || (r = n.brushRect = new XS({ silent: !0, style: i.getModel('brushStyle').getItemStyle() }), n.sliderGroup.add(r)), r.attr('ignore', !1); var a = this._brushStart; var o = this._displayables.sliderGroup; var s = o.transformCoordToLocal(t, e); var l = o.transformCoordToLocal(a.x, a.y); var u = this._size; s[0] = Math.max(Math.min(u[0], s[0]), 0), r.setShape({ x: l[0], y: 0, width: s[0] - l[0], height: u[1] }) }, e.prototype._dispatchZoomAction = function (t) { var e = this._range; this.api.dispatchAction({ type: 'dataZoom', from: this.uid, dataZoomId: this.dataZoomModel.id, animation: t ? tM : null, start: e[0], end: e[1] }) }, e.prototype._findCoordRect = function () { var t; var e = B_(this.dataZoomModel).infoList; if (!t && e.length) { var n = e[0].model.coordinateSystem; t = n.getRect && n.getRect() } if (!t) { var i = this.api.getWidth(); var r = this.api.getHeight(); t = { x: 0.2 * i, y: 0.2 * r, width: 0.6 * i, height: 0.6 * r } } return t }, e.type = 'dataZoom.slider', e }(X_)); function nM (t) { var e = { x: 'y', y: 'x', radius: 'angle', angle: 'radius' }; return e[t] } function iM (t) { return t === 'vertical' ? 'ns-resize' : 'ew-resize' }Ur.a.registerClass(eM); var rM = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.type = 'dataZoom.inside', e.defaultOption = Object(La.d)(H_.defaultOption, { disabled: !1, zoomLock: !1, zoomOnMouseWheel: !0, moveOnMouseMove: !0, moveOnMouseWheel: !1, preventDefaultMouseMove: !0 }), e }(H_)); hr.a.registerClass(rM); var aM = Object(Z.o)(); function oM (t, e, n) { aM(t).coordSysRecordMap.each(function (t) { var i = t.dataZoomInfoMap.get(e.uid); i && (i.getRange = n) }) } function sM (t, e) { for (var n = aM(t).coordSysRecordMap, i = n.keys(), r = 0; r < i.length; r++) { var a = i[r]; var o = n.get(a); var s = o.dataZoomInfoMap; if (s) { var l = e.uid; var u = s.get(l); u && (s.removeKey(l), s.keys().length || lM(n, o)) } } } function lM (t, e) { if (e) { t.removeKey(e.model.uid); var n = e.controller; n && n.dispose() } } function uM (t, e) { var n = { model: e, containsPoint: Object(f.curry)(hM, e), dispatchAction: Object(f.curry)(cM, t), dataZoomInfoMap: null, controller: null }; var i = n.controller = new Ps(t.getZr()); return Object(f.each)(['pan', 'zoom', 'scrollMove'], function (t) { i.on(t, function (e) { var i = []; n.dataZoomInfoMap.each(function (r) { if (e.isAvailableBehavior(r.model.option)) { var a = (r.getRange || {})[t]; var o = a && a(r.dzReferCoordSysInfo, n.model.mainType, n.controller, e); !r.model.get('disabled', !0) && o && i.push({ dataZoomId: r.model.id, start: o[0], end: o[1] }) } }), i.length && n.dispatchAction(i) }) }), n } function cM (t, e) { t.dispatchAction({ type: 'dataZoom', animation: { easing: 'cubicOut', duration: 100 }, batch: e }) } function hM (t, e, n, i) { return t.coordinateSystem.containPoint([n, i]) } function dM (t) { var e; var n = 'type_'; var i = { type_true: 2, type_move: 1, type_false: 0, type_undefined: -1 }; var r = !0; return t.each(function (t) { var a = t.model; var o = !a.get('disabled', !0) && (!a.get('zoomLock', !0) || 'move'); i[n + o] > i[n + e] && (e = o), r = r && a.get('preventDefaultMouseMove', !0) }), { controlType: e, opt: { zoomOnMouseWheel: !0, moveOnMouseMove: !0, moveOnMouseWheel: !0, preventDefaultMouseMove: !!r } } }c.g(c.a.PROCESSOR.FILTER, function (t, e) { var n = aM(e); var i = n.coordSysRecordMap || (n.coordSysRecordMap = Object(f.createHashMap)()); i.each(function (t) { t.dataZoomInfoMap = null }), t.eachComponent({ mainType: 'dataZoom', subType: 'inside' }, function (t) { var n = B_(t); Object(f.each)(n.infoList, function (n) { var r = n.model.uid; var a = i.get(r) || i.set(r, uM(e, n.model)); var o = a.dataZoomInfoMap || (a.dataZoomInfoMap = Object(f.createHashMap)()); o.set(t.uid, { dzReferCoordSysInfo: n, model: t, getRange: null }) }) }), i.each(function (t) { var e; var n = t.controller; var r = t.dataZoomInfoMap; if (r) { var a = r.keys()[0]; a != null && (e = r.get(a)) } if (e) { var o = dM(r); n.enable(o.controlType, o.opt), n.setPointerChecker(t.containsPoint), x.b(t, 'dispatchAction', e.model.get('throttle', !0), 'fixRate') } else lM(i, t) }) }); var pM = (function (t) { function e () { var e = t !== null && t.apply(this, arguments) || this; return e.type = 'dataZoom.inside', e } return Object(Ct.b)(e, t), e.prototype.render = function (e, n, i) { t.prototype.render.apply(this, arguments), e.noTarget() ? this._clear() : (this.range = e.getPercentRange(), oM(i, e, { pan: Object(f.bind)(fM.pan, this), zoom: Object(f.bind)(fM.zoom, this), scrollMove: Object(f.bind)(fM.scrollMove, this) })) }, e.prototype.dispose = function () { this._clear(), t.prototype.dispose.apply(this, arguments) }, e.prototype._clear = function () { sM(this.api, this.dataZoomModel), this.range = null }, e.type = 'dataZoom.inside', e }(X_)); var fM = { zoom: function (t, e, n, i) { var r = this.range; var a = r.slice(); var o = t.axisModels[0]; if (o) { var s = yM[e](null, [i.originX, i.originY], o, n, t); var l = (s.signal > 0 ? s.pixelStart + s.pixelLength - s.pixel : s.pixel - s.pixelStart) / s.pixelLength * (a[1] - a[0]) + a[0]; var u = Math.max(1 / i.scale, 0); a[0] = (a[0] - l) * u + l, a[1] = (a[1] - l) * u + l; var c = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan(); return cd(0, a, [0, 100], 0, c.minSpan, c.maxSpan), this.range = a, r[0] !== a[0] || r[1] !== a[1] ? a : void 0 } }, pan: gM(function (t, e, n, i, r, a) { var o = yM[i]([a.oldX, a.oldY], [a.newX, a.newY], e, r, n); return o.signal * (t[1] - t[0]) * o.pixel / o.pixelLength }), scrollMove: gM(function (t, e, n, i, r, a) { var o = yM[i]([0, 0], [a.scrollDelta, a.scrollDelta], e, r, n); return o.signal * (t[1] - t[0]) * a.scrollDelta }) }; function gM (t) { return function (e, n, i, r) { var a = this.range; var o = a.slice(); var s = e.axisModels[0]; if (s) { var l = t(o, s, e, n, i, r); return cd(l, o, [0, 100], 'all'), this.range = o, a[0] !== o[0] || a[1] !== o[1] ? o : void 0 } } } var yM = { grid: function (t, e, n, i, r) { var a = n.axis; var o = {}; var s = r.model.coordinateSystem.getRect(); return t = t || [0, 0], a.dim === 'x' ? (o.pixel = e[0] - t[0], o.pixelLength = s.width, o.pixelStart = s.x, o.signal = a.inverse ? 1 : -1) : (o.pixel = e[1] - t[1], o.pixelLength = s.height, o.pixelStart = s.y, o.signal = a.inverse ? -1 : 1), o }, polar: function (t, e, n, i, r) { var a = n.axis; var o = {}; var s = r.model.coordinateSystem; var l = s.getRadiusAxis().getExtent(); var u = s.getAngleAxis().getExtent(); return t = t ? s.pointToCoord(t) : [0, 0], e = s.pointToCoord(e), n.mainType === 'radiusAxis' ? (o.pixel = e[0] - t[0], o.pixelLength = l[1] - l[0], o.pixelStart = l[0], o.signal = a.inverse ? 1 : -1) : (o.pixel = e[1] - t[1], o.pixelLength = u[1] - u[0], o.pixelStart = u[0], o.signal = a.inverse ? -1 : 1), o }, singleAxis: function (t, e, n, i, r) { var a = n.axis; var o = r.model.coordinateSystem.getRect(); var s = {}; return t = t || [0, 0], a.orient === 'horizontal' ? (s.pixel = e[0] - t[0], s.pixelLength = o.width, s.pixelStart = o.x, s.signal = a.inverse ? 1 : -1) : (s.pixel = e[1] - t[1], s.pixelLength = o.height, s.pixelStart = o.y, s.signal = a.inverse ? -1 : 1), s } }; Ur.a.registerClass(pM); var vM = f.each; function mM (t) { var e = t && t.visualMap; f.isArray(e) || (e = e ? [e] : []), vM(e, function (t) { if (t) { bM(t, 'splitList') && !bM(t, 'pieces') && (t.pieces = t.splitList, delete t.splitList); var e = t.pieces; e && f.isArray(e) && vM(e, function (t) { f.isObject(t) && (bM(t, 'start') && !bM(t, 'min') && (t.min = t.start), bM(t, 'end') && !bM(t, 'max') && (t.max = t.end)) }) } }) } function bM (t, e) { return t && t.hasOwnProperty && t.hasOwnProperty(e) }hr.a.registerSubTypeDefaulter('visualMap', function (t) { return t.categories || (t.pieces ? t.pieces.length > 0 : t.splitNumber > 0) && !t.calculable ? 'piecewise' : 'continuous' }); var xM = c.a.VISUAL.COMPONENT; function _M (t, e, n, i) { for (var r = e.targetVisuals[i], a = Ku.prepareVisualTypes(r), o = { color: Object(Gw.b)(t.getData(), 'color') }, s = 0, l = a.length; s < l; s++) { var u = a[s]; var c = r[u === 'opacity' ? '__alphaForOpacity' : u]; c && c.applyVisual(n, h, d) } return o.color; function h (t) { return o[t] } function d (t, e) { o[t] = e } }c.i(xM, { createOnAllSeries: !0, reset: function (t, e) { var n = []; return e.eachComponent('visualMap', function (e) { var i = t.pipelineContext; !e.isTargetSeries(t) || i && i.large || n.push(Zw(e.stateList, e.targetVisuals, f.bind(e.getValueState, e), e.getDataDimension(t.getData()))) }), n } }), c.i(xM, { createOnAllSeries: !0, reset: function (t, e) { var n = t.getData(); var i = []; e.eachComponent('visualMap', function (e) { if (e.isTargetSeries(t)) { var r = e.getVisualMeta(f.bind(_M, null, t, e)) || { stops: [], outerColors: [] }; var a = e.getDataDimension(n); var o = n.getDimensionInfo(a); o != null && (r.dimension = o.index, i.push(r)) } }), t.getData().setVisual('visualMeta', i) } }); var wM = { get: function (t, e, n) { var i = f.clone((OM[t] || {})[e]); return n && f.isArray(i) ? i[i.length - 1] : i } }; var OM = { color: { active: ['#006edd', '#e0ffff'], inactive: ['rgba(0,0,0,0)'] }, colorHue: { active: [0, 360], inactive: [0, 0] }, colorSaturation: { active: [0.3, 1], inactive: [0, 0] }, colorLightness: { active: [0.9, 0.5], inactive: [0, 0] }, colorAlpha: { active: [0.3, 1], inactive: [0, 0] }, opacity: { active: [0.3, 1], inactive: [0, 0] }, symbol: { active: ['circle', 'roundRect', 'diamond'], inactive: ['none'] }, symbolSize: { active: [10, 50], inactive: [0, 0] } }; var SM = wM; var MM = Ku.mapVisual; var IM = Ku.eachVisual; var TM = f.isArray; var jM = f.each; var AM = v.asc; var CM = v.linearMap; var DM = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.stateList = ['inRange', 'outOfRange'], n.replacableOptionKeys = ['inRange', 'outOfRange', 'target', 'controller', 'color'], n.layoutMode = { type: 'box', ignoreSize: !0 }, n.dataBound = [-1 / 0, 1 / 0], n.targetVisuals = {}, n.controllerVisuals = {}, n } return Object(Ct.b)(e, t), e.prototype.init = function (t, e, n) { this.mergeDefaultAndTheme(t, n) }, e.prototype.optionUpdated = function (t, e) { var n = this.option; zn.a.canvasSupported || (n.realtime = !1), !e && Yw(n, t, this.replacableOptionKeys), this.textStyleModel = this.getModel('textStyle'), this.resetItemSize(), this.completeVisualOption() }, e.prototype.resetVisual = function (t) { var e = this.stateList; t = f.bind(t, this), this.controllerVisuals = Xw(this.option.controller, e, t), this.targetVisuals = Xw(this.option.target, e, t) }, e.prototype.getTargetSeriesIndices = function () { var t = this.option.seriesIndex; var e = []; return t == null || t === 'all' ? this.ecModel.eachSeries(function (t, n) { e.push(n) }) : e = Z.r(t), e }, e.prototype.eachTargetSeries = function (t, e) { f.each(this.getTargetSeriesIndices(), function (n) { var i = this.ecModel.getSeriesByIndex(n); i && t.call(e, i) }, this) }, e.prototype.isTargetSeries = function (t) { var e = !1; return this.eachTargetSeries(function (n) { n === t && (e = !0) }), e }, e.prototype.formatValueText = function (t, e, n) { var i; var r = this.option; var a = r.precision; var o = this.dataBound; var s = r.formatter; n = n || ['<', '>'], f.isArray(t) && (t = t.slice(), i = !0); var l = e ? t : i ? [u(t[0]), u(t[1])] : u(t); return f.isString(s) ? s.replace('{value}', i ? l[0] : l).replace('{value2}', i ? l[1] : l) : f.isFunction(s) ? i ? s(t[0], t[1]) : s(t) : i ? t[0] === o[0] ? n[0] + ' ' + l[1] : t[1] === o[1] ? n[1] + ' ' + l[0] : l[0] + ' - ' + l[1] : l; function u (t) { return t === o[0] ? 'min' : t === o[1] ? 'max' : (+t).toFixed(Math.min(a, 20)) } }, e.prototype.resetExtent = function () { var t = this.option; var e = AM([t.min, t.max]); this._dataExtent = e }, e.prototype.getDataDimension = function (t) { var e = this.option.dimension; var n = t.dimensions; if (e != null || n.length) { if (e != null) return t.getDimension(e); for (var i = t.dimensions, r = i.length - 1; r >= 0; r--) { var a = i[r]; var o = t.getDimensionInfo(a); if (!o.isCalculationCoord) return a } } }, e.prototype.getExtent = function () { return this._dataExtent.slice() }, e.prototype.completeVisualOption = function () { var t = this.ecModel; var e = this.option; var n = { inRange: e.inRange, outOfRange: e.outOfRange }; var i = e.target || (e.target = {}); var r = e.controller || (e.controller = {}); f.merge(i, n), f.merge(r, n); var a = this.isCategory(); function o (n) { TM(e.color) && !n.inRange && (n.inRange = { color: e.color.slice().reverse() }), n.inRange = n.inRange || { color: t.get('gradientColor') } } function s (t, e, n) { var i = t[e]; var r = t[n]; i && !r && (r = t[n] = {}, jM(i, function (t, e) { if (Ku.isValidType(e)) { var n = SM.get(e, 'inactive', a); n != null && (r[e] = n, e !== 'color' || r.hasOwnProperty('opacity') || r.hasOwnProperty('colorAlpha') || (r.opacity = [0, 0])) } })) } function l (t) { var e = (t.inRange || {}).symbol || (t.outOfRange || {}).symbol; var n = (t.inRange || {}).symbolSize || (t.outOfRange || {}).symbolSize; var i = this.get('inactiveColor'); jM(this.stateList, function (r) { var o = this.itemSize; var s = t[r]; s || (s = t[r] = { color: a ? i : [i] }), s.symbol == null && (s.symbol = e && f.clone(e) || (a ? 'roundRect' : ['roundRect'])), s.symbolSize == null && (s.symbolSize = n && f.clone(n) || (a ? o[0] : [o[0], o[0]])), s.symbol = MM(s.symbol, function (t) { return t === 'none' || t === 'square' ? 'roundRect' : t }); var l = s.symbolSize; if (l != null) { var u = -1 / 0; IM(l, function (t) { t > u && (u = t) }), s.symbolSize = MM(l, function (t) { return CM(t, [0, u], [0, o[0]], !0) }) } }, this) }o.call(this, i), o.call(this, r), s.call(this, i, 'inRange', 'outOfRange'), l.call(this, r) }, e.prototype.resetItemSize = function () { this.itemSize = [parseFloat(this.get('itemWidth')), parseFloat(this.get('itemHeight'))] }, e.prototype.isCategory = function () { return !!this.option.categories }, e.prototype.setSelected = function (t) {}, e.prototype.getSelected = function () { return null }, e.prototype.getValueState = function (t) { return null }, e.prototype.getVisualMeta = function (t) { return null }, e.type = 'visualMap', e.dependencies = ['series'], e.defaultOption = { show: !0, zlevel: 0, z: 4, seriesIndex: 'all', min: 0, max: 200, left: 0, right: null, top: null, bottom: 0, itemWidth: null, itemHeight: null, inverse: !1, orient: 'vertical', backgroundColor: 'rgba(0,0,0,0)', borderColor: '#ccc', contentColor: '#5793f3', inactiveColor: '#aaa', borderWidth: 0, padding: 5, textGap: 10, precision: 0, textStyle: { color: '#333' } }, e }(hr.a)); var kM = DM; var LM = [20, 140]; var PM = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.optionUpdated = function (e, n) { t.prototype.optionUpdated.apply(this, arguments), this.resetExtent(), this.resetVisual(function (t) { t.mappingMethod = 'linear', t.dataExtent = this.getExtent() }), this._resetRange() }, e.prototype.resetItemSize = function () { t.prototype.resetItemSize.apply(this, arguments); var e = this.itemSize; (e[0] == null || isNaN(e[0])) && (e[0] = LM[0]), (e[1] == null || isNaN(e[1])) && (e[1] = LM[1]) }, e.prototype._resetRange = function () { var t = this.getExtent(); var e = this.option.range; !e || e.auto ? (t.auto = 1, this.option.range = t) : f.isArray(e) && (e[0] > e[1] && e.reverse(), e[0] = Math.max(e[0], t[0]), e[1] = Math.min(e[1], t[1])) }, e.prototype.completeVisualOption = function () { t.prototype.completeVisualOption.apply(this, arguments), f.each(this.stateList, function (t) { var e = this.option.controller[t].symbolSize; e && e[0] !== e[1] && (e[0] = e[1] / 3) }, this) }, e.prototype.setSelected = function (t) { this.option.range = t.slice(), this._resetRange() }, e.prototype.getSelected = function () { var t = this.getExtent(); var e = v.asc((this.get('range') || []).slice()); return e[0] > t[1] && (e[0] = t[1]), e[1] > t[1] && (e[1] = t[1]), e[0] < t[0] && (e[0] = t[0]), e[1] < t[0] && (e[1] = t[0]), e }, e.prototype.getValueState = function (t) { var e = this.option.range; var n = this.getExtent(); return (e[0] <= n[0] || e[0] <= t) && (e[1] >= n[1] || t <= e[1]) ? 'inRange' : 'outOfRange' }, e.prototype.findTargetDataIndices = function (t) { var e = []; return this.eachTargetSeries(function (n) { var i = []; var r = n.getData(); r.each(this.getDataDimension(r), function (e, n) { t[0] <= e && e <= t[1] && i.push(n) }, this), e.push({ seriesId: n.id, dataIndex: i }) }, this), e }, e.prototype.getVisualMeta = function (t) { var e = RM(this, 'outOfRange', this.getExtent()); var n = RM(this, 'inRange', this.option.range.slice()); var i = []; function r (e, n) { i.push({ value: e, color: t(e, n) }) } for (var a = 0, o = 0, s = n.length, l = e.length; o < l && (!n.length || e[o] <= n[0]); o++)e[o] < n[a] && r(e[o], 'outOfRange'); for (var u = 1; a < s; a++, u = 0)u && i.length && r(n[a], 'outOfRange'), r(n[a], 'inRange'); for (u = 1; o < l; o++)(!n.length || n[n.length - 1] < e[o]) && (u && (i.length && r(i[i.length - 1].value, 'outOfRange'), u = 0), r(e[o], 'outOfRange')); var c = i.length; return { stops: i, outerColors: [c ? i[0].color : 'transparent', c ? i[c - 1].color : 'transparent'] } }, e.type = 'visualMap.continuous', e.defaultOption = Object(La.d)(kM.defaultOption, { align: 'auto', calculable: !1, hoverLink: !0, realtime: !0, handleIcon: 'path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z', handleSize: '120%', handleStyle: { borderColor: '#fff', borderWidth: 1 }, indicatorIcon: 'circle', indicatorSize: '50%', indicatorStyle: { borderColor: '#fff', borderWidth: 2, shadowBlur: 2, shadowOffsetX: 1, shadowOffsetY: 1, shadowColor: 'rgba(0,0,0,0.2)' } }), e }(kM)); function RM (t, e, n) { if (n[0] === n[1]) return n.slice(); for (var i = 200, r = (n[1] - n[0]) / i, a = n[0], o = [], s = 0; s <= i && a < n[1]; s++)o.push(a), a += r; return o.push(n[1]), o }hr.a.registerClass(PM); var NM = n('0236'); var EM = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n.autoPositionValues = { left: 1, right: 1, top: 1, bottom: 1 }, n } return Object(Ct.b)(e, t), e.prototype.init = function (t, e) { this.ecModel = t, this.api = e }, e.prototype.render = function (t, e, n, i) { this.visualMapModel = t, !1 !== t.get('show') ? this.doRender(t, e, n, i) : this.group.removeAll() }, e.prototype.renderBackground = function (t) { var e = this.visualMapModel; var n = m.normalizeCssArray(e.get('padding') || 0); var i = t.getBoundingRect(); t.add(new y.Rect({ z2: -1, silent: !0, shape: { x: i.x - n[3], y: i.y - n[0], width: i.width + n[3] + n[1], height: i.height + n[0] + n[2] }, style: { fill: e.get('backgroundColor'), stroke: e.get('borderColor'), lineWidth: e.get('borderWidth') } })) }, e.prototype.getControllerVisual = function (t, e, n) { n = n || {}; var i = n.forceState; var r = this.visualMapModel; var a = {}; if (e === 'symbol' && (a.symbol = r.get('itemSymbol')), e === 'color') { var o = r.get('contentColor'); a.color = o } function s (t) { return a[t] } function l (t, e) { a[t] = e } var u = r.controllerVisuals[i || r.getValueState(t)]; var c = Ku.prepareVisualTypes(u); return f.each(c, function (i) { var r = u[i]; n.convertOpacityToAlpha && i === 'opacity' && (i = 'colorAlpha', r = u.__alphaForOpacity), Ku.dependsOn(i, e) && r && r.applyVisual(t, s, l) }), a[e] }, e.prototype.positionGroup = function (t) { var e = this.visualMapModel; var n = this.api; on.i(t, e.getBoxLayoutParams(), { width: n.getWidth(), height: n.getHeight() }) }, e.prototype.doRender = function (t, e, n, i) {}, e.type = 'visualMap', e }(Ur.a)); Ur.a.registerClass(EM); var zM = EM; var BM = [['left', 'right', 'width'], ['top', 'bottom', 'height']]; function VM (t, e, n) { var i = t.option; var r = i.align; if (r != null && r !== 'auto') return r; for (var a = { width: e.getWidth(), height: e.getHeight() }, o = i.orient === 'horizontal' ? 1 : 0, s = BM[o], l = [0, null, 10], u = {}, c = 0; c < 3; c++)u[BM[1 - o][c]] = l[c], u[s[c]] = c === 2 ? n[0] : i[s[c]]; var h = [['x', 'width', 3], ['y', 'height', 0]][o]; var d = Object(on.g)(u, a, i.padding); return s[(d.margin[h[2]] || 0) + d[h[0]] + 0.5 * d[h[1]] < 0.5 * a[h[1]] ? 0 : 1] } function FM (t, e) { return f.each(t || [], function (t) { t.dataIndex != null && (t.dataIndexInside = t.dataIndex, t.dataIndex = null), t.highlightKey = 'visualMap' + (e ? e.componentIndex : '') }), t } var GM = v.linearMap; var HM = f.each; var WM = Math.min; var XM = Math.max; var YM = 12; var UM = 6; var ZM = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n._shapes = {}, n._dataInterval = [], n._handleEnds = [], n._hoverLinkDataIndices = [], n } return Object(Ct.b)(e, t), e.prototype.doRender = function (t, e, n, i) { this._api = n, i && i.type === 'selectDataRange' && i.from === this.uid || this._buildView() }, e.prototype._buildView = function () { this.group.removeAll(); var t = this.visualMapModel; var e = this.group; this._orient = t.get('orient'), this._useHandle = t.get('calculable'), this._resetInterval(), this._renderBar(e); var n = t.get('text'); this._renderEndsText(e, n, 0), this._renderEndsText(e, n, 1), this._updateView(!0), this.renderBackground(e), this._updateView(), this._enableHoverLinkToSeries(), this._enableHoverLinkFromSeries(), this.positionGroup(e) }, e.prototype._renderEndsText = function (t, e, n) { if (e) { var i = e[1 - n]; i = i != null ? i + '' : ''; var r = this.visualMapModel; var a = r.get('textGap'); var o = r.itemSize; var s = this._shapes.mainGroup; var l = this._applyTransform([o[0] / 2, n === 0 ? -a : o[1] + a], s); var u = this._applyTransform(n === 0 ? 'bottom' : 'top', s); var c = this._orient; var h = this.visualMapModel.textStyleModel; this.group.add(new y.Text({ style: { x: l[0], y: l[1], verticalAlign: c === 'horizontal' ? 'middle' : u, align: c === 'horizontal' ? u : 'center', text: i, font: h.getFont(), fill: h.getTextColor() } })) } }, e.prototype._renderBar = function (t) { var e = this.visualMapModel; var n = this._shapes; var i = e.itemSize; var r = this._orient; var a = this._useHandle; var o = VM(e, this.api, i); var s = n.mainGroup = this._createBarGroup(o); var l = new y.Group(); s.add(l), l.add(n.outOfRange = qM()), l.add(n.inRange = qM(null, a ? QM(this._orient) : null, f.bind(this._dragHandle, this, 'all', !1), f.bind(this._dragHandle, this, 'all', !0))), l.setClipPath(new y.Rect({ shape: { x: 0, y: 0, width: i[0], height: i[1], r: 3 } })); var u = e.textStyleModel.getTextRect('国'); var c = XM(u.width, u.height); a && (n.handleThumbs = [], n.handleLabels = [], n.handleLabelPoints = [], this._createHandle(e, s, 0, i, c, r), this._createHandle(e, s, 1, i, c, r)), this._createIndicator(e, s, i, c, r), t.add(s) }, e.prototype._createHandle = function (t, e, n, i, r, a) { var o = f.bind(this._dragHandle, this, n, !1); var s = f.bind(this._dragHandle, this, n, !0); var l = Object(Be.h)(t.get('handleSize'), i[0]); var u = Object(sn.a)(t.get('handleIcon'), -l / 2, -l / 2, l, l, null, !0); var c = QM(this._orient); u.attr({ cursor: c, draggable: !0, drift: o, ondragend: s, onmousemove: function (t) { Ss.g(t.event) } }), u.x = i[0] / 2, u.useStyle(t.getModel('handleStyle').getItemStyle()), u.setStyle({ strokeNoScale: !0, strokeFirst: !0 }), u.style.lineWidth *= 2, u.ensureState('emphasis').style = t.getModel(['emphasis', 'handleStyle']).getItemStyle(), Object(li.A)(u, !0), e.add(u); var h = this.visualMapModel.textStyleModel; var d = new y.Text({ cursor: c, draggable: !0, drift: o, onmousemove: function (t) { Ss.g(t.event) }, ondragend: s, style: { x: 0, y: 0, text: '', font: h.getFont(), fill: h.getTextColor() } }); d.ensureState('blur').style = { opacity: 0.1 }, d.stateTransition = { duration: 200 }, this.group.add(d); var p = [l, 0]; var g = this._shapes; g.handleThumbs[n] = u, g.handleLabelPoints[n] = p, g.handleLabels[n] = d }, e.prototype._createIndicator = function (t, e, n, i, r) { var a = Object(Be.h)(t.get('indicatorSize'), n[0]); var o = Object(sn.a)(t.get('indicatorIcon'), -a / 2, -a / 2, a, a, null, !0); o.attr({ cursor: 'move', invisible: !0, silent: !0, x: n[0] / 2 }); var s = t.getModel('indicatorStyle').getItemStyle(); if (o instanceof di.a) { var l = o.style; o.useStyle(f.extend({ image: l.image, x: l.x, y: l.y, width: l.width, height: l.height }, s)) } else o.useStyle(s); e.add(o); var u = this.visualMapModel.textStyleModel; var c = new y.Text({ silent: !0, invisible: !0, style: { x: 0, y: 0, text: '', font: u.getFont(), fill: u.getTextColor() } }); this.group.add(c); var h = [(r === 'horizontal' ? i / 2 : UM) + n[0] / 2, 0]; var d = this._shapes; d.indicator = o, d.indicatorLabel = c, d.indicatorLabelPoint = h, this._firstShowIndicator = !0 }, e.prototype._dragHandle = function (t, e, n, i) { if (this._useHandle) { if (this._dragging = !e, !e) { var r = this._applyTransform([n, i], this._shapes.mainGroup, !0); this._updateInterval(t, r[1]), this._hideIndicator(), this._updateView() }e === !this.visualMapModel.get('realtime') && this.api.dispatchAction({ type: 'selectDataRange', from: this.uid, visualMapId: this.visualMapModel.id, selected: this._dataInterval.slice() }), e ? !this._hovering && this._clearHoverLinkToSeries() : $M(this.visualMapModel) && this._doHoverLinkToSeries(this._handleEnds[t], !1) } }, e.prototype._resetInterval = function () { var t = this.visualMapModel; var e = this._dataInterval = t.getSelected(); var n = t.getExtent(); var i = [0, t.itemSize[1]]; this._handleEnds = [GM(e[0], n, i, !0), GM(e[1], n, i, !0)] }, e.prototype._updateInterval = function (t, e) { e = e || 0; var n = this.visualMapModel; var i = this._handleEnds; var r = [0, n.itemSize[1]]; cd(e, i, r, t, 0); var a = n.getExtent(); this._dataInterval = [GM(i[0], r, a, !0), GM(i[1], r, a, !0)] }, e.prototype._updateView = function (t) { var e = this.visualMapModel; var n = e.getExtent(); var i = this._shapes; var r = [0, e.itemSize[1]]; var a = t ? r : this._handleEnds; var o = this._createBarVisual(this._dataInterval, n, a, 'inRange'); var s = this._createBarVisual(n, n, r, 'outOfRange'); i.inRange.setStyle({ fill: o.barColor }).setShape('points', o.barPoints), i.outOfRange.setStyle({ fill: s.barColor }).setShape('points', s.barPoints), this._updateHandle(a, o) }, e.prototype._createBarVisual = function (t, e, n, i) { var r = { forceState: i, convertOpacityToAlpha: !0 }; var a = this._makeColorGradient(t, r); var o = [this.getControllerVisual(t[0], 'symbolSize', r), this.getControllerVisual(t[1], 'symbolSize', r)]; var s = this._createBarPoints(n, o); return { barColor: new NM.a(0, 0, 0, 1, a), barPoints: s, handlesColor: [a[0].color, a[a.length - 1].color] } }, e.prototype._makeColorGradient = function (t, e) { var n = 100; var i = []; var r = (t[1] - t[0]) / n; i.push({ color: this.getControllerVisual(t[0], 'color', e), offset: 0 }); for (var a = 1; a < n; a++) { var o = t[0] + r * a; if (o > t[1]) break; i.push({ color: this.getControllerVisual(o, 'color', e), offset: a / n }) } return i.push({ color: this.getControllerVisual(t[1], 'color', e), offset: 1 }), i }, e.prototype._createBarPoints = function (t, e) { var n = this.visualMapModel.itemSize; return [[n[0] - e[0], t[0]], [n[0], t[0]], [n[0], t[1]], [n[0] - e[1], t[1]]] }, e.prototype._createBarGroup = function (t) { var e = this._orient; var n = this.visualMapModel.get('inverse'); return new y.Group(e !== 'horizontal' || n ? e === 'horizontal' && n ? { scaleX: t === 'bottom' ? -1 : 1, rotation: -Math.PI / 2 } : e !== 'vertical' || n ? { scaleX: t === 'left' ? 1 : -1 } : { scaleX: t === 'left' ? 1 : -1, scaleY: -1 } : { scaleX: t === 'bottom' ? 1 : -1, rotation: Math.PI / 2 }) }, e.prototype._updateHandle = function (t, e) { if (this._useHandle) { var n = this._shapes; var i = this.visualMapModel; var r = n.handleThumbs; var a = n.handleLabels; var o = i.itemSize; var s = i.getExtent(); HM([0, 1], function (l) { var u = r[l]; u.setStyle('fill', e.handlesColor[l]), u.y = t[l]; var c = GM(t[l], [0, o[1]], s, !0); var h = this.getControllerVisual(c, 'symbolSize'); u.scaleX = u.scaleY = h / o[0], u.x = o[0] - h / 2; var d = y.applyTransform(n.handleLabelPoints[l], y.getTransform(u, this.group)); a[l].setStyle({ x: d[0], y: d[1], text: i.formatValueText(this._dataInterval[l]), verticalAlign: 'middle', align: this._orient === 'vertical' ? this._applyTransform('left', n.mainGroup) : 'center' }) }, this) } }, e.prototype._showIndicator = function (t, e, n, i) { var r = this.visualMapModel; var a = r.getExtent(); var o = r.itemSize; var s = [0, o[1]]; var l = this._shapes; var u = l.indicator; if (u) { u.attr('invisible', !1); var c = { convertOpacityToAlpha: !0 }; var h = this.getControllerVisual(t, 'color', c); var d = this.getControllerVisual(t, 'symbolSize'); var p = GM(t, a, s, !0); var f = o[0] - d / 2; var g = { x: u.x, y: u.y }; u.y = p, u.x = f; var v = y.applyTransform(l.indicatorLabelPoint, y.getTransform(u, this.group)); var m = l.indicatorLabel; m.attr('invisible', !1); var b = this._applyTransform('left', l.mainGroup); var x = this._orient; var _ = x === 'horizontal'; m.setStyle({ text: (n || '') + r.formatValueText(e), verticalAlign: _ ? b : 'middle', align: _ ? 'center' : b }); var w = { x: f, y: p, style: { fill: h } }; var O = { style: { x: v[0], y: v[1] } }; if (r.ecModel.isAnimationEnabled() && !this._firstShowIndicator) { var S = { duration: 100, easing: 'cubicInOut', additive: !0 }; u.x = g.x, u.y = g.y, u.animateTo(w, S), m.animateTo(O, S) } else u.attr(w), m.attr(O); this._firstShowIndicator = !1; var M = this._shapes.handleLabels; if (M) for (var I = 0; I < M.length; I++) this._api.enterBlur(M[I]) } }, e.prototype._enableHoverLinkToSeries = function () { var t = this; this._shapes.mainGroup.on('mousemove', function (e) { if (t._hovering = !0, !t._dragging) { var n = t.visualMapModel.itemSize; var i = t._applyTransform([e.offsetX, e.offsetY], t._shapes.mainGroup, !0, !0); i[1] = WM(XM(0, i[1]), n[1]), t._doHoverLinkToSeries(i[1], i[0] >= 0 && i[0] <= n[0]) } }).on('mouseout', function () { t._hovering = !1, !t._dragging && t._clearHoverLinkToSeries() }) }, e.prototype._enableHoverLinkFromSeries = function () { var t = this.api.getZr(); this.visualMapModel.option.hoverLink ? (t.on('mouseover', this._hoverLinkFromSeriesMouseOver, this), t.on('mouseout', this._hideIndicator, this)) : this._clearHoverLinkFromSeries() }, e.prototype._doHoverLinkToSeries = function (t, e) { var n = this.visualMapModel; var i = n.itemSize; if (n.option.hoverLink) { var r = [0, i[1]]; var a = n.getExtent(); t = WM(XM(r[0], t), r[1]); var o = KM(n, a, r); var s = [t - o, t + o]; var l = GM(t, r, a, !0); var u = [GM(s[0], r, a, !0), GM(s[1], r, a, !0)]; s[0] < r[0] && (u[0] = -1 / 0), s[1] > r[1] && (u[1] = 1 / 0), e && (u[0] === -1 / 0 ? this._showIndicator(l, u[1], '< ', o) : u[1] === 1 / 0 ? this._showIndicator(l, u[0], '> ', o) : this._showIndicator(l, l, '≈ ', o)); var c = this._hoverLinkDataIndices; var h = []; (e || $M(n)) && (h = this._hoverLinkDataIndices = n.findTargetDataIndices(u)); var d = Z.d(c, h); this._dispatchHighDown('downplay', FM(d[0], n)), this._dispatchHighDown('highlight', FM(d[1], n)) } }, e.prototype._hoverLinkFromSeriesMouseOver = function (t) { var e = t.target; var n = this.visualMapModel; if (e && Object(q.a)(e).dataIndex != null) { var i = Object(q.a)(e); var r = this.ecModel.getSeriesByIndex(i.seriesIndex); if (n.isTargetSeries(r)) { var a = r.getData(i.dataType); var o = a.get(n.getDataDimension(a), i.dataIndex); isNaN(o) || this._showIndicator(o, o) } } }, e.prototype._hideIndicator = function () { var t = this._shapes; t.indicator && t.indicator.attr('invisible', !0), t.indicatorLabel && t.indicatorLabel.attr('invisible', !0); var e = this._shapes.handleLabels; if (e) for (var n = 0; n < e.length; n++) this._api.leaveBlur(e[n]) }, e.prototype._clearHoverLinkToSeries = function () { this._hideIndicator(); var t = this._hoverLinkDataIndices; this._dispatchHighDown('downplay', FM(t, this.visualMapModel)), t.length = 0 }, e.prototype._clearHoverLinkFromSeries = function () { this._hideIndicator(); var t = this.api.getZr(); t.off('mouseover', this._hoverLinkFromSeriesMouseOver), t.off('mouseout', this._hideIndicator) }, e.prototype._applyTransform = function (t, e, n, i) { var r = y.getTransform(e, i ? null : this.group); return f.isArray(t) ? y.applyTransform(t, r, n) : y.transformDirection(t, r, n) }, e.prototype._dispatchHighDown = function (t, e) { e && e.length && this.api.dispatchAction({ type: t, batch: e }) }, e.prototype.dispose = function () { this._clearHoverLinkFromSeries(), this._clearHoverLinkToSeries() }, e.prototype.remove = function () { this._clearHoverLinkFromSeries(), this._clearHoverLinkToSeries() }, e.type = 'visualMap.continuous', e }(zM)); function qM (t, e, n, i) { return new y.Polygon({ shape: { points: t }, draggable: !!n, cursor: e, drift: n, onmousemove: function (t) { Ss.g(t.event) }, ondragend: i }) } function KM (t, e, n) { var i = YM / 2; var r = t.get('hoverLinkDataSize'); return r && (i = GM(r, e, n, !0) / 2), i } function $M (t) { var e = t.get('hoverLinkOnHandle'); return !!(e == null ? t.get('realtime') : e) } function QM (t) { return t === 'vertical' ? 'ns-resize' : 'ew-resize' }Ur.a.registerClass(ZM); var JM = { type: 'selectDataRange', event: 'dataRangeSelected', update: 'update' }; c.c(JM, function (t, e) { e.eachComponent({ mainType: 'visualMap', query: t }, function (e) { e.setSelected(t.selected) }) }), c.f(mM); var tI = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n._pieceList = [], n } return Object(Ct.b)(e, t), e.prototype.optionUpdated = function (e, n) { t.prototype.optionUpdated.apply(this, arguments), this.resetExtent(); var i = this._mode = this._determineMode(); this._pieceList = [], eI[this._mode].call(this, this._pieceList), this._resetSelected(e, n); var r = this.option.categories; this.resetVisual(function (t, e) { i === 'categories' ? (t.mappingMethod = 'category', t.categories = f.clone(r)) : (t.dataExtent = this.getExtent(), t.mappingMethod = 'piecewise', t.pieceList = f.map(this._pieceList, function (t) { return t = f.clone(t), e !== 'inRange' && (t.visual = null), t })) }) }, e.prototype.completeVisualOption = function () { var e = this.option; var n = {}; var i = Ku.listVisualTypes(); var r = this.isCategory(); function a (t, e, n) { return t && t[e] && t[e].hasOwnProperty(n) }f.each(e.pieces, function (t) { f.each(i, function (e) { t.hasOwnProperty(e) && (n[e] = 1) }) }), f.each(n, function (t, n) { var i = !1; f.each(this.stateList, function (t) { i = i || a(e, t, n) || a(e.target, t, n) }, this), !i && f.each(this.stateList, function (t) { (e[t] || (e[t] = {}))[n] = SM.get(n, t === 'inRange' ? 'active' : 'inactive', r) }) }, this), t.prototype.completeVisualOption.apply(this, arguments) }, e.prototype._resetSelected = function (t, e) { var n = this.option; var i = this._pieceList; var r = (e ? n : t).selected || {}; if (n.selected = r, f.each(i, function (t, e) { var n = this.getSelectedMapKey(t); r.hasOwnProperty(n) || (r[n] = !0) }, this), n.selectedMode === 'single') { var a = !1; f.each(i, function (t, e) { var n = this.getSelectedMapKey(t); r[n] && (a ? r[n] = !1 : a = !0) }, this) } }, e.prototype.getSelectedMapKey = function (t) { return this._mode === 'categories' ? t.value + '' : t.index + '' }, e.prototype.getPieceList = function () { return this._pieceList }, e.prototype._determineMode = function () { var t = this.option; return t.pieces && t.pieces.length > 0 ? 'pieces' : this.option.categories ? 'categories' : 'splitNumber' }, e.prototype.setSelected = function (t) { this.option.selected = f.clone(t) }, e.prototype.getValueState = function (t) { var e = Ku.findPieceIndex(t, this._pieceList); return e != null && this.option.selected[this.getSelectedMapKey(this._pieceList[e])] ? 'inRange' : 'outOfRange' }, e.prototype.findTargetDataIndices = function (t) { var e = []; var n = this._pieceList; return this.eachTargetSeries(function (i) { var r = []; var a = i.getData(); a.each(this.getDataDimension(a), function (e, i) { var a = Ku.findPieceIndex(e, n); a === t && r.push(i) }, this), e.push({ seriesId: i.id, dataIndex: r }) }, this), e }, e.prototype.getRepresentValue = function (t) { var e; if (this.isCategory())e = t.value; else if (t.value != null)e = t.value; else { var n = t.interval || []; e = n[0] === -1 / 0 && n[1] === 1 / 0 ? 0 : (n[0] + n[1]) / 2 } return e }, e.prototype.getVisualMeta = function (t) { if (!this.isCategory()) { var e = []; var n = ['', '']; var i = this; var r = this._pieceList.slice(); if (r.length) { var a = r[0].interval[0]; a !== -1 / 0 && r.unshift({ interval: [-1 / 0, a] }), a = r[r.length - 1].interval[1], a !== 1 / 0 && r.push({ interval: [a, 1 / 0] }) } else r.push({ interval: [-1 / 0, 1 / 0] }); var o = -1 / 0; return f.each(r, function (t) { var e = t.interval; e && (e[0] > o && s([o, e[0]], 'outOfRange'), s(e.slice()), o = e[1]) }, this), { stops: e, outerColors: n } } function s (r, a) { var o = i.getRepresentValue({ interval: r }); a || (a = i.getValueState(o)); var s = t(o, a); r[0] === -1 / 0 ? n[0] = s : r[1] === 1 / 0 ? n[1] = s : e.push({ value: r[0], color: s }, { value: r[1], color: s }) } }, e.type = 'visualMap.piecewise', e.defaultOption = Object(La.d)(kM.defaultOption, { selected: null, minOpen: !1, maxOpen: !1, align: 'auto', itemWidth: 20, itemHeight: 14, itemSymbol: 'roundRect', pieces: null, categories: null, splitNumber: 5, selectedMode: 'multiple', itemGap: 10, hoverLink: !0 }), e }(kM)); var eI = { splitNumber: function (t) { var e = this.option; var n = Math.min(e.precision, 20); var i = this.getExtent(); var r = e.splitNumber; r = Math.max(parseInt(r, 10), 1), e.splitNumber = r; var a = (i[1] - i[0]) / r; while (+a.toFixed(n) !== a && n < 5)n++; e.precision = n, a = +a.toFixed(n), e.minOpen && t.push({ interval: [-1 / 0, i[0]], close: [0, 0] }); for (var o = 0, s = i[0]; o < r; s += a, o++) { var l = o === r - 1 ? i[1] : s + a; t.push({ interval: [s, l], close: [1, 1] }) }e.maxOpen && t.push({ interval: [i[1], 1 / 0], close: [0, 0] }), Object(v.reformIntervals)(t), f.each(t, function (t, e) { t.index = e, t.text = this.formatValueText(t.interval) }, this) }, categories: function (t) { var e = this.option; f.each(e.categories, function (e) { t.push({ text: this.formatValueText(e, !0), value: e }) }, this), nI(e, t) }, pieces: function (t) { var e = this.option; f.each(e.pieces, function (e, n) { f.isObject(e) || (e = { value: e }); var i = { text: '', index: n }; if (e.label != null && (i.text = e.label), e.hasOwnProperty('value')) { var r = i.value = e.value; i.interval = [r, r], i.close = [1, 1] } else { for (var a = i.interval = [], o = i.close = [0, 0], s = [1, 0, 1], l = [-1 / 0, 1 / 0], u = [], c = 0; c < 2; c++) { for (var h = [['gte', 'gt', 'min'], ['lte', 'lt', 'max']][c], d = 0; d < 3 && a[c] == null; d++)a[c] = e[h[d]], o[c] = s[d], u[c] = d === 2; a[c] == null && (a[c] = l[c]) }u[0] && a[1] === 1 / 0 && (o[0] = 0), u[1] && a[0] === -1 / 0 && (o[1] = 0), a[0] === a[1] && o[0] && o[1] && (i.value = a[0]) }i.visual = Ku.retrieveVisuals(e), t.push(i) }, this), nI(e, t), Object(v.reformIntervals)(t), f.each(t, function (t) { var e = t.close; var n = [['<', '≤'][e[1]], ['>', '≥'][e[0]]]; t.text = t.text || this.formatValueText(t.value != null ? t.value : t.interval, !1, n) }, this) } }; function nI (t, e) { var n = t.inverse; (t.orient === 'vertical' ? !n : n) && e.reverse() }hr.a.registerClass(tI); var iI = (function (t) { function e () { var n = t !== null && t.apply(this, arguments) || this; return n.type = e.type, n } return Object(Ct.b)(e, t), e.prototype.doRender = function () { var t = this.group; t.removeAll(); var e = this.visualMapModel; var n = e.get('textGap'); var i = e.textStyleModel; var r = i.getFont(); var a = i.getTextColor(); var o = this._getItemAlign(); var s = e.itemSize; var l = this._getViewData(); var u = l.endsText; var c = f.retrieve(e.get('showLabel', !0), !u); u && this._renderEndsText(t, u[0], s, c, o), f.each(l.viewPieceList, function (i) { var l = i.piece; var u = new y.Group(); u.onclick = f.bind(this._onItemClick, this, l), this._enableHoverLink(u, i.indexInModelPieceList); var h = e.getRepresentValue(l); if (this._createItemSymbol(u, h, [0, 0, s[0], s[1]]), c) { var d = this.visualMapModel.getValueState(h); u.add(new y.Text({ style: { x: o === 'right' ? -n : s[0] + n, y: s[1] / 2, text: l.text, verticalAlign: 'middle', align: o, font: r, fill: a, opacity: d === 'outOfRange' ? 0.5 : 1 } })) }t.add(u) }, this), u && this._renderEndsText(t, u[1], s, c, o), on.b(e.get('orient'), t, e.get('itemGap')), this.renderBackground(t), this.positionGroup(t) }, e.prototype._enableHoverLink = function (t, e) { var n = this; t.on('mouseover', function () { return i('highlight') }).on('mouseout', function () { return i('downplay') }); var i = function (t) { var i = n.visualMapModel; i.option.hoverLink && n.api.dispatchAction({ type: t, batch: FM(i.findTargetDataIndices(e), i) }) } }, e.prototype._getItemAlign = function () { var t = this.visualMapModel; var e = t.option; if (e.orient === 'vertical') return VM(t, this.api, t.itemSize); var n = e.align; return n && n !== 'auto' || (n = 'left'), n }, e.prototype._renderEndsText = function (t, e, n, i, r) { if (e) { var a = new y.Group(); var o = this.visualMapModel.textStyleModel; a.add(new y.Text({ style: { x: i ? r === 'right' ? n[0] : 0 : n[0] / 2, y: n[1] / 2, verticalAlign: 'middle', align: i ? r : 'center', text: e, font: o.getFont(), fill: o.getTextColor() } })), t.add(a) } }, e.prototype._getViewData = function () { var t = this.visualMapModel; var e = f.map(t.getPieceList(), function (t, e) { return { piece: t, indexInModelPieceList: e } }); var n = t.get('text'); var i = t.get('orient'); var r = t.get('inverse'); return (i === 'horizontal' ? r : !r) ? e.reverse() : n && (n = n.slice().reverse()), { viewPieceList: e, endsText: n } }, e.prototype._createItemSymbol = function (t, e, n) { t.add(Object(sn.a)(this.getControllerVisual(e, 'symbol'), n[0], n[1], n[2], n[3], this.getControllerVisual(e, 'color'))) }, e.prototype._onItemClick = function (t) { var e = this.visualMapModel; var n = e.option; var i = f.clone(n.selected); var r = e.getSelectedMapKey(t); n.selectedMode === 'single' ? (i[r] = !0, f.each(i, function (t, e) { i[e] = e === r })) : i[r] = !i[r], this.api.dispatchAction({ type: 'selectDataRange', from: this.uid, visualMapId: this.visualMapModel.id, selected: i }) }, e.type = 'visualMap.piecewise', e }(zM)); Ur.a.registerClass(iI); c.f(mM); var rI = { label: { enabled: !0 }, decal: { show: !1 } }; var aI = Object(Z.o)(); var oI = {}; function sI (t, e) { var n = t.getModel('aria'); if (n.get('enabled')) { var i = f.clone(rI); f.merge(i.label, t.getLocaleModel().get('aria'), !1), f.merge(n.option, i, !1), r(), a() } function r () { var e = n.getModel('decal'); var i = e.get('show'); if (i) { var r = f.createHashMap(); t.eachSeries(function (t) { if (t.useColorPaletteOnData) { var e = r.get(t.type); e || (e = {}, r.set(t.type, e)), aI(t).scope = e } }), t.eachRawSeries(function (e) { if (!t.isSeriesFiltered(e)) if (typeof e.enableAriaDecal !== 'function') { var n = e.getData(); if (e.useColorPaletteOnData) { var i = e.getRawData(); var r = {}; var a = aI(e).scope; n.each(function (t) { var e = n.getRawIndex(t); r[e] = t }); var o = i.count(); i.each(function (t) { var s = r[t]; var l = i.getName(t) || t + ''; var c = Object(Jl.b)(e.ecModel, l, a, o); var h = n.getItemVisual(s, 'decal'); n.setItemVisual(s, 'decal', u(h, c)) }) } else { var s = Object(Jl.b)(e.ecModel, e.name, oI, t.getSeriesCount()); var l = n.getVisual('decal'); n.setVisual('decal', u(l, s)) } } else e.enableAriaDecal(); function u (t, e) { var n = t ? f.extend(f.extend({}, e), t) : e; return n.dirty = !0, n } }) } } function a () { var i = t.getLocaleModel().get('aria'); var r = n.getModel('label'); if (r.option = f.defaults(r.option, i), r.get('enabled')) { var a = e.getZr().dom; if (r.get('description'))a.setAttribute('aria-label', r.get('description')); else { var u; var c = t.getSeriesCount(); var h = r.get(['data', 'maxCount']) || 10; var d = r.get(['series', 'maxCount']) || 10; var p = Math.min(c, d); if (!(c < 1)) { var g = s(); if (g) { var y = r.get(['general', 'withTitle']); u = o(y, { title: g }) } else u = r.get(['general', 'withoutTitle']); var v = []; var m = c > 1 ? r.get(['series', 'multiple', 'prefix']) : r.get(['series', 'single', 'prefix']); u += o(m, { seriesCount: c }), t.eachSeries(function (t, e) { if (e < p) { var n = void 0; var i = t.get('name'); var a = i ? 'withName' : 'withoutName'; n = c > 1 ? r.get(['series', 'multiple', a]) : r.get(['series', 'single', a]), n = o(n, { seriesId: t.seriesIndex, seriesName: t.get('name'), seriesType: l(t.subType) }); var s = t.getData(); if (s.count() > h) { var u = r.get(['data', 'partialData']); n += o(u, { displayCnt: h }) } else n += r.get(['data', 'allData']); for (var d = [], f = 0; f < s.count(); f++) if (f < h) { var g = s.getName(f); var y = Object(I.e)(s, f); var m = r.get(['data', g ? 'withName' : 'withoutName']); d.push(o(m, { name: g, value: y })) } var b = r.get(['data', 'separator', 'middle']); var x = r.get(['data', 'separator', 'end']); n += d.join(b) + x, v.push(n) } }); var b = r.getModel(['series', 'multiple', 'separator']); var x = b.get('middle'); var _ = b.get('end'); u += v.join(x) + _, a.setAttribute('aria-label', u) } } } } function o (t, e) { if (typeof t !== 'string') return t; var n = t; return f.each(e, function (t, e) { n = n.replace(new RegExp('\\{\\s*' + e + '\\s*\\}', 'g'), t) }), n } function s () { var e = t.get('title'); return e && e.length && (e = e[0]), e && e.text } function l (e) { return t.getLocaleModel().get(['series', 'typeNames'])[e] || '自定义图' } } function lI (t) { if (t && t.aria) { var e = t.aria; e.show != null && (e.enabled = e.show), e.label = e.label || {}, f.each(['description', 'general', 'series', 'data'], function (t) { e[t] != null && (e.label[t] = e[t]) }) } } var uI = c.a.VISUAL.ARIA; function cI (t) { return document.createElementNS('http://www.w3.org/2000/svg', t) }c.f(lI), c.i(uI, sI); var hI = n('a91b'); var dI = 'none'; var pI = Math.round; var fI = Math.sin; var gI = Math.cos; var yI = Math.PI; var vI = 2 * Math.PI; var mI = 180 / yI; var bI = 1e-4; function xI (t) { return pI(1e3 * t) / 1e3 } function _I (t) { return pI(1e4 * t) / 1e4 } function wI (t) { return t < bI && t > -bI } function OI (t) { var e = t.fill; return e != null && e !== dI } function SI (t) { var e = t.stroke; return e != null && e !== dI } function MI (t, e) { e && II(t, 'transform', 'matrix(' + xI(e[0]) + ',' + xI(e[1]) + ',' + xI(e[2]) + ',' + xI(e[3]) + ',' + _I(e[4]) + ',' + _I(e[5]) + ')') } function II (t, e, n) { (!n || n.type !== 'linear' && n.type !== 'radial') && t.setAttribute(e, n) } function TI (t, e, n) { t.setAttributeNS('http://www.w3.org/1999/xlink', e, n) } function jI (t, e, n) { t.setAttributeNS('http://www.w3.org/XML/1998/namespace', e, n) } function AI (t, e, n) { var i = e.opacity == null ? 1 : e.opacity; if (OI(e)) { var r = e.fill; r = r === 'transparent' ? dI : r, II(t, 'fill', r), II(t, 'fill-opacity', (e.fillOpacity != null ? e.fillOpacity * i : i) + '') } else II(t, 'fill', dI); if (SI(e)) { var a = e.stroke; a = a === 'transparent' ? dI : a, II(t, 'stroke', a); var o = e.lineWidth; var s = e.strokeNoScale ? n.getLineScale() : 1; II(t, 'stroke-width', (s ? o / s : 0) + ''), II(t, 'paint-order', e.strokeFirst ? 'stroke' : 'fill'), II(t, 'stroke-opacity', (e.strokeOpacity != null ? e.strokeOpacity * i : i) + ''); var l = e.lineDash && o > 0 && Object(hI.a)(e.lineDash, o); if (l) { var u = e.lineDashOffset; s && s !== 1 && (l = Object(f.map)(l, function (t) { return t / s }), u && (u /= s, u = pI(u))), II(t, 'stroke-dasharray', l.join(',')), II(t, 'stroke-dashoffset', (u || 0) + '') } else II(t, 'stroke-dasharray', ''); e.lineCap && II(t, 'stroke-linecap', e.lineCap), e.lineJoin && II(t, 'stroke-linejoin', e.lineJoin), e.miterLimit && II(t, 'stroke-miterlimit', e.miterLimit + '') } else II(t, 'stroke', dI) } var CI = (function () { function t () {} return t.prototype.reset = function () { this._d = [], this._str = '' }, t.prototype.moveTo = function (t, e) { this._add('M', t, e) }, t.prototype.lineTo = function (t, e) { this._add('L', t, e) }, t.prototype.bezierCurveTo = function (t, e, n, i, r, a) { this._add('C', t, e, n, i, r, a) }, t.prototype.quadraticCurveTo = function (t, e, n, i) { this._add('Q', t, e, n, i) }, t.prototype.arc = function (t, e, n, i, r, a) { this.ellipse(t, e, n, n, 0, i, r, a) }, t.prototype.ellipse = function (t, e, n, i, r, a, o, s) { var l = this._d.length === 0; var u = o - a; var c = !s; var h = Math.abs(u); var d = wI(h - vI) || (c ? u >= vI : -u >= vI); var p = u > 0 ? u % vI : u % vI + vI; var f = !1; f = !!d || !wI(h) && p >= yI === !!c; var g = _I(t + n * gI(a)); var y = _I(e + i * fI(a)); d && (u = c ? vI - 1e-4 : 1e-4 - vI, f = !0, l && this._d.push('M', g, y)); var v = _I(t + n * gI(a + u)); var m = _I(e + i * fI(a + u)); if (isNaN(g) || isNaN(y) || isNaN(n) || isNaN(i) || isNaN(r) || isNaN(mI) || isNaN(v) || isNaN(m)) return ''; this._d.push('A', _I(n), _I(i), pI(r * mI), +f, +c, v, m) }, t.prototype.rect = function (t, e, n, i) { this._add('M', t, e), this._add('L', t + n, e), this._add('L', t + n, e + i), this._add('L', t, e + i), this._add('L', t, e) }, t.prototype.closePath = function () { this._d.length > 0 && this._add('Z') }, t.prototype._add = function (t, e, n, i, r, a, o, s, l) { this._d.push(t); for (var u = 1; u < arguments.length; u++) { var c = arguments[u]; if (isNaN(c)) return void (this._invalid = !0); this._d.push(_I(c)) } }, t.prototype.generateStr = function () { this._str = this._invalid ? '' : this._d.join(' '), this._d = [] }, t.prototype.getStr = function () { return this._str }, t }()); var DI = { brush: function (t) { var e = t.style; var n = t.__svgEl; n || (n = cI('path'), t.__svgEl = n), t.path || t.createPathProxy(); var i = t.path; t.shapeChanged() && (i.beginPath(), t.buildPath(i, t.shape), t.pathUpdated()); var r = i.getVersion(); var a = t; var o = a.__svgPathBuilder; (a.__svgPathVersion !== r || !o || t.style.strokePercent < 1) && (o || (o = a.__svgPathBuilder = new CI()), o.reset(), i.rebuildPath(o, t.style.strokePercent), o.generateStr(), a.__svgPathVersion = r), II(n, 'd', o.getStr()), AI(n, e, t), MI(n, t.transform) } }; var kI = { brush: function (t) { var e = t.style; var n = e.image; if (n instanceof HTMLImageElement) { var i = n.src; n = i } if (n) { var r = e.x || 0; var a = e.y || 0; var o = e.width; var s = e.height; var l = t.__svgEl; l || (l = cI('image'), t.__svgEl = l), n !== t.__imageSrc && (TI(l, 'href', n), t.__imageSrc = n), II(l, 'width', o + ''), II(l, 'height', s + ''), II(l, 'x', r + ''), II(l, 'y', a + ''), MI(l, t.transform) } } }; var LI = { left: 'start', right: 'end', center: 'middle', middle: 'middle' }; function PI (t, e, n) { return n === 'top' ? t += e / 2 : n === 'bottom' && (t -= e / 2), t } var RI = { brush: function (t) { var e = t.style; var n = e.text; if (n != null && (n += ''), n && !isNaN(e.x) && !isNaN(e.y)) { var i = t.__svgEl; i || (i = cI('text'), jI(i, 'xml:space', 'preserve'), t.__svgEl = i); var r = e.font || Be.a; var a = i.style; a.font = r, i.textContent = n, AI(i, e, t), MI(i, t.transform); var o = e.x || 0; var s = PI(e.y || 0, Object(Be.f)(r), e.textBaseline); var l = LI[e.textAlign] || e.textAlign; II(i, 'dominant-baseline', 'central'), II(i, 'text-anchor', l), II(i, 'x', o + ''), II(i, 'y', s + '') } } }; var NI = n('cf57'); function EI (t, e, n) { n || (n = function (t, e) { return t === e }), t = t.slice(), e = e.slice(); var i = e.length; var r = t.length; var a = 1; var o = i + r; var s = [{ newPos: -1, components: [] }]; var l = zI(s[0], e, t, 0, n); if (s[0].newPos + 1 >= i && l + 1 >= r) { for (var u = [], c = 0; c < e.length; c++)u.push(c); return [{ indices: u, count: e.length, added: !1, removed: !1 }] } function h () { for (var o = -1 * a; o <= a; o += 2) { var l; var u = s[o - 1]; var c = s[o + 1]; var h = (c ? c.newPos : 0) - o; u && (s[o - 1] = void 0); var d = u && u.newPos + 1 < i; var p = c && h >= 0 && h < r; if (d || p) { if (!d || p && u.newPos < c.newPos ? (l = FI(c), BI(l.components, !1, !0)) : (l = u, l.newPos++, BI(l.components, !0, !1)), h = zI(l, e, t, o, n), l.newPos + 1 >= i && h + 1 >= r) return VI(l.components); s[o] = l } else s[o] = void 0 }a++ } while (a <= o) { var d = h(); if (d) return d } } function zI (t, e, n, i, r) { var a = e.length; var o = n.length; var s = t.newPos; var l = s - i; var u = 0; while (s + 1 < a && l + 1 < o && r(e[s + 1], n[l + 1]))s++, l++, u++; return u && t.components.push({ count: u, added: !1, removed: !1, indices: [] }), t.newPos = s, l } function BI (t, e, n) { var i = t[t.length - 1]; i && i.added === e && i.removed === n ? t[t.length - 1] = { count: i.count + 1, added: e, removed: n, indices: [] } : t.push({ count: 1, added: e, removed: n, indices: [] }) } function VI (t) { for (var e = 0, n = t.length, i = 0, r = 0; e < n; e++) { var a = t[e]; if (a.removed) { for (s = r; s < r + a.count; s++)a.indices.push(s); r += a.count } else { for (var o = [], s = i; s < i + a.count; s++)o.push(s); a.indices = o, i += a.count, a.added || (r += a.count) } } return t } function FI (t) { return { newPos: t.newPos, components: t.components.slice(0) } } function GI (t, e, n) { return EI(t, e, n) } var HI = n('21a1'); var WI = '0'; var XI = '1'; var YI = (function () { function t (t, e, n, i, r) { this.nextId = 0, this._domName = '_dom', this.createElement = cI, this._zrId = t, this._svgRoot = e, this._tagNames = typeof n === 'string' ? [n] : n, this._markLabel = i, r && (this._domName = r) } return t.prototype.getDefs = function (t) { var e = this._svgRoot; var n = this._svgRoot.getElementsByTagName('defs'); if (n.length === 0) { if (t) { var i = e.insertBefore(this.createElement('defs'), e.firstChild); return i.contains || (i.contains = function (t) { var e = i.children; if (!e) return !1; for (var n = e.length - 1; n >= 0; --n) if (e[n] === t) return !0; return !1 }), i } return null } return n[0] }, t.prototype.doUpdate = function (t, e) { if (t) { var n = this.getDefs(!1); if (t[this._domName] && n.contains(t[this._domName])) typeof e === 'function' && e(t); else { var i = this.add(t); i && (t[this._domName] = i) } } }, t.prototype.add = function (t) { return null }, t.prototype.addDom = function (t) { var e = this.getDefs(!0); t.parentNode !== e && e.appendChild(t) }, t.prototype.removeDom = function (t) { var e = this.getDefs(!1); e && t[this._domName] && (e.removeChild(t[this._domName]), t[this._domName] = null) }, t.prototype.getDoms = function () { var t = this.getDefs(!1); if (!t) return []; var e = []; return f.each(this._tagNames, function (n) { for (var i = t.getElementsByTagName(n), r = 0; r < i.length; r++)e.push(i[r]) }), e }, t.prototype.markAllUnused = function () { var t = this.getDoms(); var e = this; f.each(t, function (t) { t[e._markLabel] = WI }) }, t.prototype.markDomUsed = function (t) { t && (t[this._markLabel] = XI) }, t.prototype.markDomUnused = function (t) { t && (t[this._markLabel] = WI) }, t.prototype.isDomUnused = function (t) { return t && t[this._markLabel] !== XI }, t.prototype.removeUnused = function () { var t = this; var e = this.getDefs(!1); if (e) { var n = this.getDoms(); f.each(n, function (n) { t.isDomUnused(n) && e.removeChild(n) }) } }, t.prototype.getSvgProxy = function (t) { return t instanceof Ai.b ? DI : t instanceof di.a ? kI : t instanceof NI.a ? RI : DI }, t.prototype.getSvgElement = function (t) { return t.__svgEl }, t }()); var UI = YI; function ZI (t) { return t.type === 'linear' } function qI (t) { return t.type === 'radial' } function KI (t) { return t && (t.type === 'linear' || t.type === 'radial') } var $I = (function (t) { function e (e, n) { return t.call(this, e, n, ['linearGradient', 'radialGradient'], '__gradient_in_use__') || this } return Object(HI.a)(e, t), e.prototype.addWithoutUpdate = function (t, e) { if (e && e.style) { var n = this; f.each(['fill', 'stroke'], function (i) { var r = e.style[i]; if (KI(r)) { var a = r; var o = n.getDefs(!0); var s = void 0; a.__dom ? (s = a.__dom, o.contains(a.__dom) || n.addDom(s)) : s = n.add(a), n.markUsed(e); var l = s.getAttribute('id'); t.setAttribute(i, 'url(#' + l + ')') } }) } }, e.prototype.add = function (t) { var e; if (ZI(t))e = this.createElement('linearGradient'); else { if (!qI(t)) return f.logError('Illegal gradient type.'), null; e = this.createElement('radialGradient') } return t.id = t.id || this.nextId++, e.setAttribute('id', 'zr' + this._zrId + '-gradient-' + t.id), this.updateDom(t, e), this.addDom(e), e }, e.prototype.update = function (t) { if (KI(t)) { var e = this; this.doUpdate(t, function () { var n = t.__dom; if (n) { var i = n.tagName; var r = t.type; r === 'linear' && i === 'linearGradient' || r === 'radial' && i === 'radialGradient' ? e.updateDom(t, t.__dom) : (e.removeDom(t), e.add(t)) } }) } }, e.prototype.updateDom = function (t, e) { if (ZI(t))e.setAttribute('x1', t.x + ''), e.setAttribute('y1', t.y + ''), e.setAttribute('x2', t.x2 + ''), e.setAttribute('y2', t.y2 + ''); else { if (!qI(t)) return void f.logError('Illegal gradient type.'); e.setAttribute('cx', t.x + ''), e.setAttribute('cy', t.y + ''), e.setAttribute('r', t.r + '') }t.global ? e.setAttribute('gradientUnits', 'userSpaceOnUse') : e.setAttribute('gradientUnits', 'objectBoundingBox'), e.innerHTML = ''; for (var n = t.colorStops, i = 0, r = n.length; i < r; ++i) { var a = this.createElement('stop'); a.setAttribute('offset', 100 * n[i].offset + '%'); var o = n[i].color; if (o.indexOf('rgba') > -1) { var s = g.f(o)[3]; var l = g.h(o); a.setAttribute('stop-color', '#' + l), a.setAttribute('stop-opacity', s + '') } else a.setAttribute('stop-color', n[i].color); e.appendChild(a) }t.__dom = e }, e.prototype.markUsed = function (e) { if (e.style) { var n = e.style.fill; n && n.__dom && t.prototype.markDomUsed.call(this, n.__dom), n = e.style.stroke, n && n.__dom && t.prototype.markDomUsed.call(this, n.__dom) } }, e }(UI)); var QI = $I; var JI = n('9952'); var tT = n('5ea5'); var eT = n('254c'); function nT (t) { return t && (!!t.image || !!t.svgElement) } var iT = new eT.a(); var rT = (function (t) { function e (e, n) { return t.call(this, e, n, ['pattern'], '__pattern_in_use__') || this } return Object(HI.a)(e, t), e.prototype.addWithoutUpdate = function (t, e) { if (e && e.style) { var n = this; f.each(['fill', 'stroke'], function (i) { var r = e.style[i]; if (nT(r)) { var a = n.getDefs(!0); var o = iT.get(r); o ? a.contains(o) || n.addDom(o) : o = n.add(r), n.markUsed(e); var s = o.getAttribute('id'); t.setAttribute(i, 'url(#' + s + ')') } }) } }, e.prototype.add = function (t) { if (nT(t)) { var e = this.createElement('pattern'); return t.id = t.id == null ? this.nextId++ : t.id, e.setAttribute('id', 'zr' + this._zrId + '-pattern-' + t.id), e.setAttribute('x', '0'), e.setAttribute('y', '0'), e.setAttribute('patternUnits', 'userSpaceOnUse'), this.updateDom(t, e), this.addDom(e), e } }, e.prototype.update = function (t) { if (nT(t)) { var e = this; this.doUpdate(t, function () { var n = iT.get(t); e.updateDom(t, n) }) } }, e.prototype.updateDom = function (t, e) { var n = t.svgElement; if (n instanceof SVGElement)n.parentNode !== e && (e.innerHTML = '', e.appendChild(n), e.setAttribute('width', t.svgWidth + ''), e.setAttribute('height', t.svgHeight + '')); else { var i = void 0; var r = e.getElementsByTagName('image'); if (r.length) { if (!t.image) return void e.removeChild(r[0]); i = r[0] } else t.image && (i = this.createElement('image')); if (i) { var a = void 0; if (typeof t.image === 'string' ? a = t.image : t.image instanceof HTMLImageElement ? a = t.image.src : t.image instanceof HTMLCanvasElement && (a = t.image.toDataURL()), a) { i.setAttribute('href', a), i.setAttribute('x', '0'), i.setAttribute('y', '0'); var o = { dirty: function () {} }; var s = Object(tT.a)(a, i, o, function (t) { e.setAttribute('width', t.width + ''), e.setAttribute('height', t.height + '') }); s && s.width && s.height && (e.setAttribute('width', s.width + ''), e.setAttribute('height', s.height + '')), e.appendChild(i) } } } var l = t.x || 0; var u = t.y || 0; var c = (t.rotation || 0) / Math.PI * 180; var h = t.scaleX || 1; var d = t.scaleY || 1; var p = 'translate(' + l + ', ' + u + ') rotate(' + c + ') scale(' + h + ', ' + d + ')'; e.setAttribute('patternTransform', p), iT.set(t, e) }, e.prototype.markUsed = function (e) { e.style && (nT(e.style.fill) && t.prototype.markDomUsed.call(this, iT.get(e.style.fill)), nT(e.style.stroke) && t.prototype.markDomUsed.call(this, iT.get(e.style.stroke))) }, e }(UI)); var aT = rT; var oT = (new JI.a(50), n('335a')); function sT (t) { var e = []; if (t) for (var n = 0; n < t.length; n++) { var i = t[n]; e.push(i.id) } return e.join(',') } function lT (t) { var e = t.__clipPaths; return e && e.length > 0 } var uT = (function (t) { function e (e, n) { var i = t.call(this, e, n, 'clipPath', '__clippath_in_use__') || this; return i._refGroups = {}, i._keyDuplicateCount = {}, i } return Object(HI.a)(e, t), e.prototype.markAllUnused = function () { for (var e in t.prototype.markAllUnused.call(this), this._refGroups) this.markDomUnused(this._refGroups[e]); this._keyDuplicateCount = {} }, e.prototype._getClipPathGroup = function (t, e) { if (lT(t)) { var n = t.__clipPaths; var i = this._keyDuplicateCount; var r = sT(n); return Object(oT.b)(n, e && e.__clipPaths) && (i[r] = i[r] || 0, i[r] && (r += '-' + i[r]), i[r]++), this._refGroups[r] || (this._refGroups[r] = this.createElement('g')) } }, e.prototype.update = function (t, e) { var n = this._getClipPathGroup(t, e); return n && (this.markDomUsed(n), this.updateDom(n, t.__clipPaths)), n }, e.prototype.updateDom = function (t, e) { if (e && e.length > 0) { var n = this.getDefs(!0); var i = e[0]; var r = void 0; var a = void 0; i._dom ? (a = i._dom.getAttribute('id'), r = i._dom, n.contains(r) || n.appendChild(r)) : (a = 'zr' + this._zrId + '-clip-' + this.nextId, ++this.nextId, r = this.createElement('clipPath'), r.setAttribute('id', a), n.appendChild(r), i._dom = r); var o = this.getSvgProxy(i); o.brush(i); var s = this.getSvgElement(i); r.innerHTML = '', r.appendChild(s), t.setAttribute('clip-path', 'url(#' + a + ')'), e.length > 1 && this.updateDom(r, e.slice(1)) } else t && t.setAttribute('clip-path', 'none') }, e.prototype.markUsed = function (e) { var n = this; e.__clipPaths && f.each(e.__clipPaths, function (e) { e._dom && t.prototype.markDomUsed.call(n, e._dom) }) }, e.prototype.removeUnused = function () { t.prototype.removeUnused.call(this); var e = {}; for (var n in this._refGroups) { var i = this._refGroups[n]; this.isDomUnused(i) ? i.parentNode && i.parentNode.removeChild(i) : e[n] = i } this._refGroups = e }, e }(UI)); var cT = uT; var hT = (function (t) { function e (e, n) { var i = t.call(this, e, n, ['filter'], '__filter_in_use__', '_shadowDom') || this; return i._shadowDomMap = {}, i._shadowDomPool = [], i } return Object(HI.a)(e, t), e.prototype._getFromPool = function () { var t = this._shadowDomPool.pop(); if (!t) { t = this.createElement('filter'), t.setAttribute('id', 'zr' + this._zrId + '-shadow-' + this.nextId++); var e = this.createElement('feDropShadow'); t.appendChild(e), this.addDom(t) } return t }, e.prototype.update = function (t, e) { var n = e.style; if (pT(n)) { var i = fT(e); var r = e._shadowDom = this._shadowDomMap[i]; r || (r = this._getFromPool(), this._shadowDomMap[i] = r), this.updateDom(t, e, r) } else this.remove(t, e) }, e.prototype.remove = function (t, e) { e._shadowDom != null && (e._shadowDom = null, t.style.filter = '') }, e.prototype.updateDom = function (t, e, n) { var i = n.children[0]; var r = e.style; var a = e.getGlobalScale(); var o = a[0]; var s = a[1]; if (o && s) { var l = r.shadowOffsetX || 0; var u = r.shadowOffsetY || 0; var c = r.shadowBlur; var h = r.shadowColor; i.setAttribute('dx', l / o + ''), i.setAttribute('dy', u / s + ''), i.setAttribute('flood-color', h); var d = c / 2 / o; var p = c / 2 / s; var f = d + ' ' + p; i.setAttribute('stdDeviation', f), n.setAttribute('x', '-100%'), n.setAttribute('y', '-100%'), n.setAttribute('width', '300%'), n.setAttribute('height', '300%'), e._shadowDom = n; var g = n.getAttribute('id'); t.style.filter = 'url(#' + g + ')' } }, e.prototype.removeUnused = function () { var t = this.getDefs(!1); if (t) { var e = this._shadowDomPool; for (var n in this._shadowDomMap) { var i = this._shadowDomMap[n]; e.push(i) } this._shadowDomMap = {} } }, e }(UI)); var dT = hT; function pT (t) { return t && (t.shadowBlur || t.shadowOffsetX || t.shadowOffsetY) } function fT (t) { var e = t.style; var n = t.getGlobalScale(); return [e.shadowColor, (e.shadowBlur || 0).toFixed(2), (e.shadowOffsetX || 0).toFixed(2), (e.shadowOffsetY || 0).toFixed(2), n[0], n[1]].join(',') } function gT (t) { return parseInt(t, 10) } function yT (t) { return t instanceof Ai.b ? DI : t instanceof di.a ? kI : t instanceof NI.a ? RI : DI } function vT (t, e) { return e && t && e.parentNode !== t } function mT (t, e, n) { if (vT(t, e) && n) { var i = n.nextSibling; i ? t.insertBefore(e, i) : t.appendChild(e) } } function bT (t, e) { if (vT(t, e)) { var n = t.firstChild; n ? t.insertBefore(e, n) : t.appendChild(e) } } function xT (t, e) { e && t && e.parentNode === t && t.removeChild(e) } function _T (t) { t && t.parentNode && t.parentNode.removeChild(t) } function wT (t) { return t.__svgEl } var OT = (function () { function t (t, e, n, i) { this.type = 'svg', this.refreshHover = ST('refreshHover'), this.pathToImage = ST('pathToImage'), this.configLayer = ST('configLayer'), this.root = t, this.storage = e, this._opts = n = f.extend({}, n || {}); var r = cI('svg'); r.setAttribute('xmlns', 'http://www.w3.org/2000/svg'), r.setAttribute('version', '1.1'), r.setAttribute('baseProfile', 'full'), r.style.cssText = 'user-select:none;position:absolute;left:0;top:0;'; var a = cI('g'); r.appendChild(a); var o = cI('g'); r.appendChild(o), this._gradientManager = new QI(i, o), this._patternManager = new aT(i, o), this._clipPathManager = new cT(i, o), this._shadowManager = new dT(i, o); var s = document.createElement('div'); s.style.cssText = 'overflow:hidden;position:relative', this._svgDom = r, this._svgRoot = o, this._backgroundRoot = a, this._viewport = s, t.appendChild(s), s.appendChild(r), this.resize(n.width, n.height), this._visibleList = [] } return t.prototype.getType = function () { return 'svg' }, t.prototype.getViewportRoot = function () { return this._viewport }, t.prototype.getSvgDom = function () { return this._svgDom }, t.prototype.getSvgRoot = function () { return this._svgRoot }, t.prototype.getViewportRootOffset = function () { var t = this.getViewportRoot(); if (t) return { offsetLeft: t.offsetLeft || 0, offsetTop: t.offsetTop || 0 } }, t.prototype.refresh = function () { var t = this.storage.getDisplayList(!0); this._paintList(t) }, t.prototype.setBackgroundColor = function (t) { this._backgroundRoot && this._backgroundNode && this._backgroundRoot.removeChild(this._backgroundNode); var e = cI('rect'); e.setAttribute('width', this.getWidth()), e.setAttribute('height', this.getHeight()), e.setAttribute('x', 0), e.setAttribute('y', 0), e.setAttribute('id', 0), e.style.fill = t, this._backgroundRoot.appendChild(e), this._backgroundNode = e }, t.prototype.createSVGElement = function (t) { return cI(t) }, t.prototype.paintOne = function (t) { var e = yT(t); return e && e.brush(t), wT(t) }, t.prototype._paintList = function (t) { var e = this._gradientManager; var n = this._patternManager; var i = this._clipPathManager; var r = this._shadowManager; e.markAllUnused(), n.markAllUnused(), i.markAllUnused(), r.markAllUnused(); for (var a = this._svgRoot, o = this._visibleList, s = t.length, l = [], u = 0; u < s; u++) { var c = t[u]; var h = yT(c); var d = wT(c); c.invisible || (!c.__dirty && d || (h && h.brush(c), d = wT(c), d && c.style && (e.update(c.style.fill), e.update(c.style.stroke), n.update(c.style.fill), n.update(c.style.stroke), r.update(d, c)), c.__dirty = 0), d && l.push(c)) } var p; var f; var g; var y; var v = GI(o, l); for (u = 0; u < v.length; u++) { var m = v[u]; if (m.removed) for (var b = 0; b < m.count; b++) { c = o[m.indices[b]], d = wT(c); lT(c) ? _T(d) : xT(a, d) } } for (u = 0; u < v.length; u++) { m = v[u], m.added; if (!m.removed) for (b = 0; b < m.count; b++) { c = l[m.indices[b]]; var x = i.update(c, g); x !== y && (p = f, x && (p ? mT(a, x, p) : bT(a, x), f = x, p = null), y = x); d = wT(c); p ? mT(y || a, d, p) : bT(y || a, d), p = d || p, y || (f = p), e.markUsed(c), e.addWithoutUpdate(d, c), n.markUsed(c), n.addWithoutUpdate(d, c), i.markUsed(c), g = c } }e.removeUnused(), n.removeUnused(), i.removeUnused(), r.removeUnused(), this._visibleList = l }, t.prototype._getDefs = function (t) { var e = this._svgDom; var n = e.getElementsByTagName('defs'); if (n.length === 0) { if (t) { var i = e.insertBefore(cI('defs'), e.firstChild); return i.contains || (i.contains = function (t) { var e = i.children; if (!e) return !1; for (var n = e.length - 1; n >= 0; --n) if (e[n] === t) return !0; return !1 }), i } return null } return n[0] }, t.prototype.resize = function (t, e) { var n = this._viewport; n.style.display = 'none'; var i = this._opts; if (t != null && (i.width = t), e != null && (i.height = e), t = this._getSize(0), e = this._getSize(1), n.style.display = '', this._width !== t || this._height !== e) { this._width = t, this._height = e; var r = n.style; r.width = t + 'px', r.height = e + 'px'; var a = this._svgDom; a.setAttribute('width', t + ''), a.setAttribute('height', e + '') } this._backgroundNode && (this._backgroundNode.setAttribute('width', t), this._backgroundNode.setAttribute('height', e)) }, t.prototype.getWidth = function () { return this._width }, t.prototype.getHeight = function () { return this._height }, t.prototype._getSize = function (t) { var e = this._opts; var n = ['width', 'height'][t]; var i = ['clientWidth', 'clientHeight'][t]; var r = ['paddingLeft', 'paddingTop'][t]; var a = ['paddingRight', 'paddingBottom'][t]; if (e[n] != null && e[n] !== 'auto') return parseFloat(e[n]); var o = this.root; var s = document.defaultView.getComputedStyle(o); return (o[i] || gT(s[n]) || gT(o.style[n])) - (gT(s[r]) || 0) - (gT(s[a]) || 0) | 0 }, t.prototype.dispose = function () { this.root.innerHTML = '', this._svgRoot = this._backgroundRoot = this._svgDom = this._backgroundNode = this._viewport = this.storage = null }, t.prototype.clear = function () { var t = this._viewport; t && t.parentNode && t.parentNode.removeChild(t) }, t.prototype.toDataURL = function () { this.refresh(); var t = encodeURIComponent(this._svgDom.outerHTML.replace(/></g, '>\n\r<')); return 'data:image/svg+xml;charset=UTF-8,' + t }, t }()); function ST (t) { return function () { f.logError('In SVG mode painter not support method "' + t + '"') } } var MT = OT; Object(h.b)('svg', MT); var IT = { name: 'my-fans', props: {}, components: { MyBreadcrumb: o.a }, data: function () { return { activeName: 'list', per_page: 20, page: 1, list: [], total: 0, circleUrl: 'https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png' } }, computed: {}, created: function () { this.loadFans() }, mounted: function () {}, methods: { loadFans: function () { var t = this; return Object(a.a)(regeneratorRuntime.mark(function e () { var n; return regeneratorRuntime.wrap(function (e) { while (1) switch (e.prev = e.next) { case 0:return e.next = 2, l(t.page, t.per_page); case 2:n = e.sent, t.list = n.data.data.results, t.total = n.data.data.total_count; case 6:case 'end':return e.stop() } }, e) }))() }, hChangePage: function (t) { this.page = t, this.loadFans() }, hTabClick: function (t) { t.name === 'img' && this.draw() }, draw: function () { var t = this; return Object(a.a)(regeneratorRuntime.mark(function e () { var n, i, r, a, o, s, l; return regeneratorRuntime.wrap(function (e) { while (1) switch (e.prev = e.next) { case 0:return e.next = 2, u(); case 2:for (o in n = e.sent, i = n.data.data.age, r = [], a = [], i)r.push(i[o]), a.push(o.replace('le', '小于').replace('gt', '大于') + '岁 '); s = (void 0).init(t.$refs.main), l = { xAxis: { type: 'category', data: a }, yAxis: { type: 'value' }, series: [{ data: r, type: 'bar', showBackground: !0, backgroundStyle: { color: 'rgba(220,220,220,0.8)' } }] }, s.setOption(l); case 10:case 'end':return e.stop() } }, e) }))() } } }; var TT = IT; var jT = (n('eb80'), n('2877')); var AT = Object(jT.a)(TT, i, r, !1, null, '703cc177', null); e.default = AT.exports },
  fd35: function (t, e, n) { 'use strict'; var i = n('cc6e'); var r = n('2740'); var a = Object(i.createHashMap)(); e.a = { registerMap: function (t, e, n) { var r; if (Object(i.isArray)(e))r = e; else if (e.svg)r = [{ type: 'svg', source: e.svg, specialAreas: e.specialAreas }]; else { var s = e.geoJson || e.geoJSON; s && !e.features && (n = e.specialAreas, e = s), r = [{ type: 'geoJSON', source: e, specialAreas: n }] } return Object(i.each)(r, function (t) { var e = t.type; e === 'geoJson' && (e = t.type = 'geoJSON'); var n = o[e]; n(t) }), a.set(t, r) }, retrieveMap: function (t) { return a.get(t) } }; var o = { geoJSON: function (t) { var e = t.source; t.geoJSON = Object(i.isString)(e) ? typeof JSON !== 'undefined' && JSON.parse ? JSON.parse(e) : new Function('return (' + e + ');')() : e }, svg: function (t) { t.svgXML = Object(r.c)(t.source) } } }
}])
// # sourceMappingURL=chunk-73435bd0.02208a03.js.map
